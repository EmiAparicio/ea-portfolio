function tte(e,t){for(var i=0;i<t.length;i++){const n=t[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();function HD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AT={exports:{}},Ey={},kT={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V3;function ite(){if(V3)return mt;V3=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function f(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function b(W,ee,oe){this.props=W,this.context=ee,this.refs=y,this.updater=oe||g}b.prototype.isReactComponent={},b.prototype.setState=function(W,ee){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ee,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function v(){}v.prototype=b.prototype;function S(W,ee,oe){this.props=W,this.context=ee,this.refs=y,this.updater=oe||g}var N=S.prototype=new v;N.constructor=S,x(N,b.prototype),N.isPureReactComponent=!0;var M=Array.isArray,I=Object.prototype.hasOwnProperty,C={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function O(W,ee,oe){var fe,ue={},de=null,te=null;if(ee!=null)for(fe in ee.ref!==void 0&&(te=ee.ref),ee.key!==void 0&&(de=""+ee.key),ee)I.call(ee,fe)&&!L.hasOwnProperty(fe)&&(ue[fe]=ee[fe]);var he=arguments.length-2;if(he===1)ue.children=oe;else if(1<he){for(var ge=Array(he),xe=0;xe<he;xe++)ge[xe]=arguments[xe+2];ue.children=ge}if(W&&W.defaultProps)for(fe in he=W.defaultProps,he)ue[fe]===void 0&&(ue[fe]=he[fe]);return{$$typeof:e,type:W,key:de,ref:te,props:ue,_owner:C.current}}function P(W,ee){return{$$typeof:e,type:W.type,key:ee,ref:W.ref,props:W.props,_owner:W._owner}}function z(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function V(W){var ee={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(oe){return ee[oe]})}var G=/\/+/g;function H(W,ee){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):ee.toString(36)}function B(W,ee,oe,fe,ue){var de=typeof W;(de==="undefined"||de==="boolean")&&(W=null);var te=!1;if(W===null)te=!0;else switch(de){case"string":case"number":te=!0;break;case"object":switch(W.$$typeof){case e:case t:te=!0}}if(te)return te=W,ue=ue(te),W=fe===""?"."+H(te,0):fe,M(ue)?(oe="",W!=null&&(oe=W.replace(G,"$&/")+"/"),B(ue,ee,oe,"",function(xe){return xe})):ue!=null&&(z(ue)&&(ue=P(ue,oe+(!ue.key||te&&te.key===ue.key?"":(""+ue.key).replace(G,"$&/")+"/")+W)),ee.push(ue)),1;if(te=0,fe=fe===""?".":fe+":",M(W))for(var he=0;he<W.length;he++){de=W[he];var ge=fe+H(de,he);te+=B(de,ee,oe,ge,ue)}else if(ge=f(W),typeof ge=="function")for(W=ge.call(W),he=0;!(de=W.next()).done;)de=de.value,ge=fe+H(de,he++),te+=B(de,ee,oe,ge,ue);else if(de==="object")throw ee=String(W),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return te}function $(W,ee,oe){if(W==null)return W;var fe=[],ue=0;return B(W,fe,"","",function(de){return ee.call(oe,de,ue++)}),fe}function Q(W){if(W._status===-1){var ee=W._result;ee=ee(),ee.then(function(oe){(W._status===0||W._status===-1)&&(W._status=1,W._result=oe)},function(oe){(W._status===0||W._status===-1)&&(W._status=2,W._result=oe)}),W._status===-1&&(W._status=0,W._result=ee)}if(W._status===1)return W._result.default;throw W._result}var X={current:null},Y={transition:null},q={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:Y,ReactCurrentOwner:C};function Z(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:$,forEach:function(W,ee,oe){$(W,function(){ee.apply(this,arguments)},oe)},count:function(W){var ee=0;return $(W,function(){ee++}),ee},toArray:function(W){return $(W,function(ee){return ee})||[]},only:function(W){if(!z(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},mt.Component=b,mt.Fragment=i,mt.Profiler=s,mt.PureComponent=S,mt.StrictMode=n,mt.Suspense=l,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,mt.act=Z,mt.cloneElement=function(W,ee,oe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var fe=x({},W.props),ue=W.key,de=W.ref,te=W._owner;if(ee!=null){if(ee.ref!==void 0&&(de=ee.ref,te=C.current),ee.key!==void 0&&(ue=""+ee.key),W.type&&W.type.defaultProps)var he=W.type.defaultProps;for(ge in ee)I.call(ee,ge)&&!L.hasOwnProperty(ge)&&(fe[ge]=ee[ge]===void 0&&he!==void 0?he[ge]:ee[ge])}var ge=arguments.length-2;if(ge===1)fe.children=oe;else if(1<ge){he=Array(ge);for(var xe=0;xe<ge;xe++)he[xe]=arguments[xe+2];fe.children=he}return{$$typeof:e,type:W.type,key:ue,ref:de,props:fe,_owner:te}},mt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},mt.createElement=O,mt.createFactory=function(W){var ee=O.bind(null,W);return ee.type=W,ee},mt.createRef=function(){return{current:null}},mt.forwardRef=function(W){return{$$typeof:r,render:W}},mt.isValidElement=z,mt.lazy=function(W){return{$$typeof:u,_payload:{_status:-1,_result:W},_init:Q}},mt.memo=function(W,ee){return{$$typeof:c,type:W,compare:ee===void 0?null:ee}},mt.startTransition=function(W){var ee=Y.transition;Y.transition={};try{W()}finally{Y.transition=ee}},mt.unstable_act=Z,mt.useCallback=function(W,ee){return X.current.useCallback(W,ee)},mt.useContext=function(W){return X.current.useContext(W)},mt.useDebugValue=function(){},mt.useDeferredValue=function(W){return X.current.useDeferredValue(W)},mt.useEffect=function(W,ee){return X.current.useEffect(W,ee)},mt.useId=function(){return X.current.useId()},mt.useImperativeHandle=function(W,ee,oe){return X.current.useImperativeHandle(W,ee,oe)},mt.useInsertionEffect=function(W,ee){return X.current.useInsertionEffect(W,ee)},mt.useLayoutEffect=function(W,ee){return X.current.useLayoutEffect(W,ee)},mt.useMemo=function(W,ee){return X.current.useMemo(W,ee)},mt.useReducer=function(W,ee,oe){return X.current.useReducer(W,ee,oe)},mt.useRef=function(W){return X.current.useRef(W)},mt.useState=function(W){return X.current.useState(W)},mt.useSyncExternalStore=function(W,ee,oe){return X.current.useSyncExternalStore(W,ee,oe)},mt.useTransition=function(){return X.current.useTransition()},mt.version="18.3.1",mt}var U3;function YD(){return U3||(U3=1,kT.exports=ite()),kT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G3;function nte(){if(G3)return Ey;G3=1;var e=YD(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(r,l,c){var u,h={},f=null,g=null;c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(g=l.ref);for(u in l)n.call(l,u)&&!a.hasOwnProperty(u)&&(h[u]=l[u]);if(r&&r.defaultProps)for(u in l=r.defaultProps,l)h[u]===void 0&&(h[u]=l[u]);return{$$typeof:t,type:r,key:f,ref:g,props:h,_owner:s.current}}return Ey.Fragment=i,Ey.jsx=o,Ey.jsxs=o,Ey}var W3;function ste(){return W3||(W3=1,AT.exports=nte()),AT.exports}var d=ste(),D=YD();const ps=HD(D),D8=tte({__proto__:null,default:ps},[D]);var O0={},CT={exports:{}},ra={},DT={exports:{}},LT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H3;function ate(){return H3||(H3=1,function(e){function t(Y,q){var Z=Y.length;Y.push(q);e:for(;0<Z;){var W=Z-1>>>1,ee=Y[W];if(0<s(ee,q))Y[W]=q,Y[Z]=ee,Z=W;else break e}}function i(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var q=Y[0],Z=Y.pop();if(Z!==q){Y[0]=Z;e:for(var W=0,ee=Y.length,oe=ee>>>1;W<oe;){var fe=2*(W+1)-1,ue=Y[fe],de=fe+1,te=Y[de];if(0>s(ue,Z))de<ee&&0>s(te,ue)?(Y[W]=te,Y[de]=Z,W=de):(Y[W]=ue,Y[fe]=Z,W=fe);else if(de<ee&&0>s(te,Z))Y[W]=te,Y[de]=Z,W=de;else break e}}return q}function s(Y,q){var Z=Y.sortIndex-q.sortIndex;return Z!==0?Z:Y.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,r=o.now();e.unstable_now=function(){return o.now()-r}}var l=[],c=[],u=1,h=null,f=3,g=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Y){for(var q=i(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=Y)n(c),q.sortIndex=q.expirationTime,t(l,q);else break;q=i(c)}}function M(Y){if(y=!1,N(Y),!x)if(i(l)!==null)x=!0,Q(I);else{var q=i(c);q!==null&&X(M,q.startTime-Y)}}function I(Y,q){x=!1,y&&(y=!1,v(O),O=-1),g=!0;var Z=f;try{for(N(q),h=i(l);h!==null&&(!(h.expirationTime>q)||Y&&!V());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var ee=W(h.expirationTime<=q);q=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===i(l)&&n(l),N(q)}else n(l);h=i(l)}if(h!==null)var oe=!0;else{var fe=i(c);fe!==null&&X(M,fe.startTime-q),oe=!1}return oe}finally{h=null,f=Z,g=!1}}var C=!1,L=null,O=-1,P=5,z=-1;function V(){return!(e.unstable_now()-z<P)}function G(){if(L!==null){var Y=e.unstable_now();z=Y;var q=!0;try{q=L(!0,Y)}finally{q?H():(C=!1,L=null)}}else C=!1}var H;if(typeof S=="function")H=function(){S(G)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,$=B.port2;B.port1.onmessage=G,H=function(){$.postMessage(null)}}else H=function(){b(G,0)};function Q(Y){L=Y,C||(C=!0,H())}function X(Y,q){O=b(function(){Y(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,Q(I))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(l)},e.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var Z=f;f=q;try{return Y()}finally{f=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=f;f=Y;try{return q()}finally{f=Z}},e.unstable_scheduleCallback=function(Y,q,Z){var W=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?W+Z:W):Z=W,Y){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Z+ee,Y={id:u++,callback:q,priorityLevel:Y,startTime:Z,expirationTime:ee,sortIndex:-1},Z>W?(Y.sortIndex=Z,t(c,Y),i(l)===null&&Y===i(c)&&(y?(v(O),O=-1):y=!0,X(M,Z-W))):(Y.sortIndex=ee,t(l,Y),x||g||(x=!0,Q(I))),Y},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(Y){var q=f;return function(){var Z=f;f=q;try{return Y.apply(this,arguments)}finally{f=Z}}}}(LT)),LT}var Y3;function ote(){return Y3||(Y3=1,DT.exports=ate()),DT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3;function rte(){if($3)return ra;$3=1;var e=YD(),t=ote();function i(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(p,m){o(p,m),o(p+"Capture",m)}function o(p,m){for(s[p]=m,p=0;p<m.length;p++)n.add(m[p])}var r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function f(p){return l.call(h,p)?!0:l.call(u,p)?!1:c.test(p)?h[p]=!0:(u[p]=!0,!1)}function g(p,m,w,T){if(w!==null&&w.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return T?!1:w!==null?!w.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,m,w,T){if(m===null||typeof m>"u"||g(p,m,w,T))return!0;if(T)return!1;if(w!==null)switch(w.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(p,m,w,T,E,R,U){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=T,this.attributeNamespace=E,this.mustUseProperty=w,this.propertyName=p,this.type=m,this.sanitizeURL=R,this.removeEmptyString=U}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){b[p]=new y(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var m=p[0];b[m]=new y(m,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){b[p]=new y(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){b[p]=new y(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){b[p]=new y(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){b[p]=new y(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){b[p]=new y(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){b[p]=new y(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){b[p]=new y(p,5,!1,p.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function S(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var m=p.replace(v,S);b[m]=new y(m,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var m=p.replace(v,S);b[m]=new y(m,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var m=p.replace(v,S);b[m]=new y(m,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){b[p]=new y(p,1,!1,p.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){b[p]=new y(p,1,!1,p.toLowerCase(),null,!0,!0)});function N(p,m,w,T){var E=b.hasOwnProperty(m)?b[m]:null;(E!==null?E.type!==0:T||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,w,E,T)&&(w=null),T||E===null?f(m)&&(w===null?p.removeAttribute(m):p.setAttribute(m,""+w)):E.mustUseProperty?p[E.propertyName]=w===null?E.type===3?!1:"":w:(m=E.attributeName,T=E.attributeNamespace,w===null?p.removeAttribute(m):(E=E.type,w=E===3||E===4&&w===!0?"":""+w,T?p.setAttributeNS(T,m,w):p.setAttribute(m,w))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),V=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),Y=Symbol.iterator;function q(p){return p===null||typeof p!="object"?null:(p=Y&&p[Y]||p["@@iterator"],typeof p=="function"?p:null)}var Z=Object.assign,W;function ee(p){if(W===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);W=m&&m[1]||""}return`
`+W+p}var oe=!1;function fe(p,m){if(!p||oe)return"";oe=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(pe){var T=pe}Reflect.construct(p,[],m)}else{try{m.call()}catch(pe){T=pe}p.call(m.prototype)}else{try{throw Error()}catch(pe){T=pe}p()}}catch(pe){if(pe&&T&&typeof pe.stack=="string"){for(var E=pe.stack.split(`
`),R=T.stack.split(`
`),U=E.length-1,J=R.length-1;1<=U&&0<=J&&E[U]!==R[J];)J--;for(;1<=U&&0<=J;U--,J--)if(E[U]!==R[J]){if(U!==1||J!==1)do if(U--,J--,0>J||E[U]!==R[J]){var ie=`
`+E[U].replace(" at new "," at ");return p.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",p.displayName)),ie}while(1<=U&&0<=J);break}}}finally{oe=!1,Error.prepareStackTrace=w}return(p=p?p.displayName||p.name:"")?ee(p):""}function ue(p){switch(p.tag){case 5:return ee(p.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return p=fe(p.type,!1),p;case 11:return p=fe(p.type.render,!1),p;case 1:return p=fe(p.type,!0),p;default:return""}}function de(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case L:return"Fragment";case C:return"Portal";case P:return"Profiler";case O:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case V:return(p.displayName||"Context")+".Consumer";case z:return(p._context.displayName||"Context")+".Provider";case G:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case $:return m=p.displayName||null,m!==null?m:de(p.type)||"Memo";case Q:m=p._payload,p=p._init;try{return de(p(m))}catch{}}return null}function te(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(m);case 8:return m===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function he(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function ge(p){var m=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function xe(p){var m=ge(p)?"checked":"value",w=Object.getOwnPropertyDescriptor(p.constructor.prototype,m),T=""+p[m];if(!p.hasOwnProperty(m)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var E=w.get,R=w.set;return Object.defineProperty(p,m,{configurable:!0,get:function(){return E.call(this)},set:function(U){T=""+U,R.call(this,U)}}),Object.defineProperty(p,m,{enumerable:w.enumerable}),{getValue:function(){return T},setValue:function(U){T=""+U},stopTracking:function(){p._valueTracker=null,delete p[m]}}}}function be(p){p._valueTracker||(p._valueTracker=xe(p))}function ye(p){if(!p)return!1;var m=p._valueTracker;if(!m)return!0;var w=m.getValue(),T="";return p&&(T=ge(p)?p.checked?"true":"false":p.value),p=T,p!==w?(m.setValue(p),!0):!1}function we(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function _e(p,m){var w=m.checked;return Z({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??p._wrapperState.initialChecked})}function Le(p,m){var w=m.defaultValue==null?"":m.defaultValue,T=m.checked!=null?m.checked:m.defaultChecked;w=he(m.value!=null?m.value:w),p._wrapperState={initialChecked:T,initialValue:w,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ke(p,m){m=m.checked,m!=null&&N(p,"checked",m,!1)}function $e(p,m){Ke(p,m);var w=he(m.value),T=m.type;if(w!=null)T==="number"?(w===0&&p.value===""||p.value!=w)&&(p.value=""+w):p.value!==""+w&&(p.value=""+w);else if(T==="submit"||T==="reset"){p.removeAttribute("value");return}m.hasOwnProperty("value")?Ze(p,m.type,w):m.hasOwnProperty("defaultValue")&&Ze(p,m.type,he(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(p.defaultChecked=!!m.defaultChecked)}function He(p,m,w){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var T=m.type;if(!(T!=="submit"&&T!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+p._wrapperState.initialValue,w||m===p.value||(p.value=m),p.defaultValue=m}w=p.name,w!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,w!==""&&(p.name=w)}function Ze(p,m,w){(m!=="number"||we(p.ownerDocument)!==p)&&(w==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+w&&(p.defaultValue=""+w))}var at=Array.isArray;function Je(p,m,w,T){if(p=p.options,m){m={};for(var E=0;E<w.length;E++)m["$"+w[E]]=!0;for(w=0;w<p.length;w++)E=m.hasOwnProperty("$"+p[w].value),p[w].selected!==E&&(p[w].selected=E),E&&T&&(p[w].defaultSelected=!0)}else{for(w=""+he(w),m=null,E=0;E<p.length;E++){if(p[E].value===w){p[E].selected=!0,T&&(p[E].defaultSelected=!0);return}m!==null||p[E].disabled||(m=p[E])}m!==null&&(m.selected=!0)}}function Mt(p,m){if(m.dangerouslySetInnerHTML!=null)throw Error(i(91));return Z({},m,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function xi(p,m){var w=m.value;if(w==null){if(w=m.children,m=m.defaultValue,w!=null){if(m!=null)throw Error(i(92));if(at(w)){if(1<w.length)throw Error(i(93));w=w[0]}m=w}m==null&&(m=""),w=m}p._wrapperState={initialValue:he(w)}}function Li(p,m){var w=he(m.value),T=he(m.defaultValue);w!=null&&(w=""+w,w!==p.value&&(p.value=w),m.defaultValue==null&&p.defaultValue!==w&&(p.defaultValue=w)),T!=null&&(p.defaultValue=""+T)}function Vn(p){var m=p.textContent;m===p._wrapperState.initialValue&&m!==""&&m!==null&&(p.value=m)}function _l(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(p,m){return p==null||p==="http://www.w3.org/1999/xhtml"?_l(m):p==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var $o,Fl=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,w,T,E){MSApp.execUnsafeLocalFunction(function(){return p(m,w,T,E)})}:p}(function(p,m){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=m;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=$o.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;m.firstChild;)p.appendChild(m.firstChild)}});function ao(p,m){if(m){var w=p.firstChild;if(w&&w===p.lastChild&&w.nodeType===3){w.nodeValue=m;return}}p.textContent=m}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gg=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(p){Gg.forEach(function(m){m=m+p.charAt(0).toUpperCase()+p.substring(1),Bl[m]=Bl[p]})});function $d(p,m,w){return m==null||typeof m=="boolean"||m===""?"":w||typeof m!="number"||m===0||Bl.hasOwnProperty(p)&&Bl[p]?(""+m).trim():m+"px"}function Nv(p,m){p=p.style;for(var w in m)if(m.hasOwnProperty(w)){var T=w.indexOf("--")===0,E=$d(w,m[w],T);w==="float"&&(w="cssFloat"),T?p.setProperty(w,E):p[w]=E}}var GM=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(p,m){if(m){if(GM[p]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(i(137,p));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(i(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(i(61))}if(m.style!=null&&typeof m.style!="object")throw Error(i(62))}}function Hg(p,m){if(p.indexOf("-")===-1)return typeof m.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=null;function qp(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var $g=null,Vl=null,Ul=null;function Kg(p){if(p=yy(p)){if(typeof $g!="function")throw Error(i(280));var m=p.stateNode;m&&(m=Kv(m),$g(p.stateNode,p.type,m))}}function Mv(p){Vl?Ul?Ul.push(p):Ul=[p]:Vl=p}function Zg(){if(Vl){var p=Vl,m=Ul;if(Ul=Vl=null,Kg(p),m)for(p=0;p<m.length;p++)Kg(m[p])}}function Iv(p,m){return p(m)}function lP(){}var WM=!1;function cP(p,m,w){if(WM)return p(m,w);WM=!0;try{return Iv(p,m,w)}finally{WM=!1,(Vl!==null||Ul!==null)&&(lP(),Zg())}}function qg(p,m){var w=p.stateNode;if(w===null)return null;var T=Kv(w);if(T===null)return null;w=T[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(p=p.type,T=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!T;break e;default:p=!1}if(p)return null;if(w&&typeof w!="function")throw Error(i(231,m,typeof w));return w}var HM=!1;if(r)try{var Xg={};Object.defineProperty(Xg,"passive",{get:function(){HM=!0}}),window.addEventListener("test",Xg,Xg),window.removeEventListener("test",Xg,Xg)}catch{HM=!1}function rJ(p,m,w,T,E,R,U,J,ie){var pe=Array.prototype.slice.call(arguments,3);try{m.apply(w,pe)}catch(Ne){this.onError(Ne)}}var Qg=!1,Tv=null,Av=!1,YM=null,lJ={onError:function(p){Qg=!0,Tv=p}};function cJ(p,m,w,T,E,R,U,J,ie){Qg=!1,Tv=null,rJ.apply(lJ,arguments)}function uJ(p,m,w,T,E,R,U,J,ie){if(cJ.apply(this,arguments),Qg){if(Qg){var pe=Tv;Qg=!1,Tv=null}else throw Error(i(198));Av||(Av=!0,YM=pe)}}function Kd(p){var m=p,w=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,(m.flags&4098)!==0&&(w=m.return),p=m.return;while(p)}return m.tag===3?w:null}function uP(p){if(p.tag===13){var m=p.memoizedState;if(m===null&&(p=p.alternate,p!==null&&(m=p.memoizedState)),m!==null)return m.dehydrated}return null}function dP(p){if(Kd(p)!==p)throw Error(i(188))}function dJ(p){var m=p.alternate;if(!m){if(m=Kd(p),m===null)throw Error(i(188));return m!==p?null:p}for(var w=p,T=m;;){var E=w.return;if(E===null)break;var R=E.alternate;if(R===null){if(T=E.return,T!==null){w=T;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===w)return dP(E),p;if(R===T)return dP(E),m;R=R.sibling}throw Error(i(188))}if(w.return!==T.return)w=E,T=R;else{for(var U=!1,J=E.child;J;){if(J===w){U=!0,w=E,T=R;break}if(J===T){U=!0,T=E,w=R;break}J=J.sibling}if(!U){for(J=R.child;J;){if(J===w){U=!0,w=R,T=E;break}if(J===T){U=!0,T=R,w=E;break}J=J.sibling}if(!U)throw Error(i(189))}}if(w.alternate!==T)throw Error(i(190))}if(w.tag!==3)throw Error(i(188));return w.stateNode.current===w?p:m}function hP(p){return p=dJ(p),p!==null?pP(p):null}function pP(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=pP(p);if(m!==null)return m;p=p.sibling}return null}var fP=t.unstable_scheduleCallback,mP=t.unstable_cancelCallback,hJ=t.unstable_shouldYield,pJ=t.unstable_requestPaint,_i=t.unstable_now,fJ=t.unstable_getCurrentPriorityLevel,$M=t.unstable_ImmediatePriority,gP=t.unstable_UserBlockingPriority,kv=t.unstable_NormalPriority,mJ=t.unstable_LowPriority,yP=t.unstable_IdlePriority,Cv=null,Ur=null;function gJ(p){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Cv,p,void 0,(p.current.flags&128)===128)}catch{}}var Ko=Math.clz32?Math.clz32:bJ,yJ=Math.log,xJ=Math.LN2;function bJ(p){return p>>>=0,p===0?32:31-(yJ(p)/xJ|0)|0}var Dv=64,Lv=4194304;function Jg(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Ev(p,m){var w=p.pendingLanes;if(w===0)return 0;var T=0,E=p.suspendedLanes,R=p.pingedLanes,U=w&268435455;if(U!==0){var J=U&~E;J!==0?T=Jg(J):(R&=U,R!==0&&(T=Jg(R)))}else U=w&~E,U!==0?T=Jg(U):R!==0&&(T=Jg(R));if(T===0)return 0;if(m!==0&&m!==T&&(m&E)===0&&(E=T&-T,R=m&-m,E>=R||E===16&&(R&4194240)!==0))return m;if((T&4)!==0&&(T|=w&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=T;0<m;)w=31-Ko(m),E=1<<w,T|=p[w],m&=~E;return T}function vJ(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wJ(p,m){for(var w=p.suspendedLanes,T=p.pingedLanes,E=p.expirationTimes,R=p.pendingLanes;0<R;){var U=31-Ko(R),J=1<<U,ie=E[U];ie===-1?((J&w)===0||(J&T)!==0)&&(E[U]=vJ(J,m)):ie<=m&&(p.expiredLanes|=J),R&=~J}}function KM(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function xP(){var p=Dv;return Dv<<=1,(Dv&4194240)===0&&(Dv=64),p}function ZM(p){for(var m=[],w=0;31>w;w++)m.push(p);return m}function ey(p,m,w){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-Ko(m),p[m]=w}function SJ(p,m){var w=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var T=p.eventTimes;for(p=p.expirationTimes;0<w;){var E=31-Ko(w),R=1<<E;m[E]=0,T[E]=-1,p[E]=-1,w&=~R}}function qM(p,m){var w=p.entangledLanes|=m;for(p=p.entanglements;w;){var T=31-Ko(w),E=1<<T;E&m|p[T]&m&&(p[T]|=m),w&=~E}}var Gt=0;function bP(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var vP,XM,wP,SP,NP,QM=!1,Ov=[],su=null,au=null,ou=null,ty=new Map,iy=new Map,ru=[],NJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MP(p,m){switch(p){case"focusin":case"focusout":su=null;break;case"dragenter":case"dragleave":au=null;break;case"mouseover":case"mouseout":ou=null;break;case"pointerover":case"pointerout":ty.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":iy.delete(m.pointerId)}}function ny(p,m,w,T,E,R){return p===null||p.nativeEvent!==R?(p={blockedOn:m,domEventName:w,eventSystemFlags:T,nativeEvent:R,targetContainers:[E]},m!==null&&(m=yy(m),m!==null&&XM(m)),p):(p.eventSystemFlags|=T,m=p.targetContainers,E!==null&&m.indexOf(E)===-1&&m.push(E),p)}function MJ(p,m,w,T,E){switch(m){case"focusin":return su=ny(su,p,m,w,T,E),!0;case"dragenter":return au=ny(au,p,m,w,T,E),!0;case"mouseover":return ou=ny(ou,p,m,w,T,E),!0;case"pointerover":var R=E.pointerId;return ty.set(R,ny(ty.get(R)||null,p,m,w,T,E)),!0;case"gotpointercapture":return R=E.pointerId,iy.set(R,ny(iy.get(R)||null,p,m,w,T,E)),!0}return!1}function IP(p){var m=Zd(p.target);if(m!==null){var w=Kd(m);if(w!==null){if(m=w.tag,m===13){if(m=uP(w),m!==null){p.blockedOn=m,NP(p.priority,function(){wP(w)});return}}else if(m===3&&w.stateNode.current.memoizedState.isDehydrated){p.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}p.blockedOn=null}function jv(p){if(p.blockedOn!==null)return!1;for(var m=p.targetContainers;0<m.length;){var w=eI(p.domEventName,p.eventSystemFlags,m[0],p.nativeEvent);if(w===null){w=p.nativeEvent;var T=new w.constructor(w.type,w);Yg=T,w.target.dispatchEvent(T),Yg=null}else return m=yy(w),m!==null&&XM(m),p.blockedOn=w,!1;m.shift()}return!0}function TP(p,m,w){jv(p)&&w.delete(m)}function IJ(){QM=!1,su!==null&&jv(su)&&(su=null),au!==null&&jv(au)&&(au=null),ou!==null&&jv(ou)&&(ou=null),ty.forEach(TP),iy.forEach(TP)}function sy(p,m){p.blockedOn===m&&(p.blockedOn=null,QM||(QM=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IJ)))}function ay(p){function m(E){return sy(E,p)}if(0<Ov.length){sy(Ov[0],p);for(var w=1;w<Ov.length;w++){var T=Ov[w];T.blockedOn===p&&(T.blockedOn=null)}}for(su!==null&&sy(su,p),au!==null&&sy(au,p),ou!==null&&sy(ou,p),ty.forEach(m),iy.forEach(m),w=0;w<ru.length;w++)T=ru[w],T.blockedOn===p&&(T.blockedOn=null);for(;0<ru.length&&(w=ru[0],w.blockedOn===null);)IP(w),w.blockedOn===null&&ru.shift()}var Xp=M.ReactCurrentBatchConfig,Rv=!0;function TJ(p,m,w,T){var E=Gt,R=Xp.transition;Xp.transition=null;try{Gt=1,JM(p,m,w,T)}finally{Gt=E,Xp.transition=R}}function AJ(p,m,w,T){var E=Gt,R=Xp.transition;Xp.transition=null;try{Gt=4,JM(p,m,w,T)}finally{Gt=E,Xp.transition=R}}function JM(p,m,w,T){if(Rv){var E=eI(p,m,w,T);if(E===null)yI(p,m,T,Pv,w),MP(p,T);else if(MJ(E,p,m,w,T))T.stopPropagation();else if(MP(p,T),m&4&&-1<NJ.indexOf(p)){for(;E!==null;){var R=yy(E);if(R!==null&&vP(R),R=eI(p,m,w,T),R===null&&yI(p,m,T,Pv,w),R===E)break;E=R}E!==null&&T.stopPropagation()}else yI(p,m,T,null,w)}}var Pv=null;function eI(p,m,w,T){if(Pv=null,p=qp(T),p=Zd(p),p!==null)if(m=Kd(p),m===null)p=null;else if(w=m.tag,w===13){if(p=uP(m),p!==null)return p;p=null}else if(w===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;p=null}else m!==p&&(p=null);return Pv=p,null}function AP(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fJ()){case $M:return 1;case gP:return 4;case kv:case mJ:return 16;case yP:return 536870912;default:return 16}default:return 16}}var lu=null,tI=null,zv=null;function kP(){if(zv)return zv;var p,m=tI,w=m.length,T,E="value"in lu?lu.value:lu.textContent,R=E.length;for(p=0;p<w&&m[p]===E[p];p++);var U=w-p;for(T=1;T<=U&&m[w-T]===E[R-T];T++);return zv=E.slice(p,1<T?1-T:void 0)}function _v(p){var m=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&m===13&&(p=13)):p=m,p===10&&(p=13),32<=p||p===13?p:0}function Fv(){return!0}function CP(){return!1}function Ea(p){function m(w,T,E,R,U){this._reactName=w,this._targetInst=E,this.type=T,this.nativeEvent=R,this.target=U,this.currentTarget=null;for(var J in p)p.hasOwnProperty(J)&&(w=p[J],this[J]=w?w(R):R[J]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Fv:CP,this.isPropagationStopped=CP,this}return Z(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Fv)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Fv)},persist:function(){},isPersistent:Fv}),m}var Qp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iI=Ea(Qp),oy=Z({},Qp,{view:0,detail:0}),kJ=Ea(oy),nI,sI,ry,Bv=Z({},oy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oI,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==ry&&(ry&&p.type==="mousemove"?(nI=p.screenX-ry.screenX,sI=p.screenY-ry.screenY):sI=nI=0,ry=p),nI)},movementY:function(p){return"movementY"in p?p.movementY:sI}}),DP=Ea(Bv),CJ=Z({},Bv,{dataTransfer:0}),DJ=Ea(CJ),LJ=Z({},oy,{relatedTarget:0}),aI=Ea(LJ),EJ=Z({},Qp,{animationName:0,elapsedTime:0,pseudoElement:0}),OJ=Ea(EJ),jJ=Z({},Qp,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),RJ=Ea(jJ),PJ=Z({},Qp,{data:0}),LP=Ea(PJ),zJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_J={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BJ(p){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(p):(p=FJ[p])?!!m[p]:!1}function oI(){return BJ}var VJ=Z({},oy,{key:function(p){if(p.key){var m=zJ[p.key]||p.key;if(m!=="Unidentified")return m}return p.type==="keypress"?(p=_v(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?_J[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oI,charCode:function(p){return p.type==="keypress"?_v(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?_v(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),UJ=Ea(VJ),GJ=Z({},Bv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EP=Ea(GJ),WJ=Z({},oy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oI}),HJ=Ea(WJ),YJ=Z({},Qp,{propertyName:0,elapsedTime:0,pseudoElement:0}),$J=Ea(YJ),KJ=Z({},Bv,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),ZJ=Ea(KJ),qJ=[9,13,27,32],rI=r&&"CompositionEvent"in window,ly=null;r&&"documentMode"in document&&(ly=document.documentMode);var XJ=r&&"TextEvent"in window&&!ly,OP=r&&(!rI||ly&&8<ly&&11>=ly),jP=" ",RP=!1;function PP(p,m){switch(p){case"keyup":return qJ.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zP(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Jp=!1;function QJ(p,m){switch(p){case"compositionend":return zP(m);case"keypress":return m.which!==32?null:(RP=!0,jP);case"textInput":return p=m.data,p===jP&&RP?null:p;default:return null}}function JJ(p,m){if(Jp)return p==="compositionend"||!rI&&PP(p,m)?(p=kP(),zv=tI=lu=null,Jp=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return OP&&m.locale!=="ko"?null:m.data;default:return null}}var eee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _P(p){var m=p&&p.nodeName&&p.nodeName.toLowerCase();return m==="input"?!!eee[p.type]:m==="textarea"}function FP(p,m,w,T){Mv(T),m=Hv(m,"onChange"),0<m.length&&(w=new iI("onChange","change",null,w,T),p.push({event:w,listeners:m}))}var cy=null,uy=null;function tee(p){n4(p,0)}function Vv(p){var m=af(p);if(ye(m))return p}function iee(p,m){if(p==="change")return m}var BP=!1;if(r){var lI;if(r){var cI="oninput"in document;if(!cI){var VP=document.createElement("div");VP.setAttribute("oninput","return;"),cI=typeof VP.oninput=="function"}lI=cI}else lI=!1;BP=lI&&(!document.documentMode||9<document.documentMode)}function UP(){cy&&(cy.detachEvent("onpropertychange",GP),uy=cy=null)}function GP(p){if(p.propertyName==="value"&&Vv(uy)){var m=[];FP(m,uy,p,qp(p)),cP(tee,m)}}function nee(p,m,w){p==="focusin"?(UP(),cy=m,uy=w,cy.attachEvent("onpropertychange",GP)):p==="focusout"&&UP()}function see(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Vv(uy)}function aee(p,m){if(p==="click")return Vv(m)}function oee(p,m){if(p==="input"||p==="change")return Vv(m)}function ree(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var Zo=typeof Object.is=="function"?Object.is:ree;function dy(p,m){if(Zo(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var w=Object.keys(p),T=Object.keys(m);if(w.length!==T.length)return!1;for(T=0;T<w.length;T++){var E=w[T];if(!l.call(m,E)||!Zo(p[E],m[E]))return!1}return!0}function WP(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function HP(p,m){var w=WP(p);p=0;for(var T;w;){if(w.nodeType===3){if(T=p+w.textContent.length,p<=m&&T>=m)return{node:w,offset:m-p};p=T}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=WP(w)}}function YP(p,m){return p&&m?p===m?!0:p&&p.nodeType===3?!1:m&&m.nodeType===3?YP(p,m.parentNode):"contains"in p?p.contains(m):p.compareDocumentPosition?!!(p.compareDocumentPosition(m)&16):!1:!1}function $P(){for(var p=window,m=we();m instanceof p.HTMLIFrameElement;){try{var w=typeof m.contentWindow.location.href=="string"}catch{w=!1}if(w)p=m.contentWindow;else break;m=we(p.document)}return m}function uI(p){var m=p&&p.nodeName&&p.nodeName.toLowerCase();return m&&(m==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||m==="textarea"||p.contentEditable==="true")}function lee(p){var m=$P(),w=p.focusedElem,T=p.selectionRange;if(m!==w&&w&&w.ownerDocument&&YP(w.ownerDocument.documentElement,w)){if(T!==null&&uI(w)){if(m=T.start,p=T.end,p===void 0&&(p=m),"selectionStart"in w)w.selectionStart=m,w.selectionEnd=Math.min(p,w.value.length);else if(p=(m=w.ownerDocument||document)&&m.defaultView||window,p.getSelection){p=p.getSelection();var E=w.textContent.length,R=Math.min(T.start,E);T=T.end===void 0?R:Math.min(T.end,E),!p.extend&&R>T&&(E=T,T=R,R=E),E=HP(w,R);var U=HP(w,T);E&&U&&(p.rangeCount!==1||p.anchorNode!==E.node||p.anchorOffset!==E.offset||p.focusNode!==U.node||p.focusOffset!==U.offset)&&(m=m.createRange(),m.setStart(E.node,E.offset),p.removeAllRanges(),R>T?(p.addRange(m),p.extend(U.node,U.offset)):(m.setEnd(U.node,U.offset),p.addRange(m)))}}for(m=[],p=w;p=p.parentNode;)p.nodeType===1&&m.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<m.length;w++)p=m[w],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var cee=r&&"documentMode"in document&&11>=document.documentMode,ef=null,dI=null,hy=null,hI=!1;function KP(p,m,w){var T=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;hI||ef==null||ef!==we(T)||(T=ef,"selectionStart"in T&&uI(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),hy&&dy(hy,T)||(hy=T,T=Hv(dI,"onSelect"),0<T.length&&(m=new iI("onSelect","select",null,m,w),p.push({event:m,listeners:T}),m.target=ef)))}function Uv(p,m){var w={};return w[p.toLowerCase()]=m.toLowerCase(),w["Webkit"+p]="webkit"+m,w["Moz"+p]="moz"+m,w}var tf={animationend:Uv("Animation","AnimationEnd"),animationiteration:Uv("Animation","AnimationIteration"),animationstart:Uv("Animation","AnimationStart"),transitionend:Uv("Transition","TransitionEnd")},pI={},ZP={};r&&(ZP=document.createElement("div").style,"AnimationEvent"in window||(delete tf.animationend.animation,delete tf.animationiteration.animation,delete tf.animationstart.animation),"TransitionEvent"in window||delete tf.transitionend.transition);function Gv(p){if(pI[p])return pI[p];if(!tf[p])return p;var m=tf[p],w;for(w in m)if(m.hasOwnProperty(w)&&w in ZP)return pI[p]=m[w];return p}var qP=Gv("animationend"),XP=Gv("animationiteration"),QP=Gv("animationstart"),JP=Gv("transitionend"),e4=new Map,t4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cu(p,m){e4.set(p,m),a(m,[p])}for(var fI=0;fI<t4.length;fI++){var mI=t4[fI],uee=mI.toLowerCase(),dee=mI[0].toUpperCase()+mI.slice(1);cu(uee,"on"+dee)}cu(qP,"onAnimationEnd"),cu(XP,"onAnimationIteration"),cu(QP,"onAnimationStart"),cu("dblclick","onDoubleClick"),cu("focusin","onFocus"),cu("focusout","onBlur"),cu(JP,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var py="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hee=new Set("cancel close invalid load scroll toggle".split(" ").concat(py));function i4(p,m,w){var T=p.type||"unknown-event";p.currentTarget=w,uJ(T,m,void 0,p),p.currentTarget=null}function n4(p,m){m=(m&4)!==0;for(var w=0;w<p.length;w++){var T=p[w],E=T.event;T=T.listeners;e:{var R=void 0;if(m)for(var U=T.length-1;0<=U;U--){var J=T[U],ie=J.instance,pe=J.currentTarget;if(J=J.listener,ie!==R&&E.isPropagationStopped())break e;i4(E,J,pe),R=ie}else for(U=0;U<T.length;U++){if(J=T[U],ie=J.instance,pe=J.currentTarget,J=J.listener,ie!==R&&E.isPropagationStopped())break e;i4(E,J,pe),R=ie}}}if(Av)throw p=YM,Av=!1,YM=null,p}function ii(p,m){var w=m[NI];w===void 0&&(w=m[NI]=new Set);var T=p+"__bubble";w.has(T)||(s4(m,p,2,!1),w.add(T))}function gI(p,m,w){var T=0;m&&(T|=4),s4(w,p,T,m)}var Wv="_reactListening"+Math.random().toString(36).slice(2);function fy(p){if(!p[Wv]){p[Wv]=!0,n.forEach(function(w){w!=="selectionchange"&&(hee.has(w)||gI(w,!1,p),gI(w,!0,p))});var m=p.nodeType===9?p:p.ownerDocument;m===null||m[Wv]||(m[Wv]=!0,gI("selectionchange",!1,m))}}function s4(p,m,w,T){switch(AP(m)){case 1:var E=TJ;break;case 4:E=AJ;break;default:E=JM}w=E.bind(null,m,w,p),E=void 0,!HM||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(E=!0),T?E!==void 0?p.addEventListener(m,w,{capture:!0,passive:E}):p.addEventListener(m,w,!0):E!==void 0?p.addEventListener(m,w,{passive:E}):p.addEventListener(m,w,!1)}function yI(p,m,w,T,E){var R=T;if((m&1)===0&&(m&2)===0&&T!==null)e:for(;;){if(T===null)return;var U=T.tag;if(U===3||U===4){var J=T.stateNode.containerInfo;if(J===E||J.nodeType===8&&J.parentNode===E)break;if(U===4)for(U=T.return;U!==null;){var ie=U.tag;if((ie===3||ie===4)&&(ie=U.stateNode.containerInfo,ie===E||ie.nodeType===8&&ie.parentNode===E))return;U=U.return}for(;J!==null;){if(U=Zd(J),U===null)return;if(ie=U.tag,ie===5||ie===6){T=R=U;continue e}J=J.parentNode}}T=T.return}cP(function(){var pe=R,Ne=qp(w),Te=[];e:{var Se=e4.get(p);if(Se!==void 0){var Re=iI,Ge=p;switch(p){case"keypress":if(_v(w)===0)break e;case"keydown":case"keyup":Re=UJ;break;case"focusin":Ge="focus",Re=aI;break;case"focusout":Ge="blur",Re=aI;break;case"beforeblur":case"afterblur":Re=aI;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=DP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=DJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=HJ;break;case qP:case XP:case QP:Re=OJ;break;case JP:Re=$J;break;case"scroll":Re=kJ;break;case"wheel":Re=ZJ;break;case"copy":case"cut":case"paste":Re=RJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=EP}var We=(m&4)!==0,Fi=!We&&p==="scroll",re=We?Se!==null?Se+"Capture":null:Se;We=[];for(var ne=pe,ce;ne!==null;){ce=ne;var ke=ce.stateNode;if(ce.tag===5&&ke!==null&&(ce=ke,re!==null&&(ke=qg(ne,re),ke!=null&&We.push(my(ne,ke,ce)))),Fi)break;ne=ne.return}0<We.length&&(Se=new Re(Se,Ge,null,w,Ne),Te.push({event:Se,listeners:We}))}}if((m&7)===0){e:{if(Se=p==="mouseover"||p==="pointerover",Re=p==="mouseout"||p==="pointerout",Se&&w!==Yg&&(Ge=w.relatedTarget||w.fromElement)&&(Zd(Ge)||Ge[Gl]))break e;if((Re||Se)&&(Se=Ne.window===Ne?Ne:(Se=Ne.ownerDocument)?Se.defaultView||Se.parentWindow:window,Re?(Ge=w.relatedTarget||w.toElement,Re=pe,Ge=Ge?Zd(Ge):null,Ge!==null&&(Fi=Kd(Ge),Ge!==Fi||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Re=null,Ge=pe),Re!==Ge)){if(We=DP,ke="onMouseLeave",re="onMouseEnter",ne="mouse",(p==="pointerout"||p==="pointerover")&&(We=EP,ke="onPointerLeave",re="onPointerEnter",ne="pointer"),Fi=Re==null?Se:af(Re),ce=Ge==null?Se:af(Ge),Se=new We(ke,ne+"leave",Re,w,Ne),Se.target=Fi,Se.relatedTarget=ce,ke=null,Zd(Ne)===pe&&(We=new We(re,ne+"enter",Ge,w,Ne),We.target=ce,We.relatedTarget=Fi,ke=We),Fi=ke,Re&&Ge)t:{for(We=Re,re=Ge,ne=0,ce=We;ce;ce=nf(ce))ne++;for(ce=0,ke=re;ke;ke=nf(ke))ce++;for(;0<ne-ce;)We=nf(We),ne--;for(;0<ce-ne;)re=nf(re),ce--;for(;ne--;){if(We===re||re!==null&&We===re.alternate)break t;We=nf(We),re=nf(re)}We=null}else We=null;Re!==null&&a4(Te,Se,Re,We,!1),Ge!==null&&Fi!==null&&a4(Te,Fi,Ge,We,!0)}}e:{if(Se=pe?af(pe):window,Re=Se.nodeName&&Se.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Se.type==="file")var Ye=iee;else if(_P(Se))if(BP)Ye=oee;else{Ye=see;var et=nee}else(Re=Se.nodeName)&&Re.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Ye=aee);if(Ye&&(Ye=Ye(p,pe))){FP(Te,Ye,w,Ne);break e}et&&et(p,Se,pe),p==="focusout"&&(et=Se._wrapperState)&&et.controlled&&Se.type==="number"&&Ze(Se,"number",Se.value)}switch(et=pe?af(pe):window,p){case"focusin":(_P(et)||et.contentEditable==="true")&&(ef=et,dI=pe,hy=null);break;case"focusout":hy=dI=ef=null;break;case"mousedown":hI=!0;break;case"contextmenu":case"mouseup":case"dragend":hI=!1,KP(Te,w,Ne);break;case"selectionchange":if(cee)break;case"keydown":case"keyup":KP(Te,w,Ne)}var tt;if(rI)e:{switch(p){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Jp?PP(p,w)&&(ot="onCompositionEnd"):p==="keydown"&&w.keyCode===229&&(ot="onCompositionStart");ot&&(OP&&w.locale!=="ko"&&(Jp||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Jp&&(tt=kP()):(lu=Ne,tI="value"in lu?lu.value:lu.textContent,Jp=!0)),et=Hv(pe,ot),0<et.length&&(ot=new LP(ot,p,null,w,Ne),Te.push({event:ot,listeners:et}),tt?ot.data=tt:(tt=zP(w),tt!==null&&(ot.data=tt)))),(tt=XJ?QJ(p,w):JJ(p,w))&&(pe=Hv(pe,"onBeforeInput"),0<pe.length&&(Ne=new LP("onBeforeInput","beforeinput",null,w,Ne),Te.push({event:Ne,listeners:pe}),Ne.data=tt))}n4(Te,m)})}function my(p,m,w){return{instance:p,listener:m,currentTarget:w}}function Hv(p,m){for(var w=m+"Capture",T=[];p!==null;){var E=p,R=E.stateNode;E.tag===5&&R!==null&&(E=R,R=qg(p,w),R!=null&&T.unshift(my(p,R,E)),R=qg(p,m),R!=null&&T.push(my(p,R,E))),p=p.return}return T}function nf(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function a4(p,m,w,T,E){for(var R=m._reactName,U=[];w!==null&&w!==T;){var J=w,ie=J.alternate,pe=J.stateNode;if(ie!==null&&ie===T)break;J.tag===5&&pe!==null&&(J=pe,E?(ie=qg(w,R),ie!=null&&U.unshift(my(w,ie,J))):E||(ie=qg(w,R),ie!=null&&U.push(my(w,ie,J)))),w=w.return}U.length!==0&&p.push({event:m,listeners:U})}var pee=/\r\n?/g,fee=/\u0000|\uFFFD/g;function o4(p){return(typeof p=="string"?p:""+p).replace(pee,`
`).replace(fee,"")}function Yv(p,m,w){if(m=o4(m),o4(p)!==m&&w)throw Error(i(425))}function $v(){}var xI=null,bI=null;function vI(p,m){return p==="textarea"||p==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var wI=typeof setTimeout=="function"?setTimeout:void 0,mee=typeof clearTimeout=="function"?clearTimeout:void 0,r4=typeof Promise=="function"?Promise:void 0,gee=typeof queueMicrotask=="function"?queueMicrotask:typeof r4<"u"?function(p){return r4.resolve(null).then(p).catch(yee)}:wI;function yee(p){setTimeout(function(){throw p})}function SI(p,m){var w=m,T=0;do{var E=w.nextSibling;if(p.removeChild(w),E&&E.nodeType===8)if(w=E.data,w==="/$"){if(T===0){p.removeChild(E),ay(m);return}T--}else w!=="$"&&w!=="$?"&&w!=="$!"||T++;w=E}while(w);ay(m)}function uu(p){for(;p!=null;p=p.nextSibling){var m=p.nodeType;if(m===1||m===3)break;if(m===8){if(m=p.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return p}function l4(p){p=p.previousSibling;for(var m=0;p;){if(p.nodeType===8){var w=p.data;if(w==="$"||w==="$!"||w==="$?"){if(m===0)return p;m--}else w==="/$"&&m++}p=p.previousSibling}return null}var sf=Math.random().toString(36).slice(2),Gr="__reactFiber$"+sf,gy="__reactProps$"+sf,Gl="__reactContainer$"+sf,NI="__reactEvents$"+sf,xee="__reactListeners$"+sf,bee="__reactHandles$"+sf;function Zd(p){var m=p[Gr];if(m)return m;for(var w=p.parentNode;w;){if(m=w[Gl]||w[Gr]){if(w=m.alternate,m.child!==null||w!==null&&w.child!==null)for(p=l4(p);p!==null;){if(w=p[Gr])return w;p=l4(p)}return m}p=w,w=p.parentNode}return null}function yy(p){return p=p[Gr]||p[Gl],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function af(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(i(33))}function Kv(p){return p[gy]||null}var MI=[],of=-1;function du(p){return{current:p}}function ni(p){0>of||(p.current=MI[of],MI[of]=null,of--)}function ti(p,m){of++,MI[of]=p.current,p.current=m}var hu={},ss=du(hu),ia=du(!1),qd=hu;function rf(p,m){var w=p.type.contextTypes;if(!w)return hu;var T=p.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in w)E[R]=m[R];return T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=E),E}function na(p){return p=p.childContextTypes,p!=null}function Zv(){ni(ia),ni(ss)}function c4(p,m,w){if(ss.current!==hu)throw Error(i(168));ti(ss,m),ti(ia,w)}function u4(p,m,w){var T=p.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return w;T=T.getChildContext();for(var E in T)if(!(E in m))throw Error(i(108,te(p)||"Unknown",E));return Z({},w,T)}function qv(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||hu,qd=ss.current,ti(ss,p),ti(ia,ia.current),!0}function d4(p,m,w){var T=p.stateNode;if(!T)throw Error(i(169));w?(p=u4(p,m,qd),T.__reactInternalMemoizedMergedChildContext=p,ni(ia),ni(ss),ti(ss,p)):ni(ia),ti(ia,w)}var Wl=null,Xv=!1,II=!1;function h4(p){Wl===null?Wl=[p]:Wl.push(p)}function vee(p){Xv=!0,h4(p)}function pu(){if(!II&&Wl!==null){II=!0;var p=0,m=Gt;try{var w=Wl;for(Gt=1;p<w.length;p++){var T=w[p];do T=T(!0);while(T!==null)}Wl=null,Xv=!1}catch(E){throw Wl!==null&&(Wl=Wl.slice(p+1)),fP($M,pu),E}finally{Gt=m,II=!1}}return null}var lf=[],cf=0,Qv=null,Jv=0,oo=[],ro=0,Xd=null,Hl=1,Yl="";function Qd(p,m){lf[cf++]=Jv,lf[cf++]=Qv,Qv=p,Jv=m}function p4(p,m,w){oo[ro++]=Hl,oo[ro++]=Yl,oo[ro++]=Xd,Xd=p;var T=Hl;p=Yl;var E=32-Ko(T)-1;T&=~(1<<E),w+=1;var R=32-Ko(m)+E;if(30<R){var U=E-E%5;R=(T&(1<<U)-1).toString(32),T>>=U,E-=U,Hl=1<<32-Ko(m)+E|w<<E|T,Yl=R+p}else Hl=1<<R|w<<E|T,Yl=p}function TI(p){p.return!==null&&(Qd(p,1),p4(p,1,0))}function AI(p){for(;p===Qv;)Qv=lf[--cf],lf[cf]=null,Jv=lf[--cf],lf[cf]=null;for(;p===Xd;)Xd=oo[--ro],oo[ro]=null,Yl=oo[--ro],oo[ro]=null,Hl=oo[--ro],oo[ro]=null}var Oa=null,ja=null,ui=!1,qo=null;function f4(p,m){var w=ho(5,null,null,0);w.elementType="DELETED",w.stateNode=m,w.return=p,m=p.deletions,m===null?(p.deletions=[w],p.flags|=16):m.push(w)}function m4(p,m){switch(p.tag){case 5:var w=p.type;return m=m.nodeType!==1||w.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(p.stateNode=m,Oa=p,ja=uu(m.firstChild),!0):!1;case 6:return m=p.pendingProps===""||m.nodeType!==3?null:m,m!==null?(p.stateNode=m,Oa=p,ja=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(w=Xd!==null?{id:Hl,overflow:Yl}:null,p.memoizedState={dehydrated:m,treeContext:w,retryLane:1073741824},w=ho(18,null,null,0),w.stateNode=m,w.return=p,p.child=w,Oa=p,ja=null,!0):!1;default:return!1}}function kI(p){return(p.mode&1)!==0&&(p.flags&128)===0}function CI(p){if(ui){var m=ja;if(m){var w=m;if(!m4(p,m)){if(kI(p))throw Error(i(418));m=uu(w.nextSibling);var T=Oa;m&&m4(p,m)?f4(T,w):(p.flags=p.flags&-4097|2,ui=!1,Oa=p)}}else{if(kI(p))throw Error(i(418));p.flags=p.flags&-4097|2,ui=!1,Oa=p}}}function g4(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Oa=p}function e0(p){if(p!==Oa)return!1;if(!ui)return g4(p),ui=!0,!1;var m;if((m=p.tag!==3)&&!(m=p.tag!==5)&&(m=p.type,m=m!=="head"&&m!=="body"&&!vI(p.type,p.memoizedProps)),m&&(m=ja)){if(kI(p))throw y4(),Error(i(418));for(;m;)f4(p,m),m=uu(m.nextSibling)}if(g4(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));e:{for(p=p.nextSibling,m=0;p;){if(p.nodeType===8){var w=p.data;if(w==="/$"){if(m===0){ja=uu(p.nextSibling);break e}m--}else w!=="$"&&w!=="$!"&&w!=="$?"||m++}p=p.nextSibling}ja=null}}else ja=Oa?uu(p.stateNode.nextSibling):null;return!0}function y4(){for(var p=ja;p;)p=uu(p.nextSibling)}function uf(){ja=Oa=null,ui=!1}function DI(p){qo===null?qo=[p]:qo.push(p)}var wee=M.ReactCurrentBatchConfig;function xy(p,m,w){if(p=w.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(i(309));var T=w.stateNode}if(!T)throw Error(i(147,p));var E=T,R=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===R?m.ref:(m=function(U){var J=E.refs;U===null?delete J[R]:J[R]=U},m._stringRef=R,m)}if(typeof p!="string")throw Error(i(284));if(!w._owner)throw Error(i(290,p))}return p}function t0(p,m){throw p=Object.prototype.toString.call(m),Error(i(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function x4(p){var m=p._init;return m(p._payload)}function b4(p){function m(re,ne){if(p){var ce=re.deletions;ce===null?(re.deletions=[ne],re.flags|=16):ce.push(ne)}}function w(re,ne){if(!p)return null;for(;ne!==null;)m(re,ne),ne=ne.sibling;return null}function T(re,ne){for(re=new Map;ne!==null;)ne.key!==null?re.set(ne.key,ne):re.set(ne.index,ne),ne=ne.sibling;return re}function E(re,ne){return re=wu(re,ne),re.index=0,re.sibling=null,re}function R(re,ne,ce){return re.index=ce,p?(ce=re.alternate,ce!==null?(ce=ce.index,ce<ne?(re.flags|=2,ne):ce):(re.flags|=2,ne)):(re.flags|=1048576,ne)}function U(re){return p&&re.alternate===null&&(re.flags|=2),re}function J(re,ne,ce,ke){return ne===null||ne.tag!==6?(ne=wT(ce,re.mode,ke),ne.return=re,ne):(ne=E(ne,ce),ne.return=re,ne)}function ie(re,ne,ce,ke){var Ye=ce.type;return Ye===L?Ne(re,ne,ce.props.children,ke,ce.key):ne!==null&&(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===Q&&x4(Ye)===ne.type)?(ke=E(ne,ce.props),ke.ref=xy(re,ne,ce),ke.return=re,ke):(ke=I0(ce.type,ce.key,ce.props,null,re.mode,ke),ke.ref=xy(re,ne,ce),ke.return=re,ke)}function pe(re,ne,ce,ke){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=ST(ce,re.mode,ke),ne.return=re,ne):(ne=E(ne,ce.children||[]),ne.return=re,ne)}function Ne(re,ne,ce,ke,Ye){return ne===null||ne.tag!==7?(ne=oh(ce,re.mode,ke,Ye),ne.return=re,ne):(ne=E(ne,ce),ne.return=re,ne)}function Te(re,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=wT(""+ne,re.mode,ce),ne.return=re,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return ce=I0(ne.type,ne.key,ne.props,null,re.mode,ce),ce.ref=xy(re,null,ne),ce.return=re,ce;case C:return ne=ST(ne,re.mode,ce),ne.return=re,ne;case Q:var ke=ne._init;return Te(re,ke(ne._payload),ce)}if(at(ne)||q(ne))return ne=oh(ne,re.mode,ce,null),ne.return=re,ne;t0(re,ne)}return null}function Se(re,ne,ce,ke){var Ye=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:J(re,ne,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case I:return ce.key===Ye?ie(re,ne,ce,ke):null;case C:return ce.key===Ye?pe(re,ne,ce,ke):null;case Q:return Ye=ce._init,Se(re,ne,Ye(ce._payload),ke)}if(at(ce)||q(ce))return Ye!==null?null:Ne(re,ne,ce,ke,null);t0(re,ce)}return null}function Re(re,ne,ce,ke,Ye){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return re=re.get(ce)||null,J(ne,re,""+ke,Ye);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case I:return re=re.get(ke.key===null?ce:ke.key)||null,ie(ne,re,ke,Ye);case C:return re=re.get(ke.key===null?ce:ke.key)||null,pe(ne,re,ke,Ye);case Q:var et=ke._init;return Re(re,ne,ce,et(ke._payload),Ye)}if(at(ke)||q(ke))return re=re.get(ce)||null,Ne(ne,re,ke,Ye,null);t0(ne,ke)}return null}function Ge(re,ne,ce,ke){for(var Ye=null,et=null,tt=ne,ot=ne=0,In=null;tt!==null&&ot<ce.length;ot++){tt.index>ot?(In=tt,tt=null):In=tt.sibling;var Ct=Se(re,tt,ce[ot],ke);if(Ct===null){tt===null&&(tt=In);break}p&&tt&&Ct.alternate===null&&m(re,tt),ne=R(Ct,ne,ot),et===null?Ye=Ct:et.sibling=Ct,et=Ct,tt=In}if(ot===ce.length)return w(re,tt),ui&&Qd(re,ot),Ye;if(tt===null){for(;ot<ce.length;ot++)tt=Te(re,ce[ot],ke),tt!==null&&(ne=R(tt,ne,ot),et===null?Ye=tt:et.sibling=tt,et=tt);return ui&&Qd(re,ot),Ye}for(tt=T(re,tt);ot<ce.length;ot++)In=Re(tt,re,ot,ce[ot],ke),In!==null&&(p&&In.alternate!==null&&tt.delete(In.key===null?ot:In.key),ne=R(In,ne,ot),et===null?Ye=In:et.sibling=In,et=In);return p&&tt.forEach(function(Su){return m(re,Su)}),ui&&Qd(re,ot),Ye}function We(re,ne,ce,ke){var Ye=q(ce);if(typeof Ye!="function")throw Error(i(150));if(ce=Ye.call(ce),ce==null)throw Error(i(151));for(var et=Ye=null,tt=ne,ot=ne=0,In=null,Ct=ce.next();tt!==null&&!Ct.done;ot++,Ct=ce.next()){tt.index>ot?(In=tt,tt=null):In=tt.sibling;var Su=Se(re,tt,Ct.value,ke);if(Su===null){tt===null&&(tt=In);break}p&&tt&&Su.alternate===null&&m(re,tt),ne=R(Su,ne,ot),et===null?Ye=Su:et.sibling=Su,et=Su,tt=In}if(Ct.done)return w(re,tt),ui&&Qd(re,ot),Ye;if(tt===null){for(;!Ct.done;ot++,Ct=ce.next())Ct=Te(re,Ct.value,ke),Ct!==null&&(ne=R(Ct,ne,ot),et===null?Ye=Ct:et.sibling=Ct,et=Ct);return ui&&Qd(re,ot),Ye}for(tt=T(re,tt);!Ct.done;ot++,Ct=ce.next())Ct=Re(tt,re,ot,Ct.value,ke),Ct!==null&&(p&&Ct.alternate!==null&&tt.delete(Ct.key===null?ot:Ct.key),ne=R(Ct,ne,ot),et===null?Ye=Ct:et.sibling=Ct,et=Ct);return p&&tt.forEach(function(ete){return m(re,ete)}),ui&&Qd(re,ot),Ye}function Fi(re,ne,ce,ke){if(typeof ce=="object"&&ce!==null&&ce.type===L&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case I:e:{for(var Ye=ce.key,et=ne;et!==null;){if(et.key===Ye){if(Ye=ce.type,Ye===L){if(et.tag===7){w(re,et.sibling),ne=E(et,ce.props.children),ne.return=re,re=ne;break e}}else if(et.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===Q&&x4(Ye)===et.type){w(re,et.sibling),ne=E(et,ce.props),ne.ref=xy(re,et,ce),ne.return=re,re=ne;break e}w(re,et);break}else m(re,et);et=et.sibling}ce.type===L?(ne=oh(ce.props.children,re.mode,ke,ce.key),ne.return=re,re=ne):(ke=I0(ce.type,ce.key,ce.props,null,re.mode,ke),ke.ref=xy(re,ne,ce),ke.return=re,re=ke)}return U(re);case C:e:{for(et=ce.key;ne!==null;){if(ne.key===et)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){w(re,ne.sibling),ne=E(ne,ce.children||[]),ne.return=re,re=ne;break e}else{w(re,ne);break}else m(re,ne);ne=ne.sibling}ne=ST(ce,re.mode,ke),ne.return=re,re=ne}return U(re);case Q:return et=ce._init,Fi(re,ne,et(ce._payload),ke)}if(at(ce))return Ge(re,ne,ce,ke);if(q(ce))return We(re,ne,ce,ke);t0(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,ne!==null&&ne.tag===6?(w(re,ne.sibling),ne=E(ne,ce),ne.return=re,re=ne):(w(re,ne),ne=wT(ce,re.mode,ke),ne.return=re,re=ne),U(re)):w(re,ne)}return Fi}var df=b4(!0),v4=b4(!1),i0=du(null),n0=null,hf=null,LI=null;function EI(){LI=hf=n0=null}function OI(p){var m=i0.current;ni(i0),p._currentValue=m}function jI(p,m,w){for(;p!==null;){var T=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),p===w)break;p=p.return}}function pf(p,m){n0=p,LI=hf=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&m)!==0&&(sa=!0),p.firstContext=null)}function lo(p){var m=p._currentValue;if(LI!==p)if(p={context:p,memoizedValue:m,next:null},hf===null){if(n0===null)throw Error(i(308));hf=p,n0.dependencies={lanes:0,firstContext:p}}else hf=hf.next=p;return m}var Jd=null;function RI(p){Jd===null?Jd=[p]:Jd.push(p)}function w4(p,m,w,T){var E=m.interleaved;return E===null?(w.next=w,RI(m)):(w.next=E.next,E.next=w),m.interleaved=w,$l(p,T)}function $l(p,m){p.lanes|=m;var w=p.alternate;for(w!==null&&(w.lanes|=m),w=p,p=p.return;p!==null;)p.childLanes|=m,w=p.alternate,w!==null&&(w.childLanes|=m),w=p,p=p.return;return w.tag===3?w.stateNode:null}var fu=!1;function PI(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S4(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Kl(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function mu(p,m,w){var T=p.updateQueue;if(T===null)return null;if(T=T.shared,(It&2)!==0){var E=T.pending;return E===null?m.next=m:(m.next=E.next,E.next=m),T.pending=m,$l(p,w)}return E=T.interleaved,E===null?(m.next=m,RI(T)):(m.next=E.next,E.next=m),T.interleaved=m,$l(p,w)}function s0(p,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194240)!==0)){var T=m.lanes;T&=p.pendingLanes,w|=T,m.lanes=w,qM(p,w)}}function N4(p,m){var w=p.updateQueue,T=p.alternate;if(T!==null&&(T=T.updateQueue,w===T)){var E=null,R=null;if(w=w.firstBaseUpdate,w!==null){do{var U={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};R===null?E=R=U:R=R.next=U,w=w.next}while(w!==null);R===null?E=R=m:R=R.next=m}else E=R=m;w={baseState:T.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:T.shared,effects:T.effects},p.updateQueue=w;return}p=w.lastBaseUpdate,p===null?w.firstBaseUpdate=m:p.next=m,w.lastBaseUpdate=m}function a0(p,m,w,T){var E=p.updateQueue;fu=!1;var R=E.firstBaseUpdate,U=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var ie=J,pe=ie.next;ie.next=null,U===null?R=pe:U.next=pe,U=ie;var Ne=p.alternate;Ne!==null&&(Ne=Ne.updateQueue,J=Ne.lastBaseUpdate,J!==U&&(J===null?Ne.firstBaseUpdate=pe:J.next=pe,Ne.lastBaseUpdate=ie))}if(R!==null){var Te=E.baseState;U=0,Ne=pe=ie=null,J=R;do{var Se=J.lane,Re=J.eventTime;if((T&Se)===Se){Ne!==null&&(Ne=Ne.next={eventTime:Re,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ge=p,We=J;switch(Se=m,Re=w,We.tag){case 1:if(Ge=We.payload,typeof Ge=="function"){Te=Ge.call(Re,Te,Se);break e}Te=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=We.payload,Se=typeof Ge=="function"?Ge.call(Re,Te,Se):Ge,Se==null)break e;Te=Z({},Te,Se);break e;case 2:fu=!0}}J.callback!==null&&J.lane!==0&&(p.flags|=64,Se=E.effects,Se===null?E.effects=[J]:Se.push(J))}else Re={eventTime:Re,lane:Se,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ne===null?(pe=Ne=Re,ie=Te):Ne=Ne.next=Re,U|=Se;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Se=J,J=Se.next,Se.next=null,E.lastBaseUpdate=Se,E.shared.pending=null}}while(!0);if(Ne===null&&(ie=Te),E.baseState=ie,E.firstBaseUpdate=pe,E.lastBaseUpdate=Ne,m=E.shared.interleaved,m!==null){E=m;do U|=E.lane,E=E.next;while(E!==m)}else R===null&&(E.shared.lanes=0);ih|=U,p.lanes=U,p.memoizedState=Te}}function M4(p,m,w){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var T=p[m],E=T.callback;if(E!==null){if(T.callback=null,T=w,typeof E!="function")throw Error(i(191,E));E.call(T)}}}var by={},Wr=du(by),vy=du(by),wy=du(by);function eh(p){if(p===by)throw Error(i(174));return p}function zI(p,m){switch(ti(wy,m),ti(vy,p),ti(Wr,by),p=m.nodeType,p){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Yo(null,"");break;default:p=p===8?m.parentNode:m,m=p.namespaceURI||null,p=p.tagName,m=Yo(m,p)}ni(Wr),ti(Wr,m)}function ff(){ni(Wr),ni(vy),ni(wy)}function I4(p){eh(wy.current);var m=eh(Wr.current),w=Yo(m,p.type);m!==w&&(ti(vy,p),ti(Wr,w))}function _I(p){vy.current===p&&(ni(Wr),ni(vy))}var bi=du(0);function o0(p){for(var m=p;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var FI=[];function BI(){for(var p=0;p<FI.length;p++)FI[p]._workInProgressVersionPrimary=null;FI.length=0}var r0=M.ReactCurrentDispatcher,VI=M.ReactCurrentBatchConfig,th=0,vi=null,ln=null,Nn=null,l0=!1,Sy=!1,Ny=0,See=0;function as(){throw Error(i(321))}function UI(p,m){if(m===null)return!1;for(var w=0;w<m.length&&w<p.length;w++)if(!Zo(p[w],m[w]))return!1;return!0}function GI(p,m,w,T,E,R){if(th=R,vi=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,r0.current=p===null||p.memoizedState===null?Tee:Aee,p=w(T,E),Sy){R=0;do{if(Sy=!1,Ny=0,25<=R)throw Error(i(301));R+=1,Nn=ln=null,m.updateQueue=null,r0.current=kee,p=w(T,E)}while(Sy)}if(r0.current=d0,m=ln!==null&&ln.next!==null,th=0,Nn=ln=vi=null,l0=!1,m)throw Error(i(300));return p}function WI(){var p=Ny!==0;return Ny=0,p}function Hr(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?vi.memoizedState=Nn=p:Nn=Nn.next=p,Nn}function co(){if(ln===null){var p=vi.alternate;p=p!==null?p.memoizedState:null}else p=ln.next;var m=Nn===null?vi.memoizedState:Nn.next;if(m!==null)Nn=m,ln=p;else{if(p===null)throw Error(i(310));ln=p,p={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},Nn===null?vi.memoizedState=Nn=p:Nn=Nn.next=p}return Nn}function My(p,m){return typeof m=="function"?m(p):m}function HI(p){var m=co(),w=m.queue;if(w===null)throw Error(i(311));w.lastRenderedReducer=p;var T=ln,E=T.baseQueue,R=w.pending;if(R!==null){if(E!==null){var U=E.next;E.next=R.next,R.next=U}T.baseQueue=E=R,w.pending=null}if(E!==null){R=E.next,T=T.baseState;var J=U=null,ie=null,pe=R;do{var Ne=pe.lane;if((th&Ne)===Ne)ie!==null&&(ie=ie.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),T=pe.hasEagerState?pe.eagerState:p(T,pe.action);else{var Te={lane:Ne,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ie===null?(J=ie=Te,U=T):ie=ie.next=Te,vi.lanes|=Ne,ih|=Ne}pe=pe.next}while(pe!==null&&pe!==R);ie===null?U=T:ie.next=J,Zo(T,m.memoizedState)||(sa=!0),m.memoizedState=T,m.baseState=U,m.baseQueue=ie,w.lastRenderedState=T}if(p=w.interleaved,p!==null){E=p;do R=E.lane,vi.lanes|=R,ih|=R,E=E.next;while(E!==p)}else E===null&&(w.lanes=0);return[m.memoizedState,w.dispatch]}function YI(p){var m=co(),w=m.queue;if(w===null)throw Error(i(311));w.lastRenderedReducer=p;var T=w.dispatch,E=w.pending,R=m.memoizedState;if(E!==null){w.pending=null;var U=E=E.next;do R=p(R,U.action),U=U.next;while(U!==E);Zo(R,m.memoizedState)||(sa=!0),m.memoizedState=R,m.baseQueue===null&&(m.baseState=R),w.lastRenderedState=R}return[R,T]}function T4(){}function A4(p,m){var w=vi,T=co(),E=m(),R=!Zo(T.memoizedState,E);if(R&&(T.memoizedState=E,sa=!0),T=T.queue,$I(D4.bind(null,w,T,p),[p]),T.getSnapshot!==m||R||Nn!==null&&Nn.memoizedState.tag&1){if(w.flags|=2048,Iy(9,C4.bind(null,w,T,E,m),void 0,null),Mn===null)throw Error(i(349));(th&30)!==0||k4(w,m,E)}return E}function k4(p,m,w){p.flags|=16384,p={getSnapshot:m,value:w},m=vi.updateQueue,m===null?(m={lastEffect:null,stores:null},vi.updateQueue=m,m.stores=[p]):(w=m.stores,w===null?m.stores=[p]:w.push(p))}function C4(p,m,w,T){m.value=w,m.getSnapshot=T,L4(m)&&E4(p)}function D4(p,m,w){return w(function(){L4(m)&&E4(p)})}function L4(p){var m=p.getSnapshot;p=p.value;try{var w=m();return!Zo(p,w)}catch{return!0}}function E4(p){var m=$l(p,1);m!==null&&er(m,p,1,-1)}function O4(p){var m=Hr();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:p},m.queue=p,p=p.dispatch=Iee.bind(null,vi,p),[m.memoizedState,p]}function Iy(p,m,w,T){return p={tag:p,create:m,destroy:w,deps:T,next:null},m=vi.updateQueue,m===null?(m={lastEffect:null,stores:null},vi.updateQueue=m,m.lastEffect=p.next=p):(w=m.lastEffect,w===null?m.lastEffect=p.next=p:(T=w.next,w.next=p,p.next=T,m.lastEffect=p)),p}function j4(){return co().memoizedState}function c0(p,m,w,T){var E=Hr();vi.flags|=p,E.memoizedState=Iy(1|m,w,void 0,T===void 0?null:T)}function u0(p,m,w,T){var E=co();T=T===void 0?null:T;var R=void 0;if(ln!==null){var U=ln.memoizedState;if(R=U.destroy,T!==null&&UI(T,U.deps)){E.memoizedState=Iy(m,w,R,T);return}}vi.flags|=p,E.memoizedState=Iy(1|m,w,R,T)}function R4(p,m){return c0(8390656,8,p,m)}function $I(p,m){return u0(2048,8,p,m)}function P4(p,m){return u0(4,2,p,m)}function z4(p,m){return u0(4,4,p,m)}function _4(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function F4(p,m,w){return w=w!=null?w.concat([p]):null,u0(4,4,_4.bind(null,m,p),w)}function KI(){}function B4(p,m){var w=co();m=m===void 0?null:m;var T=w.memoizedState;return T!==null&&m!==null&&UI(m,T[1])?T[0]:(w.memoizedState=[p,m],p)}function V4(p,m){var w=co();m=m===void 0?null:m;var T=w.memoizedState;return T!==null&&m!==null&&UI(m,T[1])?T[0]:(p=p(),w.memoizedState=[p,m],p)}function U4(p,m,w){return(th&21)===0?(p.baseState&&(p.baseState=!1,sa=!0),p.memoizedState=w):(Zo(w,m)||(w=xP(),vi.lanes|=w,ih|=w,p.baseState=!0),m)}function Nee(p,m){var w=Gt;Gt=w!==0&&4>w?w:4,p(!0);var T=VI.transition;VI.transition={};try{p(!1),m()}finally{Gt=w,VI.transition=T}}function G4(){return co().memoizedState}function Mee(p,m,w){var T=bu(p);if(w={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null},W4(p))H4(m,w);else if(w=w4(p,m,w,T),w!==null){var E=Rs();er(w,p,T,E),Y4(w,m,T)}}function Iee(p,m,w){var T=bu(p),E={lane:T,action:w,hasEagerState:!1,eagerState:null,next:null};if(W4(p))H4(m,E);else{var R=p.alternate;if(p.lanes===0&&(R===null||R.lanes===0)&&(R=m.lastRenderedReducer,R!==null))try{var U=m.lastRenderedState,J=R(U,w);if(E.hasEagerState=!0,E.eagerState=J,Zo(J,U)){var ie=m.interleaved;ie===null?(E.next=E,RI(m)):(E.next=ie.next,ie.next=E),m.interleaved=E;return}}catch{}finally{}w=w4(p,m,E,T),w!==null&&(E=Rs(),er(w,p,T,E),Y4(w,m,T))}}function W4(p){var m=p.alternate;return p===vi||m!==null&&m===vi}function H4(p,m){Sy=l0=!0;var w=p.pending;w===null?m.next=m:(m.next=w.next,w.next=m),p.pending=m}function Y4(p,m,w){if((w&4194240)!==0){var T=m.lanes;T&=p.pendingLanes,w|=T,m.lanes=w,qM(p,w)}}var d0={readContext:lo,useCallback:as,useContext:as,useEffect:as,useImperativeHandle:as,useInsertionEffect:as,useLayoutEffect:as,useMemo:as,useReducer:as,useRef:as,useState:as,useDebugValue:as,useDeferredValue:as,useTransition:as,useMutableSource:as,useSyncExternalStore:as,useId:as,unstable_isNewReconciler:!1},Tee={readContext:lo,useCallback:function(p,m){return Hr().memoizedState=[p,m===void 0?null:m],p},useContext:lo,useEffect:R4,useImperativeHandle:function(p,m,w){return w=w!=null?w.concat([p]):null,c0(4194308,4,_4.bind(null,m,p),w)},useLayoutEffect:function(p,m){return c0(4194308,4,p,m)},useInsertionEffect:function(p,m){return c0(4,2,p,m)},useMemo:function(p,m){var w=Hr();return m=m===void 0?null:m,p=p(),w.memoizedState=[p,m],p},useReducer:function(p,m,w){var T=Hr();return m=w!==void 0?w(m):m,T.memoizedState=T.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},T.queue=p,p=p.dispatch=Mee.bind(null,vi,p),[T.memoizedState,p]},useRef:function(p){var m=Hr();return p={current:p},m.memoizedState=p},useState:O4,useDebugValue:KI,useDeferredValue:function(p){return Hr().memoizedState=p},useTransition:function(){var p=O4(!1),m=p[0];return p=Nee.bind(null,p[1]),Hr().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,w){var T=vi,E=Hr();if(ui){if(w===void 0)throw Error(i(407));w=w()}else{if(w=m(),Mn===null)throw Error(i(349));(th&30)!==0||k4(T,m,w)}E.memoizedState=w;var R={value:w,getSnapshot:m};return E.queue=R,R4(D4.bind(null,T,R,p),[p]),T.flags|=2048,Iy(9,C4.bind(null,T,R,w,m),void 0,null),w},useId:function(){var p=Hr(),m=Mn.identifierPrefix;if(ui){var w=Yl,T=Hl;w=(T&~(1<<32-Ko(T)-1)).toString(32)+w,m=":"+m+"R"+w,w=Ny++,0<w&&(m+="H"+w.toString(32)),m+=":"}else w=See++,m=":"+m+"r"+w.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},Aee={readContext:lo,useCallback:B4,useContext:lo,useEffect:$I,useImperativeHandle:F4,useInsertionEffect:P4,useLayoutEffect:z4,useMemo:V4,useReducer:HI,useRef:j4,useState:function(){return HI(My)},useDebugValue:KI,useDeferredValue:function(p){var m=co();return U4(m,ln.memoizedState,p)},useTransition:function(){var p=HI(My)[0],m=co().memoizedState;return[p,m]},useMutableSource:T4,useSyncExternalStore:A4,useId:G4,unstable_isNewReconciler:!1},kee={readContext:lo,useCallback:B4,useContext:lo,useEffect:$I,useImperativeHandle:F4,useInsertionEffect:P4,useLayoutEffect:z4,useMemo:V4,useReducer:YI,useRef:j4,useState:function(){return YI(My)},useDebugValue:KI,useDeferredValue:function(p){var m=co();return ln===null?m.memoizedState=p:U4(m,ln.memoizedState,p)},useTransition:function(){var p=YI(My)[0],m=co().memoizedState;return[p,m]},useMutableSource:T4,useSyncExternalStore:A4,useId:G4,unstable_isNewReconciler:!1};function Xo(p,m){if(p&&p.defaultProps){m=Z({},m),p=p.defaultProps;for(var w in p)m[w]===void 0&&(m[w]=p[w]);return m}return m}function ZI(p,m,w,T){m=p.memoizedState,w=w(T,m),w=w==null?m:Z({},m,w),p.memoizedState=w,p.lanes===0&&(p.updateQueue.baseState=w)}var h0={isMounted:function(p){return(p=p._reactInternals)?Kd(p)===p:!1},enqueueSetState:function(p,m,w){p=p._reactInternals;var T=Rs(),E=bu(p),R=Kl(T,E);R.payload=m,w!=null&&(R.callback=w),m=mu(p,R,E),m!==null&&(er(m,p,E,T),s0(m,p,E))},enqueueReplaceState:function(p,m,w){p=p._reactInternals;var T=Rs(),E=bu(p),R=Kl(T,E);R.tag=1,R.payload=m,w!=null&&(R.callback=w),m=mu(p,R,E),m!==null&&(er(m,p,E,T),s0(m,p,E))},enqueueForceUpdate:function(p,m){p=p._reactInternals;var w=Rs(),T=bu(p),E=Kl(w,T);E.tag=2,m!=null&&(E.callback=m),m=mu(p,E,T),m!==null&&(er(m,p,T,w),s0(m,p,T))}};function $4(p,m,w,T,E,R,U){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(T,R,U):m.prototype&&m.prototype.isPureReactComponent?!dy(w,T)||!dy(E,R):!0}function K4(p,m,w){var T=!1,E=hu,R=m.contextType;return typeof R=="object"&&R!==null?R=lo(R):(E=na(m)?qd:ss.current,T=m.contextTypes,R=(T=T!=null)?rf(p,E):hu),m=new m(w,R),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=h0,p.stateNode=m,m._reactInternals=p,T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=E,p.__reactInternalMemoizedMaskedChildContext=R),m}function Z4(p,m,w,T){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,T),m.state!==p&&h0.enqueueReplaceState(m,m.state,null)}function qI(p,m,w,T){var E=p.stateNode;E.props=w,E.state=p.memoizedState,E.refs={},PI(p);var R=m.contextType;typeof R=="object"&&R!==null?E.context=lo(R):(R=na(m)?qd:ss.current,E.context=rf(p,R)),E.state=p.memoizedState,R=m.getDerivedStateFromProps,typeof R=="function"&&(ZI(p,m,R,w),E.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(m=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),m!==E.state&&h0.enqueueReplaceState(E,E.state,null),a0(p,w,E,T),E.state=p.memoizedState),typeof E.componentDidMount=="function"&&(p.flags|=4194308)}function mf(p,m){try{var w="",T=m;do w+=ue(T),T=T.return;while(T);var E=w}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:p,source:m,stack:E,digest:null}}function XI(p,m,w){return{value:p,source:null,stack:w??null,digest:m??null}}function QI(p,m){try{console.error(m.value)}catch(w){setTimeout(function(){throw w})}}var Cee=typeof WeakMap=="function"?WeakMap:Map;function q4(p,m,w){w=Kl(-1,w),w.tag=3,w.payload={element:null};var T=m.value;return w.callback=function(){b0||(b0=!0,pT=T),QI(p,m)},w}function X4(p,m,w){w=Kl(-1,w),w.tag=3;var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var E=m.value;w.payload=function(){return T(E)},w.callback=function(){QI(p,m)}}var R=p.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(w.callback=function(){QI(p,m),typeof T!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})}),w}function Q4(p,m,w){var T=p.pingCache;if(T===null){T=p.pingCache=new Cee;var E=new Set;T.set(m,E)}else E=T.get(m),E===void 0&&(E=new Set,T.set(m,E));E.has(w)||(E.add(w),p=Gee.bind(null,p,m,w),m.then(p,p))}function J4(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function e3(p,m,w,T,E){return(p.mode&1)===0?(p===m?p.flags|=65536:(p.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(m=Kl(-1,1),m.tag=2,mu(w,m,1))),w.lanes|=1),p):(p.flags|=65536,p.lanes=E,p)}var Dee=M.ReactCurrentOwner,sa=!1;function js(p,m,w,T){m.child=p===null?v4(m,null,w,T):df(m,p.child,w,T)}function t3(p,m,w,T,E){w=w.render;var R=m.ref;return pf(m,E),T=GI(p,m,w,T,R,E),w=WI(),p!==null&&!sa?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~E,Zl(p,m,E)):(ui&&w&&TI(m),m.flags|=1,js(p,m,T,E),m.child)}function i3(p,m,w,T,E){if(p===null){var R=w.type;return typeof R=="function"&&!vT(R)&&R.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(m.tag=15,m.type=R,n3(p,m,R,T,E)):(p=I0(w.type,null,T,m,m.mode,E),p.ref=m.ref,p.return=m,m.child=p)}if(R=p.child,(p.lanes&E)===0){var U=R.memoizedProps;if(w=w.compare,w=w!==null?w:dy,w(U,T)&&p.ref===m.ref)return Zl(p,m,E)}return m.flags|=1,p=wu(R,T),p.ref=m.ref,p.return=m,m.child=p}function n3(p,m,w,T,E){if(p!==null){var R=p.memoizedProps;if(dy(R,T)&&p.ref===m.ref)if(sa=!1,m.pendingProps=T=R,(p.lanes&E)!==0)(p.flags&131072)!==0&&(sa=!0);else return m.lanes=p.lanes,Zl(p,m,E)}return JI(p,m,w,T,E)}function s3(p,m,w){var T=m.pendingProps,E=T.children,R=p!==null?p.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},ti(yf,Ra),Ra|=w;else{if((w&1073741824)===0)return p=R!==null?R.baseLanes|w:w,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null,transitions:null},m.updateQueue=null,ti(yf,Ra),Ra|=p,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=R!==null?R.baseLanes:w,ti(yf,Ra),Ra|=T}else R!==null?(T=R.baseLanes|w,m.memoizedState=null):T=w,ti(yf,Ra),Ra|=T;return js(p,m,E,w),m.child}function a3(p,m){var w=m.ref;(p===null&&w!==null||p!==null&&p.ref!==w)&&(m.flags|=512,m.flags|=2097152)}function JI(p,m,w,T,E){var R=na(w)?qd:ss.current;return R=rf(m,R),pf(m,E),w=GI(p,m,w,T,R,E),T=WI(),p!==null&&!sa?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~E,Zl(p,m,E)):(ui&&T&&TI(m),m.flags|=1,js(p,m,w,E),m.child)}function o3(p,m,w,T,E){if(na(w)){var R=!0;qv(m)}else R=!1;if(pf(m,E),m.stateNode===null)f0(p,m),K4(m,w,T),qI(m,w,T,E),T=!0;else if(p===null){var U=m.stateNode,J=m.memoizedProps;U.props=J;var ie=U.context,pe=w.contextType;typeof pe=="object"&&pe!==null?pe=lo(pe):(pe=na(w)?qd:ss.current,pe=rf(m,pe));var Ne=w.getDerivedStateFromProps,Te=typeof Ne=="function"||typeof U.getSnapshotBeforeUpdate=="function";Te||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==T||ie!==pe)&&Z4(m,U,T,pe),fu=!1;var Se=m.memoizedState;U.state=Se,a0(m,T,U,E),ie=m.memoizedState,J!==T||Se!==ie||ia.current||fu?(typeof Ne=="function"&&(ZI(m,w,Ne,T),ie=m.memoizedState),(J=fu||$4(m,w,J,T,Se,ie,pe))?(Te||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(m.flags|=4194308)):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=ie),U.props=T,U.state=ie,U.context=pe,T=J):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{U=m.stateNode,S4(p,m),J=m.memoizedProps,pe=m.type===m.elementType?J:Xo(m.type,J),U.props=pe,Te=m.pendingProps,Se=U.context,ie=w.contextType,typeof ie=="object"&&ie!==null?ie=lo(ie):(ie=na(w)?qd:ss.current,ie=rf(m,ie));var Re=w.getDerivedStateFromProps;(Ne=typeof Re=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J!==Te||Se!==ie)&&Z4(m,U,T,ie),fu=!1,Se=m.memoizedState,U.state=Se,a0(m,T,U,E);var Ge=m.memoizedState;J!==Te||Se!==Ge||ia.current||fu?(typeof Re=="function"&&(ZI(m,w,Re,T),Ge=m.memoizedState),(pe=fu||$4(m,w,pe,T,Se,Ge,ie)||!1)?(Ne||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(T,Ge,ie),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(T,Ge,ie)),typeof U.componentDidUpdate=="function"&&(m.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof U.componentDidUpdate!="function"||J===p.memoizedProps&&Se===p.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===p.memoizedProps&&Se===p.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=Ge),U.props=T,U.state=Ge,U.context=ie,T=pe):(typeof U.componentDidUpdate!="function"||J===p.memoizedProps&&Se===p.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||J===p.memoizedProps&&Se===p.memoizedState||(m.flags|=1024),T=!1)}return eT(p,m,w,T,R,E)}function eT(p,m,w,T,E,R){a3(p,m);var U=(m.flags&128)!==0;if(!T&&!U)return E&&d4(m,w,!1),Zl(p,m,R);T=m.stateNode,Dee.current=m;var J=U&&typeof w.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,p!==null&&U?(m.child=df(m,p.child,null,R),m.child=df(m,null,J,R)):js(p,m,J,R),m.memoizedState=T.state,E&&d4(m,w,!0),m.child}function r3(p){var m=p.stateNode;m.pendingContext?c4(p,m.pendingContext,m.pendingContext!==m.context):m.context&&c4(p,m.context,!1),zI(p,m.containerInfo)}function l3(p,m,w,T,E){return uf(),DI(E),m.flags|=256,js(p,m,w,T),m.child}var tT={dehydrated:null,treeContext:null,retryLane:0};function iT(p){return{baseLanes:p,cachePool:null,transitions:null}}function c3(p,m,w){var T=m.pendingProps,E=bi.current,R=!1,U=(m.flags&128)!==0,J;if((J=U)||(J=p!==null&&p.memoizedState===null?!1:(E&2)!==0),J?(R=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(E|=1),ti(bi,E&1),p===null)return CI(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((m.mode&1)===0?m.lanes=1:p.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(U=T.children,p=T.fallback,R?(T=m.mode,R=m.child,U={mode:"hidden",children:U},(T&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=U):R=T0(U,T,0,null),p=oh(p,T,w,null),R.return=m,p.return=m,R.sibling=p,m.child=R,m.child.memoizedState=iT(w),m.memoizedState=tT,p):nT(m,U));if(E=p.memoizedState,E!==null&&(J=E.dehydrated,J!==null))return Lee(p,m,U,T,J,E,w);if(R){R=T.fallback,U=m.mode,E=p.child,J=E.sibling;var ie={mode:"hidden",children:T.children};return(U&1)===0&&m.child!==E?(T=m.child,T.childLanes=0,T.pendingProps=ie,m.deletions=null):(T=wu(E,ie),T.subtreeFlags=E.subtreeFlags&14680064),J!==null?R=wu(J,R):(R=oh(R,U,w,null),R.flags|=2),R.return=m,T.return=m,T.sibling=R,m.child=T,T=R,R=m.child,U=p.child.memoizedState,U=U===null?iT(w):{baseLanes:U.baseLanes|w,cachePool:null,transitions:U.transitions},R.memoizedState=U,R.childLanes=p.childLanes&~w,m.memoizedState=tT,T}return R=p.child,p=R.sibling,T=wu(R,{mode:"visible",children:T.children}),(m.mode&1)===0&&(T.lanes=w),T.return=m,T.sibling=null,p!==null&&(w=m.deletions,w===null?(m.deletions=[p],m.flags|=16):w.push(p)),m.child=T,m.memoizedState=null,T}function nT(p,m){return m=T0({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function p0(p,m,w,T){return T!==null&&DI(T),df(m,p.child,null,w),p=nT(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function Lee(p,m,w,T,E,R,U){if(w)return m.flags&256?(m.flags&=-257,T=XI(Error(i(422))),p0(p,m,U,T)):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(R=T.fallback,E=m.mode,T=T0({mode:"visible",children:T.children},E,0,null),R=oh(R,E,U,null),R.flags|=2,T.return=m,R.return=m,T.sibling=R,m.child=T,(m.mode&1)!==0&&df(m,p.child,null,U),m.child.memoizedState=iT(U),m.memoizedState=tT,R);if((m.mode&1)===0)return p0(p,m,U,null);if(E.data==="$!"){if(T=E.nextSibling&&E.nextSibling.dataset,T)var J=T.dgst;return T=J,R=Error(i(419)),T=XI(R,T,void 0),p0(p,m,U,T)}if(J=(U&p.childLanes)!==0,sa||J){if(T=Mn,T!==null){switch(U&-U){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(T.suspendedLanes|U))!==0?0:E,E!==0&&E!==R.retryLane&&(R.retryLane=E,$l(p,E),er(T,p,E,-1))}return bT(),T=XI(Error(i(421))),p0(p,m,U,T)}return E.data==="$?"?(m.flags|=128,m.child=p.child,m=Wee.bind(null,p),E._reactRetry=m,null):(p=R.treeContext,ja=uu(E.nextSibling),Oa=m,ui=!0,qo=null,p!==null&&(oo[ro++]=Hl,oo[ro++]=Yl,oo[ro++]=Xd,Hl=p.id,Yl=p.overflow,Xd=m),m=nT(m,T.children),m.flags|=4096,m)}function u3(p,m,w){p.lanes|=m;var T=p.alternate;T!==null&&(T.lanes|=m),jI(p.return,m,w)}function sT(p,m,w,T,E){var R=p.memoizedState;R===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:w,tailMode:E}:(R.isBackwards=m,R.rendering=null,R.renderingStartTime=0,R.last=T,R.tail=w,R.tailMode=E)}function d3(p,m,w){var T=m.pendingProps,E=T.revealOrder,R=T.tail;if(js(p,m,T.children,w),T=bi.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&u3(p,w,m);else if(p.tag===19)u3(p,w,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}T&=1}if(ti(bi,T),(m.mode&1)===0)m.memoizedState=null;else switch(E){case"forwards":for(w=m.child,E=null;w!==null;)p=w.alternate,p!==null&&o0(p)===null&&(E=w),w=w.sibling;w=E,w===null?(E=m.child,m.child=null):(E=w.sibling,w.sibling=null),sT(m,!1,E,w,R);break;case"backwards":for(w=null,E=m.child,m.child=null;E!==null;){if(p=E.alternate,p!==null&&o0(p)===null){m.child=E;break}p=E.sibling,E.sibling=w,w=E,E=p}sT(m,!0,w,null,R);break;case"together":sT(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function f0(p,m){(m.mode&1)===0&&p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2)}function Zl(p,m,w){if(p!==null&&(m.dependencies=p.dependencies),ih|=m.lanes,(w&m.childLanes)===0)return null;if(p!==null&&m.child!==p.child)throw Error(i(153));if(m.child!==null){for(p=m.child,w=wu(p,p.pendingProps),m.child=w,w.return=m;p.sibling!==null;)p=p.sibling,w=w.sibling=wu(p,p.pendingProps),w.return=m;w.sibling=null}return m.child}function Eee(p,m,w){switch(m.tag){case 3:r3(m),uf();break;case 5:I4(m);break;case 1:na(m.type)&&qv(m);break;case 4:zI(m,m.stateNode.containerInfo);break;case 10:var T=m.type._context,E=m.memoizedProps.value;ti(i0,T._currentValue),T._currentValue=E;break;case 13:if(T=m.memoizedState,T!==null)return T.dehydrated!==null?(ti(bi,bi.current&1),m.flags|=128,null):(w&m.child.childLanes)!==0?c3(p,m,w):(ti(bi,bi.current&1),p=Zl(p,m,w),p!==null?p.sibling:null);ti(bi,bi.current&1);break;case 19:if(T=(w&m.childLanes)!==0,(p.flags&128)!==0){if(T)return d3(p,m,w);m.flags|=128}if(E=m.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ti(bi,bi.current),T)break;return null;case 22:case 23:return m.lanes=0,s3(p,m,w)}return Zl(p,m,w)}var h3,aT,p3,f3;h3=function(p,m){for(var w=m.child;w!==null;){if(w.tag===5||w.tag===6)p.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},aT=function(){},p3=function(p,m,w,T){var E=p.memoizedProps;if(E!==T){p=m.stateNode,eh(Wr.current);var R=null;switch(w){case"input":E=_e(p,E),T=_e(p,T),R=[];break;case"select":E=Z({},E,{value:void 0}),T=Z({},T,{value:void 0}),R=[];break;case"textarea":E=Mt(p,E),T=Mt(p,T),R=[];break;default:typeof E.onClick!="function"&&typeof T.onClick=="function"&&(p.onclick=$v)}Wg(w,T);var U;w=null;for(pe in E)if(!T.hasOwnProperty(pe)&&E.hasOwnProperty(pe)&&E[pe]!=null)if(pe==="style"){var J=E[pe];for(U in J)J.hasOwnProperty(U)&&(w||(w={}),w[U]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(s.hasOwnProperty(pe)?R||(R=[]):(R=R||[]).push(pe,null));for(pe in T){var ie=T[pe];if(J=E!=null?E[pe]:void 0,T.hasOwnProperty(pe)&&ie!==J&&(ie!=null||J!=null))if(pe==="style")if(J){for(U in J)!J.hasOwnProperty(U)||ie&&ie.hasOwnProperty(U)||(w||(w={}),w[U]="");for(U in ie)ie.hasOwnProperty(U)&&J[U]!==ie[U]&&(w||(w={}),w[U]=ie[U])}else w||(R||(R=[]),R.push(pe,w)),w=ie;else pe==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,J=J?J.__html:void 0,ie!=null&&J!==ie&&(R=R||[]).push(pe,ie)):pe==="children"?typeof ie!="string"&&typeof ie!="number"||(R=R||[]).push(pe,""+ie):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(s.hasOwnProperty(pe)?(ie!=null&&pe==="onScroll"&&ii("scroll",p),R||J===ie||(R=[])):(R=R||[]).push(pe,ie))}w&&(R=R||[]).push("style",w);var pe=R;(m.updateQueue=pe)&&(m.flags|=4)}},f3=function(p,m,w,T){w!==T&&(m.flags|=4)};function Ty(p,m){if(!ui)switch(p.tailMode){case"hidden":m=p.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?p.tail=null:w.sibling=null;break;case"collapsed":w=p.tail;for(var T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:T.sibling=null}}function os(p){var m=p.alternate!==null&&p.alternate.child===p.child,w=0,T=0;if(m)for(var E=p.child;E!==null;)w|=E.lanes|E.childLanes,T|=E.subtreeFlags&14680064,T|=E.flags&14680064,E.return=p,E=E.sibling;else for(E=p.child;E!==null;)w|=E.lanes|E.childLanes,T|=E.subtreeFlags,T|=E.flags,E.return=p,E=E.sibling;return p.subtreeFlags|=T,p.childLanes=w,m}function Oee(p,m,w){var T=m.pendingProps;switch(AI(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return os(m),null;case 1:return na(m.type)&&Zv(),os(m),null;case 3:return T=m.stateNode,ff(),ni(ia),ni(ss),BI(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(p===null||p.child===null)&&(e0(m)?m.flags|=4:p===null||p.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,qo!==null&&(gT(qo),qo=null))),aT(p,m),os(m),null;case 5:_I(m);var E=eh(wy.current);if(w=m.type,p!==null&&m.stateNode!=null)p3(p,m,w,T,E),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(i(166));return os(m),null}if(p=eh(Wr.current),e0(m)){T=m.stateNode,w=m.type;var R=m.memoizedProps;switch(T[Gr]=m,T[gy]=R,p=(m.mode&1)!==0,w){case"dialog":ii("cancel",T),ii("close",T);break;case"iframe":case"object":case"embed":ii("load",T);break;case"video":case"audio":for(E=0;E<py.length;E++)ii(py[E],T);break;case"source":ii("error",T);break;case"img":case"image":case"link":ii("error",T),ii("load",T);break;case"details":ii("toggle",T);break;case"input":Le(T,R),ii("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!R.multiple},ii("invalid",T);break;case"textarea":xi(T,R),ii("invalid",T)}Wg(w,R),E=null;for(var U in R)if(R.hasOwnProperty(U)){var J=R[U];U==="children"?typeof J=="string"?T.textContent!==J&&(R.suppressHydrationWarning!==!0&&Yv(T.textContent,J,p),E=["children",J]):typeof J=="number"&&T.textContent!==""+J&&(R.suppressHydrationWarning!==!0&&Yv(T.textContent,J,p),E=["children",""+J]):s.hasOwnProperty(U)&&J!=null&&U==="onScroll"&&ii("scroll",T)}switch(w){case"input":be(T),He(T,R,!0);break;case"textarea":be(T),Vn(T);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(T.onclick=$v)}T=E,m.updateQueue=T,T!==null&&(m.flags|=4)}else{U=E.nodeType===9?E:E.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=_l(w)),p==="http://www.w3.org/1999/xhtml"?w==="script"?(p=U.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof T.is=="string"?p=U.createElement(w,{is:T.is}):(p=U.createElement(w),w==="select"&&(U=p,T.multiple?U.multiple=!0:T.size&&(U.size=T.size))):p=U.createElementNS(p,w),p[Gr]=m,p[gy]=T,h3(p,m,!1,!1),m.stateNode=p;e:{switch(U=Hg(w,T),w){case"dialog":ii("cancel",p),ii("close",p),E=T;break;case"iframe":case"object":case"embed":ii("load",p),E=T;break;case"video":case"audio":for(E=0;E<py.length;E++)ii(py[E],p);E=T;break;case"source":ii("error",p),E=T;break;case"img":case"image":case"link":ii("error",p),ii("load",p),E=T;break;case"details":ii("toggle",p),E=T;break;case"input":Le(p,T),E=_e(p,T),ii("invalid",p);break;case"option":E=T;break;case"select":p._wrapperState={wasMultiple:!!T.multiple},E=Z({},T,{value:void 0}),ii("invalid",p);break;case"textarea":xi(p,T),E=Mt(p,T),ii("invalid",p);break;default:E=T}Wg(w,E),J=E;for(R in J)if(J.hasOwnProperty(R)){var ie=J[R];R==="style"?Nv(p,ie):R==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&Fl(p,ie)):R==="children"?typeof ie=="string"?(w!=="textarea"||ie!=="")&&ao(p,ie):typeof ie=="number"&&ao(p,""+ie):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(s.hasOwnProperty(R)?ie!=null&&R==="onScroll"&&ii("scroll",p):ie!=null&&N(p,R,ie,U))}switch(w){case"input":be(p),He(p,T,!1);break;case"textarea":be(p),Vn(p);break;case"option":T.value!=null&&p.setAttribute("value",""+he(T.value));break;case"select":p.multiple=!!T.multiple,R=T.value,R!=null?Je(p,!!T.multiple,R,!1):T.defaultValue!=null&&Je(p,!!T.multiple,T.defaultValue,!0);break;default:typeof E.onClick=="function"&&(p.onclick=$v)}switch(w){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return os(m),null;case 6:if(p&&m.stateNode!=null)f3(p,m,p.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(i(166));if(w=eh(wy.current),eh(Wr.current),e0(m)){if(T=m.stateNode,w=m.memoizedProps,T[Gr]=m,(R=T.nodeValue!==w)&&(p=Oa,p!==null))switch(p.tag){case 3:Yv(T.nodeValue,w,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Yv(T.nodeValue,w,(p.mode&1)!==0)}R&&(m.flags|=4)}else T=(w.nodeType===9?w:w.ownerDocument).createTextNode(T),T[Gr]=m,m.stateNode=T}return os(m),null;case 13:if(ni(bi),T=m.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ui&&ja!==null&&(m.mode&1)!==0&&(m.flags&128)===0)y4(),uf(),m.flags|=98560,R=!1;else if(R=e0(m),T!==null&&T.dehydrated!==null){if(p===null){if(!R)throw Error(i(318));if(R=m.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));R[Gr]=m}else uf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;os(m),R=!1}else qo!==null&&(gT(qo),qo=null),R=!0;if(!R)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=w,m):(T=T!==null,T!==(p!==null&&p.memoizedState!==null)&&T&&(m.child.flags|=8192,(m.mode&1)!==0&&(p===null||(bi.current&1)!==0?cn===0&&(cn=3):bT())),m.updateQueue!==null&&(m.flags|=4),os(m),null);case 4:return ff(),aT(p,m),p===null&&fy(m.stateNode.containerInfo),os(m),null;case 10:return OI(m.type._context),os(m),null;case 17:return na(m.type)&&Zv(),os(m),null;case 19:if(ni(bi),R=m.memoizedState,R===null)return os(m),null;if(T=(m.flags&128)!==0,U=R.rendering,U===null)if(T)Ty(R,!1);else{if(cn!==0||p!==null&&(p.flags&128)!==0)for(p=m.child;p!==null;){if(U=o0(p),U!==null){for(m.flags|=128,Ty(R,!1),T=U.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),m.subtreeFlags=0,T=w,w=m.child;w!==null;)R=w,p=T,R.flags&=14680066,U=R.alternate,U===null?(R.childLanes=0,R.lanes=p,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=U.childLanes,R.lanes=U.lanes,R.child=U.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=U.memoizedProps,R.memoizedState=U.memoizedState,R.updateQueue=U.updateQueue,R.type=U.type,p=U.dependencies,R.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),w=w.sibling;return ti(bi,bi.current&1|2),m.child}p=p.sibling}R.tail!==null&&_i()>xf&&(m.flags|=128,T=!0,Ty(R,!1),m.lanes=4194304)}else{if(!T)if(p=o0(U),p!==null){if(m.flags|=128,T=!0,w=p.updateQueue,w!==null&&(m.updateQueue=w,m.flags|=4),Ty(R,!0),R.tail===null&&R.tailMode==="hidden"&&!U.alternate&&!ui)return os(m),null}else 2*_i()-R.renderingStartTime>xf&&w!==1073741824&&(m.flags|=128,T=!0,Ty(R,!1),m.lanes=4194304);R.isBackwards?(U.sibling=m.child,m.child=U):(w=R.last,w!==null?w.sibling=U:m.child=U,R.last=U)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=_i(),m.sibling=null,w=bi.current,ti(bi,T?w&1|2:w&1),m):(os(m),null);case 22:case 23:return xT(),T=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(Ra&1073741824)!==0&&(os(m),m.subtreeFlags&6&&(m.flags|=8192)):os(m),null;case 24:return null;case 25:return null}throw Error(i(156,m.tag))}function jee(p,m){switch(AI(m),m.tag){case 1:return na(m.type)&&Zv(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return ff(),ni(ia),ni(ss),BI(),p=m.flags,(p&65536)!==0&&(p&128)===0?(m.flags=p&-65537|128,m):null;case 5:return _I(m),null;case 13:if(ni(bi),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(i(340));uf()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return ni(bi),null;case 4:return ff(),null;case 10:return OI(m.type._context),null;case 22:case 23:return xT(),null;case 24:return null;default:return null}}var m0=!1,rs=!1,Ree=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function gf(p,m){var w=p.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(T){Ei(p,m,T)}else w.current=null}function oT(p,m,w){try{w()}catch(T){Ei(p,m,T)}}var m3=!1;function Pee(p,m){if(xI=Rv,p=$P(),uI(p)){if("selectionStart"in p)var w={start:p.selectionStart,end:p.selectionEnd};else e:{w=(w=p.ownerDocument)&&w.defaultView||window;var T=w.getSelection&&w.getSelection();if(T&&T.rangeCount!==0){w=T.anchorNode;var E=T.anchorOffset,R=T.focusNode;T=T.focusOffset;try{w.nodeType,R.nodeType}catch{w=null;break e}var U=0,J=-1,ie=-1,pe=0,Ne=0,Te=p,Se=null;t:for(;;){for(var Re;Te!==w||E!==0&&Te.nodeType!==3||(J=U+E),Te!==R||T!==0&&Te.nodeType!==3||(ie=U+T),Te.nodeType===3&&(U+=Te.nodeValue.length),(Re=Te.firstChild)!==null;)Se=Te,Te=Re;for(;;){if(Te===p)break t;if(Se===w&&++pe===E&&(J=U),Se===R&&++Ne===T&&(ie=U),(Re=Te.nextSibling)!==null)break;Te=Se,Se=Te.parentNode}Te=Re}w=J===-1||ie===-1?null:{start:J,end:ie}}else w=null}w=w||{start:0,end:0}}else w=null;for(bI={focusedElem:p,selectionRange:w},Rv=!1,Ue=m;Ue!==null;)if(m=Ue,p=m.child,(m.subtreeFlags&1028)!==0&&p!==null)p.return=m,Ue=p;else for(;Ue!==null;){m=Ue;try{var Ge=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var We=Ge.memoizedProps,Fi=Ge.memoizedState,re=m.stateNode,ne=re.getSnapshotBeforeUpdate(m.elementType===m.type?We:Xo(m.type,We),Fi);re.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ce=m.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ke){Ei(m,m.return,ke)}if(p=m.sibling,p!==null){p.return=m.return,Ue=p;break}Ue=m.return}return Ge=m3,m3=!1,Ge}function Ay(p,m,w){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var E=T=T.next;do{if((E.tag&p)===p){var R=E.destroy;E.destroy=void 0,R!==void 0&&oT(m,w,R)}E=E.next}while(E!==T)}}function g0(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&p)===p){var T=w.create;w.destroy=T()}w=w.next}while(w!==m)}}function rT(p){var m=p.ref;if(m!==null){var w=p.stateNode;switch(p.tag){case 5:p=w;break;default:p=w}typeof m=="function"?m(p):m.current=p}}function g3(p){var m=p.alternate;m!==null&&(p.alternate=null,g3(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&(delete m[Gr],delete m[gy],delete m[NI],delete m[xee],delete m[bee])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function y3(p){return p.tag===5||p.tag===3||p.tag===4}function x3(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||y3(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function lT(p,m,w){var T=p.tag;if(T===5||T===6)p=p.stateNode,m?w.nodeType===8?w.parentNode.insertBefore(p,m):w.insertBefore(p,m):(w.nodeType===8?(m=w.parentNode,m.insertBefore(p,w)):(m=w,m.appendChild(p)),w=w._reactRootContainer,w!=null||m.onclick!==null||(m.onclick=$v));else if(T!==4&&(p=p.child,p!==null))for(lT(p,m,w),p=p.sibling;p!==null;)lT(p,m,w),p=p.sibling}function cT(p,m,w){var T=p.tag;if(T===5||T===6)p=p.stateNode,m?w.insertBefore(p,m):w.appendChild(p);else if(T!==4&&(p=p.child,p!==null))for(cT(p,m,w),p=p.sibling;p!==null;)cT(p,m,w),p=p.sibling}var Un=null,Qo=!1;function gu(p,m,w){for(w=w.child;w!==null;)b3(p,m,w),w=w.sibling}function b3(p,m,w){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Cv,w)}catch{}switch(w.tag){case 5:rs||gf(w,m);case 6:var T=Un,E=Qo;Un=null,gu(p,m,w),Un=T,Qo=E,Un!==null&&(Qo?(p=Un,w=w.stateNode,p.nodeType===8?p.parentNode.removeChild(w):p.removeChild(w)):Un.removeChild(w.stateNode));break;case 18:Un!==null&&(Qo?(p=Un,w=w.stateNode,p.nodeType===8?SI(p.parentNode,w):p.nodeType===1&&SI(p,w),ay(p)):SI(Un,w.stateNode));break;case 4:T=Un,E=Qo,Un=w.stateNode.containerInfo,Qo=!0,gu(p,m,w),Un=T,Qo=E;break;case 0:case 11:case 14:case 15:if(!rs&&(T=w.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){E=T=T.next;do{var R=E,U=R.destroy;R=R.tag,U!==void 0&&((R&2)!==0||(R&4)!==0)&&oT(w,m,U),E=E.next}while(E!==T)}gu(p,m,w);break;case 1:if(!rs&&(gf(w,m),T=w.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=w.memoizedProps,T.state=w.memoizedState,T.componentWillUnmount()}catch(J){Ei(w,m,J)}gu(p,m,w);break;case 21:gu(p,m,w);break;case 22:w.mode&1?(rs=(T=rs)||w.memoizedState!==null,gu(p,m,w),rs=T):gu(p,m,w);break;default:gu(p,m,w)}}function v3(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var w=p.stateNode;w===null&&(w=p.stateNode=new Ree),m.forEach(function(T){var E=Hee.bind(null,p,T);w.has(T)||(w.add(T),T.then(E,E))})}}function Jo(p,m){var w=m.deletions;if(w!==null)for(var T=0;T<w.length;T++){var E=w[T];try{var R=p,U=m,J=U;e:for(;J!==null;){switch(J.tag){case 5:Un=J.stateNode,Qo=!1;break e;case 3:Un=J.stateNode.containerInfo,Qo=!0;break e;case 4:Un=J.stateNode.containerInfo,Qo=!0;break e}J=J.return}if(Un===null)throw Error(i(160));b3(R,U,E),Un=null,Qo=!1;var ie=E.alternate;ie!==null&&(ie.return=null),E.return=null}catch(pe){Ei(E,m,pe)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)w3(m,p),m=m.sibling}function w3(p,m){var w=p.alternate,T=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Jo(m,p),Yr(p),T&4){try{Ay(3,p,p.return),g0(3,p)}catch(We){Ei(p,p.return,We)}try{Ay(5,p,p.return)}catch(We){Ei(p,p.return,We)}}break;case 1:Jo(m,p),Yr(p),T&512&&w!==null&&gf(w,w.return);break;case 5:if(Jo(m,p),Yr(p),T&512&&w!==null&&gf(w,w.return),p.flags&32){var E=p.stateNode;try{ao(E,"")}catch(We){Ei(p,p.return,We)}}if(T&4&&(E=p.stateNode,E!=null)){var R=p.memoizedProps,U=w!==null?w.memoizedProps:R,J=p.type,ie=p.updateQueue;if(p.updateQueue=null,ie!==null)try{J==="input"&&R.type==="radio"&&R.name!=null&&Ke(E,R),Hg(J,U);var pe=Hg(J,R);for(U=0;U<ie.length;U+=2){var Ne=ie[U],Te=ie[U+1];Ne==="style"?Nv(E,Te):Ne==="dangerouslySetInnerHTML"?Fl(E,Te):Ne==="children"?ao(E,Te):N(E,Ne,Te,pe)}switch(J){case"input":$e(E,R);break;case"textarea":Li(E,R);break;case"select":var Se=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!R.multiple;var Re=R.value;Re!=null?Je(E,!!R.multiple,Re,!1):Se!==!!R.multiple&&(R.defaultValue!=null?Je(E,!!R.multiple,R.defaultValue,!0):Je(E,!!R.multiple,R.multiple?[]:"",!1))}E[gy]=R}catch(We){Ei(p,p.return,We)}}break;case 6:if(Jo(m,p),Yr(p),T&4){if(p.stateNode===null)throw Error(i(162));E=p.stateNode,R=p.memoizedProps;try{E.nodeValue=R}catch(We){Ei(p,p.return,We)}}break;case 3:if(Jo(m,p),Yr(p),T&4&&w!==null&&w.memoizedState.isDehydrated)try{ay(m.containerInfo)}catch(We){Ei(p,p.return,We)}break;case 4:Jo(m,p),Yr(p);break;case 13:Jo(m,p),Yr(p),E=p.child,E.flags&8192&&(R=E.memoizedState!==null,E.stateNode.isHidden=R,!R||E.alternate!==null&&E.alternate.memoizedState!==null||(hT=_i())),T&4&&v3(p);break;case 22:if(Ne=w!==null&&w.memoizedState!==null,p.mode&1?(rs=(pe=rs)||Ne,Jo(m,p),rs=pe):Jo(m,p),Yr(p),T&8192){if(pe=p.memoizedState!==null,(p.stateNode.isHidden=pe)&&!Ne&&(p.mode&1)!==0)for(Ue=p,Ne=p.child;Ne!==null;){for(Te=Ue=Ne;Ue!==null;){switch(Se=Ue,Re=Se.child,Se.tag){case 0:case 11:case 14:case 15:Ay(4,Se,Se.return);break;case 1:gf(Se,Se.return);var Ge=Se.stateNode;if(typeof Ge.componentWillUnmount=="function"){T=Se,w=Se.return;try{m=T,Ge.props=m.memoizedProps,Ge.state=m.memoizedState,Ge.componentWillUnmount()}catch(We){Ei(T,w,We)}}break;case 5:gf(Se,Se.return);break;case 22:if(Se.memoizedState!==null){M3(Te);continue}}Re!==null?(Re.return=Se,Ue=Re):M3(Te)}Ne=Ne.sibling}e:for(Ne=null,Te=p;;){if(Te.tag===5){if(Ne===null){Ne=Te;try{E=Te.stateNode,pe?(R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(J=Te.stateNode,ie=Te.memoizedProps.style,U=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,J.style.display=$d("display",U))}catch(We){Ei(p,p.return,We)}}}else if(Te.tag===6){if(Ne===null)try{Te.stateNode.nodeValue=pe?"":Te.memoizedProps}catch(We){Ei(p,p.return,We)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===p)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===p)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===p)break e;Ne===Te&&(Ne=null),Te=Te.return}Ne===Te&&(Ne=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:Jo(m,p),Yr(p),T&4&&v3(p);break;case 21:break;default:Jo(m,p),Yr(p)}}function Yr(p){var m=p.flags;if(m&2){try{e:{for(var w=p.return;w!==null;){if(y3(w)){var T=w;break e}w=w.return}throw Error(i(160))}switch(T.tag){case 5:var E=T.stateNode;T.flags&32&&(ao(E,""),T.flags&=-33);var R=x3(p);cT(p,R,E);break;case 3:case 4:var U=T.stateNode.containerInfo,J=x3(p);lT(p,J,U);break;default:throw Error(i(161))}}catch(ie){Ei(p,p.return,ie)}p.flags&=-3}m&4096&&(p.flags&=-4097)}function zee(p,m,w){Ue=p,S3(p)}function S3(p,m,w){for(var T=(p.mode&1)!==0;Ue!==null;){var E=Ue,R=E.child;if(E.tag===22&&T){var U=E.memoizedState!==null||m0;if(!U){var J=E.alternate,ie=J!==null&&J.memoizedState!==null||rs;J=m0;var pe=rs;if(m0=U,(rs=ie)&&!pe)for(Ue=E;Ue!==null;)U=Ue,ie=U.child,U.tag===22&&U.memoizedState!==null?I3(E):ie!==null?(ie.return=U,Ue=ie):I3(E);for(;R!==null;)Ue=R,S3(R),R=R.sibling;Ue=E,m0=J,rs=pe}N3(p)}else(E.subtreeFlags&8772)!==0&&R!==null?(R.return=E,Ue=R):N3(p)}}function N3(p){for(;Ue!==null;){var m=Ue;if((m.flags&8772)!==0){var w=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:rs||g0(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!rs)if(w===null)T.componentDidMount();else{var E=m.elementType===m.type?w.memoizedProps:Xo(m.type,w.memoizedProps);T.componentDidUpdate(E,w.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var R=m.updateQueue;R!==null&&M4(m,R,T);break;case 3:var U=m.updateQueue;if(U!==null){if(w=null,m.child!==null)switch(m.child.tag){case 5:w=m.child.stateNode;break;case 1:w=m.child.stateNode}M4(m,U,w)}break;case 5:var J=m.stateNode;if(w===null&&m.flags&4){w=J;var ie=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&w.focus();break;case"img":ie.src&&(w.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var pe=m.alternate;if(pe!==null){var Ne=pe.memoizedState;if(Ne!==null){var Te=Ne.dehydrated;Te!==null&&ay(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}rs||m.flags&512&&rT(m)}catch(Se){Ei(m,m.return,Se)}}if(m===p){Ue=null;break}if(w=m.sibling,w!==null){w.return=m.return,Ue=w;break}Ue=m.return}}function M3(p){for(;Ue!==null;){var m=Ue;if(m===p){Ue=null;break}var w=m.sibling;if(w!==null){w.return=m.return,Ue=w;break}Ue=m.return}}function I3(p){for(;Ue!==null;){var m=Ue;try{switch(m.tag){case 0:case 11:case 15:var w=m.return;try{g0(4,m)}catch(ie){Ei(m,w,ie)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var E=m.return;try{T.componentDidMount()}catch(ie){Ei(m,E,ie)}}var R=m.return;try{rT(m)}catch(ie){Ei(m,R,ie)}break;case 5:var U=m.return;try{rT(m)}catch(ie){Ei(m,U,ie)}}}catch(ie){Ei(m,m.return,ie)}if(m===p){Ue=null;break}var J=m.sibling;if(J!==null){J.return=m.return,Ue=J;break}Ue=m.return}}var _ee=Math.ceil,y0=M.ReactCurrentDispatcher,uT=M.ReactCurrentOwner,uo=M.ReactCurrentBatchConfig,It=0,Mn=null,qi=null,Gn=0,Ra=0,yf=du(0),cn=0,ky=null,ih=0,x0=0,dT=0,Cy=null,aa=null,hT=0,xf=1/0,ql=null,b0=!1,pT=null,yu=null,v0=!1,xu=null,w0=0,Dy=0,fT=null,S0=-1,N0=0;function Rs(){return(It&6)!==0?_i():S0!==-1?S0:S0=_i()}function bu(p){return(p.mode&1)===0?1:(It&2)!==0&&Gn!==0?Gn&-Gn:wee.transition!==null?(N0===0&&(N0=xP()),N0):(p=Gt,p!==0||(p=window.event,p=p===void 0?16:AP(p.type)),p)}function er(p,m,w,T){if(50<Dy)throw Dy=0,fT=null,Error(i(185));ey(p,w,T),((It&2)===0||p!==Mn)&&(p===Mn&&((It&2)===0&&(x0|=w),cn===4&&vu(p,Gn)),oa(p,T),w===1&&It===0&&(m.mode&1)===0&&(xf=_i()+500,Xv&&pu()))}function oa(p,m){var w=p.callbackNode;wJ(p,m);var T=Ev(p,p===Mn?Gn:0);if(T===0)w!==null&&mP(w),p.callbackNode=null,p.callbackPriority=0;else if(m=T&-T,p.callbackPriority!==m){if(w!=null&&mP(w),m===1)p.tag===0?vee(A3.bind(null,p)):h4(A3.bind(null,p)),gee(function(){(It&6)===0&&pu()}),w=null;else{switch(bP(T)){case 1:w=$M;break;case 4:w=gP;break;case 16:w=kv;break;case 536870912:w=yP;break;default:w=kv}w=R3(w,T3.bind(null,p))}p.callbackPriority=m,p.callbackNode=w}}function T3(p,m){if(S0=-1,N0=0,(It&6)!==0)throw Error(i(327));var w=p.callbackNode;if(bf()&&p.callbackNode!==w)return null;var T=Ev(p,p===Mn?Gn:0);if(T===0)return null;if((T&30)!==0||(T&p.expiredLanes)!==0||m)m=M0(p,T);else{m=T;var E=It;It|=2;var R=C3();(Mn!==p||Gn!==m)&&(ql=null,xf=_i()+500,sh(p,m));do try{Vee();break}catch(J){k3(p,J)}while(!0);EI(),y0.current=R,It=E,qi!==null?m=0:(Mn=null,Gn=0,m=cn)}if(m!==0){if(m===2&&(E=KM(p),E!==0&&(T=E,m=mT(p,E))),m===1)throw w=ky,sh(p,0),vu(p,T),oa(p,_i()),w;if(m===6)vu(p,T);else{if(E=p.current.alternate,(T&30)===0&&!Fee(E)&&(m=M0(p,T),m===2&&(R=KM(p),R!==0&&(T=R,m=mT(p,R))),m===1))throw w=ky,sh(p,0),vu(p,T),oa(p,_i()),w;switch(p.finishedWork=E,p.finishedLanes=T,m){case 0:case 1:throw Error(i(345));case 2:ah(p,aa,ql);break;case 3:if(vu(p,T),(T&130023424)===T&&(m=hT+500-_i(),10<m)){if(Ev(p,0)!==0)break;if(E=p.suspendedLanes,(E&T)!==T){Rs(),p.pingedLanes|=p.suspendedLanes&E;break}p.timeoutHandle=wI(ah.bind(null,p,aa,ql),m);break}ah(p,aa,ql);break;case 4:if(vu(p,T),(T&4194240)===T)break;for(m=p.eventTimes,E=-1;0<T;){var U=31-Ko(T);R=1<<U,U=m[U],U>E&&(E=U),T&=~R}if(T=E,T=_i()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*_ee(T/1960))-T,10<T){p.timeoutHandle=wI(ah.bind(null,p,aa,ql),T);break}ah(p,aa,ql);break;case 5:ah(p,aa,ql);break;default:throw Error(i(329))}}}return oa(p,_i()),p.callbackNode===w?T3.bind(null,p):null}function mT(p,m){var w=Cy;return p.current.memoizedState.isDehydrated&&(sh(p,m).flags|=256),p=M0(p,m),p!==2&&(m=aa,aa=w,m!==null&&gT(m)),p}function gT(p){aa===null?aa=p:aa.push.apply(aa,p)}function Fee(p){for(var m=p;;){if(m.flags&16384){var w=m.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var T=0;T<w.length;T++){var E=w[T],R=E.getSnapshot;E=E.value;try{if(!Zo(R(),E))return!1}catch{return!1}}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function vu(p,m){for(m&=~dT,m&=~x0,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var w=31-Ko(m),T=1<<w;p[w]=-1,m&=~T}}function A3(p){if((It&6)!==0)throw Error(i(327));bf();var m=Ev(p,0);if((m&1)===0)return oa(p,_i()),null;var w=M0(p,m);if(p.tag!==0&&w===2){var T=KM(p);T!==0&&(m=T,w=mT(p,T))}if(w===1)throw w=ky,sh(p,0),vu(p,m),oa(p,_i()),w;if(w===6)throw Error(i(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,ah(p,aa,ql),oa(p,_i()),null}function yT(p,m){var w=It;It|=1;try{return p(m)}finally{It=w,It===0&&(xf=_i()+500,Xv&&pu())}}function nh(p){xu!==null&&xu.tag===0&&(It&6)===0&&bf();var m=It;It|=1;var w=uo.transition,T=Gt;try{if(uo.transition=null,Gt=1,p)return p()}finally{Gt=T,uo.transition=w,It=m,(It&6)===0&&pu()}}function xT(){Ra=yf.current,ni(yf)}function sh(p,m){p.finishedWork=null,p.finishedLanes=0;var w=p.timeoutHandle;if(w!==-1&&(p.timeoutHandle=-1,mee(w)),qi!==null)for(w=qi.return;w!==null;){var T=w;switch(AI(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Zv();break;case 3:ff(),ni(ia),ni(ss),BI();break;case 5:_I(T);break;case 4:ff();break;case 13:ni(bi);break;case 19:ni(bi);break;case 10:OI(T.type._context);break;case 22:case 23:xT()}w=w.return}if(Mn=p,qi=p=wu(p.current,null),Gn=Ra=m,cn=0,ky=null,dT=x0=ih=0,aa=Cy=null,Jd!==null){for(m=0;m<Jd.length;m++)if(w=Jd[m],T=w.interleaved,T!==null){w.interleaved=null;var E=T.next,R=w.pending;if(R!==null){var U=R.next;R.next=E,T.next=U}w.pending=T}Jd=null}return p}function k3(p,m){do{var w=qi;try{if(EI(),r0.current=d0,l0){for(var T=vi.memoizedState;T!==null;){var E=T.queue;E!==null&&(E.pending=null),T=T.next}l0=!1}if(th=0,Nn=ln=vi=null,Sy=!1,Ny=0,uT.current=null,w===null||w.return===null){cn=1,ky=m,qi=null;break}e:{var R=p,U=w.return,J=w,ie=m;if(m=Gn,J.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var pe=ie,Ne=J,Te=Ne.tag;if((Ne.mode&1)===0&&(Te===0||Te===11||Te===15)){var Se=Ne.alternate;Se?(Ne.updateQueue=Se.updateQueue,Ne.memoizedState=Se.memoizedState,Ne.lanes=Se.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var Re=J4(U);if(Re!==null){Re.flags&=-257,e3(Re,U,J,R,m),Re.mode&1&&Q4(R,pe,m),m=Re,ie=pe;var Ge=m.updateQueue;if(Ge===null){var We=new Set;We.add(ie),m.updateQueue=We}else Ge.add(ie);break e}else{if((m&1)===0){Q4(R,pe,m),bT();break e}ie=Error(i(426))}}else if(ui&&J.mode&1){var Fi=J4(U);if(Fi!==null){(Fi.flags&65536)===0&&(Fi.flags|=256),e3(Fi,U,J,R,m),DI(mf(ie,J));break e}}R=ie=mf(ie,J),cn!==4&&(cn=2),Cy===null?Cy=[R]:Cy.push(R),R=U;do{switch(R.tag){case 3:R.flags|=65536,m&=-m,R.lanes|=m;var re=q4(R,ie,m);N4(R,re);break e;case 1:J=ie;var ne=R.type,ce=R.stateNode;if((R.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(yu===null||!yu.has(ce)))){R.flags|=65536,m&=-m,R.lanes|=m;var ke=X4(R,J,m);N4(R,ke);break e}}R=R.return}while(R!==null)}L3(w)}catch(Ye){m=Ye,qi===w&&w!==null&&(qi=w=w.return);continue}break}while(!0)}function C3(){var p=y0.current;return y0.current=d0,p===null?d0:p}function bT(){(cn===0||cn===3||cn===2)&&(cn=4),Mn===null||(ih&268435455)===0&&(x0&268435455)===0||vu(Mn,Gn)}function M0(p,m){var w=It;It|=2;var T=C3();(Mn!==p||Gn!==m)&&(ql=null,sh(p,m));do try{Bee();break}catch(E){k3(p,E)}while(!0);if(EI(),It=w,y0.current=T,qi!==null)throw Error(i(261));return Mn=null,Gn=0,cn}function Bee(){for(;qi!==null;)D3(qi)}function Vee(){for(;qi!==null&&!hJ();)D3(qi)}function D3(p){var m=j3(p.alternate,p,Ra);p.memoizedProps=p.pendingProps,m===null?L3(p):qi=m,uT.current=null}function L3(p){var m=p;do{var w=m.alternate;if(p=m.return,(m.flags&32768)===0){if(w=Oee(w,m,Ra),w!==null){qi=w;return}}else{if(w=jee(w,m),w!==null){w.flags&=32767,qi=w;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{cn=6,qi=null;return}}if(m=m.sibling,m!==null){qi=m;return}qi=m=p}while(m!==null);cn===0&&(cn=5)}function ah(p,m,w){var T=Gt,E=uo.transition;try{uo.transition=null,Gt=1,Uee(p,m,w,T)}finally{uo.transition=E,Gt=T}return null}function Uee(p,m,w,T){do bf();while(xu!==null);if((It&6)!==0)throw Error(i(327));w=p.finishedWork;var E=p.finishedLanes;if(w===null)return null;if(p.finishedWork=null,p.finishedLanes=0,w===p.current)throw Error(i(177));p.callbackNode=null,p.callbackPriority=0;var R=w.lanes|w.childLanes;if(SJ(p,R),p===Mn&&(qi=Mn=null,Gn=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||v0||(v0=!0,R3(kv,function(){return bf(),null})),R=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||R){R=uo.transition,uo.transition=null;var U=Gt;Gt=1;var J=It;It|=4,uT.current=null,Pee(p,w),w3(w,p),lee(bI),Rv=!!xI,bI=xI=null,p.current=w,zee(w),pJ(),It=J,Gt=U,uo.transition=R}else p.current=w;if(v0&&(v0=!1,xu=p,w0=E),R=p.pendingLanes,R===0&&(yu=null),gJ(w.stateNode),oa(p,_i()),m!==null)for(T=p.onRecoverableError,w=0;w<m.length;w++)E=m[w],T(E.value,{componentStack:E.stack,digest:E.digest});if(b0)throw b0=!1,p=pT,pT=null,p;return(w0&1)!==0&&p.tag!==0&&bf(),R=p.pendingLanes,(R&1)!==0?p===fT?Dy++:(Dy=0,fT=p):Dy=0,pu(),null}function bf(){if(xu!==null){var p=bP(w0),m=uo.transition,w=Gt;try{if(uo.transition=null,Gt=16>p?16:p,xu===null)var T=!1;else{if(p=xu,xu=null,w0=0,(It&6)!==0)throw Error(i(331));var E=It;for(It|=4,Ue=p.current;Ue!==null;){var R=Ue,U=R.child;if((Ue.flags&16)!==0){var J=R.deletions;if(J!==null){for(var ie=0;ie<J.length;ie++){var pe=J[ie];for(Ue=pe;Ue!==null;){var Ne=Ue;switch(Ne.tag){case 0:case 11:case 15:Ay(8,Ne,R)}var Te=Ne.child;if(Te!==null)Te.return=Ne,Ue=Te;else for(;Ue!==null;){Ne=Ue;var Se=Ne.sibling,Re=Ne.return;if(g3(Ne),Ne===pe){Ue=null;break}if(Se!==null){Se.return=Re,Ue=Se;break}Ue=Re}}}var Ge=R.alternate;if(Ge!==null){var We=Ge.child;if(We!==null){Ge.child=null;do{var Fi=We.sibling;We.sibling=null,We=Fi}while(We!==null)}}Ue=R}}if((R.subtreeFlags&2064)!==0&&U!==null)U.return=R,Ue=U;else e:for(;Ue!==null;){if(R=Ue,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Ay(9,R,R.return)}var re=R.sibling;if(re!==null){re.return=R.return,Ue=re;break e}Ue=R.return}}var ne=p.current;for(Ue=ne;Ue!==null;){U=Ue;var ce=U.child;if((U.subtreeFlags&2064)!==0&&ce!==null)ce.return=U,Ue=ce;else e:for(U=ne;Ue!==null;){if(J=Ue,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:g0(9,J)}}catch(Ye){Ei(J,J.return,Ye)}if(J===U){Ue=null;break e}var ke=J.sibling;if(ke!==null){ke.return=J.return,Ue=ke;break e}Ue=J.return}}if(It=E,pu(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Cv,p)}catch{}T=!0}return T}finally{Gt=w,uo.transition=m}}return!1}function E3(p,m,w){m=mf(w,m),m=q4(p,m,1),p=mu(p,m,1),m=Rs(),p!==null&&(ey(p,1,m),oa(p,m))}function Ei(p,m,w){if(p.tag===3)E3(p,p,w);else for(;m!==null;){if(m.tag===3){E3(m,p,w);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(yu===null||!yu.has(T))){p=mf(w,p),p=X4(m,p,1),m=mu(m,p,1),p=Rs(),m!==null&&(ey(m,1,p),oa(m,p));break}}m=m.return}}function Gee(p,m,w){var T=p.pingCache;T!==null&&T.delete(m),m=Rs(),p.pingedLanes|=p.suspendedLanes&w,Mn===p&&(Gn&w)===w&&(cn===4||cn===3&&(Gn&130023424)===Gn&&500>_i()-hT?sh(p,0):dT|=w),oa(p,m)}function O3(p,m){m===0&&((p.mode&1)===0?m=1:(m=Lv,Lv<<=1,(Lv&130023424)===0&&(Lv=4194304)));var w=Rs();p=$l(p,m),p!==null&&(ey(p,m,w),oa(p,w))}function Wee(p){var m=p.memoizedState,w=0;m!==null&&(w=m.retryLane),O3(p,w)}function Hee(p,m){var w=0;switch(p.tag){case 13:var T=p.stateNode,E=p.memoizedState;E!==null&&(w=E.retryLane);break;case 19:T=p.stateNode;break;default:throw Error(i(314))}T!==null&&T.delete(m),O3(p,w)}var j3;j3=function(p,m,w){if(p!==null)if(p.memoizedProps!==m.pendingProps||ia.current)sa=!0;else{if((p.lanes&w)===0&&(m.flags&128)===0)return sa=!1,Eee(p,m,w);sa=(p.flags&131072)!==0}else sa=!1,ui&&(m.flags&1048576)!==0&&p4(m,Jv,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;f0(p,m),p=m.pendingProps;var E=rf(m,ss.current);pf(m,w),E=GI(null,m,T,p,E,w);var R=WI();return m.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,na(T)?(R=!0,qv(m)):R=!1,m.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,PI(m),E.updater=h0,m.stateNode=E,E._reactInternals=m,qI(m,T,p,w),m=eT(null,m,T,!0,R,w)):(m.tag=0,ui&&R&&TI(m),js(null,m,E,w),m=m.child),m;case 16:T=m.elementType;e:{switch(f0(p,m),p=m.pendingProps,E=T._init,T=E(T._payload),m.type=T,E=m.tag=$ee(T),p=Xo(T,p),E){case 0:m=JI(null,m,T,p,w);break e;case 1:m=o3(null,m,T,p,w);break e;case 11:m=t3(null,m,T,p,w);break e;case 14:m=i3(null,m,T,Xo(T.type,p),w);break e}throw Error(i(306,T,""))}return m;case 0:return T=m.type,E=m.pendingProps,E=m.elementType===T?E:Xo(T,E),JI(p,m,T,E,w);case 1:return T=m.type,E=m.pendingProps,E=m.elementType===T?E:Xo(T,E),o3(p,m,T,E,w);case 3:e:{if(r3(m),p===null)throw Error(i(387));T=m.pendingProps,R=m.memoizedState,E=R.element,S4(p,m),a0(m,T,null,w);var U=m.memoizedState;if(T=U.element,R.isDehydrated)if(R={element:T,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},m.updateQueue.baseState=R,m.memoizedState=R,m.flags&256){E=mf(Error(i(423)),m),m=l3(p,m,T,w,E);break e}else if(T!==E){E=mf(Error(i(424)),m),m=l3(p,m,T,w,E);break e}else for(ja=uu(m.stateNode.containerInfo.firstChild),Oa=m,ui=!0,qo=null,w=v4(m,null,T,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(uf(),T===E){m=Zl(p,m,w);break e}js(p,m,T,w)}m=m.child}return m;case 5:return I4(m),p===null&&CI(m),T=m.type,E=m.pendingProps,R=p!==null?p.memoizedProps:null,U=E.children,vI(T,E)?U=null:R!==null&&vI(T,R)&&(m.flags|=32),a3(p,m),js(p,m,U,w),m.child;case 6:return p===null&&CI(m),null;case 13:return c3(p,m,w);case 4:return zI(m,m.stateNode.containerInfo),T=m.pendingProps,p===null?m.child=df(m,null,T,w):js(p,m,T,w),m.child;case 11:return T=m.type,E=m.pendingProps,E=m.elementType===T?E:Xo(T,E),t3(p,m,T,E,w);case 7:return js(p,m,m.pendingProps,w),m.child;case 8:return js(p,m,m.pendingProps.children,w),m.child;case 12:return js(p,m,m.pendingProps.children,w),m.child;case 10:e:{if(T=m.type._context,E=m.pendingProps,R=m.memoizedProps,U=E.value,ti(i0,T._currentValue),T._currentValue=U,R!==null)if(Zo(R.value,U)){if(R.children===E.children&&!ia.current){m=Zl(p,m,w);break e}}else for(R=m.child,R!==null&&(R.return=m);R!==null;){var J=R.dependencies;if(J!==null){U=R.child;for(var ie=J.firstContext;ie!==null;){if(ie.context===T){if(R.tag===1){ie=Kl(-1,w&-w),ie.tag=2;var pe=R.updateQueue;if(pe!==null){pe=pe.shared;var Ne=pe.pending;Ne===null?ie.next=ie:(ie.next=Ne.next,Ne.next=ie),pe.pending=ie}}R.lanes|=w,ie=R.alternate,ie!==null&&(ie.lanes|=w),jI(R.return,w,m),J.lanes|=w;break}ie=ie.next}}else if(R.tag===10)U=R.type===m.type?null:R.child;else if(R.tag===18){if(U=R.return,U===null)throw Error(i(341));U.lanes|=w,J=U.alternate,J!==null&&(J.lanes|=w),jI(U,w,m),U=R.sibling}else U=R.child;if(U!==null)U.return=R;else for(U=R;U!==null;){if(U===m){U=null;break}if(R=U.sibling,R!==null){R.return=U.return,U=R;break}U=U.return}R=U}js(p,m,E.children,w),m=m.child}return m;case 9:return E=m.type,T=m.pendingProps.children,pf(m,w),E=lo(E),T=T(E),m.flags|=1,js(p,m,T,w),m.child;case 14:return T=m.type,E=Xo(T,m.pendingProps),E=Xo(T.type,E),i3(p,m,T,E,w);case 15:return n3(p,m,m.type,m.pendingProps,w);case 17:return T=m.type,E=m.pendingProps,E=m.elementType===T?E:Xo(T,E),f0(p,m),m.tag=1,na(T)?(p=!0,qv(m)):p=!1,pf(m,w),K4(m,T,E),qI(m,T,E,w),eT(null,m,T,!0,p,w);case 19:return d3(p,m,w);case 22:return s3(p,m,w)}throw Error(i(156,m.tag))};function R3(p,m){return fP(p,m)}function Yee(p,m,w,T){this.tag=p,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(p,m,w,T){return new Yee(p,m,w,T)}function vT(p){return p=p.prototype,!(!p||!p.isReactComponent)}function $ee(p){if(typeof p=="function")return vT(p)?1:0;if(p!=null){if(p=p.$$typeof,p===G)return 11;if(p===$)return 14}return 2}function wu(p,m){var w=p.alternate;return w===null?(w=ho(p.tag,m,p.key,p.mode),w.elementType=p.elementType,w.type=p.type,w.stateNode=p.stateNode,w.alternate=p,p.alternate=w):(w.pendingProps=m,w.type=p.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=p.flags&14680064,w.childLanes=p.childLanes,w.lanes=p.lanes,w.child=p.child,w.memoizedProps=p.memoizedProps,w.memoizedState=p.memoizedState,w.updateQueue=p.updateQueue,m=p.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=p.sibling,w.index=p.index,w.ref=p.ref,w}function I0(p,m,w,T,E,R){var U=2;if(T=p,typeof p=="function")vT(p)&&(U=1);else if(typeof p=="string")U=5;else e:switch(p){case L:return oh(w.children,E,R,m);case O:U=8,E|=8;break;case P:return p=ho(12,w,m,E|2),p.elementType=P,p.lanes=R,p;case H:return p=ho(13,w,m,E),p.elementType=H,p.lanes=R,p;case B:return p=ho(19,w,m,E),p.elementType=B,p.lanes=R,p;case X:return T0(w,E,R,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case z:U=10;break e;case V:U=9;break e;case G:U=11;break e;case $:U=14;break e;case Q:U=16,T=null;break e}throw Error(i(130,p==null?p:typeof p,""))}return m=ho(U,w,m,E),m.elementType=p,m.type=T,m.lanes=R,m}function oh(p,m,w,T){return p=ho(7,p,T,m),p.lanes=w,p}function T0(p,m,w,T){return p=ho(22,p,T,m),p.elementType=X,p.lanes=w,p.stateNode={isHidden:!1},p}function wT(p,m,w){return p=ho(6,p,null,m),p.lanes=w,p}function ST(p,m,w){return m=ho(4,p.children!==null?p.children:[],p.key,m),m.lanes=w,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function Kee(p,m,w,T,E){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ZM(0),this.expirationTimes=ZM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ZM(0),this.identifierPrefix=T,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function NT(p,m,w,T,E,R,U,J,ie){return p=new Kee(p,m,w,J,ie),m===1?(m=1,R===!0&&(m|=8)):m=0,R=ho(3,null,null,m),p.current=R,R.stateNode=p,R.memoizedState={element:T,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},PI(R),p}function Zee(p,m,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:T==null?null:""+T,children:p,containerInfo:m,implementation:w}}function P3(p){if(!p)return hu;p=p._reactInternals;e:{if(Kd(p)!==p||p.tag!==1)throw Error(i(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(na(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(i(171))}if(p.tag===1){var w=p.type;if(na(w))return u4(p,w,m)}return m}function z3(p,m,w,T,E,R,U,J,ie){return p=NT(w,T,!0,p,E,R,U,J,ie),p.context=P3(null),w=p.current,T=Rs(),E=bu(w),R=Kl(T,E),R.callback=m??null,mu(w,R,E),p.current.lanes=E,ey(p,E,T),oa(p,T),p}function A0(p,m,w,T){var E=m.current,R=Rs(),U=bu(E);return w=P3(w),m.context===null?m.context=w:m.pendingContext=w,m=Kl(R,U),m.payload={element:p},T=T===void 0?null:T,T!==null&&(m.callback=T),p=mu(E,m,U),p!==null&&(er(p,E,U,R),s0(p,E,U)),U}function k0(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function _3(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var w=p.retryLane;p.retryLane=w!==0&&w<m?w:m}}function MT(p,m){_3(p,m),(p=p.alternate)&&_3(p,m)}function qee(){return null}var F3=typeof reportError=="function"?reportError:function(p){console.error(p)};function IT(p){this._internalRoot=p}C0.prototype.render=IT.prototype.render=function(p){var m=this._internalRoot;if(m===null)throw Error(i(409));A0(p,m,null,null)},C0.prototype.unmount=IT.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var m=p.containerInfo;nh(function(){A0(null,p,null,null)}),m[Gl]=null}};function C0(p){this._internalRoot=p}C0.prototype.unstable_scheduleHydration=function(p){if(p){var m=SP();p={blockedOn:null,target:p,priority:m};for(var w=0;w<ru.length&&m!==0&&m<ru[w].priority;w++);ru.splice(w,0,p),w===0&&IP(p)}};function TT(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function D0(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function B3(){}function Xee(p,m,w,T,E){if(E){if(typeof T=="function"){var R=T;T=function(){var pe=k0(U);R.call(pe)}}var U=z3(m,T,p,0,null,!1,!1,"",B3);return p._reactRootContainer=U,p[Gl]=U.current,fy(p.nodeType===8?p.parentNode:p),nh(),U}for(;E=p.lastChild;)p.removeChild(E);if(typeof T=="function"){var J=T;T=function(){var pe=k0(ie);J.call(pe)}}var ie=NT(p,0,!1,null,null,!1,!1,"",B3);return p._reactRootContainer=ie,p[Gl]=ie.current,fy(p.nodeType===8?p.parentNode:p),nh(function(){A0(m,ie,w,T)}),ie}function L0(p,m,w,T,E){var R=w._reactRootContainer;if(R){var U=R;if(typeof E=="function"){var J=E;E=function(){var ie=k0(U);J.call(ie)}}A0(m,U,p,E)}else U=Xee(w,m,p,E,T);return k0(U)}vP=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var w=Jg(m.pendingLanes);w!==0&&(qM(m,w|1),oa(m,_i()),(It&6)===0&&(xf=_i()+500,pu()))}break;case 13:nh(function(){var T=$l(p,1);if(T!==null){var E=Rs();er(T,p,1,E)}}),MT(p,1)}},XM=function(p){if(p.tag===13){var m=$l(p,134217728);if(m!==null){var w=Rs();er(m,p,134217728,w)}MT(p,134217728)}},wP=function(p){if(p.tag===13){var m=bu(p),w=$l(p,m);if(w!==null){var T=Rs();er(w,p,m,T)}MT(p,m)}},SP=function(){return Gt},NP=function(p,m){var w=Gt;try{return Gt=p,m()}finally{Gt=w}},$g=function(p,m,w){switch(m){case"input":if($e(p,w),m=w.name,w.type==="radio"&&m!=null){for(w=p;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<w.length;m++){var T=w[m];if(T!==p&&T.form===p.form){var E=Kv(T);if(!E)throw Error(i(90));ye(T),$e(T,E)}}}break;case"textarea":Li(p,w);break;case"select":m=w.value,m!=null&&Je(p,!!w.multiple,m,!1)}},Iv=yT,lP=nh;var Qee={usingClientEntryPoint:!1,Events:[yy,af,Kv,Mv,Zg,yT]},Ly={findFiberByHostInstance:Zd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jee={bundleType:Ly.bundleType,version:Ly.version,rendererPackageName:Ly.rendererPackageName,rendererConfig:Ly.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=hP(p),p===null?null:p.stateNode},findFiberByHostInstance:Ly.findFiberByHostInstance||qee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E0.isDisabled&&E0.supportsFiber)try{Cv=E0.inject(Jee),Ur=E0}catch{}}return ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qee,ra.createPortal=function(p,m){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TT(m))throw Error(i(200));return Zee(p,m,null,w)},ra.createRoot=function(p,m){if(!TT(p))throw Error(i(299));var w=!1,T="",E=F3;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(E=m.onRecoverableError)),m=NT(p,1,!1,null,null,w,!1,T,E),p[Gl]=m.current,fy(p.nodeType===8?p.parentNode:p),new IT(m)},ra.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(i(188)):(p=Object.keys(p).join(","),Error(i(268,p)));return p=hP(m),p=p===null?null:p.stateNode,p},ra.flushSync=function(p){return nh(p)},ra.hydrate=function(p,m,w){if(!D0(m))throw Error(i(200));return L0(null,p,m,!0,w)},ra.hydrateRoot=function(p,m,w){if(!TT(p))throw Error(i(405));var T=w!=null&&w.hydratedSources||null,E=!1,R="",U=F3;if(w!=null&&(w.unstable_strictMode===!0&&(E=!0),w.identifierPrefix!==void 0&&(R=w.identifierPrefix),w.onRecoverableError!==void 0&&(U=w.onRecoverableError)),m=z3(m,null,p,1,w??null,E,!1,R,U),p[Gl]=m.current,fy(p),T)for(p=0;p<T.length;p++)w=T[p],E=w._getVersion,E=E(w._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[w,E]:m.mutableSourceEagerHydrationData.push(w,E);return new C0(m)},ra.render=function(p,m,w){if(!D0(m))throw Error(i(200));return L0(null,p,m,!1,w)},ra.unmountComponentAtNode=function(p){if(!D0(p))throw Error(i(40));return p._reactRootContainer?(nh(function(){L0(null,null,p,!1,function(){p._reactRootContainer=null,p[Gl]=null})}),!0):!1},ra.unstable_batchedUpdates=yT,ra.unstable_renderSubtreeIntoContainer=function(p,m,w,T){if(!D0(w))throw Error(i(200));if(p==null||p._reactInternals===void 0)throw Error(i(38));return L0(p,m,w,!1,T)},ra.version="18.3.1-next-f1338f8080-20240426",ra}var K3;function L8(){if(K3)return CT.exports;K3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),CT.exports=rte(),CT.exports}var Z3;function lte(){if(Z3)return O0;Z3=1;var e=L8();return O0.createRoot=e.createRoot,O0.hydrateRoot=e.hydrateRoot,O0}var cte=lte(),Sb=L8();const E8=HD(Sb);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fx.apply(this,arguments)}var Fu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fu||(Fu={}));const q3="popstate";function ute(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:r}=n.location;return Uk("",{pathname:a,search:o,hash:r},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function i(n,s){return typeof s=="string"?s:vw(s)}return hte(t,i,null,e)}function Ti(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dte(){return Math.random().toString(36).substr(2,8)}function X3(e,t){return{usr:e.state,key:e.key,idx:t}}function Uk(e,t,i,n){return i===void 0&&(i=null),Fx({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gm(t):t,{state:i,key:t&&t.key||n||dte()})}function vw(e){let{pathname:t="/",search:i="",hash:n=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gm(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hte(e,t,i,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,r=Fu.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Fx({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){r=Fu.Pop;let b=u(),v=b==null?null:b-c;c=b,l&&l({action:r,location:y.location,delta:v})}function f(b,v){r=Fu.Push;let S=Uk(y.location,b,v);c=u()+1;let N=X3(S,c),M=y.createHref(S);try{o.pushState(N,"",M)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(M)}a&&l&&l({action:r,location:y.location,delta:1})}function g(b,v){r=Fu.Replace;let S=Uk(y.location,b,v);c=u();let N=X3(S,c),M=y.createHref(S);o.replaceState(N,"",M),a&&l&&l({action:r,location:y.location,delta:0})}function x(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof b=="string"?b:vw(b);return S=S.replace(/ $/,"%20"),Ti(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let y={get action(){return r},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(q3,h),l=b,()=>{s.removeEventListener(q3,h),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let v=x(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(b){return o.go(b)}};return y}var Q3;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q3||(Q3={}));function pte(e,t,i){return i===void 0&&(i="/"),fte(e,t,i)}function fte(e,t,i,n){let s=typeof t=="string"?Gm(t):t,a=Mm(s.pathname||"/",i);if(a==null)return null;let o=j8(e);mte(o);let r=null;for(let l=0;r==null&&l<o.length;++l){let c=Tte(a);r=Mte(o[l],c)}return r}function j8(e,t,i,n){t===void 0&&(t=[]),i===void 0&&(i=[]),n===void 0&&(n="");let s=(a,o,r)=>{let l={relativePath:r===void 0?a.path||"":r,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Ti(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Hu([n,l.relativePath]),u=i.concat(l);a.children&&a.children.length>0&&(Ti(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),j8(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:Ste(c,a.index),routesMeta:u})};return e.forEach((a,o)=>{var r;if(a.path===""||!((r=a.path)!=null&&r.includes("?")))s(a,o);else for(let l of R8(a.path))s(a,o,l)}),t}function R8(e){let t=e.split("/");if(t.length===0)return[];let[i,...n]=t,s=i.endsWith("?"),a=i.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=R8(n.join("/")),r=[];return r.push(...o.map(l=>l===""?a:[a,l].join("/"))),s&&r.push(...o),r.map(l=>e.startsWith("/")&&l===""?"/":l)}function mte(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:Nte(t.routesMeta.map(n=>n.childrenIndex),i.routesMeta.map(n=>n.childrenIndex)))}const gte=/^:[\w-]+$/,yte=3,xte=2,bte=1,vte=10,wte=-2,J3=e=>e==="*";function Ste(e,t){let i=e.split("/"),n=i.length;return i.some(J3)&&(n+=wte),t&&(n+=xte),i.filter(s=>!J3(s)).reduce((s,a)=>s+(gte.test(a)?yte:a===""?bte:vte),n)}function Nte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Mte(e,t,i){let{routesMeta:n}=e,s={},a="/",o=[];for(let r=0;r<n.length;++r){let l=n[r],c=r===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Gk({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Hu([a,h.pathname]),pathnameBase:Dte(Hu([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Hu([a,h.pathnameBase]))}return o}function Gk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,n]=Ite(e.path,e.caseSensitive,e.end),s=t.match(i);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),r=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let y=r[h]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=r[h];return g&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function Ite(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),O8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,r,l)=>(n.push({paramName:r,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Tte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return O8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&n!=="/"?null:e.slice(i)||"/"}function Ate(e,t){t===void 0&&(t="/");let{pathname:i,search:n="",hash:s=""}=typeof e=="string"?Gm(e):e;return{pathname:i?i.startsWith("/")?i:kte(i,t):t,search:Lte(n),hash:Ete(s)}}function kte(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function ET(e,t,i,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cte(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function $D(e,t){let i=Cte(e);return t?i.map((n,s)=>s===i.length-1?n.pathname:n.pathnameBase):i.map(n=>n.pathnameBase)}function KD(e,t,i,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Gm(e):(s=Fx({},e),Ti(!s.pathname||!s.pathname.includes("?"),ET("?","pathname","search",s)),Ti(!s.pathname||!s.pathname.includes("#"),ET("#","pathname","hash",s)),Ti(!s.search||!s.search.includes("#"),ET("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,r;if(o==null)r=i;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}r=h>=0?t[h]:"/"}let l=Ate(s,r),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Hu=e=>e.join("/").replace(/\/\/+/g,"/"),Dte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ete=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ote(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const P8=["post","put","patch","delete"];new Set(P8);const jte=["get",...P8];new Set(jte);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bx.apply(this,arguments)}const MS=D.createContext(null),z8=D.createContext(null),kc=D.createContext(null),IS=D.createContext(null),Cc=D.createContext({outlet:null,matches:[],isDataRoute:!1}),_8=D.createContext(null);function Rte(e,t){let{relative:i}=t===void 0?{}:t;Wm()||Ti(!1);let{basename:n,navigator:s}=D.useContext(kc),{hash:a,pathname:o,search:r}=TS(e,{relative:i}),l=o;return n!=="/"&&(l=o==="/"?n:Hu([n,o])),s.createHref({pathname:l,search:r,hash:a})}function Wm(){return D.useContext(IS)!=null}function Ya(){return Wm()||Ti(!1),D.useContext(IS).location}function F8(e){D.useContext(kc).static||D.useLayoutEffect(e)}function ZD(){let{isDataRoute:e}=D.useContext(Cc);return e?Zte():Pte()}function Pte(){Wm()||Ti(!1);let e=D.useContext(MS),{basename:t,future:i,navigator:n}=D.useContext(kc),{matches:s}=D.useContext(Cc),{pathname:a}=Ya(),o=JSON.stringify($D(s,i.v7_relativeSplatPath)),r=D.useRef(!1);return F8(()=>{r.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!r.current)return;if(typeof c=="number"){n.go(c);return}let h=KD(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Hu([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,a,e])}const zte=D.createContext(null);function B8(e){let t=D.useContext(Cc).outlet;return t&&D.createElement(zte.Provider,{value:e},t)}function TS(e,t){let{relative:i}=t===void 0?{}:t,{future:n}=D.useContext(kc),{matches:s}=D.useContext(Cc),{pathname:a}=Ya(),o=JSON.stringify($D(s,n.v7_relativeSplatPath));return D.useMemo(()=>KD(e,JSON.parse(o),a,i==="path"),[e,o,a,i])}function _te(e,t){return Fte(e,t)}function Fte(e,t,i,n){Wm()||Ti(!1);let{navigator:s}=D.useContext(kc),{matches:a}=D.useContext(Cc),o=a[a.length-1],r=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ya(),u;if(t){var h;let b=typeof t=="string"?Gm(t):t;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Ti(!1),u=b}else u=c;let f=u.pathname||"/",g=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=pte(e,{pathname:g}),y=Wte(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},r,b.params),pathname:Hu([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Hu([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,i,n);return t&&y?D.createElement(IS.Provider,{value:{location:Bx({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fu.Pop}},y):y}function Bte(){let e=Kte(),t=Ote(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),i?D.createElement("pre",{style:s},i):null,null)}const Vte=D.createElement(Bte,null);class Ute extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?D.createElement(Cc.Provider,{value:this.props.routeContext},D.createElement(_8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gte(e){let{routeContext:t,match:i,children:n}=e,s=D.useContext(MS);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),D.createElement(Cc.Provider,{value:t},n)}function Wte(e,t,i,n){var s;if(t===void 0&&(t=[]),i===void 0&&(i=null),n===void 0&&(n=null),e==null){var a;if(!i)return null;if(i.errors)e=i.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let o=e,r=(s=i)==null?void 0:s.errors;if(r!=null){let u=o.findIndex(h=>h.route.id&&(r==null?void 0:r[h.route.id])!==void 0);u>=0||Ti(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(i&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:g}=i,x=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let g,x=!1,y=null,b=null;i&&(g=r&&h.route.id?r[h.route.id]:void 0,y=h.route.errorElement||Vte,l&&(c<0&&f===0?(qte("route-fallback"),x=!0,b=null):c===f&&(x=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),S=()=>{let N;return g?N=y:x?N=b:h.route.Component?N=D.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=u,D.createElement(Gte,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:i!=null},children:N})};return i&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?D.createElement(Ute,{location:i.location,revalidation:i.revalidation,component:y,error:g,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var V8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(V8||{}),U8=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(U8||{});function Hte(e){let t=D.useContext(MS);return t||Ti(!1),t}function Yte(e){let t=D.useContext(z8);return t||Ti(!1),t}function $te(e){let t=D.useContext(Cc);return t||Ti(!1),t}function G8(e){let t=$te(),i=t.matches[t.matches.length-1];return i.route.id||Ti(!1),i.route.id}function Kte(){var e;let t=D.useContext(_8),i=Yte(),n=G8();return t!==void 0?t:(e=i.errors)==null?void 0:e[n]}function Zte(){let{router:e}=Hte(V8.UseNavigateStable),t=G8(U8.UseNavigateStable),i=D.useRef(!1);return F8(()=>{i.current=!0}),D.useCallback(function(s,a){a===void 0&&(a={}),i.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Bx({fromRouteId:t},a)))},[e,t])}const e5={};function qte(e,t,i){e5[e]||(e5[e]=!0)}function j0(e){let{to:t,replace:i,state:n,relative:s}=e;Wm()||Ti(!1);let{future:a,static:o}=D.useContext(kc),{matches:r}=D.useContext(Cc),{pathname:l}=Ya(),c=ZD(),u=KD(t,$D(r,a.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(h),{replace:i,state:n,relative:s}),[c,h,s,i,n]),null}function OT(e){return B8(e.context)}function un(e){Ti(!1)}function Xte(e){let{basename:t="/",children:i=null,location:n,navigationType:s=Fu.Pop,navigator:a,static:o=!1,future:r}=e;Wm()&&Ti(!1);let l=t.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:a,static:o,future:Bx({v7_relativeSplatPath:!1},r)}),[l,r,a,o]);typeof n=="string"&&(n=Gm(n));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:x="default"}=n,y=D.useMemo(()=>{let b=Mm(u,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:g,key:x},navigationType:s}},[l,u,h,f,g,x,s]);return y==null?null:D.createElement(kc.Provider,{value:c},D.createElement(IS.Provider,{children:i,value:y}))}function Qte(e){let{children:t,location:i}=e;return _te(Wk(t),i)}new Promise(()=>{});function Wk(e,t){t===void 0&&(t=[]);let i=[];return D.Children.forEach(e,(n,s)=>{if(!D.isValidElement(n))return;let a=[...t,s];if(n.type===D.Fragment){i.push.apply(i,Wk(n.props.children,a));return}n.type!==un&&Ti(!1),!n.props.index||!n.props.children||Ti(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Wk(n.props.children,a)),i.push(o)}),i}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ww.apply(this,arguments)}function W8(e,t){if(e==null)return{};var i={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(i[s]=e[s]);return i}function Jte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eie(e,t){return e.button===0&&(!t||t==="_self")&&!Jte(e)}const tie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],iie=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],nie="6";try{window.__reactRouterVersion=nie}catch{}const sie=D.createContext({isTransitioning:!1}),aie="startTransition",t5=D8[aie];function oie(e){let{basename:t,children:i,future:n,window:s}=e,a=D.useRef();a.current==null&&(a.current=ute({window:s,v5Compat:!0}));let o=a.current,[r,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=D.useCallback(h=>{c&&t5?t5(()=>l(h)):l(h)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.createElement(Xte,{basename:t,children:i,location:r.location,navigationType:r.action,navigator:o,future:n})}const rie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H8=D.forwardRef(function(t,i){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:r,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=t,f=W8(t,tie),{basename:g}=D.useContext(kc),x,y=!1;if(typeof c=="string"&&lie.test(c)&&(x=c,rie))try{let N=new URL(window.location.href),M=c.startsWith("//")?new URL(N.protocol+c):new URL(c),I=Mm(M.pathname,g);M.origin===N.origin&&I!=null?c=I+M.search+M.hash:y=!0}catch{}let b=Rte(c,{relative:s}),v=die(c,{replace:o,state:r,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function S(N){n&&n(N),N.defaultPrevented||v(N)}return D.createElement("a",ww({},f,{href:x||b,onClick:y||a?n:S,ref:i,target:l}))}),cie=D.forwardRef(function(t,i){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:r,to:l,unstable_viewTransition:c,children:u}=t,h=W8(t,iie),f=TS(l,{relative:h.relative}),g=Ya(),x=D.useContext(z8),{navigator:y,basename:b}=D.useContext(kc),v=x!=null&&hie(f)&&c===!0,S=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,N=g.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(N=N.toLowerCase(),M=M?M.toLowerCase():null,S=S.toLowerCase()),M&&b&&(M=Mm(M,b)||M);const I=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let C=N===S||!o&&N.startsWith(S)&&N.charAt(I)==="/",L=M!=null&&(M===S||!o&&M.startsWith(S)&&M.charAt(S.length)==="/"),O={isActive:C,isPending:L,isTransitioning:v},P=C?n:void 0,z;typeof a=="function"?z=a(O):z=[a,C?"active":null,L?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let V=typeof r=="function"?r(O):r;return D.createElement(H8,ww({},h,{"aria-current":P,className:z,ref:i,style:V,to:l,unstable_viewTransition:c}),typeof u=="function"?u(O):u)});var Hk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hk||(Hk={}));var i5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(i5||(i5={}));function uie(e){let t=D.useContext(MS);return t||Ti(!1),t}function die(e,t){let{target:i,replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:r}=t===void 0?{}:t,l=ZD(),c=Ya(),u=TS(e,{relative:o});return D.useCallback(h=>{if(eie(h,i)){h.preventDefault();let f=n!==void 0?n:vw(c)===vw(u);l(e,{replace:f,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:r})}},[c,l,u,n,s,i,e,a,o,r])}function hie(e,t){t===void 0&&(t={});let i=D.useContext(sie);i==null&&Ti(!1);let{basename:n}=uie(Hk.useViewTransitionState),s=TS(e,{relative:t.relative});if(!i.isTransitioning)return!1;let a=Mm(i.currentLocation.pathname,n)||i.currentLocation.pathname,o=Mm(i.nextLocation.pathname,n)||i.nextLocation.pathname;return Gk(s.pathname,o)!=null||Gk(s.pathname,a)!=null}const pie={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};let fie=class Yk{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,i)}init(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=t||pie,this.options=i,this.debug=i.debug}log(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.forward(i,"log","",!0)}warn(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.forward(i,"warn","",!0)}error(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.forward(i,"error","")}deprecate(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(t,i,n,s){return s&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[i](t))}create(t){return new Yk(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Yk(this.logger,t)}};var sl=new fie;let AS=class{constructor(){this.observers={}}on(t,i){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(i)||0;this.observers[n].set(i,s+1)}),this}off(t,i){if(this.observers[t]){if(!i){delete this.observers[t];return}this.observers[t].delete(i)}}emit(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[r,l]=o;for(let c=0;c<l;c++)r(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[r,l]=o;for(let c=0;c<l;c++)r.apply(r,[t,...n])})}};const Oy=()=>{let e,t;const i=new Promise((n,s)=>{e=n,t=s});return i.resolve=e,i.reject=t,i},n5=e=>e==null?"":""+e,mie=(e,t,i)=>{e.forEach(n=>{t[n]&&(i[n]=t[n])})},gie=/###/g,s5=e=>e&&e.indexOf("###")>-1?e.replace(gie,"."):e,a5=e=>!e||typeof e=="string",bx=(e,t,i)=>{const n=typeof t!="string"?t:t.split(".");let s=0;for(;s<n.length-1;){if(a5(e))return{};const a=s5(n[s]);!e[a]&&i&&(e[a]=new i),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++s}return a5(e)?{}:{obj:e,k:s5(n[s])}},o5=(e,t,i)=>{const{obj:n,k:s}=bx(e,t,Object);if(n!==void 0||t.length===1){n[s]=i;return}let a=t[t.length-1],o=t.slice(0,t.length-1),r=bx(e,o,Object);for(;r.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),r=bx(e,o,Object),r&&r.obj&&typeof r.obj[`${r.k}.${a}`]<"u"&&(r.obj=void 0);r.obj[`${r.k}.${a}`]=i},yie=(e,t,i,n)=>{const{obj:s,k:a}=bx(e,t,Object);s[a]=s[a]||[],s[a].push(i)},Sw=(e,t)=>{const{obj:i,k:n}=bx(e,t);if(i)return i[n]},xie=(e,t,i)=>{const n=Sw(e,i);return n!==void 0?n:Sw(t,i)},Y8=(e,t,i)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?typeof e[n]=="string"||e[n]instanceof String||typeof t[n]=="string"||t[n]instanceof String?i&&(e[n]=t[n]):Y8(e[n],t[n],i):e[n]=t[n]);return e},vf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var bie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const vie=e=>typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>bie[t]):e;class wie{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const i=this.regExpMap.get(t);if(i!==void 0)return i;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Sie=[" ",",","?","!",";"],Nie=new wie(20),Mie=(e,t,i)=>{t=t||"",i=i||"";const n=Sie.filter(o=>t.indexOf(o)<0&&i.indexOf(o)<0);if(n.length===0)return!0;const s=Nie.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!s.test(e);if(!a){const o=e.indexOf(i);o>0&&!s.test(e.substring(0,o))&&(a=!0)}return a},$k=function(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(i);let s=e;for(let a=0;a<n.length;){if(!s||typeof s!="object")return;let o,r="";for(let l=a;l<n.length;++l)if(l!==a&&(r+=i),r+=n[l],o=s[r],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;a+=l-a+1;break}s=o}return s},Nw=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class r5 extends AS{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const i=this.options.ns.indexOf(t);i>-1&&this.options.ns.splice(i,1)}getResource(t,i,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let r;t.indexOf(".")>-1?r=t.split("."):(r=[t,i],n&&(Array.isArray(n)?r.push(...n):typeof n=="string"&&a?r.push(...n.split(a)):r.push(n)));const l=Sw(this.data,r);return!l&&!i&&!n&&t.indexOf(".")>-1&&(t=r[0],i=r[1],n=r.slice(2).join(".")),l||!o||typeof n!="string"?l:$k(this.data&&this.data[t]&&this.data[t][i],n,a)}addResource(t,i,n,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let r=[t,i];n&&(r=r.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=t.split("."),s=i,i=r[1]),this.addNamespaces(i),o5(this.data,r,s),a.silent||this.emit("added",t,i,n,s)}addResources(t,i,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(typeof n[a]=="string"||Array.isArray(n[a]))&&this.addResource(t,i,a,n[a],{silent:!0});s.silent||this.emit("added",t,i,n)}addResourceBundle(t,i,n,s,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},r=[t,i];t.indexOf(".")>-1&&(r=t.split("."),s=n,n=i,i=r[1]),this.addNamespaces(i);let l=Sw(this.data,r)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?Y8(l,n,a):l={...l,...n},o5(this.data,r,l),o.silent||this.emit("added",t,i,n)}removeResourceBundle(t,i){this.hasResourceBundle(t,i)&&delete this.data[t][i],this.removeNamespaces(i),this.emit("removed",t,i)}hasResourceBundle(t,i){return this.getResource(t,i)!==void 0}getResourceBundle(t,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,i)}:this.getResource(t,i)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const i=this.getDataByLanguage(t);return!!(i&&Object.keys(i)||[]).find(s=>i[s]&&Object.keys(i[s]).length>0)}toJSON(){return this.data}}var $8={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,n,s){return e.forEach(a=>{this.processors[a]&&(t=this.processors[a].process(t,i,n,s))}),t}};const l5={};class Mw extends AS{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),mie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=sl.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,i);return n&&n.res!==void 0}extractFromKey(t,i){let n=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=i.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,r=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!Mie(t,n,s);if(o&&!r){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:a};const c=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),t=c.join(s)}return typeof a=="string"&&(a=[a]),{key:t,namespaces:a}}translate(t,i,n){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:r}=this.extractFromKey(t[t.length-1],i),l=r[r.length-1],c=i.lng||this.language,u=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const M=i.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${M}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${M}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:o}const h=this.resolve(t,i);let f=h&&h.res;const g=h&&h.usedKey||o,x=h&&h.exactUsedKey||o,y=Object.prototype.toString.apply(f),b=["[object Number]","[object Function]","[object RegExp]"],v=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject;if(S&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&b.indexOf(y)<0&&!(typeof v=="string"&&Array.isArray(f))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,f,{...i,ns:r}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=M,h.usedParams=this.getUsedParamsDetails(i),h):M}if(a){const M=Array.isArray(f),I=M?[]:{},C=M?x:g;for(const L in f)if(Object.prototype.hasOwnProperty.call(f,L)){const O=`${C}${a}${L}`;I[L]=this.translate(O,{...i,joinArrays:!1,ns:r}),I[L]===O&&(I[L]=f[L])}f=I}}else if(S&&typeof v=="string"&&Array.isArray(f))f=f.join(v),f&&(f=this.extendTranslation(f,t,i,n));else{let M=!1,I=!1;const C=i.count!==void 0&&typeof i.count!="string",L=Mw.hasDefaultValue(i),O=C?this.pluralResolver.getSuffix(c,i.count,i):"",P=i.ordinal&&C?this.pluralResolver.getSuffix(c,i.count,{ordinal:!1}):"",z=C&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),V=z&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${O}`]||i[`defaultValue${P}`]||i.defaultValue;!this.isValidLookup(f)&&L&&(M=!0,f=V),this.isValidLookup(f)||(I=!0,f=o);const H=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:f,B=L&&V!==f&&this.options.updateMissing;if(I||M||B){if(this.logger.log(B?"updateKey":"missingKey",c,l,o,B?V:f),a){const Y=this.resolve(o,{...i,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let Y=0;Y<Q.length;Y++)$.push(Q[Y]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(i.lng||this.language):$.push(i.lng||this.language);const X=(Y,q,Z)=>{const W=L&&Z!==f?Z:H;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,l,q,W,B,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Y,l,q,W,B,i),this.emit("missingKey",Y,l,q,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?$.forEach(Y=>{const q=this.pluralResolver.getSuffixes(Y,i);z&&i[`defaultValue${this.options.pluralSeparator}zero`]&&q.indexOf(`${this.options.pluralSeparator}zero`)<0&&q.push(`${this.options.pluralSeparator}zero`),q.forEach(Z=>{X([Y],o+Z,i[`defaultValue${Z}`]||V)})}):X($,o,V))}f=this.extendTranslation(f,t,i,h,n),I&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${o}`),(I||M)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,M?f:void 0):f=this.options.parseMissingKeyHandler(f))}return s?(h.res=f,h.usedParams=this.getUsedParamsDetails(i),h):f}extendTranslation(t,i,n,s,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=typeof t=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const f=t.match(this.interpolator.nestingRegexp);u=f&&f.length}let h=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||s.usedLng,n),c){const f=t.match(this.interpolator.nestingRegexp),g=f&&f.length;u<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var f=arguments.length,g=new Array(f),x=0;x<f;x++)g[x]=arguments[x];return a&&a[0]===g[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${i[0]}`),null):o.translate(...g,i)},n)),n.interpolation&&this.interpolator.reset()}const r=n.postProcess||this.options.postProcess,l=typeof r=="string"?[r]:r;return t!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(t=$8.handle(l,t,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,a,o,r;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,i),u=c.key;s=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=i.count!==void 0&&typeof i.count!="string",g=f&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),x=i.context!==void 0&&(typeof i.context=="string"||typeof i.context=="number")&&i.context!=="",y=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);h.forEach(b=>{this.isValidLookup(n)||(r=b,!l5[`${y[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(r)&&(l5[`${y[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(v=>{if(this.isValidLookup(n))return;o=v;const S=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,v,b,i);else{let M;f&&(M=this.pluralResolver.getSuffix(v,i.count,i));const I=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(S.push(u+M),i.ordinal&&M.indexOf(C)===0&&S.push(u+M.replace(C,this.options.pluralSeparator)),g&&S.push(u+I)),x){const L=`${u}${this.options.contextSeparator}${i.context}`;S.push(L),f&&(S.push(L+M),i.ordinal&&M.indexOf(C)===0&&S.push(L+M.replace(C,this.options.pluralSeparator)),g&&S.push(L+I))}}let N;for(;N=S.pop();)this.isValidLookup(n)||(a=N,n=this.getResource(v,b,N,i))}))})}),{res:n,usedKey:s,exactUsedKey:a,usedLng:o,usedNS:r}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,i,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,i,n,s):this.resourceStore.getResource(t,i,n,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&typeof t.replace!="string";let s=n?t.replace:t;if(n&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const a of i)delete s[a]}return s}static hasDefaultValue(t){const i="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&i===n.substring(0,i.length)&&t[n]!==void 0)return!0;return!1}}const jT=e=>e.charAt(0).toUpperCase()+e.slice(1);class c5{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=sl.create("languageUtils")}getScriptPartFromCode(t){if(t=Nw(t),!t||t.indexOf("-")<0)return null;const i=t.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(t){if(t=Nw(t),!t||t.indexOf("-")<0)return t;const i=t.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const i=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(s=>s.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=jT(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=jT(n[1].toLowerCase())),i.indexOf(n[2].toLowerCase())>-1&&(n[2]=jT(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let i;return t.forEach(n=>{if(i)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(i=s)}),!i&&this.options.supportedLngs&&t.forEach(n=>{if(i)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return i=s;i=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(t,i){if(!t)return[];if(typeof t=="function"&&(t=t(i)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!i)return t.default||[];let n=t[i];return n||(n=t[this.getScriptPartFromCode(i)]),n||(n=t[this.formatLanguageCode(i)]),n||(n=t[this.getLanguagePartFromCode(i)]),n||(n=t.default),n||[]}toResolveHierarchy(t,i){const n=this.getFallbackCodes(i||this.options.fallbackLng||[],t),s=[],a=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):typeof t=="string"&&a(this.formatLanguageCode(t)),n.forEach(o=>{s.indexOf(o)<0&&a(this.formatLanguageCode(o))}),s}}let Iie=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Tie={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const Aie=["v1","v2","v3"],kie=["v4"],u5={zero:0,one:1,two:2,few:3,many:4,other:5},Cie=()=>{const e={};return Iie.forEach(t=>{t.lngs.forEach(i=>{e[i]={numbers:t.nr,plurals:Tie[t.fc]}})}),e};class Die{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=i,this.logger=sl.create("pluralResolver"),(!this.options.compatibilityJSON||kie.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Cie(),this.pluralRulesCache={}}addRule(t,i){this.rules[t]=i}clearCache(){this.pluralRulesCache={}}getRule(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=Nw(t==="dev"?"en":t),s=i.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];const o=new Intl.PluralRules(n,{type:s});return this.pluralRulesCache[a]=o,o}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,i);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(s=>`${i}${s}`)}getSuffixes(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((s,a)=>u5[s]-u5[a]).map(s=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s}`):n.numbers.map(s=>this.getSuffix(t,s,i)):[]}getSuffix(t,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(i)}`:this.getSuffixRetroCompatible(s,i):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,i){const n=t.noAbs?t.plurals(i):t.plurals(Math.abs(i));let s=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const a=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Aie.includes(this.options.compatibilityJSON)}}const d5=function(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=xie(e,t,i);return!a&&s&&typeof i=="string"&&(a=$k(e,i,n),a===void 0&&(a=$k(t,i,n))),a},RT=e=>e.replace(/\$/g,"$$$$");class Lie{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=sl.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(i=>i),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:i,escapeValue:n,useRawValueToEscape:s,prefix:a,prefixEscaped:o,suffix:r,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:x,nestingSuffixEscaped:y,nestingOptionsSeparator:b,maxReplaces:v,alwaysFormat:S}=t.interpolation;this.escape=i!==void 0?i:vie,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?vf(a):o||"{{",this.suffix=r?vf(r):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?vf(f):g||vf("$t("),this.nestingSuffix=x?vf(x):y||vf(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=v||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(i,n)=>i&&i.source===n?(i.lastIndex=0,i):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,i,n,s){let a,o,r;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const v=d5(i,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,n,{...s,...i,interpolationkey:g}):v}const x=g.split(this.formatSeparator),y=x.shift().trim(),b=x.join(this.formatSeparator).trim();return this.format(d5(i,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),b,n,{...s,...i,interpolationkey:y})};this.resetRegExp();const u=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>RT(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?RT(this.escape(g)):RT(g)}].forEach(g=>{for(r=0;a=g.regex.exec(t);){const x=a[1].trim();if(o=c(x),o===void 0)if(typeof u=="function"){const b=u(t,a,s);o=typeof b=="string"?b:""}else if(s&&Object.prototype.hasOwnProperty.call(s,x))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=n5(o));const y=g.safeValue(o);if(t=t.replace(a[0],y),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,r++,r>=this.maxReplaces)break}}),t}nest(t,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,o;const r=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp(`${u}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,o);const g=f.match(/'/g),x=f.match(/"/g);(g&&g.length%2===0&&!x||x.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),c&&(o={...c,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${u}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(t);){let l=[];o={...n},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const u=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=u.shift(),l=u,c=!0}if(a=i(r.call(this,s[1].trim(),o),o),a&&s[0]===t&&typeof a!="string")return a;typeof a!="string"&&(a=n5(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),a=""),c&&(a=l.reduce((u,h)=>this.format(u,h,n.lng,{...n,interpolationkey:s[1].trim()}),a.trim())),t=t.replace(s[0],a),this.regexp.lastIndex=0}return t}}const Eie=e=>{let t=e.toLowerCase().trim();const i={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);t==="currency"&&s.indexOf(":")<0?i.currency||(i.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?i.range||(i.range=s.trim()):s.split(";").forEach(o=>{if(o){const[r,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=r.trim();i[u]||(i[u]=c),c==="false"&&(i[u]=!1),c==="true"&&(i[u]=!0),isNaN(c)||(i[u]=parseInt(c,10))}})}return{formatName:t,formatOptions:i}},wf=e=>{const t={};return(i,n,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const o=n+JSON.stringify(a);let r=t[o];return r||(r=e(Nw(n),s),t[o]=r),r(i)}};class Oie{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=sl.create("formatter"),this.options=t,this.formats={number:wf((i,n)=>{const s=new Intl.NumberFormat(i,{...n});return a=>s.format(a)}),currency:wf((i,n)=>{const s=new Intl.NumberFormat(i,{...n,style:"currency"});return a=>s.format(a)}),datetime:wf((i,n)=>{const s=new Intl.DateTimeFormat(i,{...n});return a=>s.format(a)}),relativetime:wf((i,n)=>{const s=new Intl.RelativeTimeFormat(i,{...n});return a=>s.format(a,n.range||"day")}),list:wf((i,n)=>{const s=new Intl.ListFormat(i,{...n});return a=>s.format(a)})},this.init(t)}init(t){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(t,i){this.formats[t.toLowerCase().trim()]=i}addCached(t,i){this.formats[t.toLowerCase().trim()]=wf(i)}format(t,i,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(r=>r.indexOf(")")>-1)){const r=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,r)].join(this.formatSeparator)}return a.reduce((r,l)=>{const{formatName:c,formatOptions:u}=Eie(l);if(this.formats[c]){let h=r;try{const f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=f.locale||f.lng||s.locale||s.lng||n;h=this.formats[c](r,g,{...u,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${c}`);return r},t)}}const jie=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Rie extends AS{constructor(t,i,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=i,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=sl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(t,i,n,s){const a={},o={},r={},l={};return t.forEach(c=>{let u=!0;i.forEach(h=>{const f=`${c}|${h}`;!n.reload&&this.store.hasResourceBundle(c,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,u=!1,o[f]===void 0&&(o[f]=!0),a[f]===void 0&&(a[f]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(r[c]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(r),toLoadNamespaces:Object.keys(l)}}loaded(t,i,n){const s=t.split("|"),a=s[0],o=s[1];i&&this.emit("failedLoading",a,o,i),!i&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=i?-1:2,i&&n&&(this.state[t]=0);const r={};this.queue.forEach(l=>{yie(l.loaded,[a],o),jie(l,t),i&&l.errors.push(i),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{r[c]||(r[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{r[c][h]===void 0&&(r[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",r),this.queue=this.queue.filter(l=>!l.done)}read(t,i,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:i,fcName:n,tried:s,wait:a,callback:o});return}this.readingCalls++;const r=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&u&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,i,n,s+1,a*2,o)},a);return}o(c,u)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(t,i);c&&typeof c.then=="function"?c.then(u=>r(null,u)).catch(r):r(null,c)}catch(c){r(c)}return}return l(t,i,r)}prepareLoading(t,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof i=="string"&&(i=[i]);const a=this.queueLoad(t,i,n,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(t,i,n){this.prepareLoading(t,i,{},n)}reload(t,i,n){this.prepareLoading(t,i,{reload:!0},n)}loadOne(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),s=n[0],a=n[1];this.read(s,a,"read",void 0,void 0,(o,r)=>{o&&this.logger.warn(`${i}loading namespace ${a} for language ${s} failed`,o),!o&&r&&this.logger.log(`${i}loaded namespace ${a} for language ${s}`,r),this.loaded(t,o,r)})}saveMissing(t,i,n,s,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},r=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${n}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:a},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(t,i,n,s,l):u=c(t,i,n,s),u&&typeof u.then=="function"?u.then(h=>r(null,h)).catch(r):r(null,u)}catch(u){r(u)}else c(t,i,n,s,r,l)}!t||!t[0]||this.store.addResource(t[0],i,n,s)}}}const h5=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(n=>{t[n]=i[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),p5=e=>(typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),R0=()=>{},Pie=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(i=>{typeof e[i]=="function"&&(e[i]=e[i].bind(e))})};class Vx extends AS{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=p5(t),this.services={},this.logger=sl,this.modules={external:[]},Pie(this),i&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,i),this;setTimeout(()=>{this.init(t,i)},0)}}init(){var t=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(n=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const s=h5();this.options={...s,...this.options,...p5(i)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?sl.init(a(this.modules.logger),this.options):sl.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Oie);const h=new c5(this.options);this.store=new r5(this.options.resources,this.options);const f=this.services;f.logger=sl,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new Die(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=a(u),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Lie(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Rie(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(g){for(var x=arguments.length,y=new Array(x>1?x-1:0),b=1;b<x;b++)y[b-1]=arguments[b];t.emit(g,...y)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Mw(this.services,this.options),this.translator.on("*",function(g){for(var x=arguments.length,y=new Array(x>1?x-1:0),b=1;b<x;b++)y[b-1]=arguments[b];t.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=R0),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return t.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return t.store[u](...arguments),t}});const l=Oy(),c=()=>{const u=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),n(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R0;const s=typeof t=="string"?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],o=r=>{if(!r||r==="cimode")return;this.services.languageUtils.toResolveHierarchy(r).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(r=>o(r)),this.services.backendConnector.load(a,this.options.ns,r=>{!r&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(r)})}else n(null)}reloadResources(t,i,n){const s=Oy();return typeof t=="function"&&(n=t,t=void 0),typeof i=="function"&&(n=i,i=void 0),t||(t=this.languages),i||(i=this.options.ns),n||(n=R0),this.services.backendConnector.reload(t,i,a=>{s.resolve(),n(a)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&$8.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let i=0;i<this.languages.length;i++){const n=this.languages[i];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,i){var n=this;this.isLanguageChangingTo=t;const s=Oy();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),i&&i(l,function(){return n.t(...arguments)})},r=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||a(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?r(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(r):this.services.languageDetector.detect(r):r(t),s}getFixedT(t,i,n){var s=this;const a=function(o,r){let l;if(typeof r!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([o,r].concat(u))}else l={...r};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||a.keyPrefix);const f=s.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(o)?g=o.map(x=>`${l.keyPrefix}${f}${x}`):g=l.keyPrefix?`${l.keyPrefix}${f}${o}`:o,s.t(g,l)};return typeof t=="string"?a.lng=t:a.lngs=t,a.ns=i,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=i.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(r,l)=>{const c=this.services.backendConnector.state[`${r}|${l}`];return c===-1||c===0||c===2};if(i.precheck){const r=i.precheck(this,o);if(r!==void 0)return r}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!s||o(a,t)))}loadNamespaces(t,i){const n=Oy();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),i&&i(s)}),n):(i&&i(),Promise.resolve())}loadLanguages(t,i){const n=Oy();typeof t=="string"&&(t=[t]);const s=this.options.preload||[],a=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=s.concat(a),this.loadResources(o=>{n.resolve(),i&&i(o)}),n):(i&&i(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new c5(h5());return i.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new Vx(t,i)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R0;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},a=new Vx(s);return(t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(r=>{a[r]=this[r]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new r5(this.store.data,s),a.services.resourceStore=a.store),a.translator=new Mw(a.services,s),a.translator.on("*",function(r){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];a.emit(r,...c)}),a.init(s,i),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const yn=Vx.createInstance();yn.createInstance=Vx.createInstance;yn.createInstance;yn.dir;yn.init;yn.loadResources;yn.reloadResources;yn.use;yn.changeLanguage;yn.getFixedT;yn.t;yn.exists;yn.setDefaultNamespace;yn.hasLoadedNamespace;yn.loadNamespaces;yn.loadLanguages;const zie=(...e)=>{console!=null&&console.warn&&(Gh(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},f5={},Kk=(...e)=>{Gh(e[0])&&f5[e[0]]||(Gh(e[0])&&(f5[e[0]]=new Date),zie(...e))},K8=(e,t)=>()=>{if(e.isInitialized)t();else{const i=()=>{setTimeout(()=>{e.off("initialized",i)},0),t()};e.on("initialized",i)}},m5=(e,t,i)=>{e.loadNamespaces(t,K8(e,i))},g5=(e,t,i,n)=>{Gh(i)&&(i=[i]),i.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,K8(e,n))},_ie=(e,t,i={})=>!t.languages||!t.languages.length?(Kk("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:i.lng,precheck:(n,s)=>{var a;if(((a=i.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,e))return!1}}),Gh=e=>typeof e=="string",Fie=e=>typeof e=="object"&&e!==null,Bie=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Vie={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Uie=e=>Vie[e],Gie=e=>e.replace(Bie,Uie);let Zk={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Gie};const Wie=(e={})=>{Zk={...Zk,...e}},Hie=()=>Zk;let Z8;const Yie=e=>{Z8=e},$ie=()=>Z8,Kie={type:"3rdParty",init(e){Wie(e.options.react),Yie(e)}},Zie=D.createContext();class qie{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(i=>{var n;(n=this.usedNamespaces)[i]??(n[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Xie=(e,t)=>{const i=D.useRef();return D.useEffect(()=>{i.current=e},[e,t]),i.current},q8=(e,t,i,n)=>e.getFixedT(t,i,n),Qie=(e,t,i,n)=>D.useCallback(q8(e,t,i,n),[e,t,i,n]),je=(e,t={})=>{var M,I,C,L;const{i18n:i}=t,{i18n:n,defaultNS:s}=D.useContext(Zie)||{},a=i||n||$ie();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new qie),!a){Kk("You will need to pass in an i18next instance by using initReactI18next");const O=(z,V)=>Gh(V)?V:Fie(V)&&Gh(V.defaultValue)?V.defaultValue:Array.isArray(z)?z[z.length-1]:z,P=[O,{},!1];return P.t=O,P.i18n={},P.ready=!1,P}(M=a.options.react)!=null&&M.wait&&Kk("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Hie(),...a.options.react,...t},{useSuspense:r,keyPrefix:l}=o;let c=s||((I=a.options)==null?void 0:I.defaultNS);c=Gh(c)?[c]:c||["translation"],(L=(C=a.reportNamespaces).addUsedNamespaces)==null||L.call(C,c);const u=(a.isInitialized||a.initializedStoreOnce)&&c.every(O=>_ie(O,a,o)),h=Qie(a,t.lng||null,o.nsMode==="fallback"?c:c[0],l),f=()=>h,g=()=>q8(a,t.lng||null,o.nsMode==="fallback"?c:c[0],l),[x,y]=D.useState(f);let b=c.join();t.lng&&(b=`${t.lng}${b}`);const v=Xie(b),S=D.useRef(!0);D.useEffect(()=>{const{bindI18n:O,bindI18nStore:P}=o;S.current=!0,!u&&!r&&(t.lng?g5(a,t.lng,c,()=>{S.current&&y(g)}):m5(a,c,()=>{S.current&&y(g)})),u&&v&&v!==b&&S.current&&y(g);const z=()=>{S.current&&y(g)};return O&&(a==null||a.on(O,z)),P&&(a==null||a.store.on(P,z)),()=>{S.current=!1,a&&(O==null||O.split(" ").forEach(V=>a.off(V,z))),P&&a&&P.split(" ").forEach(V=>a.store.off(V,z))}},[a,b]),D.useEffect(()=>{S.current&&u&&y(f)},[a,l,u]);const N=[x,a,u];if(N.t=x,N.i18n=a,N.ready=u,u||!u&&!r)return N;throw new Promise(O=>{t.lng?g5(a,t.lng,c,()=>O()):m5(a,c,()=>O())})},{slice:Jie,forEach:ene}=[];function tne(e){return ene.call(Jie.call(arguments,1),t=>{if(t)for(const i in t)e[i]===void 0&&(e[i]=t[i])}),e}const y5=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ine=(e,t,i)=>{const n=i||{};n.path=n.path||"/";const s=encodeURIComponent(t);let a=`${e}=${s}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!y5.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!y5.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a},x5={create(e,t,i,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+i*60*1e3)),n&&(s.domain=n),document.cookie=ine(e,encodeURIComponent(t),s)},read(e){const t=`${e}=`,i=document.cookie.split(";");for(let n=0;n<i.length;n++){let s=i[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e){this.create(e,"",-1)}};var nne={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return x5.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:i,cookieMinutes:n,cookieDomain:s,cookieOptions:a}=t;i&&typeof document<"u"&&x5.create(i,e,n,s,a)}},sne={name:"querystring",lookup(e){var n;let{lookupQuerystring:t}=e,i;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let r=0;r<o.length;r++){const l=o[r].indexOf("=");l>0&&o[r].substring(0,l)===t&&(i=o[r].substring(l+1))}}return i}};let jy=null;const b5=()=>{if(jy!==null)return jy;try{jy=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{jy=!1}return jy};var ane={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&b5())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:i}=t;i&&b5()&&window.localStorage.setItem(i,e)}};let Ry=null;const v5=()=>{if(Ry!==null)return Ry;try{Ry=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ry=!1}return Ry};var one={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&v5())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:i}=t;i&&v5()&&window.sessionStorage.setItem(i,e)}},rne={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:i,userLanguage:n,language:s}=navigator;if(i)for(let a=0;a<i.length;a++)t.push(i[a]);n&&t.push(n),s&&t.push(s)}return t.length>0?t:void 0}},lne={name:"htmlTag",lookup(e){let{htmlTag:t}=e,i;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(i=n.getAttribute("lang")),i}},cne={name:"path",lookup(e){var s;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(s=i[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}},une={name:"subdomain",lookup(e){var s,a;let{lookupFromSubdomainIndex:t}=e;const i=typeof t=="number"?t+1:1,n=typeof window<"u"&&((a=(s=window.location)==null?void 0:s.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[i]}};function dne(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class X8{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,i)}init(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=tne(i,this.options||{},dne()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(nne),this.addDetector(sne),this.addDetector(ane),this.addDetector(one),this.addDetector(rne),this.addDetector(lne),this.addDetector(cne),this.addDetector(une)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let i=[];return t.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(i=i.concat(s))}}),i=i.map(n=>this.options.convertDetectedLanguage(n)),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(t,i){i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||i.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}X8.type="languageDetector";const hne={text:"Loading...",parallax:"ANIMATE"},pne={copied:"Link copied!",page:{home:"Discover the Univearth project","game-exploration":"Exploration mechanics in Univearth","game-explotation":"Exploitation mechanics in Univearth","game-battle":"Battle mechanics in Univearth","game-clans":{clans:"Clans in Univearth",earth:{"clan-cogsairs":"Cogsairs clan in Univearth","clan-freakgardes":"Freak-Gardes clan in Univearth","clan-engingears":"Engine-Gears clan in Univearth","clan-tekheists":"Tekheists clan in Univearth"},alien:{"clan-voidweavers":"Voidweavers clan in Univearth","clan-biofluxers":"Biofluxers clan in Univearth","clan-forestalkers":"Forestalkers clan in Univearth","clan-tidedrifters":"Tidedrifters clan in Univearth"}},"game-cards":"Cards system in Univearth",project:{"events-presale":"Join the presale of Univearth","events-giveaway":"Join the giveaway of Univearth","events-round":"About the first investment round of Univearth",about:"More about the project Univearth",roadmap:"Roadmap of Univearth",team:"Meet the team behind Univearth"},presale:{invest:"Join the presale of Univearth",info:"Information about the presale of Univearth",faq:"Frequently asked questions about the presale of Univearth",characters:"Unique characters of the presale of Univearth"}}},fne={language:"IDIOMA","side-lang":"IDIOMA","theme-earth":"EARTH","theme-alien":"ALIEN",follow:"FOLLOW","nav-univearth":"UNIVEARTH","nav-tcg":"TRADING CARDS INVASION","nav-game":"THE GAME","nav-game/mechs":"Mechanics","nav-game/clans":"Clans","nav-game/cards":"Cards","nav-project":"THE PROJECT","nav-project/project":"Project","nav-project/events":"Events","nav-project/about":"About us","nav-presale":"PRESALE","nav-presale/invest":"Invest","nav-presale/info":"Information","nav-presale/nft":"NFT Boxes","nav-presale/marketplace":"Soon: Market"},mne={join:"Join","the-presale":"the",presale:"PRESALE","the-giveaway":"the",giveaway:"GIVEAWAY",live:"Live now",coming:"Coming soon!",days:"days",hours:"hours","read-article":"Read Article","art-company-title":"Oblivion Mechanics","art-company-description":"Revolutionizing the indie industry with transparency, innovation and a disruptive approach.","art-mobile-title":"Mobile Gaming","art-mobile-description":"Redefining quality and monetization standards in the most toxic platform.","art-blockchain-title":"Blockchain as a Tool","art-blockchain-description":"Discover a transparent blockchain investment opportunity with real benefits.","art-presale-title":"About the Presale","art-presale-description":"Don't miss out on being part of the development of something innovative and profitable.","art-game-title":"About Univearth","art-game-description":"A game designed from the ground up to perfectly combine mechanics and economy.","art-ethics-title":"Our Reputation","art-ethics-description":"Building trust and reputation through transparency and ethics.","art-ai-title":"Artificial Intelligence","art-ai-description":"Improving competitiveness in quality and costs under ethical and humane use."},gne={"game-title":"The Game","scroll-to-explore":"Exploration mechanics","scroll-to-resources":"Exploitation mechanics","scroll-to-gameplay":"Battling mechanics","map-title":"EXPLORE","map-description-earth":"Explore and conquer a different region each season, with its own biomes.","map-description-alien":"Explore and invade a different region each season, with its own biomes.","map-item-1-earth":"Join the planet's defense with your commanders and warriors","map-item-1-alien":"Join the planet's invasion with your commanders and warriors","map-item-2-earth":"Explore regions, but beware of invaders!","map-item-2-alien":"Explore regions, but beware of defenders!","map-item-3":"Upgrade your settlement to specialize your troops","map-item-4-earth":"Defeat invaders to dominate zones and gain an advantage","map-item-4-alien":"Defeat defenders to invade zones and gain an advantage","resources-title":"EXPLOIT","resources-description":"Identify zones symbols and exploit their resources, for deck improvements or trading.","resources-item-1":"Find zones with specific resources","resources-item-2":"Exploit resources and complete missions","resources-item-3":"Recruit unique warriors","resources-item-4":"Trade with other players","gameplay-title":"FIGHT","gameplay-description-earth":"Defeat the invading commander by dominating the board in fast-paced, dynamic strategy matches.","gameplay-description-alien":"Defeat the defender's commander by dominating the board in fast-paced, dynamic strategy matches.","gameplay-item-1":"Build decks with commanders and warriors that have unique synergies","gameplay-item-2":"Organize your troops and advance towards enemy zones","gameplay-item-3-earth":"Defeat invaders with your combined skills","gameplay-item-3-alien":"Defeat defenders with your combined skills","gameplay-item-4":"Climb the ranks to earn rewards","clans-title":"Clan strategy","clans-description1":"Each clan is made up of a commander and his warriors, and is focused on a gameplay style that you can combine with other clan members to find the most powerful strategy.","clans-description2":"Discover, collect, and enhance your decks with the unique abilities of the clans you'll find in each region, taking advantage of synergies you can design yourself.","cards-title":"Deck Building","cards-commander":"COMMANDER","cards-card":"CARD","cards-description":"Build your deck with a commander and the cards that will accompany him into battle.","cards-archetype":"Each character belongs to an archetype that gives them specific abilities. Commanders have passive abilities that affect the game on the board, and cards have passive and active abilities that they use on the battlefield.","cards-stats":"Each card has a set of battle statistics. Build your decks by taking advantage of each card's strengths and compensating for its weaknesses to maximize your chances of winning.","cards-ability":"Each card has a unique ability that it uses on the battlefield. This ability has no forced synergies with archetype abilities, but it does allow you to strategically design your deck with your commander's abilities in mind."},yne={"button-coming":"Coming Soon!","button-buying":"Buy NFT","scroll-to-faq":"Frequent questions","scroll-to-info":"Presale summary","info-title":"Presale Objectives","info-text1":"Strengthen the formation of a community that supports Univearths growth","info-text2":"Fund the development of the first Alpha version of the battle system","info-text3":"Innovate in financing methods within the indie gaming industry","info-text4":"Provide small investors the chance to become the foundation of a major project, with the possibility of earning returns on investment","info-text5":"Start building trust in our team and within the community","info-text6":"For full information read the","characters-title":"Unique Characters","characters-description":"Obtain exclusive commanders and warriors, from different cultural clans belonging to unique archetypes.","characters-probability-title":"Rarities & Probabilities","characters-prob-earth-item-1":"Hoard: Card ~39.7%","characters-prob-earth-item-2":"Vault: Card + skin ~27.8%","characters-prob-earth-item-3":"Artifact: Card + skin + sticker ~15.9%","characters-prob-earth-item-4":"Ark: Commander ~7.9%","characters-prob-earth-item-5":"Treasure: Commander + skin ~5.6%","characters-prob-earth-item-6":"Relic: Commander + skin + sticker ~3.2%","characters-prob-alien-item-1":"Eclipse: Card ~39.7%","characters-prob-alien-item-2":"Xenolith: Card + skin ~27.8%","characters-prob-alien-item-3":"Nebula: Card + skin + sticker ~15.9%","characters-prob-alien-item-4":"Colossus: Commander ~7.9%","characters-prob-alien-item-5":"Cosmos: Commander + skin ~5.6%","characters-prob-alien-item-6":"Singularity: Commander + skin + sticker ~3.2%","characters-nft-box-title":"NFT Box","characters-box-item-1":"One Card or Commander","characters-box-item-2":"Some of them including a skin or a collectable sticker","token-title":"NFT Presale","token-description":"Join the token presale for access to exclusive features","token-item-1":"Holders will be able to be part of private asset auctions","token-item-2":"Use them in an exclusive marketplace to obtain hard-to-get and unique in-game assets","nft-description":"Participate in our NFT presale to support the first development stage of Univearth","nft-item-1":"Unique boxes containing exclusive game assets (one card or commander)","nft-item-2":"HOLD to access unique auctions and airdrops","nft-item-3":"Or use them to enhance your game-play or to trade in the marketplace","nft-item-4":"Opening with 3024 boxes containing 72 different characters","chart-label-earth":"Earth NFT","chart-label-alien":"Alien NFT","chart-label-total":"Total NFT","chart-label-sale":"Presale","chart-label-mkt":"Marketing","chart-label-funds":"Development","chart-tooltip-title-earth":"Earth","chart-tooltip-title-alien":"Alien","chart-tooltip-title-mkt":"For influencers","chart-tooltip-title-sale":"Presale","chart-tooltip-title-funds":"Game development","chart-tooltip-content-earth":"Total NFT: 1512","chart-tooltip-content-alien":"Total NFT: 1512","chart-tooltip-content-mkt":"Total NFT: 24","chart-tooltip-content-sale":"Total NFT: 3024","chart-tooltip-content-funds":"Funds: 378,000 POL"},xne={"button-coming":"Coming Soon!","button-live":"Live now!","see-presale":"SEE MORE","giveaway-title":"Win up to 100 USDC","giveaway-description":"Join the giveaway and help us build a strong community while winning prizes","giveaway-text1":"There will be 5 winners of up to 100 USDC","giveaway-text2A":"Participate from the Twitter  ","giveaway-text2B":" ","giveaway-text2C":"and the Instagram  ","giveaway-text2D":" ","giveaway-text3":"The more participants, the bigger the prize","giveaway-conditions":"Conditions: To participate, you must meet the requirements listed in the Twitter/Instagram post. There will be 5 winners. Each prize starts at 10 USDC, increasing progressively up to 100 USDC depending on the number of valid entrants. The maximum prize is reached when there are at least 5,000 entrants. Winners will receive the prizes in the Polygon network wallets they give when contacted.","round-title":"1st Private Round","round-info-title":"First investment achieved!","round-info-description":"The first NFT of completely unique characters were minted","round-info-text1":"24 NFT were sold in total at 500 USDC each","round-info-text2":"Each NFT contains 1 unique clan","round-info-text3":"All NFT will be delivered on the same day as the public presale","see-collection":"See NFT Collection","scroll-to-presale":"Presale","scroll-to-giveaway":"Giveaway","scroll-to-round":"Private round",title:"Univearth is the first official project by Oblivion Mechanics, an independent team aiming to bring innovation to the gaming industry",text1:"This innovation focuses on three key areas: funding, multiplayer participation, and creative development. On the one hand, in the form of funding, using blockchain as an alternative to traditional crowdfunding platforms that impose investment restrictions and high commissions without providing advantages in transparency; on the other hand, in better inclusion in multiplayer mode with an essential focus on the economy; and finally, in the use of tools such as artificial intelligence, which allow independent teams to start from higher quality bases with limited resources. Univearth seeks to be the application of all this in the mobile gaming ecosystem.",text2:"The project aims to develop a multiplayer card game that combines fluid, dynamic mechanics with an economic system driven directly by player decisions. Rather than relying on algorithms or predefined rules, the game balance evolves organically based on the communitys actions, creating a living environment where every move has a real impact. The games internal market allows players to manage their resources and strategies with complete freedom, revisiting the classic economic principles of early MMOs.","scroll-to-roadmap":"Roadmap","scroll-to-summary":"Project summary","roadmap-title":"Roadmap","roadmap-description-title":"Main Events","roadmap-event-live":"Currently live","roadmap-event-coming":"Coming","roadmap-event-complete":"Completed!","roadmap-event-private":"1st Investment Round","roadmap-event-giveaway":"Giveaway","roadmap-event-presale":"Presale","roadmap-private-round-title":"1st Investment Round","roadmap-private-round-date":"Q4 2024","roadmap-private-round-description":"First private NFT sale","roadmap-cinematic-title":"Cinematic","roadmap-cinematic-date":"Q1 2025","roadmap-cinematic-description":"Game lore cinematic","roadmap-giveaway-title":"Giveaway","roadmap-giveaway-date":"Q2 2025","roadmap-giveaway-description":"5 prizes of 100 USDC","roadmap-presale-title":"Presale","roadmap-presale-date":"Q1 2025","roadmap-presale-description":"Platform: OpenSea","roadmap-hiring-title":"Team building","roadmap-hiring-date":"Q2 2025","roadmap-hiring-description":"for development","roadmap-nft-reveal-title":"NFT linking","roadmap-nft-reveal-date":"Q3-4 2025","roadmap-nft-reveal-description":"NFT content reveal!","roadmap-updates-title":"Updates","roadmap-updates-date":"2025","roadmap-updates-description":"Progress publishing","roadmap-presale2-title":"UVET presale","roadmap-presale2-date":"Q4 2025","roadmap-presale2-description":"Big funding token presale","roadmap-alpha-title":"Close ALPHA","roadmap-alpha-date":"Q4 2025","roadmap-alpha-description":"Battleground fights ALPHA testing","roadmap-more-title":"Stay tuned","roadmap-more-date":"2026","roadmap-more-description":"for some exciting news!"},bne={terms:"Terms & Conditions",privacy:"Privacy Policy","scroll-to-more":"More...","scroll-to-team":"Team",title:"Team","copy-toast":"E-mail copied!",emiliano:"Founder & Game Designer",lautaro:"Co-founder & Researcher",alexia:"HR Manager","ux-designer":"UX/UI Designer",ines:"Digital Artist",nachog:"Artist","concept-artist":"Concept Artist",oscar:"Multimedia Designer",audiovisual:"Audiovisual Editor",musician:"Musician - Composer","web-dev":"Web Developer",prompt:"Prompt Engineer",blockchain:"Blockchain Advisor",marlene:"Marketing Leader",juampi:"Marketing & Communications",nicolas:"Digital Marketing Specialist",romi:"Marketing Assistant",cm:"Community Manager"},vne={title:"FAQ","q-1":"What is the purpose of this presale?","a-1":"The presale is designed to fund the development of Univearth. This is a presale because it takes place before the project is officially released.","q-2":"How can I participate in the presale?","a-2":"To participate in the Univearth presale, visit the website where you will find links to OpenSea, the platform where NFT will be sold when announced. Please note that this platform is managed by third parties, and we do not have control over their operations.","q-3":"When does the presale start and end?","a-3":"The NFT presale will start on a specific date (to be announced) and will end once the 3024 NFT are sold out.","q-4":"What cryptocurrencies are accepted for purchasing NFT?","a-4":"POL and ETH will be accepted for purchases. The blockchain network used will be Polygon.","q-5":"Is there a limit on the number of NFT I can buy?","a-5":"NFT purchases are only limited by transaction speed and availability.","q-6":"What are the benefits of buying in the presale?","a-6":"NFT are boxes containing game assets that cannot be obtained elsewhere. These assets are unique and scarce, adding value. Since it is a very early stage of the project, returns of investment could be really high.","q-7":"How can I ensure my purchase is secure?","a-7":"The presale will take place on a well-established third-party platform with sufficient auditing. Regarding the security of the value of purchased assets, transparency is our main tool to build trust. We will continuously communicate project updates, and blockchain transactions can be publicly monitored.","q-8":"What do I receive when I purchase an NFT?","a-8":"Each NFT represents a box. After the presale, users will be able to reveal their content. Obtained assets can be traded as NFT and when the project is launched.","q-9":"What should I do if I encounter problems during the purchase?","a-9":"Since the presale is conducted on a third-party platform, any issues should be resolved with the support team of that platform.","q-10":"Will the NFT have any use before game launch?","a-10":"During Univearth's development, there will be various events like exclusive auctions and airdrops, accessible by HOLDING the NFT. Every unique asset from Univearth can be traded both before and after the game's launch."},wne={loading:hne,share:pne,header:fne,home:mne,game:gne,presale:yne,project:xne,about:bne,faq:vne},Sne={text:"Cargando...",parallax:"ANIMAR"},Nne={copied:"Enlace copiado!",page:{home:"Descubre el proyecto de Univearth","game-exploration":"Mecnicas de exploracin en Univearth","game-explotation":"Mecnicas de explotacin en Univearth","game-battle":"Mecnicas de batalla en Univearth","game-clans":{clans:"Clanes en Univearth",earth:{"clan-cogsairs":"Clan Cogsairs en Univearth","clan-freakgardes":"Clan Freak-Gardes en Univearth","clan-engingears":"Clan Engine-Gears en Univearth","clan-tekheists":"Clan Tekheists en Univearth"},alien:{"clan-voidweavers":"Clan Voidweavers en Univearth","clan-biofluxers":"Clan Biofluxers en Univearth","clan-forestalkers":"Clan Forestalkers en Univearth","clan-tidedrifters":"Clan Tidedrifters en Univearth"}},"game-cards":"Sistema de cartas en Univearth",project:{"events-presale":"nete a la preventa de Univearth","events-giveaway":"Participa en el sorteo de Univearth","events-round":"Sobre la primera ronda de inversin de Univearth",about:"Conoce ms sobre el proyecto Univearth",roadmap:"Hoja de ruta de Univearth",team:"Conoce al equipo de Univearth"},presale:{invest:"nete a la preventa de Univearth",info:"Informacin sobre la preventa de Univearth",faq:"Preguntas frecuentes de la preventa de Univearth",characters:"Personajes nicos en la preventa de Univearth"}}},Mne={language:"LANG","side-lang":"LANGUAGE","theme-earth":"TIERRA","theme-alien":"ALIEN",follow:"REDES","nav-univearth":"UNIVEARTH","nav-tcg":"TRADING CARDS INVASION","nav-game":"EL JUEGO","nav-game/mechs":"Mecnicas","nav-game/clans":"Clanes","nav-game/cards":"Cartas","nav-project":"EL PROYECTO","nav-project/project":"Proyecto","nav-project/events":"Eventos","nav-project/about":"Nosotros","nav-presale":"PREVENTA","nav-presale/invest":"Invierte","nav-presale/info":"Informacin","nav-presale/nft":"Cajas NFT","nav-presale/marketplace":"Pronto: Mercado"},Ine={join:"Participa","the-presale":"en la",presale:"PREVENTA","the-giveaway":"en el",giveaway:"SORTEO",coming:"Muy pronto!",live:"Disponible ahora",days:"das",hours:"horas","read-article":"Leer Artculo","art-company-title":"Oblivion Mechanics","art-company-description":"Revolucionando la industria indie con transparencia, innovacin y un enfoque disruptivo.","art-mobile-title":"Juegos Mviles","art-mobile-description":"Redefiniendo los estndares de calidad y monetizacin en la plataforma ms txica.","art-blockchain-title":"Blockchain como Medio","art-blockchain-description":"Descubre una oportunidad de inversin transparente en blockchain con beneficios reales.","art-presale-title":"Sobre la Preventa","art-presale-description":"Aprovecha a formar parte del desarrollo de algo innovador y rentable.","art-game-title":"Sobre Univearth","art-game-description":"Un juego diseado desde las bases para combinar mecnicas y economa perfectamente.","art-ethics-title":"Nuestra Reputacin","art-ethics-description":"Construyendo confianza y reputacin a travs de la transparencia y la tica.","art-ai-title":"Inteligencia Artificial","art-ai-description":"Mejorando la competitividad en calidad y costos bajo un uso tico y humano."},Tne={"game-title":"El Juego","scroll-to-explore":"Mecnicas de exploracin","scroll-to-resources":"Mecnicas de explotacin","scroll-to-gameplay":"Mecnicas de batalla","map-title":"EXPLORA","map-description-earth":"Explora y conquista una regin diferente cada temporada, con sus propios biomas.","map-description-alien":"Explora e invade una regin diferente cada temporada, con sus propios biomas.","map-item-1-earth":"nete a la defensa del planeta con tus comandantes y guerreros","map-item-1-alien":"nete a la invasin del planeta con tus comandantes y guerreros","map-item-2-earth":"Explora regiones, pero ten cuidado con los invasores!","map-item-2-alien":"Explora regiones, pero ten cuidado con los defensores!","map-item-3":"Mejora tu asentamiento para especializar tus tropas","map-item-4-earth":"Derrota a los invasores para dominar zonas y obtener ventaja","map-item-4-alien":"Derrota a los defensores para invadir zonas y obtener ventaja","resources-title":"RECOLECTA","resources-description":"Identifica smbolos de zonas y explota sus recursos para mejorar tu mazo o comerciar.","resources-item-1":"Encuentra zonas con recursos especficos","resources-item-2":"Explota recursos y completa misiones","resources-item-3":"Recluta guerreros nicos","resources-item-4":"Comercia con otros jugadores","gameplay-title":"COMBATE","gameplay-description-earth":"Derrota al comandante invasor dominando el tablero en partidas estratgicas dinmicas y rpidas.","gameplay-description-alien":"Derrota al comandante defensor dominando el tablero en partidas estratgicas dinmicas y rpidas.","gameplay-item-1":"Construye mazos con comandantes y guerreros que tienen sinergias nicas","gameplay-item-2":"Organiza tus tropas y avanza hacia zonas enemigas","gameplay-item-3-earth":"Derrota a los invasores con tus habilidades combinadas","gameplay-item-3-alien":"Derrota a los defensores con tus habilidades combinadas","gameplay-item-4":"Escala posiciones para ganar recompensas","clans-title":"Estrategia por clanes","clans-description1":"Cada clan est compuesto por un comandante y sus guerreros, y est enfocado en un estilo de jugabilidad que puedes combinar con miembros de otros clanes para encontrar la estrategia ms poderosa.","clans-description2":"Descubre, colecciona y potencia tus mazos con las singulares habilidades de los clanes que encontrars en cada regin, aprovechando sinergias que puedes disear t mismo.","cards-title":"Armado de Mazos","cards-commander":"COMANDANTE","cards-card":"CARTA","cards-description":"Forma tu mazo con un comandante y las cartas que lo acompaarn en la batalla.","cards-archetype":"Cada personaje pertenece a un arquetipo que le confiere habilidades especficas. Los comandantes tienen habilidades pasivas que afectan al juego en el tablero, y las cartas tienen habilidades pasivas y activas que utilizan en el campo de batalla.","cards-stats":"Cada carta tiene un conjunto de estadsticas de batalla. Arma tus mazos aprovechando las fortalezas y compensando las debilidades de cada carta para maximizar las posibilidades de ganar.","cards-ability":"Cada carta tiene una habilidad nica que utiliza en el campo de batalla. Esta habilidad no tiene sinergias forzadas con las habilidades de arquetipo, pero s te permite disear tu mazo estratgicamente teniendo en cuenta las habilidades de tu comandante."},Ane={"button-coming":"Muy Pronto!","button-buying":"Comprar NFT","scroll-to-faq":"Preguntas frecuentes","scroll-to-info":"Resumen de preventa","info-title":"Objetivos de la Preventa","info-text1":"Fortalecer la formacin de una comunidad que apoye el crecimiento de Univearth","info-text2":"Financiar el desarrollo de la primera versin Alfa del sistema de batallas","info-text3":"Innovar en los mtodos de financiamiento utilizados por la industria indie de videojuegos","info-text4":"Ofrecer a pequeos inversores la oportunidad de ser los pilares de un gran proyecto, con la posibilidad de obtener retornos de inversin","info-text5":"Comenzar a plantar las semillas de confianza en nuestro equipo y en la comunidad","info-text6":"Para ver la informacin completa consultar el","characters-title":"Personajes nicos","characters-description":"Obtn comandantes y guerreros exclusivos de diferentes clanes culturales pertenecientes a arquetipos nicos.","characters-probability-title":"Rarezas y Chances","characters-prob-earth-item-1":"Alijo: Carta ~39.7%","characters-prob-earth-item-2":"Cofre: Carta + skin ~27.8%","characters-prob-earth-item-3":"Artefacto: Carta + skin + sticker ~15.9%","characters-prob-earth-item-4":"Arca: Comandante ~39.7%","characters-prob-earth-item-5":"Tesoro: Comandante + skin ~27.8%","characters-prob-earth-item-6":"Reliquia: Comandante + skin + sticker ~15.9%","characters-prob-alien-item-1":"Eclipse: Carta ~7.9%","characters-prob-alien-item-2":"Xenolito: Carta + skin ~5.6%","characters-prob-alien-item-3":"Nebula: Carta + skin + sticker ~3.2%","characters-prob-alien-item-4":"Coloso: Comandante ~7.9%","characters-prob-alien-item-5":"Cosmo: Comandante + skin ~5.6%","characters-prob-alien-item-6":"Singularidad: Comandante + skin + sticker ~3.2%","characters-nft-box-title":"Caja NFT","characters-box-item-1":"Una carta o comandante","characters-box-item-2":"Algunas incluyen una skin o un sticker coleccionable","token-title":"Preventa NFT","token-description":"nete a la preventa de tokens para acceder a funciones exclusivas","token-item-1":"Los poseedores podrn ser parte de subastas privadas de activos","token-item-2":"salos en un mercado exclusivo para obtener activos nicos y difciles de conseguir en el juego","nft-description":"Participa en nuestra preventa de NFT para apoyar la primera etapa de desarrollo de Univearth","nft-item-1":"Cajas nicas con activos de juego exclusivos (una carta o comandante)","nft-item-2":"Gurdalos (HOLD) para acceder a subastas y airdrops nicos","nft-item-3":"O salos para mejorar tu juego o comerciarlo en el mercado","nft-item-4":"Lanzamiento: 3024 cajas con 72 personajes distintos","chart-label-earth":"NFT Tierra","chart-label-alien":"NFT Alien","chart-label-total":"NFT Totales","chart-label-sale":"Preventa","chart-label-mkt":"Marketing","chart-label-funds":"Desarrollo","chart-tooltip-title-earth":"Tierra","chart-tooltip-title-alien":"Alien","chart-tooltip-title-mkt":"Para influencers","chart-tooltip-title-sale":"Preventa","chart-tooltip-title-funds":"Desarrollo del juego","chart-tooltip-content-earth":"NFT total: 1512","chart-tooltip-content-alien":"NFT total: 1512","chart-tooltip-content-mkt":"NFT total: 24","chart-tooltip-content-sale":"NFT total: 3024","chart-tooltip-content-funds":"Fondos: 378.000 POL"},kne={"button-coming":"Muy Pronto!","button-live":"Disponible Ahora!","see-presale":"VER MS","giveaway-title":"Gana hasta 100 USDC","giveaway-description":"Participa en el sorteo y al mismo tiempo aydanos a forjar una comunidad slida","giveaway-text1":"Habr 5 ganadores de hasta 100 USDC","giveaway-text2A":"Participa desde el  ","giveaway-text2B":"  de Twitter","giveaway-text2C":"y el  ","giveaway-text2D":"  de Instagram","giveaway-text3":"Mientras ms participantes, mayor el premio","giveaway-conditions":"Condiciones: para participar hay que cumplir los requisitos listados en el post de Twitter/Instagram. Habr 5 ganadores. Cada premio comienza desde 10 USDC, aumentando progresivamente hasta 100 USDC dependiendo de la cantidad de participantes vlidos. El mximo premio se alcanza cuando haya al menos 5000 participantes. Los ganadores recibirn los premios a las billeteras de la red Polygon que hayan brindado cuando se los contacte.","round-title":"1ra Ronda Privada","round-info-title":"Primera inversin completada!","round-info-description":"Se generaron los primeros NFT de personajes completamente nicos","round-info-text1":"Fueron vendidos 24 NFT en total a 500 USDC cada uno","round-info-text2":"Cada NFT contiene 1 clan nico","round-info-text3":"Los NFT se entregarn el mismo da de la preventa pblica","see-collection":"Ver Coleccin NFT","scroll-to-presale":"Preventa","scroll-to-giveaway":"Sorteo","scroll-to-round":"Ronda privada",title:"Univearth es el primer proyecto oficial de Oblivion Mechanics, un equipo independiente que busca innovar en la industria de videojuegos",text1:"Esta innovacin se centra en tres reas clave: financiacin, participacin multijugador y desarrollo creativo. Por un lado en la forma de financiamiento, utilizando blockchain como alternativa a plataformas tradicionales de crowfunding que imponen restricciones a la inversin y comisiones elevadas sin aportar ventajas en la transparencia; por otro lado en una mejor inclusin en el modo multijugador con foco esencial en la economa; y por ltimo en el aprovechamiento de herramientas como la inteligencia artificial, que permiten a equipos independientes partir de bases de calidad ms alta con recursos limitados. Univearth busca ser la aplicacin de todo esto en el ecosistema de los juegos mviles.",text2:"El proyecto tiene como objetivo el desarrollo de un juego de cartas multijugador que combina mecnicas dinmicas y fluidas con un sistema econmico impulsado directamente por las decisiones de los jugadores. En lugar de depender de algoritmos o reglas predefinidas, el equilibrio del juego evoluciona de forma orgnica a partir de las acciones de la comunidad, lo que crea un entorno vivo donde cada movimiento tiene un impacto real. El mercado interno del juego permite a los jugadores gestionar sus recursos y estrategias con total libertad, retomando los principios econmicos clsicos de los primeros MMO.","scroll-to-roadmap":"Hoja de ruta","scroll-to-summary":"Resumen del proyecto","roadmap-title":"Hoja de Ruta","roadmap-description-title":"Eventos Principales","roadmap-event-live":"Disponible ahora","roadmap-event-coming":"Prximamente","roadmap-event-complete":"Completado!","roadmap-event-private":"1ra Ronda de Inversin","roadmap-event-giveaway":"Sorteo","roadmap-event-presale":"Preventa","roadmap-private-round-title":"1ra Ronda de Inversin","roadmap-private-round-date":"Q4 2024","roadmap-private-round-description":"Venta privada de los primeros NFT","roadmap-cinematic-title":"Cinemtica","roadmap-cinematic-date":"Q1 2025","roadmap-cinematic-description":"Cinemtica del lore del juego","roadmap-giveaway-title":"Sorteo","roadmap-giveaway-date":"Q2 2025","roadmap-giveaway-description":"5 premios de 100 USDC","roadmap-presale-title":"Preventa","roadmap-presale-date":"Q1 2025","roadmap-presale-description":"Plataforma:OpenSea","roadmap-hiring-title":"Armado del equipo","roadmap-hiring-date":"Q2 2025","roadmap-hiring-description":"de desarrolladores","roadmap-nft-reveal-title":"Vinculacin de NFT","roadmap-nft-reveal-date":"Q3-4 2025","roadmap-nft-reveal-description":"Contenido NFT revelado!","roadmap-updates-title":"Actualizaciones","roadmap-updates-date":"2025","roadmap-updates-description":"Publicacin del progreso","roadmap-presale2-title":"Preventa de UVET","roadmap-presale2-date":"Q4 2025","roadmap-presale2-description":"Gran preventa de financiamiento","roadmap-alpha-title":"ALFA cerrada","roadmap-alpha-date":"Q4 2025","roadmap-alpha-description":"Pruebas ALFA de batallas de tablero","roadmap-more-title":"Atento","roadmap-more-date":"2026","roadmap-more-description":"a lo que viene!"},Cne={terms:"Trminos y Condiciones",privacy:"Polticas de Privacidad","scroll-to-more":"Ms...","scroll-to-team":"Equipo",title:"Equipo","copy-toast":"E-mail copiado!",emiliano:"Fundador y Diseador de Juego",lautaro:"Cofundador e Investigador",alexia:"Gerente de Recursos Humanos","ux-designer":"Diseadora UX/UI",ines:"Artista Digital",nachog:"Artista","concept-artist":"Artista Conceptual",oscar:"Diseador Multimedia",audiovisual:"Editor Audiovisual",musician:"Msico - Compositor","web-dev":"Desarrollador Web",prompt:"Ingeniero de Prompts",blockchain:"Asesor Blockchain",marlene:"Lder de Marketing",juampi:"Marketing y Comunicaciones",nicolas:"Especialista en Marketing Digital",romi:"Asistente de Marketing",cm:"Administrador de Redes Sociales"},Dne={title:"Preguntas Frecuentes","q-1":"Cul es el propsito de esta preventa?","a-1":"La preventa est diseada para financiar el comienzo del desarrollo de Univearth. Es una preventa porque se lleva a cabo antes de que el proyecto sea lanzado oficialmente.","q-2":"Cmo puedo participar en la preventa?","a-2":"Para participar en la preventa de Univearth, visita el sitio web donde encontrars enlaces a OpenSea, la plataforma especfica donde se vendern los NFT tras anunciarse. Ten en cuenta que esta plataforma es gestionada por terceros, y no tenemos control sobre sus operaciones.","q-3":"Cundo comienza y termina la preventa?","a-3":"La preventa de NFT comenzar en una fecha especfica (a anunciar) y terminar una vez que los 3024 NFT se hayan agotado.","q-4":"Qu criptomonedas se aceptan para comprar NFT?","a-4":"Se aceptar POL y ETH para las compras. La red blockchain utilizada ser Polygon.","q-5":"Hay un lmite en la cantidad de NFT que puedo comprar?","a-5":"Las compras de NFT estn limitadas solo por la velocidad de transaccin y disponibilidad.","q-6":"Cules son los beneficios de comprar en la preventa?","a-6":"Los NFT son cajas que contienen activos del juego que no pueden obtenerse de otra manera. Estos activos son nicos y escasos, lo que les aumenta el valor. Dado que es una etapa muy temprana del proyecto, los retornos de inversin podran ser muy altos.","q-7":"Cmo puedo asegurarme de que mi compra es segura?","a-7":"La preventa se llevar a cabo en una plataforma de terceros bien establecida con suficiente auditora. En cuanto a la seguridad del valor de los activos comprados, la transparencia es nuestra principal herramienta para generar confianza. Comunicaremos continuamente las actualizaciones del proyecto, y las transacciones en blockchain pueden ser monitoreadas pblicamente.","q-8":"Qu recibo cuando compro un NFT?","a-8":"Cada NFT representa una caja. Despus de la preventa, los usuarios podrn revelar su contenido. Los activos obtenidos pueden ser intercambiados como NFT y cuando el proyecto sea lanzado.","q-9":"Qu debo hacer si encuentro problemas durante la compra?","a-9":"Dado que la preventa se realiza en una plataforma de terceros, cualquier problema debe resolverse con el equipo de soporte de esa plataforma.","q-10":"Qu uso tendrn los NFT antes del lanzamiento del juego?","a-10":"Durante el desarrollo de Univearth, habr distintos eventos como subastas y airdrops exclusivos, a los que se podr acceder guardando (HOLD) los NFT. Todo activo nico de Univearth puede ser comerciado antes o despus del lanzamiento del juego."},Lne={loading:Sne,share:Nne,header:Mne,home:Ine,game:Tne,presale:Ane,project:kne,about:Cne,faq:Dne},Ene=50,F="earth",De="alien",qD="2025-03-18T18:00:00-03:00",XD=!1,One="https://x.com/OblivionMechs/status/1897106715205935319",jne="https://www.instagram.com/reel/DG1V7i_qy-b/?utm_source=ig_web_copy_link",qk="https://opensea.io/collection/univearth/overview",QD=qk.length,Rne="https://opensea.io/collection/univearth-pr",wr="https://ea-portfolio.vercel.app/uvegame/",Xk={cinematic:{es:"https://www.youtube.com/embed/6L0vg49os5g?list=PLma5G-s8ZIuVMfYoz-ltEFancyW1kzPNz",en:"https://www.youtube.com/embed/L2WMuPQEEVw?list=PLma5G-s8ZIuVMfYoz-ltEFancyW1kzPNz"},clans:{[F]:{freakGardesMayaVideo:"https://www.youtube.com/embed/RNnWffTQL5A?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",freakGardesPunkVideo:"https://www.youtube.com/embed/bvE4VrF0eVc?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",engineGearsSkaterVideo:"https://www.youtube.com/embed/_ARip8AT7BY?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",engineGearsTinglitVideo:"https://www.youtube.com/embed/ZDJgEBwXW_g?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",tekheistsNavajoVideo:"https://www.youtube.com/embed/oYLPbvkY5_g?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",tekheistsCherokeeVideo:"https://www.youtube.com/embed/Uq-Rav0sOok?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala"},[De]:{biofluxersWolfVideo:"https://www.youtube.com/embed/J-bymHMhx6Q?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",biofluxersVultureVideo:"https://www.youtube.com/embed/j1G7NpsYox0?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",forestalkersHorseVideo:"https://www.youtube.com/embed/GriU-Zau6wc?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",forestalkersBatVideo:"https://www.youtube.com/embed/5YU-qMnHroc?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",tidedriftersEelVideo:"https://www.youtube.com/embed/cy-bVVmVrnE?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala",tidedriftersSharkVideo:"https://www.youtube.com/embed/QLSgHyoxMno?list=PLma5G-s8ZIuU3rTJQdMlbJMDe_SwP6Ala"}}},gr={discord:"https://discord.gg/XkwUDZerD5",telegram:"https://t.me/+_k5ChBUL4MIxMzQx",youtube:"https://www.youtube.com/@OblivionMechanics",tiktok:"https://www.tiktok.com/@oblivionmechanics",x:"https://x.com/OblivionMechs",instagram:"https://www.instagram.com/oblivionmechanics/",whitepaperEN:"https://medium.com/@oblivionmechanics/univearth-whitepaper-ddbab3f4547b",whitepaperES:"https://medium.com/@oblivionmechanics/univearth-whitepaper-07551b481a30"},Pne=["/uvegame/fonts/Orbitron-Bold.ttf","/uvegame/fonts/Orbitron-ExtraBold.ttf","/uvegame/fonts/Orbitron-Medium.ttf","/uvegame/fonts/Orbitron-Regular.ttf","/uvegame/fonts/NunitoSans-Black.ttf","/uvegame/fonts/NunitoSans-ExtraBold.ttf","/uvegame/fonts/NunitoSans-Bold.ttf","/uvegame/fonts/NunitoSans-SemiBold.ttf","/uvegame/fonts/NunitoSans-Medium.ttf","/uvegame/fonts/NunitoSans-Regular.ttf","/uvegame/fonts/NunitoSans-Light.ttf","/uvegame/fonts/NunitoSans-ExtraLight.ttf","/uvegame/fonts/Nunito-Black.ttf","/uvegame/fonts/Nunito-ExtraBold.ttf","/uvegame/fonts/Nunito-Bold.ttf","/uvegame/fonts/Nunito-SemiBold.ttf","/uvegame/fonts/Nunito-Medium.ttf","/uvegame/fonts/Nunito-Regular.ttf","/uvegame/fonts/Nunito-Light.ttf","/uvegame/fonts/Nunito-ExtraLight.ttf"],Q8=(e,t)=>({web:Math.min(94,e*.11),medium:Math.min(128,e*.075),mobile:Math.min(100,e*.11)})[t],rt=e=>e.split("-")[0]??"en",zt=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(e)&&!window.MSStream},zne=e=>[...new Set(e)],_ne=(e,t,i)=>{const n=zne(Pne),s=[],a=t===F?De:F;Object.entries(e).forEach(([h,f])=>{h.includes(a)||s.push(f)});const o=(h,f)=>{let g=0;const x=()=>{g++,g===h.length&&f()};h.forEach(y=>{const b=new Image;b.src=y,b.onload=x,b.onerror=()=>{x()}}),h.length===0&&f()},r=(h,f)=>{let g=0;const x=()=>{g++,g===h.length&&f()};h.forEach(y=>{const b=new FontFace("CustomFont",`url(${y})`);b.load().then(()=>{document.fonts.add(b),x()}).catch(()=>{x()})}),h.length===0&&f()};let l=!1,c=!1;const u=()=>{l&&c&&i()};o(s,()=>{l||(l=!0,u())}),r(n,()=>{c||(c=!0,u())})},J8={en:{translation:wne},es:{translation:Lne}};yn.use(X8).use(Kie).init({resources:J8,fallbackLng:"en",supportedLngs:["en","es"],load:"languageOnly",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});yn.on("initialized",()=>{const e=rt(yn.language);J8[e]||yn.changeLanguage("en"),localStorage.getItem("i18nextLng")||localStorage.setItem("i18nextLng",e||"en")});const dr={};let Fne=0;function Wi(e,t){const i=`atom${++Fne}`,n={toString(){return(dr?"production":void 0)!=="production"&&this.debugLabel?i+":"+this.debugLabel:i}};return typeof e=="function"?n.read=e:(n.init=e,n.read=Bne,n.write=Vne),t&&(n.write=t),n}function Bne(e){return e(this)}function Vne(e,t,i){return t(this,typeof i=="function"?i(e(this)):i)}const w5=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,PT=e=>"init"in e,zT=e=>!!e.write,vx=Symbol((dr?"production":void 0)!=="production"?"CONTINUE_PROMISE":""),JD="pending",Une="fulfilled",Gne="rejected",Wne=e=>typeof e=="object"&&e!==null&&vx in e,P0=new WeakMap,Hne=(e,t,i)=>{if(!P0.has(e)){let n;const s=new Promise((a,o)=>{let r=e;const l=u=>h=>{r===u&&(s.status=Une,s.value=h,a(h),i())},c=u=>h=>{r===u&&(s.status=Gne,s.reason=h,o(h),i())};e.then(l(e),c(e)),n=(u,h)=>{u&&(P0.set(u,s),r=u,u.then(l(u),c(u)),t(),t=h)}});s.status=JD,s[vx]=n,P0.set(e,s)}return P0.get(e)},Yne=e=>typeof(e==null?void 0:e.then)=="function",S5=e=>"v"in e||"e"in e,z0=e=>{if("e"in e)throw e.e;if((dr?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},X1=e=>{const t=e.v;return Wne(t)&&t.status===JD?t:null},eU=(e,t,i)=>{i.p.has(e)||(i.p.add(e),t.then(()=>{i.p.delete(e)},()=>{i.p.delete(e)}))},N5=(e,t,i,n,s)=>{var a;if((dr?"production":void 0)!=="production"&&n===t)throw new Error("[Bug] atom cannot depend on itself");i.d.set(n,s.n);const o=X1(i);o&&eU(t,o,s),(a=s.m)==null||a.t.add(t),e&&$ne(e,n,t)},Sf=()=>[new Map,new Map,new Set],_T=(e,t,i)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,i)},$ne=(e,t,i)=>{const n=e[0].get(t);n&&n.add(i)},Kne=(e,t)=>e[0].get(t),M5=(e,t)=>{e[2].add(t)},rh=e=>{for(;e[1].size||e[2].size;){e[0].clear();const t=new Set(e[1].values());e[1].clear();const i=new Set(e[2]);e[2].clear(),t.forEach(n=>{var s;return(s=n.m)==null?void 0:s.l.forEach(a=>a())}),i.forEach(n=>n())}},tU=e=>{let t;(dr?"production":void 0)!=="production"&&(t=new Set);const i=(y,b,v,S=()=>{},N=()=>{})=>{const M="v"in b,I=b.v,C=X1(b);if(Yne(v))if(C)C!==v&&(C[vx](v,S),++b.n);else{const L=Hne(v,S,N);if(L.status===JD)for(const O of b.d.keys())eU(y,L,e(O,b));b.v=L,delete b.e}else C&&C[vx](Promise.resolve(v),S),b.v=v,delete b.e;(!M||!Object.is(I,b.v))&&++b.n},n=(y,b,v,S)=>{if(!(S!=null&&S(b))&&S5(v)&&(v.m||Array.from(v.d).every(([O,P])=>n(y,O,e(O,v),S).n===P)))return v;v.d.clear();let N=!0;const M=O=>{if(w5(b,O)){const z=e(O,v);if(!S5(z))if(PT(O))i(O,z,O.init);else throw new Error("no atom init");return z0(z)}const P=n(y,O,e(O,v),S);if(N)N5(y,b,v,O,P);else{const z=Sf();N5(z,b,v,O,P),c(z,b,v),rh(z)}return z0(P)};let I,C;const L={get signal(){return I||(I=new AbortController),I.signal},get setSelf(){return(dr?"production":void 0)!=="production"&&!zT(b)&&console.warn("setSelf function cannot be used with read-only atom"),!C&&zT(b)&&(C=(...O)=>{if((dr?"production":void 0)!=="production"&&N&&console.warn("setSelf function cannot be called in sync"),!N)return l(b,...O)}),C}};try{const O=b.read(M,L);return i(b,v,O,()=>I==null?void 0:I.abort(),()=>{if(v.m){const P=Sf();c(P,b,v),rh(P)}}),v}catch(O){return delete v.v,v.e=O,++v.n,v}finally{N=!1}},s=y=>z0(n(void 0,y,e(y))),a=(y,b,v)=>{var S,N;const M=new Map;for(const I of((S=v.m)==null?void 0:S.t)||[])M.set(I,e(I,v));for(const I of v.p)M.set(I,e(I,v));return(N=Kne(y,b))==null||N.forEach(I=>{M.set(I,e(I,v))}),M},o=(y,b,v)=>{const S=[],N=new Set,M=(L,O)=>{if(!N.has(L)){N.add(L);for(const[P,z]of a(y,L,O))L!==P&&M(P,z);S.push([L,O,O.n])}};M(b,v);const I=new Set([b]),C=L=>N.has(L);for(let L=S.length-1;L>=0;--L){const[O,P,z]=S[L];let V=!1;for(const G of P.d.keys())if(G!==O&&I.has(G)){V=!0;break}V&&(n(y,O,P,C),c(y,O,P),z!==P.n&&(_T(y,O,P),I.add(O))),N.delete(O)}},r=(y,b,v,...S)=>{const N=C=>z0(n(y,C,e(C,v))),M=(C,...L)=>{const O=e(C,v);let P;if(w5(b,C)){if(!PT(C))throw new Error("atom not writable");const z="v"in O,V=O.v,G=L[0];i(C,O,G),c(y,C,O),(!z||!Object.is(V,O.v))&&(_T(y,C,O),o(y,C,O))}else P=r(y,C,O,...L);return rh(y),P};return b.write(N,M,...S)},l=(y,...b)=>{const v=Sf(),S=r(v,y,e(y),...b);return rh(v),S},c=(y,b,v)=>{if(v.m&&!X1(v)){for(const S of v.d.keys())v.m.d.has(S)||(u(y,S,e(S,v)).t.add(b),v.m.d.add(S));for(const S of v.m.d||[])if(!v.d.has(S)){v.m.d.delete(S);const N=h(y,S,e(S,v));N==null||N.t.delete(b)}}},u=(y,b,v)=>{if(!v.m){n(y,b,v);for(const S of v.d.keys())u(y,S,e(S,v)).t.add(b);if(v.m={l:new Set,d:new Set(v.d.keys()),t:new Set},(dr?"production":void 0)!=="production"&&t.add(b),zT(b)&&b.onMount){const S=v.m,{onMount:N}=b;M5(y,()=>{const M=N((...I)=>r(y,b,v,...I));M&&(S.u=M)})}}return v.m},h=(y,b,v)=>{if(v.m&&!v.m.l.size&&!Array.from(v.m.t).some(S=>{var N;return(N=e(S,v).m)==null?void 0:N.d.has(b)})){const S=v.m.u;S&&M5(y,S),delete v.m,(dr?"production":void 0)!=="production"&&t.delete(b);for(const M of v.d.keys()){const I=h(y,M,e(M,v));I==null||I.t.delete(b)}const N=X1(v);N&&N[vx](void 0,()=>{});return}return v.m},x={get:s,set:l,sub:(y,b)=>{const v=Sf(),S=e(y),N=u(v,y,S);rh(v);const M=N.l;return M.add(b),()=>{M.delete(b);const I=Sf();h(I,y,S),rh(I)}},unstable_derive:y=>tU(...y(e))};return(dr?"production":void 0)!=="production"&&Object.assign(x,{dev4_get_internal_weak_map:()=>({get:b=>{const v=e(b);if(v.n!==0)return v}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:b=>{const v=Sf();for(const[S,N]of b)if(PT(S)){const M=e(S),I="v"in M,C=M.v;i(S,M,N),c(v,S,M),(!I||!Object.is(C,M.v))&&(_T(v,S,M),o(v,S,M))}rh(v)}}),x},Zne=()=>{const e=new WeakMap;return tU(i=>{let n=e.get(i);return n||(n={d:new Map,p:new Set,n:0},e.set(i,n)),n})};let Py;const qne=()=>(Py||(Py=Zne(),(dr?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Py),globalThis.__JOTAI_DEFAULT_STORE__!==Py&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Py),Xne={},Qne=D.createContext(void 0),iU=e=>D.useContext(Qne)||qne(),Jne=e=>typeof(e==null?void 0:e.then)=="function",ese=ps.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function le(e,t){const i=iU(),[[n,s,a],o]=D.useReducer(c=>{const u=i.get(e);return Object.is(c[0],u)&&c[1]===i&&c[2]===e?c:[u,i,e]},void 0,()=>[i.get(e),i,e]);let r=n;return(s!==i||a!==e)&&(o(),r=i.get(e)),D.useEffect(()=>{const c=i.sub(e,()=>{o()});return o(),c},[i,e,void 0]),D.useDebugValue(r),Jne(r)?ese(r):r}function xt(e,t){const i=iU();return D.useCallback((...s)=>{if((Xne?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return i.set(e,...s)},[i,e])}function Hm(e,t){return[le(e),xt(e)]}var FT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var I5;function tse(){return I5||(I5=1,function(e){(function(){var t={}.hasOwnProperty;function i(){for(var a="",o=0;o<arguments.length;o++){var r=arguments[o];r&&(a=s(a,n(r)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return i.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var r in a)t.call(a,r)&&a[r]&&(o=s(o,r));return o}function s(a,o){return o?a?a+" "+o:a+o:a}e.exports?(i.default=i,e.exports=i):window.classNames=i})()}(FT)),FT.exports}var ise=tse();const k=HD(ise);function nse(e){if(typeof Proxy>"u")return e;const t=new Map,i=(...n)=>e(...n);return new Proxy(i,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function Ux(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Qk=e=>Array.isArray(e);function nU(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Gx(e){return typeof e=="string"||Array.isArray(e)}function T5(e){const t=[{},{}];return e==null||e.values.forEach((i,n)=>{t[0][n]=i.get(),t[1][n]=i.getVelocity()}),t}function e2(e,t,i,n){if(typeof t=="function"){const[s,a]=T5(n);t=t(i!==void 0?i:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=T5(n);t=t(i!==void 0?i:e.custom,s,a)}return t}function kS(e,t,i){const n=e.getProps();return e2(n,t,i!==void 0?i:n.custom,e)}const t2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i2=["initial",...t2],Nb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gd=new Set(Nb),hc=e=>e*1e3,pc=e=>e/1e3,sse={type:"spring",stiffness:500,damping:25,restSpeed:10},ase=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ose={type:"keyframes",duration:.8},rse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lse=(e,{keyframes:t})=>t.length>2?ose:gd.has(e)?e.startsWith("scale")?ase(t[1]):sse:rse;function cse({when:e,delay:t,delayChildren:i,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:r,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function n2(e,t){return e[t]||e.default||e}const use={useManualTiming:!1},dse=e=>e!==null;function CS(e,{repeat:t,repeatType:i="loop"},n){const s=e.filter(dse),a=t&&i!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const ys=e=>e;function hse(e){let t=new Set,i=new Set,n=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function r(c){a.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const g=h&&n?t:i;return u&&a.add(c),g.has(c)||g.add(c),c},cancel:c=>{i.delete(c),a.delete(c)},process:c=>{if(o=c,n){s=!0;return}n=!0,[t,i]=[i,t],i.clear(),t.forEach(r),n=!1,s&&(s=!1,l.process(c))}};return l}const _0=["read","resolveKeyframes","update","preRender","render","postRender"],pse=40;function sU(e,t){let i=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>i=!0,o=_0.reduce((v,S)=>(v[S]=hse(a),v),{}),{read:r,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:f}=o,g=()=>{const v=performance.now();i=!1,s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,pse),1),s.timestamp=v,s.isProcessing=!0,r.process(s),l.process(s),c.process(s),u.process(s),h.process(s),f.process(s),s.isProcessing=!1,i&&t&&(n=!1,e(g))},x=()=>{i=!0,n=!0,s.isProcessing||e(g)};return{schedule:_0.reduce((v,S)=>{const N=o[S];return v[S]=(M,I=!1,C=!1)=>(i||x(),N.schedule(M,I,C)),v},{}),cancel:v=>{for(let S=0;S<_0.length;S++)o[_0[S]].cancel(v)},state:s,steps:o}}const{schedule:Wt,cancel:Nc,state:Hn,steps:BT}=sU(typeof requestAnimationFrame<"u"?requestAnimationFrame:ys,!0),aU=e=>/^0[^.\s]+$/u.test(e);function fse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aU(e):!0}let oU=ys;const rU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),lU=e=>t=>typeof t=="string"&&t.startsWith(e),cU=lU("--"),mse=lU("var(--"),s2=e=>mse(e)?gse.test(e.split("/*")[0].trim()):!1,gse=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xse(e){const t=yse.exec(e);if(!t)return[,];const[,i,n,s]=t;return[`--${i??n}`,s]}function uU(e,t,i=1){const[n,s]=xse(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return rU(o)?parseFloat(o):o}return s2(s)?uU(s,t,i+1):s}const id=(e,t,i)=>i>t?t:i<e?e:i,Ym={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wx={...Ym,transform:e=>id(0,1,e)},F0={...Ym,default:1},Sx=e=>Math.round(e*1e5)/1e5,a2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,bse=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,vse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Mb(e){return typeof e=="string"}function wse(e){return e==null}const Ib=e=>({test:t=>Mb(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Du=Ib("deg"),ol=Ib("%"),it=Ib("px"),Sse=Ib("vh"),Nse=Ib("vw"),A5={...ol,parse:e=>ol.parse(e)/100,transform:e=>ol.transform(e*100)},Mse=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),k5=e=>e===Ym||e===it,C5=(e,t)=>parseFloat(e.split(", ")[t]),D5=(e,t)=>(i,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return C5(s[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?C5(a[1],e):0}},Ise=new Set(["x","y","z"]),Tse=Nb.filter(e=>!Ise.has(e));function Ase(e){const t=[];return Tse.forEach(i=>{const n=e.getValue(i);n!==void 0&&(t.push([i,n.get()]),n.set(i.startsWith("scale")?1:0))}),t}const Im={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:D5(4,13),y:D5(5,14)};Im.translateX=Im.x;Im.translateY=Im.y;const dU=e=>t=>t.test(e),kse={test:e=>e==="auto",parse:e=>e},hU=[Ym,it,ol,Du,Nse,Sse,kse],L5=e=>hU.find(dU(e)),Wh=new Set;let Jk=!1,eC=!1;function pU(){if(eC){const e=Array.from(Wh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),i=new Map;t.forEach(n=>{const s=Ase(n);s.length&&(i.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=i.get(n);s&&s.forEach(([a,o])=>{var r;(r=n.getValue(a))===null||r===void 0||r.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}eC=!1,Jk=!1,Wh.forEach(e=>e.complete()),Wh.clear()}function fU(){Wh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eC=!0)})}function Cse(){fU(),pU()}class o2{constructor(t,i,n,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wh.add(this),Jk||(Jk=!0,Wt.read(fU),Wt.resolveKeyframes(pU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:n,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&i){const l=n.readValue(i,r);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=r),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const r2=(e,t)=>i=>!!(Mb(i)&&vse.test(i)&&i.startsWith(e)||t&&!wse(i)&&Object.prototype.hasOwnProperty.call(i,t)),mU=(e,t,i)=>n=>{if(!Mb(n))return n;const[s,a,o,r]=n.match(a2);return{[e]:parseFloat(s),[t]:parseFloat(a),[i]:parseFloat(o),alpha:r!==void 0?parseFloat(r):1}},Dse=e=>id(0,255,e),VT={...Ym,transform:e=>Math.round(Dse(e))},Ph={test:r2("rgb","red"),parse:mU("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:n=1})=>"rgba("+VT.transform(e)+", "+VT.transform(t)+", "+VT.transform(i)+", "+Sx(wx.transform(n))+")"};function Lse(e){let t="",i="",n="",s="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,i+=i,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const tC={test:r2("#"),parse:Lse,transform:Ph.transform},rm={test:r2("hsl","hue"),parse:mU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:n=1})=>"hsla("+Math.round(e)+", "+ol.transform(Sx(t))+", "+ol.transform(Sx(i))+", "+Sx(wx.transform(n))+")"},ds={test:e=>Ph.test(e)||tC.test(e)||rm.test(e),parse:e=>Ph.test(e)?Ph.parse(e):rm.test(e)?rm.parse(e):tC.parse(e),transform:e=>Mb(e)?e:e.hasOwnProperty("red")?Ph.transform(e):rm.transform(e)};function Ese(e){var t,i;return isNaN(e)&&Mb(e)&&(((t=e.match(a2))===null||t===void 0?void 0:t.length)||0)+(((i=e.match(bse))===null||i===void 0?void 0:i.length)||0)>0}const gU="number",yU="color",Ose="var",jse="var(",E5="${}",Rse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wx(e){const t=e.toString(),i=[],n={color:[],number:[],var:[]},s=[];let a=0;const r=t.replace(Rse,l=>(ds.test(l)?(n.color.push(a),s.push(yU),i.push(ds.parse(l))):l.startsWith(jse)?(n.var.push(a),s.push(Ose),i.push(l)):(n.number.push(a),s.push(gU),i.push(parseFloat(l))),++a,E5)).split(E5);return{values:i,split:r,indexes:n,types:s}}function xU(e){return Wx(e).values}function bU(e){const{split:t,types:i}=Wx(e),n=t.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],s[o]!==void 0){const r=i[o];r===gU?a+=Sx(s[o]):r===yU?a+=ds.transform(s[o]):a+=s[o]}return a}}const Pse=e=>typeof e=="number"?0:e;function zse(e){const t=xU(e);return bU(e)(t.map(Pse))}const nd={test:Ese,parse:xU,createTransformer:bU,getAnimatableNone:zse},_se=new Set(["brightness","contrast","saturate","opacity"]);function Fse(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=i.match(a2)||[];if(!n)return e;const s=i.replace(n,"");let a=_se.has(t)?1:0;return n!==i&&(a*=100),t+"("+a+s+")"}const Bse=/\b([a-z-]*)\(.*?\)/gu,iC={...nd,getAnimatableNone:e=>{const t=e.match(Bse);return t?t.map(Fse).join(" "):e}},O5={...Ym,transform:Math.round},l2={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,size:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,rotate:Du,rotateX:Du,rotateY:Du,rotateZ:Du,scale:F0,scaleX:F0,scaleY:F0,scaleZ:F0,skew:Du,skewX:Du,skewY:Du,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:wx,originX:A5,originY:A5,originZ:it,zIndex:O5,backgroundPositionX:it,backgroundPositionY:it,fillOpacity:wx,strokeOpacity:wx,numOctaves:O5},Vse={...l2,color:ds,backgroundColor:ds,outlineColor:ds,fill:ds,stroke:ds,borderColor:ds,borderTopColor:ds,borderRightColor:ds,borderBottomColor:ds,borderLeftColor:ds,filter:iC,WebkitFilter:iC},c2=e=>Vse[e];function vU(e,t){let i=c2(e);return i!==iC&&(i=nd),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const Use=new Set(["auto","none","0"]);function Gse(e,t,i){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!Use.has(a)&&Wx(a).values.length&&(s=e[n]),n++}if(s&&i)for(const a of t)e[a]=vU(i,s)}class wU extends o2{constructor(t,i,n,s,a){super(t,i,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:n}=this;if(!i||!i.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),s2(c))){const u=uU(c,i.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Mse.has(n)||t.length!==2)return;const[s,a]=t,o=L5(s),r=L5(a);if(o!==r)if(k5(o)&&k5(r))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,n=[];for(let s=0;s<t.length;s++)fse(t[s])&&n.push(s);n.length&&Gse(t,n,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Im[n](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const s=i[i.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:i,name:n,unresolvedKeyframes:s}=this;if(!i||!i.current)return;const a=i.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,r=s[o];s[o]=Im[n](i.measureViewportBox(),window.getComputedStyle(i.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{i.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function SU(e){let t;return()=>(t===void 0&&(t=e()),t)}let Q1;function Wse(){Q1=void 0}const fc={now:()=>(Q1===void 0&&fc.set(Hn.isProcessing||use.useManualTiming?Hn.timestamp:performance.now()),Q1),set:e=>{Q1=e,queueMicrotask(Wse)}},j5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(nd.test(e)||e==="0")&&!e.startsWith("url("));function Hse(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function Yse(e,t,i,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=j5(s,t),r=j5(a,t);return!o||!r?!1:Hse(e)||i==="spring"&&n}const $se=40;class NU{constructor({autoplay:t=!0,delay:i=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...r}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fc.now(),this.options={autoplay:t,delay:i,type:n,repeat:s,repeatDelay:a,repeatType:o,...r},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$se?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Cse(),this._resolved}onKeyframesResolved(t,i){this.resolvedAt=fc.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:o,onComplete:r,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Yse(t,n,s,a))if(o)this.options.duration=0;else{l==null||l(CS(t,this.options,i)),r==null||r(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,i);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:i,...u},this.onPostResolved())}onPostResolved(){}then(t,i){return this.currentFinishedPromise.then(t,i)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function MU(e,t){return t?e*(1e3/t):0}const Kse=5;function IU(e,t,i){const n=Math.max(t-Kse,0);return MU(i-e(n),t-n)}const R5=.001,Zse=.01,qse=10,Xse=.05,Qse=1;function Jse({duration:e=800,bounce:t=.25,velocity:i=0,mass:n=1}){let s,a,o=1-t;o=id(Xse,Qse,o),e=id(Zse,qse,pc(e)),o<1?(s=c=>{const u=c*o,h=u*e,f=u-i,g=nC(c,o),x=Math.exp(-h);return R5-f/g*x},a=c=>{const h=c*o*e,f=h*i+i,g=Math.pow(o,2)*Math.pow(c,2)*e,x=Math.exp(-h),y=nC(Math.pow(c,2),o);return(-s(c)+R5>0?-1:1)*((f-g)*x)/y}):(s=c=>{const u=Math.exp(-c*e),h=(c-i)*e+1;return-.001+u*h},a=c=>{const u=Math.exp(-c*e),h=(i-c)*(e*e);return u*h});const r=5/e,l=tae(s,a,r);if(e=hc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const eae=12;function tae(e,t,i){let n=i;for(let s=1;s<eae;s++)n=n-e(n)/t(n);return n}function nC(e,t){return e*Math.sqrt(1-t*t)}const iae=["duration","bounce"],nae=["stiffness","damping","mass"];function P5(e,t){return t.some(i=>e[i]!==void 0)}function sae(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!P5(e,nae)&&P5(e,iae)){const i=Jse(e);t={...t,...i,mass:1},t.isResolvedFromDuration=!0}return t}function TU({keyframes:e,restDelta:t,restSpeed:i,...n}){const s=e[0],a=e[e.length-1],o={done:!1,value:s},{stiffness:r,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:f}=sae({...n,velocity:-pc(n.velocity||0)}),g=h||0,x=l/(2*Math.sqrt(r*c)),y=a-s,b=pc(Math.sqrt(r/c)),v=Math.abs(y)<5;i||(i=v?.01:2),t||(t=v?.005:.5);let S;if(x<1){const N=nC(b,x);S=M=>{const I=Math.exp(-x*b*M);return a-I*((g+x*b*y)/N*Math.sin(N*M)+y*Math.cos(N*M))}}else if(x===1)S=N=>a-Math.exp(-b*N)*(y+(g+b*y)*N);else{const N=b*Math.sqrt(x*x-1);S=M=>{const I=Math.exp(-x*b*M),C=Math.min(N*M,300);return a-I*((g+x*b*y)*Math.sinh(C)+N*y*Math.cosh(C))/N}}return{calculatedDuration:f&&u||null,next:N=>{const M=S(N);if(f)o.done=N>=u;else{let I=0;x<1&&(I=N===0?hc(g):IU(S,N,M));const C=Math.abs(I)<=i,L=Math.abs(a-M)<=t;o.done=C&&L}return o.value=o.done?a:M,o}}}function z5({keyframes:e,velocity:t=0,power:i=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:r,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},g=O=>r!==void 0&&O<r||l!==void 0&&O>l,x=O=>r===void 0?l:l===void 0||Math.abs(r-O)<Math.abs(l-O)?r:l;let y=i*t;const b=h+y,v=o===void 0?b:o(b);v!==b&&(y=v-h);const S=O=>-y*Math.exp(-O/n),N=O=>v+S(O),M=O=>{const P=S(O),z=N(O);f.done=Math.abs(P)<=c,f.value=f.done?v:z};let I,C;const L=O=>{g(f.value)&&(I=O,C=TU({keyframes:[f.value,x(f.value)],velocity:IU(N,O,f.value),damping:s,stiffness:a,restDelta:c,restSpeed:u}))};return L(0),{calculatedDuration:null,next:O=>{let P=!1;return!C&&I===void 0&&(P=!0,M(O),L(O)),I!==void 0&&O>=I?C.next(O-I):(!P&&M(O),f)}}}const AU=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,aae=1e-7,oae=12;function rae(e,t,i,n,s){let a,o,r=0;do o=t+(i-t)/2,a=AU(o,n,s)-e,a>0?i=o:t=o;while(Math.abs(a)>aae&&++r<oae);return o}function Tb(e,t,i,n){if(e===t&&i===n)return ys;const s=a=>rae(a,0,1,e,i);return a=>a===0||a===1?a:AU(s(a),t,n)}const lae=Tb(.42,0,1,1),cae=Tb(0,0,.58,1),kU=Tb(.42,0,.58,1),uae=e=>Array.isArray(e)&&typeof e[0]!="number",CU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,DU=e=>t=>1-e(1-t),u2=e=>1-Math.sin(Math.acos(e)),LU=DU(u2),dae=CU(u2),EU=Tb(.33,1.53,.69,.99),d2=DU(EU),hae=CU(d2),pae=e=>(e*=2)<1?.5*d2(e):.5*(2-Math.pow(2,-10*(e-1))),fae={linear:ys,easeIn:lae,easeInOut:kU,easeOut:cae,circIn:u2,circInOut:dae,circOut:LU,backIn:d2,backInOut:hae,backOut:EU,anticipate:pae},_5=e=>{if(Array.isArray(e)){oU(e.length===4);const[t,i,n,s]=e;return Tb(t,i,n,s)}else if(typeof e=="string")return fae[e];return e},mae=(e,t)=>i=>t(e(i)),mc=(...e)=>e.reduce(mae),Hx=(e,t,i)=>{const n=t-e;return n===0?1:(i-e)/n},Ni=(e,t,i)=>e+(t-e)*i;function UT(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function gae({hue:e,saturation:t,lightness:i,alpha:n}){e/=360,t/=100,i/=100;let s=0,a=0,o=0;if(!t)s=a=o=i;else{const r=i<.5?i*(1+t):i+t-i*t,l=2*i-r;s=UT(l,r,e+1/3),a=UT(l,r,e),o=UT(l,r,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Iw(e,t){return i=>i>0?t:e}const GT=(e,t,i)=>{const n=e*e,s=i*(t*t-n)+n;return s<0?0:Math.sqrt(s)},yae=[tC,Ph,rm],xae=e=>yae.find(t=>t.test(e));function F5(e){const t=xae(e);if(!t)return!1;let i=t.parse(e);return t===rm&&(i=gae(i)),i}const B5=(e,t)=>{const i=F5(e),n=F5(t);if(!i||!n)return Iw(e,t);const s={...i};return a=>(s.red=GT(i.red,n.red,a),s.green=GT(i.green,n.green,a),s.blue=GT(i.blue,n.blue,a),s.alpha=Ni(i.alpha,n.alpha,a),Ph.transform(s))},sC=new Set(["none","hidden"]);function bae(e,t){return sC.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function vae(e,t){return i=>Ni(e,t,i)}function h2(e){return typeof e=="number"?vae:typeof e=="string"?s2(e)?Iw:ds.test(e)?B5:Nae:Array.isArray(e)?OU:typeof e=="object"?ds.test(e)?B5:wae:Iw}function OU(e,t){const i=[...e],n=i.length,s=e.map((a,o)=>h2(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)i[o]=s[o](a);return i}}function wae(e,t){const i={...e,...t},n={};for(const s in i)e[s]!==void 0&&t[s]!==void 0&&(n[s]=h2(e[s])(e[s],t[s]));return s=>{for(const a in n)i[a]=n[a](s);return i}}function Sae(e,t){var i;const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],r=e.indexes[o][s[o]],l=(i=e.values[r])!==null&&i!==void 0?i:0;n[a]=l,s[o]++}return n}const Nae=(e,t)=>{const i=nd.createTransformer(t),n=Wx(e),s=Wx(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?sC.has(e)&&!s.values.length||sC.has(t)&&!n.values.length?bae(e,t):mc(OU(Sae(n,s),s.values),i):Iw(e,t)};function jU(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?Ni(e,t,i):h2(e)(e,t)}function Mae(e,t,i){const n=[],s=i||jU,a=e.length-1;for(let o=0;o<a;o++){let r=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ys:t;r=mc(l,r)}n.push(r)}return n}function Iae(e,t,{clamp:i=!0,ease:n,mixer:s}={}){const a=e.length;if(oU(a===t.length),a===1)return()=>t[0];if(a===2&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Mae(t,n,s),r=o.length,l=c=>{let u=0;if(r>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const h=Hx(e[u],e[u+1],c);return o[u](h)};return i?c=>l(id(e[0],e[a-1],c)):l}function Tae(e,t){const i=e[e.length-1];for(let n=1;n<=t;n++){const s=Hx(0,t,n);e.push(Ni(i,1,s))}}function Aae(e){const t=[0];return Tae(t,e.length-1),t}function kae(e,t){return e.map(i=>i*t)}function Cae(e,t){return e.map(()=>t||kU).splice(0,e.length-1)}function Tw({duration:e=300,keyframes:t,times:i,ease:n="easeInOut"}){const s=uae(n)?n.map(_5):_5(n),a={done:!1,value:t[0]},o=kae(i&&i.length===t.length?i:Aae(t),e),r=Iae(o,t,{ease:Array.isArray(s)?s:Cae(t,s)});return{calculatedDuration:e,next:l=>(a.value=r(l),a.done=l>=e,a)}}const V5=2e4;function Dae(e){let t=0;const i=50;let n=e.next(t);for(;!n.done&&t<V5;)t+=i,n=e.next(t);return t>=V5?1/0:t}const Lae=e=>{const t=({timestamp:i})=>e(i);return{start:()=>Wt.update(t,!0),stop:()=>Nc(t),now:()=>Hn.isProcessing?Hn.timestamp:fc.now()}},Eae={decay:z5,inertia:z5,tween:Tw,keyframes:Tw,spring:TU},Oae=e=>e/100;class p2 extends NU{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:i,motionValue:n,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||o2,r=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(a,r,i,n,s),this.resolver.scheduleResolve()}initPlayback(t){const{type:i="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,r=Eae[i]||Tw;let l,c;r!==Tw&&typeof t[0]!="number"&&(l=mc(Oae,jU(t[0],t[1])),t=[0,100]);const u=r({...this.options,keyframes:t});a==="mirror"&&(c=r({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Dae(u));const{calculatedDuration:h}=u,f=h+s,g=f*(n+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,i=!1){const{resolved:n}=this;if(!n){const{keyframes:O}=this.options;return{done:!0,value:O[O.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:r,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:g,repeatType:x,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),i?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),S=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let N=this.currentTime,M=a;if(g){const O=Math.min(this.currentTime,u)/h;let P=Math.floor(O),z=O%1;!z&&O>=1&&(z=1),z===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(x==="reverse"?(z=1-z,y&&(z-=y/h)):x==="mirror"&&(M=o)),N=id(0,1,z)*h}const I=S?{done:!1,value:l[0]}:M.next(N);r&&(I.value=r(I.value));let{done:C}=I;!S&&c!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return L&&s!==void 0&&(I.value=CS(l,this.options,s)),b&&b(I.value),L&&this.finish(),I}get duration(){const{resolved:t}=this;return t?pc(t.calculatedDuration):0}get time(){return pc(this.currentTime)}set time(t){t=hc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=pc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Lae,onPlay:i,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),i&&i();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const RU=new Set(["opacity","clipPath","filter","transform"]),PU=e=>Array.isArray(e)&&typeof e[0]=="number";function zU(e){return!!(!e||typeof e=="string"&&e in f2||PU(e)||Array.isArray(e)&&e.every(zU))}const sx=([e,t,i,n])=>`cubic-bezier(${e}, ${t}, ${i}, ${n})`,f2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sx([0,.65,.55,1]),circOut:sx([.55,0,1,.45]),backIn:sx([.31,.01,.66,-.59]),backOut:sx([.33,1.53,.69,.99])};function jae(e){return _U(e)||f2.easeOut}function _U(e){if(e)return PU(e)?sx(e):Array.isArray(e)?e.map(jae):f2[e]}function Rae(e,t,i,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:r,times:l}={}){const c={[t]:i};l&&(c.offset=l);const u=_U(r);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Pae=SU(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Aw=10,zae=2e4;function _ae(e){return e.type==="spring"||!zU(e.ease)}function Fae(e,t){const i=new p2({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let a=0;for(;!n.done&&a<zae;)n=i.sample(a),s.push(n.value),a+=Aw;return{times:void 0,keyframes:s,duration:a-Aw,ease:"linear"}}class U5 extends NU{constructor(t){super(t);const{name:i,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new wU(a,(o,r)=>this.onKeyframesResolved(o,r),i,n,s),this.resolver.scheduleResolve()}initPlayback(t,i){var n;let{duration:s=300,times:a,ease:o,type:r,motionValue:l,name:c,startTime:u}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(_ae(this.options)){const{onComplete:f,onUpdate:g,motionValue:x,element:y,...b}=this.options,v=Fae(t,b);t=v.keyframes,t.length===1&&(t[1]=t[0]),s=v.duration,a=v.times,o=v.ease,r="keyframes"}const h=Rae(l.owner.current,c,t,{...this.options,duration:s,times:a,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(CS(t,this.options,i)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:a,type:r,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:i}=t;return pc(i)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:i}=t;return pc(i.currentTime||0)}set time(t){const{resolved:i}=this;if(!i)return;const{animation:n}=i;n.currentTime=hc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:i}=t;return i.playbackRate}set speed(t){const{resolved:i}=this;if(!i)return;const{animation:n}=i;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:i}=t;return i.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:i}=t;return i.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:i}=this;if(!i)return ys;const{animation:n}=i;n.timeline=t,n.onfinish=null}return ys}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:i,keyframes:n,duration:s,type:a,ease:o,times:r}=t;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...g}=this.options,x=new p2({...g,keyframes:n,duration:s,type:a,ease:o,times:r,isGenerator:!0}),y=hc(this.time);c.setWithVelocity(x.sample(y-Aw).value,x.sample(y).value,Aw)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:i,name:n,repeatDelay:s,repeatType:a,damping:o,type:r}=t;return Pae()&&n&&RU.has(n)&&i&&i.owner&&i.owner.current instanceof HTMLElement&&!i.owner.getProps().onUpdate&&!s&&a!=="mirror"&&o!==0&&r!=="inertia"}}function Bae(e,t){let i;const n=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;i!==o&&e(o),i=o};return Wt.update(n,!0),()=>Nc(n)}const Vae=SU(()=>window.ScrollTimeline!==void 0);class Uae{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,i){return Promise.all(this.animations).then(t).catch(i)}getAll(t){return this.animations[0][t]}setAll(t,i){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=i}attachTimeline(t){const i=this.animations.map(n=>{if(Vae()&&n.attachTimeline)n.attachTimeline(t);else return n.pause(),Bae(s=>{n.time=n.duration*s},t)});return()=>{i.forEach((n,s)=>{n&&n(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let i=0;i<this.animations.length;i++)t=Math.max(t,this.animations[i].duration);return t}runAll(t){this.animations.forEach(i=>i[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const m2=(e,t,i,n={},s,a,o)=>r=>{const l=n2(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-hc(c);let h={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{r(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:e,motionValue:t,element:a?void 0:s};cse(l)||(h={...h,...lse(e,h)}),h.duration&&(h.duration=hc(h.duration)),h.repeatDelay&&(h.repeatDelay=hc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const g=CS(h.keyframes,l);if(g!==void 0)return Wt.update(()=>{h.onUpdate(g),h.onComplete()}),new Uae([])}return!a&&U5.supports(h)?new U5(h):new p2(h)},Gae=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Wae=e=>Qk(e)?e[e.length-1]||0:e;function DS(e,t){e.indexOf(t)===-1&&e.push(t)}function LS(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class g2{constructor(){this.subscriptions=[]}add(t){return DS(this.subscriptions,t),()=>LS(this.subscriptions,t)}notify(t,i,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,i,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,i,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const G5=30,Hae=e=>!isNaN(parseFloat(e));class FU{constructor(t,i={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=fc.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=fc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Hae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new g2);const n=this.events[t].add(i);return t==="change"?()=>{n(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,n){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>G5)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,G5);return MU(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yx(e,t){return new FU(e,t)}function Yae(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Yx(i))}function $ae(e,t){const i=kS(e,t);let{transitionEnd:n={},transition:s={},...a}=i||{};a={...a,...n};for(const o in a){const r=Wae(a[o]);Yae(e,o,r)}}const ES=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Kae="framerAppearId",BU="data-"+ES(Kae);function VU(e){return e.props[BU]}function UU(e){if(gd.has(e))return"transform";if(RU.has(e))return ES(e)}class Zae extends FU{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(t){const i=UU(t);if(!i)return;const n=this.counts.get(i)||0;this.counts.set(i,n+1),n===0&&(this.output.push(i),this.update());let s=!1;return()=>{if(s)return;s=!0;const a=this.counts.get(i)-1;this.counts.set(i,a),a===0&&(LS(this.output,i),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const gs=e=>!!(e&&e.getVelocity);function qae(e){return!!(gs(e)&&e.add)}function aC(e,t){var i;if(!e.applyWillChange)return;let n=e.getValue("willChange");if(!n&&!(!((i=e.props.style)===null||i===void 0)&&i.willChange)&&(n=new Zae("auto"),e.addValue("willChange",n)),qae(n))return n.add(t)}function Xae({protectedKeys:e,needsAnimating:t},i){const n=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,n}function GU(e,t,{delay:i=0,transitionOverride:n,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:r,...l}=t;n&&(o=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),g=l[h];if(g===void 0||u&&Xae(u,h))continue;const x={delay:i,...n2(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=VU(e);if(v){const S=window.MotionHandoffAnimation(v,h,Wt);S!==null&&(x.startTime=S,y=!0)}}f.start(m2(h,f,g,e.shouldReduceMotion&&gd.has(h)?{type:!1}:x,e,y,aC(e,h)));const b=f.animation;b&&c.push(b)}return r&&Promise.all(c).then(()=>{Wt.update(()=>{r&&$ae(e,r)})}),c}function oC(e,t,i={}){var n;const s=kS(e,t,i.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(a=i.transitionOverride);const o=s?()=>Promise.all(GU(e,s,i)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return Qae(e,t,u+c,h,f,i)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[o,r]:[r,o];return c().then(()=>u())}else return Promise.all([o(),r(i.delay)])}function Qae(e,t,i=0,n=0,s=1,a){const o=[],r=(e.variantChildren.size-1)*n,l=s===1?(c=0)=>c*n:(c=0)=>r-c*n;return Array.from(e.variantChildren).sort(Jae).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(oC(c,t,{...a,delay:i+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function Jae(e,t){return e.sortNodePosition(t)}function eoe(e,t,i={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>oC(e,a,i));n=Promise.all(s)}else if(typeof t=="string")n=oC(e,t,i);else{const s=typeof t=="function"?kS(e,t,i.custom):t;n=Promise.all(GU(e,s,i))}return n.then(()=>{e.notify("AnimationComplete",t)})}const toe=[...t2].reverse(),ioe=t2.length;function noe(e){return t=>Promise.all(t.map(({animation:i,options:n})=>eoe(e,i,n)))}function soe(e){let t=noe(e),i=W5(),n=!0;const s=l=>(c,u)=>{var h;const f=kS(e,u,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:x,...y}=f;c={...c,...y,...x}}return c};function a(l){t=l(e)}function o(l){const c=e.getProps(),u=e.getVariantContext(!0)||{},h=[],f=new Set;let g={},x=1/0;for(let b=0;b<ioe;b++){const v=toe[b],S=i[v],N=c[v]!==void 0?c[v]:u[v],M=Gx(N),I=v===l?S.isActive:null;I===!1&&(x=b);let C=N===u[v]&&N!==c[v]&&M;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),S.protectedKeys={...g},!S.isActive&&I===null||!N&&!S.prevProp||Ux(N)||typeof N=="boolean")continue;let O=aoe(S.prevProp,N)||v===l&&S.isActive&&!C&&M||b>x&&M,P=!1;const z=Array.isArray(N)?N:[N];let V=z.reduce(s(v),{});I===!1&&(V={});const{prevResolvedValues:G={}}=S,H={...G,...V},B=$=>{O=!0,f.has($)&&(P=!0,f.delete($)),S.needsAnimating[$]=!0;const Q=e.getValue($);Q&&(Q.liveStyle=!1)};for(const $ in H){const Q=V[$],X=G[$];if(g.hasOwnProperty($))continue;let Y=!1;Qk(Q)&&Qk(X)?Y=!nU(Q,X):Y=Q!==X,Y?Q!=null?B($):f.add($):Q!==void 0&&f.has($)?B($):S.protectedKeys[$]=!0}S.prevProp=N,S.prevResolvedValues=V,S.isActive&&(g={...g,...V}),n&&e.blockInitialAnimation&&(O=!1),O&&(!C||P)&&h.push(...z.map($=>({animation:$,options:{type:v}})))}if(f.size){const b={};f.forEach(v=>{const S=e.getBaseTarget(v),N=e.getValue(v);N&&(N.liveStyle=!0),b[v]=S??null}),h.push({animation:b})}let y=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function r(l,c){var u;if(i[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),i[l].isActive=c;const h=o(l);for(const f in i)i[f].protectedKeys={};return h}return{animateChanges:o,setActive:r,setAnimateFunction:a,getState:()=>i,reset:()=>{i=W5(),n=!0}}}function aoe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!nU(t,e):!1}function lh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W5(){return{animate:lh(!0),whileInView:lh(),whileHover:lh(),whileTap:lh(),whileDrag:lh(),whileFocus:lh(),exit:lh()}}class yd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ooe extends yd{constructor(t){super(t),t.animationState||(t.animationState=soe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ux(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let roe=0;class loe extends yd{constructor(){super(...arguments),this.id=roe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);i&&!t&&s.then(()=>i(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const coe={animation:{Feature:ooe},exit:{Feature:loe}},WU=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function OS(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const uoe=e=>t=>WU(t)&&e(t,OS(t));function uc(e,t,i,n={passive:!0}){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i)}function gc(e,t,i,n){return uc(e,t,uoe(i),n)}const H5=(e,t)=>Math.abs(e-t);function doe(e,t){const i=H5(e.x,t.x),n=H5(e.y,t.y);return Math.sqrt(i**2+n**2)}class HU{constructor(t,i,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=HT(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=doe(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:x}=h,{timestamp:y}=Hn;this.history.push({...x,timestamp:y});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=WT(f,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=HT(h.type==="pointercancel"?this.lastMoveEventInfo:WT(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,b),x&&x(h,b)},!WU(t))return;this.dragSnapToOrigin=a,this.handlers=i,this.transformPagePoint=n,this.contextWindow=s||window;const o=OS(t),r=WT(o,this.transformPagePoint),{point:l}=r,{timestamp:c}=Hn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=i;u&&u(t,HT(r,this.history)),this.removeListeners=mc(gc(this.contextWindow,"pointermove",this.handlePointerMove),gc(this.contextWindow,"pointerup",this.handlePointerUp),gc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nc(this.updatePoint)}}function WT(e,t){return t?{point:t(e.point)}:e}function Y5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function HT({point:e},t){return{point:e,delta:Y5(e,YU(t)),offset:Y5(e,hoe(t)),velocity:poe(t,.1)}}function hoe(e){return e[0]}function YU(e){return e[e.length-1]}function poe(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,n=null;const s=YU(e);for(;i>=0&&(n=e[i],!(s.timestamp-n.timestamp>hc(t)));)i--;if(!n)return{x:0,y:0};const a=pc(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $U(e){let t=null;return()=>{const i=()=>{t=null};return t===null?(t=e,i):!1}}const $5=$U("dragHorizontal"),K5=$U("dragVertical");function KU(e){let t=!1;if(e==="y")t=K5();else if(e==="x")t=$5();else{const i=$5(),n=K5();i&&n?t=()=>{i(),n()}:(i&&i(),n&&n())}return t}function ZU(){const e=KU(!0);return e?(e(),!1):!0}function lm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const qU=1e-4,foe=1-qU,moe=1+qU,XU=.01,goe=0-XU,yoe=0+XU;function Wa(e){return e.max-e.min}function xoe(e,t,i){return Math.abs(e-t)<=i}function Z5(e,t,i,n=.5){e.origin=n,e.originPoint=Ni(t.min,t.max,e.origin),e.scale=Wa(i)/Wa(t),e.translate=Ni(i.min,i.max,e.origin)-e.originPoint,(e.scale>=foe&&e.scale<=moe||isNaN(e.scale))&&(e.scale=1),(e.translate>=goe&&e.translate<=yoe||isNaN(e.translate))&&(e.translate=0)}function Nx(e,t,i,n){Z5(e.x,t.x,i.x,n?n.originX:void 0),Z5(e.y,t.y,i.y,n?n.originY:void 0)}function q5(e,t,i){e.min=i.min+t.min,e.max=e.min+Wa(t)}function boe(e,t,i){q5(e.x,t.x,i.x),q5(e.y,t.y,i.y)}function X5(e,t,i){e.min=t.min-i.min,e.max=e.min+Wa(t)}function Mx(e,t,i){X5(e.x,t.x,i.x),X5(e.y,t.y,i.y)}function voe(e,{min:t,max:i},n){return t!==void 0&&e<t?e=n?Ni(t,e,n.min):Math.max(e,t):i!==void 0&&e>i&&(e=n?Ni(i,e,n.max):Math.min(e,i)),e}function Q5(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function woe(e,{top:t,left:i,bottom:n,right:s}){return{x:Q5(e.x,i,s),y:Q5(e.y,t,n)}}function J5(e,t){let i=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,n]=[n,i]),{min:i,max:n}}function Soe(e,t){return{x:J5(e.x,t.x),y:J5(e.y,t.y)}}function Noe(e,t){let i=.5;const n=Wa(e),s=Wa(t);return s>n?i=Hx(t.min,t.max-n,e.min):n>s&&(i=Hx(e.min,e.max-s,t.min)),id(0,1,i)}function Moe(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const rC=.35;function Ioe(e=rC){return e===!1?e=0:e===!0&&(e=rC),{x:ez(e,"left","right"),y:ez(e,"top","bottom")}}function ez(e,t,i){return{min:tz(e,t),max:tz(e,i)}}function tz(e,t){return typeof e=="number"?e:e[t]||0}const iz=()=>({translate:0,scale:1,origin:0,originPoint:0}),cm=()=>({x:iz(),y:iz()}),nz=()=>({min:0,max:0}),Ui=()=>({x:nz(),y:nz()});function vo(e){return[e("x"),e("y")]}function QU({top:e,left:t,right:i,bottom:n}){return{x:{min:t,max:i},y:{min:e,max:n}}}function Toe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Aoe(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:n.y,right:n.x}}function YT(e){return e===void 0||e===1}function lC({scale:e,scaleX:t,scaleY:i}){return!YT(e)||!YT(t)||!YT(i)}function Ch(e){return lC(e)||JU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JU(e){return sz(e.x)||sz(e.y)}function sz(e){return e&&e!=="0%"}function kw(e,t,i){const n=e-i,s=t*n;return i+s}function az(e,t,i,n,s){return s!==void 0&&(e=kw(e,s,n)),kw(e,i,n)+t}function cC(e,t=0,i=1,n,s){e.min=az(e.min,t,i,n,s),e.max=az(e.max,t,i,n,s)}function e9(e,{x:t,y:i}){cC(e.x,t.translate,t.scale,t.originPoint),cC(e.y,i.translate,i.scale,i.originPoint)}const oz=.999999999999,rz=1.0000000000001;function koe(e,t,i,n=!1){const s=i.length;if(!s)return;t.x=t.y=1;let a,o;for(let r=0;r<s;r++){a=i[r],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&dm(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,e9(e,o)),n&&Ch(a.latestValues)&&dm(e,a.latestValues))}t.x<rz&&t.x>oz&&(t.x=1),t.y<rz&&t.y>oz&&(t.y=1)}function um(e,t){e.min=e.min+t,e.max=e.max+t}function lz(e,t,i,n,s=.5){const a=Ni(e.min,e.max,s);cC(e,t,i,a,n)}function dm(e,t){lz(e.x,t.x,t.scaleX,t.scale,t.originX),lz(e.y,t.y,t.scaleY,t.scale,t.originY)}function t9(e,t){return QU(Aoe(e.getBoundingClientRect(),t))}function Coe(e,t,i){const n=t9(e,i),{scroll:s}=t;return s&&(um(n.x,s.offset.x),um(n.y,s.offset.y)),n}const i9=({current:e})=>e?e.ownerDocument.defaultView:null,Doe=new WeakMap;class Loe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ui(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(OS(u,"page").point)},a=(u,h)=>{var f;const{drag:g,dragPropagation:x,onDragStart:y}=this.getProps();if(g&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=KU(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vo(v=>{let S=this.getAxisMotionValue(v).get()||0;if(ol.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const M=N.layout.layoutBox[v];M&&(S=Wa(M)*(parseFloat(S)/100))}}this.originPoint[v]=S}),y&&Wt.postRender(()=>y(u,h)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=aC(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=Eoe(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(u,h)},r=(u,h)=>this.stop(u,h),l=()=>vo(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new HU(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:r,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:i9(this.visualElement)})}stop(t,i){var n;(n=this.removeWillChange)===null||n===void 0||n.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Wt.postRender(()=>o(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,n){const{drag:s}=this.getProps();if(!n||!B0(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=voe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:i,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;i&&lm(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&s?this.constraints=woe(s.layoutBox,i):this.constraints=!1,this.elastic=Ioe(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&vo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Moe(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!lm(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Coe(n,s.root,this.visualElement.getTransformPagePoint());let o=Soe(s.layout.layoutBox,a);if(i){const r=i(Toe(o));this.hasMutatedConstraints=!!r,r&&(o=QU(r))}return o}startAnimation(t){const{drag:i,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:r}=this.getProps(),l=this.constraints||{},c=vo(u=>{if(!B0(u,i,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(r)}startAxisValueAnimation(t,i){const n=this.getAxisMotionValue(t);return n.start(m2(t,n,0,i,this.visualElement,!1,aC(this.visualElement,t)))}stopAnimation(){vo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vo(t=>{var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[i];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){vo(i=>{const{drag:n}=this.getProps();if(!B0(i,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(i);if(s&&s.layout){const{min:o,max:r}=s.layout.layoutBox[i];a.set(t[i]-Ni(o,r,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:n}=this.visualElement;if(!lm(i)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vo(o=>{const r=this.getAxisMotionValue(o);if(r&&this.constraints!==!1){const l=r.get();s[o]=Noe({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),vo(o=>{if(!B0(o,t,null))return;const r=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];r.set(Ni(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Doe.set(this.visualElement,this);const t=this.visualElement.current,i=gc(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();lm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Wt.read(n);const o=uc(window,"resize",()=>this.scalePositionWithinConstraints()),r=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vo(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),i(),a(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=rC,dragMomentum:r=!0}=t;return{...t,drag:i,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:r}}}function B0(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function Eoe(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class Ooe extends yd{constructor(t){super(t),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new Loe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}unmount(){this.removeGroupControls(),this.removeListeners()}}const cz=e=>(t,i)=>{e&&Wt.postRender(()=>e(t,i))};class joe extends yd{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(t){this.session=new HU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:cz(t),onStart:cz(i),onMove:n,onEnd:(a,o)=>{delete this.session,s&&Wt.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=gc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jS=D.createContext(null);function Roe(){const e=D.useContext(jS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:n}=e,s=D.useId();D.useEffect(()=>n(s),[]);const a=D.useCallback(()=>i&&i(s),[s,i]);return!t&&i?[!1,a]:[!0]}const y2=D.createContext({}),n9=D.createContext({}),J1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uz(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zy={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(it.test(e))e=parseFloat(e);else return e;const i=uz(e,t.target.x),n=uz(e,t.target.y);return`${i}% ${n}%`}},Poe={correct:(e,{treeScale:t,projectionDelta:i})=>{const n=e,s=nd.parse(e);if(s.length>5)return n;const a=nd.createTransformer(e),o=typeof s[0]!="number"?1:0,r=i.x.scale*t.x,l=i.y.scale*t.y;s[0+o]/=r,s[1+o]/=l;const c=Ni(r,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),a(s)}},Cw={};function zoe(e){Object.assign(Cw,e)}const{schedule:x2}=sU(queueMicrotask,!1);class _oe extends D.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;zoe(Foe),a&&(i.group&&i.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),J1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==i||i===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Wt.postRender(()=>{const r=o.getStack();(!r||!r.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),x2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function s9(e){const[t,i]=Roe(),n=D.useContext(y2);return d.jsx(_oe,{...e,layoutGroup:n,switchLayoutGroup:D.useContext(n9),isPresent:t,safeToRemove:i})}const Foe={borderRadius:{...zy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zy,borderTopRightRadius:zy,borderBottomLeftRadius:zy,borderBottomRightRadius:zy,boxShadow:Poe},a9=["TopLeft","TopRight","BottomLeft","BottomRight"],Boe=a9.length,dz=e=>typeof e=="string"?parseFloat(e):e,hz=e=>typeof e=="number"||it.test(e);function Voe(e,t,i,n,s,a){s?(e.opacity=Ni(0,i.opacity!==void 0?i.opacity:1,Uoe(n)),e.opacityExit=Ni(t.opacity!==void 0?t.opacity:1,0,Goe(n))):a&&(e.opacity=Ni(t.opacity!==void 0?t.opacity:1,i.opacity!==void 0?i.opacity:1,n));for(let o=0;o<Boe;o++){const r=`border${a9[o]}Radius`;let l=pz(t,r),c=pz(i,r);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||hz(l)===hz(c)?(e[r]=Math.max(Ni(dz(l),dz(c),n),0),(ol.test(c)||ol.test(l))&&(e[r]+="%")):e[r]=c}(t.rotate||i.rotate)&&(e.rotate=Ni(t.rotate||0,i.rotate||0,n))}function pz(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Uoe=o9(0,.5,LU),Goe=o9(.5,.95,ys);function o9(e,t,i){return n=>n<e?0:n>t?1:i(Hx(e,t,n))}function fz(e,t){e.min=t.min,e.max=t.max}function po(e,t){fz(e.x,t.x),fz(e.y,t.y)}function mz(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function gz(e,t,i,n,s){return e-=t,e=kw(e,1/i,n),s!==void 0&&(e=kw(e,1/s,n)),e}function Woe(e,t=0,i=1,n=.5,s,a=e,o=e){if(ol.test(t)&&(t=parseFloat(t),t=Ni(o.min,o.max,t/100)-o.min),typeof t!="number")return;let r=Ni(a.min,a.max,n);e===a&&(r-=t),e.min=gz(e.min,t,i,r,s),e.max=gz(e.max,t,i,r,s)}function yz(e,t,[i,n,s],a,o){Woe(e,t[i],t[n],t[s],t.scale,a,o)}const Hoe=["x","scaleX","originX"],Yoe=["y","scaleY","originY"];function xz(e,t,i,n){yz(e.x,t,Hoe,i?i.x:void 0,n?n.x:void 0),yz(e.y,t,Yoe,i?i.y:void 0,n?n.y:void 0)}function bz(e){return e.translate===0&&e.scale===1}function r9(e){return bz(e.x)&&bz(e.y)}function vz(e,t){return e.min===t.min&&e.max===t.max}function $oe(e,t){return vz(e.x,t.x)&&vz(e.y,t.y)}function wz(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function l9(e,t){return wz(e.x,t.x)&&wz(e.y,t.y)}function Sz(e){return Wa(e.x)/Wa(e.y)}function Nz(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Koe{constructor(){this.members=[]}add(t){DS(this.members,t),t.scheduleRender()}remove(t){if(LS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(s=>t===s);if(i===0)return!1;let n;for(let s=i;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,i){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,i&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:n}=t;i.onExitComplete&&i.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zoe(e,t,i){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(i==null?void 0:i.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:x}=i;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),g&&(n+=`skewX(${g}deg) `),x&&(n+=`skewY(${x}deg) `)}const r=e.x.scale*t.x,l=e.y.scale*t.y;return(r!==1||l!==1)&&(n+=`scale(${r}, ${l})`),n||"none"}const qoe=(e,t)=>e.depth-t.depth;class Xoe{constructor(){this.children=[],this.isDirty=!1}add(t){DS(this.children,t),this.isDirty=!0}remove(t){LS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qoe),this.isDirty=!1,this.children.forEach(t)}}function ew(e){const t=gs(e)?e.get():e;return Gae(t)?t.toValue():t}function Qoe(e,t){const i=fc.now(),n=({timestamp:s})=>{const a=s-i;a>=t&&(Nc(n),e(a-t))};return Wt.read(n,!0),()=>Nc(n)}function Joe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ere(e,t,i){const n=gs(e)?e:Yx(e);return n.start(m2("",n,t,i)),n.animation}const Dh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ax=typeof window<"u"&&window.MotionDebug!==void 0,$T=["","X","Y","Z"],tre={visibility:"hidden"},Mz=1e3;let ire=0;function KT(e,t,i,n){const{latestValues:s}=t;s[e]&&(i[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function c9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=VU(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",Wt,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&c9(n)}function u9({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},r=t==null?void 0:t()){this.id=ire++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ax&&(Dh.totalNodes=Dh.resolvedTargetDeltas=Dh.recalculatedProjection=0),this.nodes.forEach(are),this.nodes.forEach(ure),this.nodes.forEach(dre),this.nodes.forEach(ore),ax&&window.MotionDebug.record(Dh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xoe)}addEventListener(o,r){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new g2),this.eventHandlers.get(o).add(r)}notifyListeners(o,...r){const l=this.eventHandlers.get(o);l&&l.notify(...r)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Joe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(c||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Qoe(f,250),J1.hasAnimatedSinceResize&&(J1.hasAnimatedSinceResize=!1,this.nodes.forEach(Tz))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||gre,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=u.getProps(),S=!this.targetLayout||!l9(this.targetLayout,x)||g,N=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,N);const M={...n2(y,"layout"),onPlay:b,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else f||Tz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:r,layout:l}=this.options;if(r===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Iz);return}this.isUpdating||this.nodes.forEach(lre),this.isUpdating=!1,this.nodes.forEach(cre),this.nodes.forEach(nre),this.nodes.forEach(sre),this.clearAllSnapshots();const r=fc.now();Hn.delta=id(0,1e3/60,r-Hn.timestamp),Hn.timestamp=r,Hn.isProcessing=!0,BT.update.process(Hn),BT.preRender.process(Hn),BT.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rre),this.sharedNodes.forEach(pre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ui(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:r}=this.options;r&&r.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let r=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(r=!1),r){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,r=this.projectionDelta&&!r9(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(r||Ch(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const r=this.measurePageBox();let l=this.removeElementScroll(r);return o&&(l=this.removeTransform(l)),yre(l),{animationId:this.root.animationId,measuredBox:r,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:r}=this.options;if(!r)return Ui();const l=r.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(xre))){const{scroll:u}=this.root;u&&(um(l.x,u.offset.x),um(l.y,u.offset.y))}return l}removeElementScroll(o){var r;const l=Ui();if(po(l,o),!((r=this.scroll)===null||r===void 0)&&r.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&po(l,o),um(l.x,h.offset.x),um(l.y,h.offset.y))}return l}applyTransform(o,r=!1){const l=Ui();po(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&dm(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ch(u.latestValues)&&dm(l,u.latestValues)}return Ch(this.latestValues)&&dm(l,this.latestValues),l}removeTransform(o){const r=Ui();po(r,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ch(c.latestValues))continue;lC(c.latestValues)&&c.updateSnapshot();const u=Ui(),h=c.measurePageBox();po(u,h),xz(r,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ch(this.latestValues)&&xz(r,this.latestValues),r}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var r;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ui(),this.relativeTargetOrigin=Ui(),Mx(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),po(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ui(),this.targetWithTransforms=Ui()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),boe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):po(this.target,this.layout.layoutBox),e9(this.target,this.targetDelta)):po(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ui(),this.relativeTargetOrigin=Ui(),Mx(this.relativeTargetOrigin,this.target,g.target),po(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ax&&Dh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lC(this.parent.latestValues)||JU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const r=this.getLead(),l=!!this.resumingFrom||this!==r;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;po(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;koe(this.layoutCorrected,this.treeScale,this.path,l),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Ui());const{target:x}=r;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mz(this.prevProjectionDelta.x,this.projectionDelta.x),mz(this.prevProjectionDelta.y,this.projectionDelta.y)),Nx(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!Nz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Nz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ax&&Dh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var r;if((r=this.options.visualElement)===null||r===void 0||r.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cm(),this.projectionDelta=cm(),this.projectionDeltaWithTransform=cm()}setAnimationOrigin(o,r=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=cm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!r;const f=Ui(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,b=this.getStack(),v=!b||b.members.length<=1,S=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(mre));this.animationProgress=0;let N;this.mixTargetDelta=M=>{const I=M/1e3;Az(h.x,o.x,I),Az(h.y,o.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mx(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fre(this.relativeTarget,this.relativeTargetOrigin,f,I),N&&$oe(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ui()),po(N,this.relativeTarget)),y&&(this.animationValues=u,Voe(u,c,this.latestValues,I,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{J1.hasAnimatedSinceResize=!0,this.currentAnimation=ere(0,Mz,{...o,onUpdate:r=>{this.mixTargetDelta(r),o.onUpdate&&o.onUpdate(r)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:r,target:l,layout:c,latestValues:u}=o;if(!(!r||!l||!c)){if(this!==o&&this.layout&&c&&d9(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ui();const h=Wa(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Wa(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}po(r,l),dm(r,u),Nx(this.projectionDeltaWithTransform,this.layoutCorrected,r,u)}}registerSharedNode(o,r){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Koe),this.sharedNodes.get(o).add(r);const c=r.options.initialPromotionConfig;r.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(r):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:r}=this.options;return r?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:r}=this.options;return r?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:r,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let r=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(r=!0),!r)return;const c={};l.z&&KT("z",o,c,this.animationValues);for(let u=0;u<$T.length;u++)KT(`rotate${$T[u]}`,o,c,this.animationValues),KT(`skew${$T[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var r,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tre;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ew(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ew(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ch(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Zoe(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:g,y:x}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(r=f.opacity)!==null&&r!==void 0?r:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Cw){if(f[y]===void 0)continue;const{correct:b,applyTo:v}=Cw[y],S=c.transform==="none"?f[y]:b(f[y],h);if(v){const N=v.length;for(let M=0;M<N;M++)c[v[M]]=S}else c[y]=S}return this.options.layoutId&&(c.pointerEvents=h===this?ew(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var r;return(r=o.currentAnimation)===null||r===void 0?void 0:r.stop()}),this.root.nodes.forEach(Iz),this.root.sharedNodes.clear()}}}function nre(e){e.updateLayout()}function sre(e){var t;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,o=i.source!==e.layout.source;a==="size"?vo(h=>{const f=o?i.measuredBox[h]:i.layoutBox[h],g=Wa(f);f.min=n[h].min,f.max=f.min+g}):d9(a,i.layoutBox,n)&&vo(h=>{const f=o?i.measuredBox[h]:i.layoutBox[h],g=Wa(n[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const r=cm();Nx(r,n,i.layoutBox);const l=cm();o?Nx(l,e.applyTransform(s,!0),i.measuredBox):Nx(l,n,i.layoutBox);const c=!r9(r);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const x=Ui();Mx(x,i.layoutBox,f.layoutBox);const y=Ui();Mx(y,n,g.layoutBox),l9(x,y)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:i,delta:l,layoutDelta:r,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function are(e){ax&&Dh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ore(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rre(e){e.clearSnapshot()}function Iz(e){e.clearMeasurements()}function lre(e){e.isLayoutDirty=!1}function cre(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Tz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ure(e){e.resolveTargetDelta()}function dre(e){e.calcProjection()}function hre(e){e.resetSkewAndRotation()}function pre(e){e.removeLeadSnapshot()}function Az(e,t,i){e.translate=Ni(t.translate,0,i),e.scale=Ni(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function kz(e,t,i,n){e.min=Ni(t.min,i.min,n),e.max=Ni(t.max,i.max,n)}function fre(e,t,i,n){kz(e.x,t.x,i.x,n),kz(e.y,t.y,i.y,n)}function mre(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gre={duration:.45,ease:[.4,0,.1,1]},Cz=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Dz=Cz("applewebkit/")&&!Cz("chrome/")?Math.round:ys;function Lz(e){e.min=Dz(e.min),e.max=Dz(e.max)}function yre(e){Lz(e.x),Lz(e.y)}function d9(e,t,i){return e==="position"||e==="preserve-aspect"&&!xoe(Sz(t),Sz(i),.2)}function xre(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const bre=u9({attachResizeListener:(e,t)=>uc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZT={current:void 0},h9=u9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ZT.current){const e=new bre({});e.mount(window),e.setOptions({layoutScroll:!0}),ZT.current=e}return ZT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vre={pan:{Feature:joe},drag:{Feature:Ooe,ProjectionNode:h9,MeasureLayout:s9}};function Ez(e,t){const i=t?"pointerenter":"pointerleave",n=t?"onHoverStart":"onHoverEnd",s=(a,o)=>{if(a.pointerType==="touch"||ZU())return;const r=e.getProps();e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",t);const l=r[n];l&&Wt.postRender(()=>l(a,o))};return gc(e.current,i,s,{passive:!e.getProps()[n]})}class wre extends yd{mount(){this.unmount=mc(Ez(this.node,!0),Ez(this.node,!1))}unmount(){}}class Sre extends yd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mc(uc(this.node.current,"focus",()=>this.onFocus()),uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const p9=(e,t)=>t?e===t?!0:p9(e,t.parentElement):!1;function qT(e,t){if(!t)return;const i=new PointerEvent("pointer"+e);t(i,OS(i))}class Nre extends yd{constructor(){super(...arguments),this.removeStartListeners=ys,this.removeEndListeners=ys,this.removeAccessibleListeners=ys,this.startPointerPress=(t,i)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=gc(window,"pointerup",(r,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),f=!h&&!p9(this.node.current,r.target)?u:c;f&&Wt.update(()=>f(r,l))},{passive:!(n.onTap||n.onPointerUp)}),o=gc(window,"pointercancel",(r,l)=>this.cancelPress(r,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=mc(a,o),this.startPress(t,i)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=r=>{r.key!=="Enter"||!this.checkPressEnd()||qT("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Wt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=uc(this.node.current,"keyup",o),qT("down",(r,l)=>{this.startPress(r,l)})},i=uc(this.node.current,"keydown",t),n=()=>{this.isPressing&&qT("cancel",(a,o)=>this.cancelPress(a,o))},s=uc(this.node.current,"blur",n);this.removeAccessibleListeners=mc(i,s)}}startPress(t,i){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Wt.postRender(()=>n(t,i))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ZU()}cancelPress(t,i){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Wt.postRender(()=>n(t,i))}mount(){const t=this.node.getProps(),i=gc(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=uc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mc(i,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uC=new WeakMap,XT=new WeakMap,Mre=e=>{const t=uC.get(e.target);t&&t(e)},Ire=e=>{e.forEach(Mre)};function Tre({root:e,...t}){const i=e||document;XT.has(i)||XT.set(i,{});const n=XT.get(i),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Ire,{root:e,...t})),n[s]}function Are(e,t,i){const n=Tre(t);return uC.set(e,i),n.observe(e),()=>{uC.delete(e),n.unobserve(e)}}const kre={some:0,all:1};class Cre extends yd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:n,amount:s="some",once:a}=t,o={root:i?i.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:kre[s]},r=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return Are(this.node.current,o,r)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(Dre(t,i))&&this.startObserver()}unmount(){}}function Dre({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const Lre={inView:{Feature:Cre},tap:{Feature:Nre},focus:{Feature:Sre},hover:{Feature:wre}},Ere={layout:{ProjectionNode:h9,MeasureLayout:s9}},b2=D.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),RS=D.createContext({}),v2=typeof window<"u",f9=v2?D.useLayoutEffect:D.useEffect,m9=D.createContext({strict:!1});let Oz=!1;function Ore(e,t,i,n,s){var a;const{visualElement:o}=D.useContext(RS),r=D.useContext(m9),l=D.useContext(jS),c=D.useContext(b2).reducedMotion,u=D.useRef();n=n||r.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:o,props:i,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,f=D.useContext(n9);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Rre(u.current,i,s,f),D.useInsertionEffect(()=>{h&&h.update(i,l)});const g=i[BU],x=D.useRef(!!g&&!window.MotionHandoffIsComplete&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,g)));return f9(()=>{h&&(h.updateFeatures(),x2.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),D.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current=!1,Oz||(Oz=!0,queueMicrotask(jre)))}),h}function jre(){window.MotionHandoffIsComplete=!0}function Rre(e,t,i,n){const{layoutId:s,layout:a,drag:o,dragConstraints:r,layoutScroll:l,layoutRoot:c}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:g9(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||r&&lm(r),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function g9(e){if(e)return e.options.allowProjection!==!1?e.projection:g9(e.parent)}function Pre(e,t,i){return D.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),i&&(typeof i=="function"?i(n):lm(i)&&(i.current=n))},[t])}function PS(e){return Ux(e.animate)||i2.some(t=>Gx(e[t]))}function y9(e){return!!(PS(e)||e.variants)}function zre(e,t){if(PS(e)){const{initial:i,animate:n}=e;return{initial:i===!1||Gx(i)?i:void 0,animate:Gx(n)?n:void 0}}return e.inherit!==!1?t:{}}function _re(e){const{initial:t,animate:i}=zre(e,D.useContext(RS));return D.useMemo(()=>({initial:t,animate:i}),[jz(t),jz(i)])}function jz(e){return Array.isArray(e)?e.join(" "):e}const Rz={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tm={};for(const e in Rz)Tm[e]={isEnabled:t=>Rz[e].some(i=>!!t[i])};function Fre(e){for(const t in e)Tm[t]={...Tm[t],...e[t]}}const Bre=Symbol.for("motionComponentSymbol");function Vre({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:n,Component:s}){e&&Fre(e);function a(r,l){let c;const u={...D.useContext(b2),...r,layoutId:Ure(r)},{isStatic:h}=u,f=_re(r),g=n(r,h);if(!h&&v2){Gre();const x=Wre(u);c=x.MeasureLayout,f.visualElement=Ore(s,g,u,t,x.ProjectionNode)}return d.jsxs(RS.Provider,{value:f,children:[c&&f.visualElement?d.jsx(c,{visualElement:f.visualElement,...u}):null,i(s,r,Pre(g,f.visualElement,l),g,h,f.visualElement)]})}const o=D.forwardRef(a);return o[Bre]=s,o}function Ure({layoutId:e}){const t=D.useContext(y2).id;return t&&e!==void 0?t+"-"+e:e}function Gre(e,t){D.useContext(m9).strict}function Wre(e){const{drag:t,layout:i}=Tm;if(!t&&!i)return{};const n={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Hre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w2(e){return typeof e!="string"||e.includes("-")?!1:!!(Hre.indexOf(e)>-1||/[A-Z]/u.test(e))}function x9(e,{style:t,vars:i},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in i)e.style.setProperty(a,i[a])}const b9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v9(e,t,i,n){x9(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(b9.has(s)?s:ES(s),t.attrs[s])}function w9(e,{layout:t,layoutId:i}){return gd.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!Cw[e]||e==="opacity")}function S2(e,t,i){var n;const{style:s}=e,a={};for(const o in s)(gs(s[o])||t.style&&gs(t.style[o])||w9(o,e)||((n=i==null?void 0:i.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=s[o]);return i&&s&&typeof s.willChange=="string"&&(i.applyWillChange=!1),a}function S9(e,t,i){const n=S2(e,t,i);for(const s in e)if(gs(e[s])||gs(t[s])){const a=Nb.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}function N2(e){const t=D.useRef(null);return t.current===null&&(t.current=e()),t.current}function Yre({applyWillChange:e=!1,scrapeMotionValuesFromProps:t,createRenderState:i,onMount:n},s,a,o,r){const l={latestValues:Kre(s,a,o,r?!1:e,t),renderState:i()};return n&&(l.mount=c=>n(s,c,l)),l}const N9=e=>(t,i)=>{const n=D.useContext(RS),s=D.useContext(jS),a=()=>Yre(e,t,n,s,i);return i?a():N2(a)};function $re(e,t){const i=UU(t);i&&DS(e,i)}function Pz(e,t,i){const n=Array.isArray(t)?t:[t];for(let s=0;s<n.length;s++){const a=e2(e,n[s]);if(a){const{transitionEnd:o,transition:r,...l}=a;i(l,o)}}}function Kre(e,t,i,n,s){var a;const o={},r=[],l=n&&((a=e.style)===null||a===void 0?void 0:a.willChange)===void 0,c=s(e,{});for(const b in c)o[b]=ew(c[b]);let{initial:u,animate:h}=e;const f=PS(e),g=y9(e);t&&g&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let x=i?i.initial===!1:!1;x=x||u===!1;const y=x?h:u;return y&&typeof y!="boolean"&&!Ux(y)&&Pz(e,y,(b,v)=>{for(const S in b){let N=b[S];if(Array.isArray(N)){const M=x?N.length-1:0;N=N[M]}N!==null&&(o[S]=N)}for(const S in v)o[S]=v[S]}),l&&(h&&u!==!1&&!Ux(h)&&Pz(e,h,b=>{for(const v in b)$re(r,v)}),r.length&&(o.willChange=r.join(","))),o}const M2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),M9=()=>({...M2(),attrs:{}}),I9=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qre=Nb.length;function Xre(e,t,i){let n="",s=!0;for(let a=0;a<qre;a++){const o=Nb[a],r=e[o];if(r===void 0)continue;let l=!0;if(typeof r=="number"?l=r===(o.startsWith("scale")?1:0):l=parseFloat(r)===0,!l||i){const c=I9(r,l2[o]);if(!l){s=!1;const u=Zre[o]||o;n+=`${u}(${c}) `}i&&(t[o]=c)}}return n=n.trim(),i?n=i(t,s?"":n):s&&(n="none"),n}function I2(e,t,i){const{style:n,vars:s,transformOrigin:a}=e;let o=!1,r=!1;for(const l in t){const c=t[l];if(gd.has(l)){o=!0;continue}else if(cU(l)){s[l]=c;continue}else{const u=I9(c,l2[l]);l.startsWith("origin")?(r=!0,a[l]=u):n[l]=u}}if(t.transform||(o||i?n.transform=Xre(t,e.transform,i):n.transform&&(n.transform="none")),r){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;n.transformOrigin=`${l} ${c} ${u}`}}function zz(e,t,i){return typeof e=="string"?e:it.transform(t+i*e)}function Qre(e,t,i){const n=zz(t,e.x,e.width),s=zz(i,e.y,e.height);return`${n} ${s}`}const Jre={offset:"stroke-dashoffset",array:"stroke-dasharray"},ele={offset:"strokeDashoffset",array:"strokeDasharray"};function tle(e,t,i=1,n=0,s=!0){e.pathLength=1;const a=s?Jre:ele;e[a.offset]=it.transform(-n);const o=it.transform(t),r=it.transform(i);e[a.array]=`${o} ${r}`}function T2(e,{attrX:t,attrY:i,attrScale:n,originX:s,originY:a,pathLength:o,pathSpacing:r=1,pathOffset:l=0,...c},u,h){if(I2(e,c,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:x}=e;f.transform&&(x&&(g.transform=f.transform),delete f.transform),x&&(s!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=Qre(x,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),i!==void 0&&(f.y=i),n!==void 0&&(f.scale=n),o!==void 0&&tle(f,o,r,l,!1)}const A2=e=>typeof e=="string"&&e.toLowerCase()==="svg",ile={useVisualState:N9({scrapeMotionValuesFromProps:S9,createRenderState:M9,onMount:(e,t,{renderState:i,latestValues:n})=>{Wt.read(()=>{try{i.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}),Wt.render(()=>{T2(i,n,A2(t.tagName),e.transformTemplate),v9(t,i)})}})},nle={useVisualState:N9({applyWillChange:!0,scrapeMotionValuesFromProps:S2,createRenderState:M2})};function T9(e,t,i){for(const n in t)!gs(t[n])&&!w9(n,i)&&(e[n]=t[n])}function sle({transformTemplate:e},t){return D.useMemo(()=>{const i=M2();return I2(i,t,e),Object.assign({},i.vars,i.style)},[t])}function ale(e,t){const i=e.style||{},n={};return T9(n,i,e),Object.assign(n,sle(e,t)),n}function ole(e,t){const i={},n=ale(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=n,i}const rle=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rle.has(e)}let A9=e=>!Dw(e);function lle(e){e&&(A9=t=>t.startsWith("on")?!Dw(t):e(t))}try{lle(require("@emotion/is-prop-valid").default)}catch{}function cle(e,t,i){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(A9(s)||i===!0&&Dw(s)||!t&&!Dw(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function ule(e,t,i,n){const s=D.useMemo(()=>{const a=M9();return T2(a,t,A2(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};T9(a,e.style,e),s.style={...a,...s.style}}return s}function dle(e=!1){return(i,n,s,{latestValues:a},o)=>{const l=(w2(i)?ule:ole)(n,a,o,i),c=cle(n,typeof i=="string",e),u=i!==D.Fragment?{...c,...l,ref:s}:{},{children:h}=n,f=D.useMemo(()=>gs(h)?h.get():h,[h]);return D.createElement(i,{...u,children:f})}}function hle(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...w2(n)?ile:nle,preloadedFeatures:e,useRender:dle(s),createVisualElement:t,Component:n};return Vre(o)}}const dC={current:null},k9={current:!1};function ple(){if(k9.current=!0,!!v2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dC.current=e.matches;e.addListener(t),t()}else dC.current=!1}function fle(e,t,i){for(const n in t){const s=t[n],a=i[n];if(gs(s))e.addValue(n,s);else if(gs(a))e.addValue(n,Yx(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Yx(o!==void 0?o:s,{owner:e}))}}for(const n in i)t[n]===void 0&&e.removeValue(n);return t}const _z=new WeakMap,mle=[...hU,ds,nd],gle=e=>mle.find(dU(e)),Fz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yle=i2.length;class xle{scrapeMotionValuesFromProps(t,i,n){return{}}constructor({parent:t,props:i,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},r={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Wt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=i.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=i,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=r,this.blockInitialAnimation=!!a,this.isControllingVariants=PS(i),this.isVariantNode=y9(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(i,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&gs(g)&&g.set(l[f],!1)}}mount(t){this.current=t,_z.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,n)=>this.bindToMotionValue(n,i)),k9.current||ple(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_z.delete(this.current),this.projection&&this.projection.unmount(),Nc(this.notifyUpdate),Nc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=gd.has(t),s=i.on("change",r=>{this.latestValues[t]=r,this.props.onUpdate&&Wt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=i.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Tm){const i=Tm[t];if(!i)continue;const{isEnabled:n,Feature:s}=i;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ui()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let n=0;n<Fz.length;n++){const s=Fz[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=fle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const i={};for(let n=0;n<yle;n++){const s=i2[n],a=this.props[s];(Gx(a)||a===!1)&&(i[s]=a)}return i}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const n=this.values.get(t);i!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&i!==void 0&&(n=Yx(i===null?void 0:i,{owner:this}),this.addValue(t,n)),n}readValue(t,i){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(rU(s)||aU(s))?s=parseFloat(s):!gle(s)&&nd.test(i)&&(s=vU(t,i)),this.setBaseTarget(t,gs(s)?s.get():s)),gs(s)?s.get():s}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=e2(this.props,n,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!gs(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new g2),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class C9 extends xle{constructor(){super(...arguments),this.KeyframeResolver=wU}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:n}){delete i[t],delete n[t]}}function ble(e){return window.getComputedStyle(e)}class vle extends C9{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=x9}readValueFromInstance(t,i){if(gd.has(i)){const n=c2(i);return n&&n.default||0}else{const n=ble(t),s=(cU(i)?n.getPropertyValue(i):n[i])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:i}){return t9(t,i)}build(t,i,n){I2(t,i,n.transformTemplate)}scrapeMotionValuesFromProps(t,i,n){return S2(t,i,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gs(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}class wle extends C9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ui}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(gd.has(i)){const n=c2(i);return n&&n.default||0}return i=b9.has(i)?i:ES(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,n){return S9(t,i,n)}build(t,i,n){T2(t,i,this.isSVGTag,n.transformTemplate)}renderInstance(t,i,n,s){v9(t,i,n,s)}mount(t){this.isSVGTag=A2(t.tagName),super.mount(t)}}const Sle=(e,t)=>w2(e)?new wle(t):new vle(t,{allowProjection:e!==D.Fragment}),Nle=hle({...coe,...Lre,...vre,...Ere},Sle),mn=nse(Nle);class Mle extends D.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=i.offsetHeight||0,n.width=i.offsetWidth||0,n.top=i.offsetTop,n.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ile({children:e,isPresent:t}){const i=D.useId(),n=D.useRef(null),s=D.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=D.useContext(b2);return D.useInsertionEffect(()=>{const{width:o,height:r,top:l,left:c}=s.current;if(t||!n.current||!o||!r)return;n.current.dataset.motionPopId=i;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${r}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),d.jsx(Mle,{isPresent:t,childRef:n,sizeRef:s,children:D.cloneElement(e,{ref:n})})}const Tle=({children:e,initial:t,isPresent:i,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o})=>{const r=N2(Ale),l=D.useId(),c=D.useMemo(()=>({id:l,initial:t,isPresent:i,custom:s,onExitComplete:u=>{r.set(u,!0);for(const h of r.values())if(!h)return;n&&n()},register:u=>(r.set(u,!1),()=>r.delete(u))}),a?[Math.random()]:[i]);return D.useMemo(()=>{r.forEach((u,h)=>r.set(h,!1))},[i]),D.useEffect(()=>{!i&&!r.size&&n&&n()},[i]),o==="popLayout"&&(e=d.jsx(Ile,{isPresent:i,children:e})),d.jsx(jS.Provider,{value:c,children:e})};function Ale(){return new Map}const V0=e=>e.key||"";function Bz(e){const t=[];return D.Children.forEach(e,i=>{D.isValidElement(i)&&t.push(i)}),t}const Eo=({children:e,exitBeforeEnter:t,custom:i,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const r=D.useMemo(()=>Bz(e),[e]),l=r.map(V0),c=D.useRef(!0),u=D.useRef(r),h=N2(()=>new Map),[f,g]=D.useState(r),[x,y]=D.useState(r);f9(()=>{c.current=!1,u.current=r;for(let S=0;S<x.length;S++){const N=V0(x[S]);l.includes(N)?h.delete(N):h.get(N)!==!0&&h.set(N,!1)}},[x,l.length,l.join("-")]);const b=[];if(r!==f){let S=[...r];for(let N=0;N<x.length;N++){const M=x[N],I=V0(M);l.includes(I)||(S.splice(N,0,M),b.push(M))}o==="wait"&&b.length&&(S=b),y(Bz(S)),g(r);return}const{forceRender:v}=D.useContext(y2);return d.jsx(d.Fragment,{children:x.map(S=>{const N=V0(S),M=r===x||l.includes(N),I=()=>{if(h.has(N))h.set(N,!0);else return;let C=!0;h.forEach(L=>{L||(C=!1)}),C&&(v==null||v(),y(u.current),s&&s())};return d.jsx(Tle,{isPresent:M,initial:!c.current||n?void 0:!1,custom:M?void 0:i,presenceAffectsLayout:a,mode:o,onExitComplete:M?void 0:I,children:S},N)})})},kle="https://res.cloudinary.com/obm-uve/image/upload/v1736261606/Shark1_bxzkfo.webp",Cle="https://res.cloudinary.com/obm-uve/image/upload/v1736261590/Shark2_ssskwo.webp",Dle="https://res.cloudinary.com/obm-uve/image/upload/v1735410804/Shark3_e5en4r.webp",Lle="https://res.cloudinary.com/obm-uve/image/upload/v1736261591/Shark4_po00ag.webp",Ele="https://res.cloudinary.com/obm-uve/image/upload/v1736261591/Shark5_ywu6bd.webp",Ole="https://res.cloudinary.com/obm-uve/image/upload/v1736261592/SharkCommander_benihm.webp",jle="https://res.cloudinary.com/obm-uve/image/upload/v1736261592/Eel1_svngwg.webp",Rle="https://res.cloudinary.com/obm-uve/image/upload/v1736261598/Eel2_lsvzed.webp",Ple="https://res.cloudinary.com/obm-uve/image/upload/v1736261603/Eel3_kdrrn8.webp",zle="https://res.cloudinary.com/obm-uve/image/upload/v1736261599/Eel4_spsqxs.webp",_le="https://res.cloudinary.com/obm-uve/image/upload/v1736261599/Eel5_nkojdy.webp",Fle="https://res.cloudinary.com/obm-uve/image/upload/v1736261597/EelCommander_dyng5h.webp",Ble="https://res.cloudinary.com/obm-uve/image/upload/v1736262108/Bat1_gjxjf3.webp",Vle="https://res.cloudinary.com/obm-uve/image/upload/v1736262109/Bat2_xmh6rh.webp",Ule="https://res.cloudinary.com/obm-uve/image/upload/v1736262108/Bat3_ivy0ti.webp",Gle="https://res.cloudinary.com/obm-uve/image/upload/v1736262109/Bat4_cugqlq.webp",Wle="https://res.cloudinary.com/obm-uve/image/upload/v1736262111/Bat5_nmjm3b.webp",Hle="https://res.cloudinary.com/obm-uve/image/upload/v1736262110/BatCommander_s5bzct.webp",Yle="https://res.cloudinary.com/obm-uve/image/upload/v1736262109/Horse1_f28fpt.webp",$le="https://res.cloudinary.com/obm-uve/image/upload/v1736262109/Horse2_foktib.webp",Kle="https://res.cloudinary.com/obm-uve/image/upload/v1736262110/Horse3_yjqmjm.webp",Zle="https://res.cloudinary.com/obm-uve/image/upload/v1735410804/Horse4_skkyap.webp",qle="https://res.cloudinary.com/obm-uve/image/upload/v1736262110/Horse5_ndzudl.webp",Xle="https://res.cloudinary.com/obm-uve/image/upload/v1736262111/HorseCommander_vcrbjn.webp",Qle="https://res.cloudinary.com/obm-uve/image/upload/v1735410803/Wasp1_kvjxwe.webp",Jle="https://res.cloudinary.com/obm-uve/image/upload/v1736261611/Wasp2_fogaqi.webp",ece="https://res.cloudinary.com/obm-uve/image/upload/v1736261608/Wasp3_nzm9qi.webp",tce="https://res.cloudinary.com/obm-uve/image/upload/v1736261617/Wasp4_uzkzkc.webp",ice="https://res.cloudinary.com/obm-uve/image/upload/v1736261614/Wasp5_bt2zej.webp",nce="https://res.cloudinary.com/obm-uve/image/upload/v1736261612/WaspCommander_ff6kus.webp",sce="https://res.cloudinary.com/obm-uve/image/upload/v1736261572/Vulture1_sry7t9.webp",ace="https://res.cloudinary.com/obm-uve/image/upload/v1736261571/Vulture2_onpgj0.webp",oce="https://res.cloudinary.com/obm-uve/image/upload/v1736261563/Vulture3_qffdoi.webp",rce="https://res.cloudinary.com/obm-uve/image/upload/v1736261562/Vulture4_oex1p4.webp",lce="https://res.cloudinary.com/obm-uve/image/upload/v1736261562/Vulture5_qhgmvg.webp",cce="https://res.cloudinary.com/obm-uve/image/upload/v1736261570/VultureCommander_papma5.webp",uce="https://res.cloudinary.com/obm-uve/image/upload/v1735410802/Wolf1_duy6su.webp",dce="https://res.cloudinary.com/obm-uve/image/upload/v1736261563/Wolf2_pbwppm.webp",hce="https://res.cloudinary.com/obm-uve/image/upload/v1736261563/Wolf3_mvrdcr.webp",pce="https://res.cloudinary.com/obm-uve/image/upload/v1736261564/Wolf4_clmiuc.webp",fce="https://res.cloudinary.com/obm-uve/image/upload/v1736261570/Wolf5_jo27rl.webp",mce="https://res.cloudinary.com/obm-uve/image/upload/v1736261572/WolfCommander_qxoalo.webp",gce="https://res.cloudinary.com/obm-uve/image/upload/v1736261551/Inuit1_y96ttw.webp",yce="https://res.cloudinary.com/obm-uve/image/upload/v1735410804/Inuit2_exhfmd.webp",xce="https://res.cloudinary.com/obm-uve/image/upload/v1736261549/Inuit3_yaludy.webp",bce="https://res.cloudinary.com/obm-uve/image/upload/v1736261550/Inuit4_zbbzhp.webp",vce="https://res.cloudinary.com/obm-uve/image/upload/v1736261550/Inuit5_gmc9m5.webp",wce="https://res.cloudinary.com/obm-uve/image/upload/v1736261552/InuitCommander_amof3y.webp",Sce="https://res.cloudinary.com/obm-uve/image/upload/v1736261514/Maya1_glxytm.webp",Nce="https://res.cloudinary.com/obm-uve/image/upload/v1736261512/Maya2_uxhkki.webp",Mce="https://res.cloudinary.com/obm-uve/image/upload/v1736261512/Maya3_hxw1yc.webp",Ice="https://res.cloudinary.com/obm-uve/image/upload/v1736261512/Maya4_f5rfdx.webp",Tce="https://res.cloudinary.com/obm-uve/image/upload/v1735410804/Maya5_u1wfj6.webp",Ace="https://res.cloudinary.com/obm-uve/image/upload/v1736261513/MayaCommander_hg1lei.webp",kce="https://res.cloudinary.com/obm-uve/image/upload/v1736261512/Punk1_l0hhgf.webp",Cce="https://res.cloudinary.com/obm-uve/image/upload/v1736261513/Punk2_gti4kl.webp",Dce="https://res.cloudinary.com/obm-uve/image/upload/v1736261513/Punk3_jqrtgt.webp",Lce="https://res.cloudinary.com/obm-uve/image/upload/v1736261513/Punk4_jvyq59.webp",Ece="https://res.cloudinary.com/obm-uve/image/upload/v1736261514/Punk5_fgavie.webp",Oce="https://res.cloudinary.com/obm-uve/image/upload/v1736261514/PunkCommander_icf5rw.webp",jce="https://res.cloudinary.com/obm-uve/image/upload/v1736261496/Navajo1_rxor5f.webp",Rce="https://res.cloudinary.com/obm-uve/image/upload/v1736261496/Navajo2_umuhx5.webp",Pce="https://res.cloudinary.com/obm-uve/image/upload/v1736261496/Navajo3_au90ly.webp",zce="https://res.cloudinary.com/obm-uve/image/upload/v1736261497/Navajo4_b6lul6.webp",_ce="https://res.cloudinary.com/obm-uve/image/upload/v1736261495/Navajo5_a7xbot.webp",Fce="https://res.cloudinary.com/obm-uve/image/upload/v1736261495/NavajoCommander_biyohe.webp",Bce="https://res.cloudinary.com/obm-uve/image/upload/v1736261496/Cherokee1_dz0wtz.webp",Vce="https://res.cloudinary.com/obm-uve/image/upload/v1736261494/Cherokee2_ld6gpn.webp",Uce="https://res.cloudinary.com/obm-uve/image/upload/v1736261494/Cherokee3_ieikmx.webp",Gce="https://res.cloudinary.com/obm-uve/image/upload/v1736261495/Cherokee4_dx9v5j.webp",Wce="https://res.cloudinary.com/obm-uve/image/upload/v1735410803/Cherokee5_onu1oa.webp",Hce="https://res.cloudinary.com/obm-uve/image/upload/v1736261495/CherokeeCommander_xl3san.webp",Yce="https://res.cloudinary.com/obm-uve/image/upload/v1736261533/Tinglit1_mkfp5h.webp",$ce="https://res.cloudinary.com/obm-uve/image/upload/v1736261534/Tinglit2_nmmoml.webp",Kce="https://res.cloudinary.com/obm-uve/image/upload/v1736261534/Tinglit3_walsk9.webp",Zce="https://res.cloudinary.com/obm-uve/image/upload/v1736261534/Tinglit4_j8om4v.webp",qce="https://res.cloudinary.com/obm-uve/image/upload/v1735410802/Tinglit5_bpamjs.webp",Xce="https://res.cloudinary.com/obm-uve/image/upload/v1736261535/TinglitCommander_sjrrd9.webp",Qce="https://res.cloudinary.com/obm-uve/image/upload/v1736261541/Skater1_ne3xsa.webp",Jce="https://res.cloudinary.com/obm-uve/image/upload/v1736261542/Skater2_b5up3b.webp",eue="https://res.cloudinary.com/obm-uve/image/upload/v1736261542/Skater3_nr3s0u.webp",tue="https://res.cloudinary.com/obm-uve/image/upload/v1736261544/Skater4_xs4r18.webp",iue="https://res.cloudinary.com/obm-uve/image/upload/v1736261533/Skater5_llwpby.webp",nue="https://res.cloudinary.com/obm-uve/image/upload/v1736261533/SkaterCommander_fgd61t.webp",sue="https://res.cloudinary.com/obm-uve/image/upload/v1726097649/Emiliano_hua592.webp",aue="https://res.cloudinary.com/obm-uve/image/upload/v1726097661/Nataly_uwztrc.webp",oue="https://res.cloudinary.com/obm-uve/image/upload/v1726097655/Lautaro_cmrxis.webp",rue="https://res.cloudinary.com/obm-uve/image/upload/v1726146340/AlienSmallCorner_p8zwbs.webp",lue="https://res.cloudinary.com/obm-uve/image/upload/v1725847386/BiofluxersVultureCard1_yybnqd.webp",cue="https://res.cloudinary.com/obm-uve/image/upload/v1725847387/BiofluxersVultureCard2_jwspju.webp",uue="https://res.cloudinary.com/obm-uve/image/upload/v1725847356/BiofluxersVultureCard3_zz6ebx.webp",due="https://res.cloudinary.com/obm-uve/image/upload/v1725847356/BiofluxersVultureCard4_jsaha0.webp",hue="https://res.cloudinary.com/obm-uve/image/upload/v1725847356/BiofluxersVultureCard5_fo2qng.webp",pue="https://res.cloudinary.com/obm-uve/image/upload/v1725847356/BiofluxersVultureCommander_u9ahuj.webp",fue="https://res.cloudinary.com/obm-uve/image/upload/v1725847357/BiofluxersWolfCard1_nflpgh.webp",mue="https://res.cloudinary.com/obm-uve/image/upload/v1725847358/BiofluxersWolfCard2_wjehd4.webp",gue="https://res.cloudinary.com/obm-uve/image/upload/v1725847357/BiofluxersWolfCard3_ysfl9x.webp",yue="https://res.cloudinary.com/obm-uve/image/upload/v1725847358/BiofluxersWolfCard4_urnnhl.webp",xue="https://res.cloudinary.com/obm-uve/image/upload/v1725847359/BiofluxersWolfCard5_ek7kyb.webp",bue="https://res.cloudinary.com/obm-uve/image/upload/v1725847361/BiofluxersWolfCommander_bwxovc.webp",vue="https://res.cloudinary.com/obm-uve/image/upload/v1725847411/FreakGardesPunkCard1_w1l27e.webp",wue="https://res.cloudinary.com/obm-uve/image/upload/v1725847413/FreakGardesPunkCard2_fu7kpk.webp",Sue="https://res.cloudinary.com/obm-uve/image/upload/v1725847415/FreakGardesPunkCard3_wjftqq.webp",Nue="https://res.cloudinary.com/obm-uve/image/upload/v1725847416/FreakGardesPunkCard4_fttvsa.webp",Mue="https://res.cloudinary.com/obm-uve/image/upload/v1725847418/FreakGardesPunkCard5_g8tyis.webp",Iue="https://res.cloudinary.com/obm-uve/image/upload/v1725847419/FreakGardesPunkCommander_fqlbdl.webp",Tue="https://res.cloudinary.com/obm-uve/image/upload/v1725847404/FreakGardesMayaCard1_q4bumx.webp",Aue="https://res.cloudinary.com/obm-uve/image/upload/v1725847408/FreakGardesMayaCard2_rpcwmd.webp",kue="https://res.cloudinary.com/obm-uve/image/upload/v1725847411/FreakGardesMayaCard3_c9wlxd.webp",Cue="https://res.cloudinary.com/obm-uve/image/upload/v1725847412/FreakGardesMayaCard4_qrdxld.webp",Due="https://res.cloudinary.com/obm-uve/image/upload/v1725847414/FreakGardesMayaCard5_fjvduz.webp",Lue="https://res.cloudinary.com/obm-uve/image/upload/v1725847417/FreakGardesMayaCommander_asxukn.webp",Eue="https://res.cloudinary.com/obm-uve/image/upload/v1725847360/ForestalkersBatCard1_oyjauj.webp",Oue="https://res.cloudinary.com/obm-uve/image/upload/v1725847361/ForestalkersBatCard2_nkzbbn.webp",jue="https://res.cloudinary.com/obm-uve/image/upload/v1725847362/ForestalkersBatCard3_ykp2rj.webp",Rue="https://res.cloudinary.com/obm-uve/image/upload/v1725847364/ForestalkersBatCard4_otnyym.webp",Pue="https://res.cloudinary.com/obm-uve/image/upload/v1725847364/ForestalkersBatCard5_ibxzsi.webp",zue="https://res.cloudinary.com/obm-uve/image/upload/v1725847369/ForestalkersBatCommander_tfwtdu.webp",_ue="https://res.cloudinary.com/obm-uve/image/upload/v1725847365/ForestalkersHorseCard1_xo4ptl.webp",Fue="https://res.cloudinary.com/obm-uve/image/upload/v1725847366/ForestalkersHorseCard2_lgt4nm.webp",Bue="https://res.cloudinary.com/obm-uve/image/upload/v1725847367/ForestalkersHorseCard3_ck72is.webp",Vue="https://res.cloudinary.com/obm-uve/image/upload/v1725847371/ForestalkersHorseCard4_gc4sz5.webp",Uue="https://res.cloudinary.com/obm-uve/image/upload/v1725847373/ForestalkersHorseCard5_b8agxu.webp",Gue="https://res.cloudinary.com/obm-uve/image/upload/v1725847374/ForestalkersHorseCommander_zekvqj.webp",Wue="https://res.cloudinary.com/obm-uve/image/upload/v1725847434/EngineGearsSkaterCard1_tujtfk.webp",Hue="https://res.cloudinary.com/obm-uve/image/upload/v1725847435/EngineGearsSkaterCard2_swtsjx.webp",Yue="https://res.cloudinary.com/obm-uve/image/upload/v1725847436/EngineGearsSkaterCard3_b2xtrm.webp",$ue="https://res.cloudinary.com/obm-uve/image/upload/v1725847397/EngineGearsSkaterCard4_wqutd3.webp",Kue="https://res.cloudinary.com/obm-uve/image/upload/v1725847398/EngineGearsSkaterCard5_tqtggr.webp",Zue="https://res.cloudinary.com/obm-uve/image/upload/v1725847400/EngineGearsSkaterCommander_uzvm5n.webp",que="https://res.cloudinary.com/obm-uve/image/upload/v1725847399/EngineGearsTinglitCard1_zewy5k.webp",Xue="https://res.cloudinary.com/obm-uve/image/upload/v1725847400/EngineGearsTinglitCard2_epl7hz.webp",Que="https://res.cloudinary.com/obm-uve/image/upload/v1725847401/EngineGearsTinglitCard3_mmzfpo.webp",Jue="https://res.cloudinary.com/obm-uve/image/upload/v1725847402/EngineGearsTinglitCard4_cmpf2u.webp",ede="https://res.cloudinary.com/obm-uve/image/upload/v1725847404/EngineGearsTinglitCard5_kbgqxb.webp",tde="https://res.cloudinary.com/obm-uve/image/upload/v1725847407/EngineGearsTinglitCommander_qwnmus.webp",ide="https://res.cloudinary.com/obm-uve/image/upload/v1725847420/TekheistsCherokeeCard1_td7qqs.webp",nde="https://res.cloudinary.com/obm-uve/image/upload/v1725847421/TekheistsCherokeeCard2_ox6xyj.webp",sde="https://res.cloudinary.com/obm-uve/image/upload/v1725847422/TekheistsCherokeeCard3_dheuzh.webp",ade="https://res.cloudinary.com/obm-uve/image/upload/v1725847424/TekheistsCherokeeCard4_yulnvh.webp",ode="https://res.cloudinary.com/obm-uve/image/upload/v1725847425/TekheistsCherokeeCard5_rdc9hx.webp",rde="https://res.cloudinary.com/obm-uve/image/upload/v1725847426/TekheistsCherokeeCommander_x7sxvh.webp",lde="https://res.cloudinary.com/obm-uve/image/upload/v1725847427/TekheistsNavajoCard1_zfj5jw.webp",cde="https://res.cloudinary.com/obm-uve/image/upload/v1725847428/TekheistsNavajoCard2_auir5j.webp",ude="https://res.cloudinary.com/obm-uve/image/upload/v1725847430/TekheistsNavajoCard3_z2jouc.webp",dde="https://res.cloudinary.com/obm-uve/image/upload/v1725847430/TekheistsNavajoCard4_ocpgnl.webp",hde="https://res.cloudinary.com/obm-uve/image/upload/v1725847431/TekheistsNavajoCard5_fjynd4.webp",pde="https://res.cloudinary.com/obm-uve/image/upload/v1725847433/TekheistsNavajoCommander_ltpzki.webp",fde="https://res.cloudinary.com/obm-uve/image/upload/v1725847369/TidedriftersEelCard1_vfkbj6.webp",mde="https://res.cloudinary.com/obm-uve/image/upload/v1725847370/TidedriftersEelCard2_olp0ej.webp",gde="https://res.cloudinary.com/obm-uve/image/upload/v1725847372/TidedriftersEelCard3_iflmtn.webp",yde="https://res.cloudinary.com/obm-uve/image/upload/v1725847375/TidedriftersEelCard4_hhoeeo.webp",xde="https://res.cloudinary.com/obm-uve/image/upload/v1725847377/TidedriftersEelCard5_smqf0b.webp",bde="https://res.cloudinary.com/obm-uve/image/upload/v1725847377/TidedriftersEelCommander_kgtbe4.webp",vde="https://res.cloudinary.com/obm-uve/image/upload/v1725847378/TidedriftersSharkCard1_jq5dsa.webp",wde="https://res.cloudinary.com/obm-uve/image/upload/v1725847379/TidedriftersSharkCard2_w0piw7.webp",Sde="https://res.cloudinary.com/obm-uve/image/upload/v1725847381/TidedriftersSharkCard3_ipjmba.webp",Nde="https://res.cloudinary.com/obm-uve/image/upload/v1725847381/TidedriftersSharkCard4_rztof2.webp",Mde="https://res.cloudinary.com/obm-uve/image/upload/v1725847383/TidedriftersSharkCard5_ruud6f.webp",Ide="https://res.cloudinary.com/obm-uve/image/upload/v1725847384/TidedriftersSharkCommander_k9757o.webp",Tde="https://res.cloudinary.com/obm-uve/image/upload/v1733968022/CogsairsInuitCard1_sbfhwn.webp",Ade="https://res.cloudinary.com/obm-uve/image/upload/v1733968023/CogsairsInuitCard2_hiufqd.webp",kde="https://res.cloudinary.com/obm-uve/image/upload/v1733968021/CogsairsInuitCard3_wes2rc.webp",Cde="https://res.cloudinary.com/obm-uve/image/upload/v1733968021/CogsairsInuitCard4_ct9dkt.webp",Dde="https://res.cloudinary.com/obm-uve/image/upload/v1733968021/CogsairsInuitCard5_knotaa.webp",Lde="https://res.cloudinary.com/obm-uve/image/upload/v1733968022/CogsairsInuitCommander_lebjc2.webp",Ede="https://res.cloudinary.com/obm-uve/image/upload/v1733967865/VoidweaversWaspCard1_zltgtg.webp",Ode="https://res.cloudinary.com/obm-uve/image/upload/v1733967865/VoidweaversWaspCard2_f3ujyh.webp",jde="https://res.cloudinary.com/obm-uve/image/upload/v1733967865/VoidweaversWaspCard3_ie4iz4.webp",Rde="https://res.cloudinary.com/obm-uve/image/upload/v1733967865/VoidweaversWaspCard4_urox9d.webp",Pde="https://res.cloudinary.com/obm-uve/image/upload/v1733967865/VoidweaversWaspCard5_zaf6ts.webp",zde="https://res.cloudinary.com/obm-uve/image/upload/v1733967865/VoidweaversWaspCommander_nmfo3y.webp",_de="https://res.cloudinary.com/obm-uve/image/upload/v1732570628/Romi_eeqrmf.webp",Fde="https://res.cloudinary.com/obm-uve/image/upload/v1726097649/Dario_cnhgyb.webp",Bde="https://res.cloudinary.com/obm-uve/image/upload/v1726097662/Juampi_drxjsg.webp",Vde="https://res.cloudinary.com/obm-uve/image/upload/v1726097649/Alexia_mtip3c.webp",Ude="https://res.cloudinary.com/obm-uve/image/upload/v1726097649/Aldo_lopmly.webp",Gde="https://res.cloudinary.com/obm-uve/image/upload/v1726097652/Gaston_pzfqip.webp",Wde="https://res.cloudinary.com/obm-uve/image/upload/v1726097669/Sofia_zhkxi9.webp",Hde="https://res.cloudinary.com/obm-uve/image/upload/v1726097653/Jose_ul4d18.webp",Yde="https://res.cloudinary.com/obm-uve/image/upload/v1726097667/Oscar_wwohgn.webp",$de="https://res.cloudinary.com/obm-uve/image/upload/v1726097663/Nicolas_limksz.webp",Kde="https://res.cloudinary.com/obm-uve/image/upload/v1726097666/Matias_al7mph.webp",Zde="https://res.cloudinary.com/obm-uve/image/upload/v1726097656/Martina_oxw4hq.webp",qde="https://res.cloudinary.com/obm-uve/image/upload/v1726097650/Ines_byyeig.webp",Xde="https://res.cloudinary.com/obm-uve/image/upload/v1726097655/Marcelo_fcllvv.webp",Qde="https://res.cloudinary.com/obm-uve/image/upload/v1726097657/Mathias_k61wz1.webp",Jde="https://res.cloudinary.com/obm-uve/image/upload/v1726097650/Franco_ul7lf5.webp",ehe="https://res.cloudinary.com/obm-uve/image/upload/v1729256727/Nacho_gzke81.webp",the="https://res.cloudinary.com/obm-uve/image/upload/v1729256727/Isaac_rmaqja.webp",ihe="https://res.cloudinary.com/obm-uve/image/upload/v1729256727/Marlene_q9ywi6.webp",nhe="https://res.cloudinary.com/obm-uve/image/upload/v1729256726/Fede_pqkk08.webp",she="https://res.cloudinary.com/obm-uve/image/upload/v1740509100/Luz_j8cujv.webp",ahe="https://res.cloudinary.com/obm-uve/image/upload/v1740509100/Silvina_wewenv.webp",D9={"gear-logo":"https://res.cloudinary.com/obm-uve/image/upload/v1737759678/logo_jmobji.webp","gear-center":"https://res.cloudinary.com/obm-uve/image/upload/v1737759678/center_ia6t0z.webp","gear-mid":"https://res.cloudinary.com/obm-uve/image/upload/v1737759678/gear_kykhrb.webp","univearth-mini-logo-black":"https://res.cloudinary.com/obm-uve/image/upload/v1735593023/UnivearthMiniLogoBlack_fklrtd.webp","univearth-mini-logo-white":"https://res.cloudinary.com/obm-uve/image/upload/v1735593023/UnivearthMiniLogoWhite_xjv6p2.webp","main-background":"https://res.cloudinary.com/obm-uve/image/upload/v1735684636/Main_hvgt2r.webp",alienShark1:kle,alienShark2:Cle,alienShark3:Dle,alienShark4:Lle,alienShark5:Ele,alienSharkCommander:Ole,alienEel1:jle,alienEel2:Rle,alienEel3:Ple,alienEel4:zle,alienEel5:_le,alienEelCommander:Fle,alienBat1:Ble,alienBat2:Vle,alienBat3:Ule,alienBat4:Gle,alienBat5:Wle,alienBatCommander:Hle,alienHorse1:Yle,alienHorse2:$le,alienHorse3:Kle,alienHorse4:Zle,alienHorse5:qle,alienHorseCommander:Xle,alienWasp1:Qle,alienWasp2:Jle,alienWasp3:ece,alienWasp4:tce,alienWasp5:ice,alienWaspCOmmander:nce,alienVulture1:sce,alienVulture2:ace,alienVulture3:oce,alienVulture4:rce,alienVulture5:lce,alienVultureCommander:cce,alienWolf1:uce,alienWolf2:dce,alienWolf3:hce,alienWolf4:pce,alienWolf5:fce,alienWolfCommander:mce,earthInuit1:gce,earthInuit2:yce,earthInuit3:xce,earthInuit4:bce,earthInuit5:vce,earthInuitCommander:wce,earthMaya1:Sce,earthMaya2:Nce,earthMaya3:Mce,earthMaya4:Ice,earthMaya5:Tce,earthMayaCommander:Ace,earthPunk1:kce,earthPunk2:Cce,earthPunk3:Dce,earthPunk4:Lce,earthPunk5:Ece,earthPunkCommander:Oce,earthNavajo1:jce,earthNavajo2:Rce,earthNavajo3:Pce,earthNavajo4:zce,earthNavajo5:_ce,earthNavajoCommander:Fce,earthCherokee1:Bce,earthCherokee2:Vce,earthCherokee3:Uce,earthCherokee4:Gce,earthCherokee5:Wce,earthCherokeeCommander:Hce,earthTinglit1:Yce,earthTinglit2:$ce,earthTinglit3:Kce,earthTinglit4:Zce,earthTinglit5:qce,earthTinglitCommander:Xce,earthSkater1:Qce,earthSkater2:Jce,earthSkater3:eue,earthSkater4:tue,earthSkater5:iue,earthSkaterCommander:nue,"earth-smoke":"https://res.cloudinary.com/obm-uve/image/upload/v1735410576/EarthTextSmokeSmall_tmeg9s.webp","alien-smoke":"https://res.cloudinary.com/obm-uve/image/upload/v1735410569/AlienTextSmokeSmall_c4fnz2.webp","earth-switch":"https://res.cloudinary.com/obm-uve/image/upload/v1726239178/EarthSwitch_hwq8bh.webp","earth-switch-on":"https://res.cloudinary.com/obm-uve/image/upload/v1726239178/EarthSwitchOn_i8jkmw.webp","alien-switch":"https://res.cloudinary.com/obm-uve/image/upload/v1726239193/AlienSwitch_cxzexm.webp","alien-switch-on":"https://res.cloudinary.com/obm-uve/image/upload/v1726239194/AlienSwitchOn_cius36.webp","earth-circle-button":"https://res.cloudinary.com/obm-uve/image/upload/v1727623378/EarthCircleButton_z3azqp.webp","earth-clean-circle-button":"https://res.cloudinary.com/obm-uve/image/upload/v1735323801/EarthCleanCircleButton_lcopwm.webp","alien-circle-button":"https://res.cloudinary.com/obm-uve/image/upload/v1725986486/AlienCircleButton_bmgpvj.webp","alien-clean-circle-button":"https://res.cloudinary.com/obm-uve/image/upload/v1735323795/AlienCleanCircleButton_oqett7.webp","earth-room":"https://res.cloudinary.com/obm-uve/image/upload/v1725971609/EarthRoom_z4vrjw.webp","alien-room":"https://res.cloudinary.com/obm-uve/image/upload/v1725971627/AlienRoom_gcdyk5.webp","univearth-logo-general":"https://res.cloudinary.com/obm-uve/image/upload/v1735565007/UnivearthLogoGeneralMedium_smwep4.webp","univearth-logo-earth-lights":"https://res.cloudinary.com/obm-uve/image/upload/v1725023599/UnivearthLogoEarthLights.webp","univearth-logo-alien-lights":"https://res.cloudinary.com/obm-uve/image/upload/v1725023599/UnivearthLogoAlienLights.webp","alien-gear":"https://res.cloudinary.com/obm-uve/image/upload/v1725986486/AlienGear_yn6ovw.webp","earth-mobile-border-horizontal":"https://res.cloudinary.com/obm-uve/image/upload/v1725986507/EarthMobileBorderHorizontal_xp6pid.webp","alien-mobile-border-horizontal":"https://res.cloudinary.com/obm-uve/image/upload/v1725986486/AlienMobileBorderHorizontal_pt4y1e.webp","token-earth":"https://res.cloudinary.com/obm-uve/image/upload/v1729256422/TokenEarth2_ry7nqa.webp","token-alien":"https://res.cloudinary.com/obm-uve/image/upload/v1729256422/TokenAlien2_nr1u29.webp","alien-nft-box-medium":"https://res.cloudinary.com/obm-uve/image/upload/v1726147647/AlienNFTBoxMedium_txdox7.webp","earth-nft-box-medium":"https://res.cloudinary.com/obm-uve/image/upload/v1726147647/EarthNFTBoxMedium_affhmk.webp","usdc-icon":"https://res.cloudinary.com/obm-uve/image/upload/v1736634083/USDCIcon_bfgyqa.webp","polygon-icon":"https://res.cloudinary.com/obm-uve/image/upload/v1736634094/PolygonIcon_rwhin2.webp",emiliano:sue,nataly:aue,lautaro:oue,"obm-vertical-logo-draw":"https://res.cloudinary.com/obm-uve/image/upload/v1725026205/ObmVerticalLogoDraw.webp","obm-vertical-logo-real":"https://res.cloudinary.com/obm-uve/image/upload/v1725026205/ObmVerticalLogoReal.webp","earth-blueprint-paper":"https://res.cloudinary.com/obm-uve/image/upload/v1724984109/BlueprintPaper.webp","earth-drawing-winged-gear":"https://res.cloudinary.com/obm-uve/image/upload/v1725144472/DrawingWingedGear.webp","alien-astral-map":"https://res.cloudinary.com/obm-uve/image/upload/v1724985479/AstralMap.webp","alien-map-screen":"https://res.cloudinary.com/obm-uve/image/upload/v1725989053/AlienMapScreen_ekdrde.webp","earth-map-screen":"https://res.cloudinary.com/obm-uve/image/upload/v1725989055/EarthMapScreen_reyuww.webp","earth-mobile-border-vertical":"https://res.cloudinary.com/obm-uve/image/upload/v1725986508/EarthMobileBorderVertical_bnloyz.webp","alien-mobile-border-vertical":"https://res.cloudinary.com/obm-uve/image/upload/v1725986486/AlienMobileBorderVertical_g0tyr1.webp","alien-gameplay-screen":"https://res.cloudinary.com/obm-uve/image/upload/v1725989055/AlienGameplayScreen_f0ffms.webp","earth-gameplay-screen":"https://res.cloudinary.com/obm-uve/image/upload/v1725989055/EarthGameplayScreen_broano.webp","earth-mountain":"https://res.cloudinary.com/obm-uve/image/upload/v1725971609/EarthMountain_hswkwh.webp","alien-forest":"https://res.cloudinary.com/obm-uve/image/upload/v1725971626/AlienForest_kaxu8j.webp","earth-arm-large-base":"https://res.cloudinary.com/obm-uve/image/upload/v1726062424/EarthArmLargeBase_yjabcp.webp","earth-left-corner":"https://res.cloudinary.com/obm-uve/image/upload/v1730563529/EarthCornerLeftSM_csiwuj.webp","earth-right-corner":"https://res.cloudinary.com/obm-uve/image/upload/v1730563529/EarthCornerRightSM_ialsjb.webp","earth-gear":"https://res.cloudinary.com/obm-uve/image/upload/v1725986502/EarthGear_y1qq0q.webp","earth-right-arm":"https://res.cloudinary.com/obm-uve/image/upload/v1725986508/EarthRightArm_zakykp.webp",aliensmallcorner:rue,"alien-arm":"https://res.cloudinary.com/obm-uve/image/upload/v1725986486/AlienArm_ky7slf.webp","alien-arm-large-base":"https://res.cloudinary.com/obm-uve/image/upload/v1726063298/AlienArmLargeBase_zsercu.webp","earth-left-arm":"https://res.cloudinary.com/obm-uve/image/upload/v1725986503/EarthLeftArm_tpaa4x.webp","alien-resource-screen":"https://res.cloudinary.com/obm-uve/image/upload/v1725989053/AlienResourceScreen_ebuzkw.webp","earth-resource-screen":"https://res.cloudinary.com/obm-uve/image/upload/v1725989055/EarthResourceScreen_begpv9.webp","earth-desert":"https://res.cloudinary.com/obm-uve/image/upload/v1725971609/EarthDesert_equ2z3.webp","alien-tundra":"https://res.cloudinary.com/obm-uve/image/upload/v1725971626/AlienTundra_tlishp.webp","earth-button":"https://res.cloudinary.com/obm-uve/image/upload/v1726240727/EarthButton_seq2dk.webp","earth-button-on":"https://res.cloudinary.com/obm-uve/image/upload/v1726239178/EarthButtonOn_nvvno5.webp","alien-button":"https://res.cloudinary.com/obm-uve/image/upload/v1726240597/AlienButton_y2zb9d.webp","alien-button-on":"https://res.cloudinary.com/obm-uve/image/upload/v1726239193/AlienButtonOn_didegd.webp",alienBiofluxersVultureCard1:lue,alienBiofluxersVultureCard2:cue,alienBiofluxersVultureCard3:uue,alienBiofluxersVultureCard4:due,alienBiofluxersVultureCard5:hue,alienBiofluxersVultureCommander:pue,alienBiofluxersWolfCard1:fue,alienBiofluxersWolfCard2:mue,alienBiofluxersWolfCard3:gue,alienBiofluxersWolfCard4:yue,alienBiofluxersWolfCard5:xue,alienBiofluxersWolfCommander:bue,earthFreakGardesPunkCard1:vue,earthFreakGardesPunkCard2:wue,earthFreakGardesPunkCard3:Sue,earthFreakGardesPunkCard4:Nue,earthFreakGardesPunkCard5:Mue,earthFreakGardesPunkCommander:Iue,earthFreakGardesMayaCard1:Tue,earthFreakGardesMayaCard2:Aue,earthFreakGardesMayaCard3:kue,earthFreakGardesMayaCard4:Cue,earthFreakGardesMayaCard5:Due,earthFreakGardesMayaCommander:Lue,alienForestalkersBatCard1:Eue,alienForestalkersBatCard2:Oue,alienForestalkersBatCard3:jue,alienForestalkersBatCard4:Rue,alienForestalkersBatCard5:Pue,alienForestalkersBatCommander:zue,alienForestalkersHorseCard1:_ue,alienForestalkersHorseCard2:Fue,alienForestalkersHorseCard3:Bue,alienForestalkersHorseCard4:Vue,alienForestalkersHorseCard5:Uue,alienForestalkersHorseCommander:Gue,earthEngineGearsSkaterCard1:Wue,earthEngineGearsSkaterCard2:Hue,earthEngineGearsSkaterCard3:Yue,earthEngineGearsSkaterCard4:$ue,earthEngineGearsSkaterCard5:Kue,earthEngineGearsSkaterCommander:Zue,earthEngineGearsTinglitCard1:que,earthEngineGearsTinglitCard2:Xue,earthEngineGearsTinglitCard3:Que,earthEngineGearsTinglitCard4:Jue,earthEngineGearsTinglitCard5:ede,earthEngineGearsTinglitCommander:tde,earthTekheistsCherokeeCard1:ide,earthTekheistsCherokeeCard2:nde,earthTekheistsCherokeeCard3:sde,earthTekheistsCherokeeCard4:ade,earthTekheistsCherokeeCard5:ode,earthTekheistsCherokeeCommander:rde,earthTekheistsNavajoCard1:lde,earthTekheistsNavajoCard2:cde,earthTekheistsNavajoCard3:ude,earthTekheistsNavajoCard4:dde,earthTekheistsNavajoCard5:hde,earthTekheistsNavajoCommander:pde,alienTidedriftersEelCard1:fde,alienTidedriftersEelCard2:mde,alienTidedriftersEelCard3:gde,alienTidedriftersEelCard4:yde,alienTidedriftersEelCard5:xde,alienTidedriftersEelCommander:bde,alienTidedriftersSharkCard1:vde,alienTidedriftersSharkCard2:wde,alienTidedriftersSharkCard3:Sde,alienTidedriftersSharkCard4:Nde,alienTidedriftersSharkCard5:Mde,alienTidedriftersSharkCommander:Ide,earthCogsairsInuitCard1:Tde,earthCogsairsInuitCard2:Ade,earthCogsairsInuitCard3:kde,earthCogsairsInuitCard4:Cde,earthCogsairsInuitCard5:Dde,earthCogsairsInuitCommander:Lde,alienVoidweaversWaspCard1:Ede,alienVoidweaversWaspCard2:Ode,alienVoidweaversWaspCard3:jde,alienVoidweaversWaspCard4:Rde,alienVoidweaversWaspCard5:Pde,alienVoidweaversWaspCommander:zde,"earth-stick":"https://res.cloudinary.com/obm-uve/image/upload/v1725986512/EarthStick_bxzgx9.webp","alien-stick":"https://res.cloudinary.com/obm-uve/image/upload/v1725986490/AlienStick_kjavsj.webp","earth-jungle":"https://res.cloudinary.com/obm-uve/image/upload/v1725971609/EarthJungle_xkfqyp.webp","alien-desert":"https://res.cloudinary.com/obm-uve/image/upload/v1725971626/AlienDesert_klycgs.webp",romi:_de,dario:Fde,juampi:Bde,alexia:Vde,aldo:Ude,gaston:Gde,sofia:Wde,"juan-pablo":"https://res.cloudinary.com/obm-uve/image/upload/v1726097653/JuanPablo_crwppz.webp",jose:Hde,oscar:Yde,nicolas:$de,"nacho-g":"https://res.cloudinary.com/obm-uve/image/upload/v1726097659/NachoG_sjngtp.webp",matias:Kde,martina:Zde,ines:qde,marcelo:Xde,mathias:Qde,franco:Jde,nacho:ehe,isaac:the,marlene:ihe,fede:nhe,luz:she,silvina:ahe,"earth-tundra":"https://res.cloudinary.com/obm-uve/image/upload/v1725971609/EarthTundra_mx2avd.webp","alien-mountain":"https://res.cloudinary.com/obm-uve/image/upload/v1725971625/AlienMountain_ov0thv.webp"},k2={},ohe=Symbol((k2?"production":void 0)!=="production"?"RESET":""),rhe=e=>typeof(e==null?void 0:e.then)=="function";function lhe(e=()=>{try{return window.localStorage}catch(i){(k2?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(i);return}},t){var i;let n,s;const a={getItem:(l,c)=>{var u,h;const f=x=>{if(x=x||"",n!==x){try{s=JSON.parse(x,t==null?void 0:t.reviver)}catch{return c}n=x}return s},g=(h=(u=e())==null?void 0:u.getItem(l))!=null?h:null;return rhe(g)?g.then(f):f(g)},setItem:(l,c)=>{var u;return(u=e())==null?void 0:u.setItem(l,JSON.stringify(c,void 0))},removeItem:l=>{var c;return(c=e())==null?void 0:c.removeItem(l)}},o=l=>(c,u,h)=>l(c,f=>{let g;try{g=JSON.parse(f||"")}catch{g=h}u(g)});let r;try{r=(i=e())==null?void 0:i.subscribe}catch{}return!r&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(r=(l,c)=>{if(!(e()instanceof window.Storage))return()=>{};const u=h=>{h.storageArea===e()&&h.key===l&&c(h.newValue)};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}}),r&&(a.subscribe=o(r)),a}const che=lhe();function uhe(e,t,i=che,n){const s=Wi(t);return(k2?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=o=>{o(i.getItem(e,t));let r;return i.subscribe&&(r=i.subscribe(e,o,t)),r},Wi(o=>o(s),(o,r,l)=>{const c=typeof l=="function"?l(o(s)):l;return c===ohe?(r(s,t),i.removeItem(e)):c instanceof Promise?c.then(u=>(r(s,u),i.setItem(e,u))):(r(s,c),i.setItem(e,c))})}const dhe=(e=>{let t={};const i=n=>{Object.keys(n).forEach(s=>{var a;if(typeof n[s]=="object"&&n[s]!==null&&!((a=n[s])!=null&&a.length))i(n[s]);else if(typeof n[s]=="string")if(s.includes("-")){const o=s.split("-").join("");t={...t,[o]:n[s]}}else t={...t,[s.toLowerCase()]:n[s]}})};return i(e),t})(D9),hhe=()=>{const e=new URLSearchParams(window.location.search),t=parseInt(e.get("stage"),10);return!isNaN(t)&&t>=0&&t<=6?t:8},Ee=Wi(dhe),phe=uhe("isAssetsLoadedAtom",!1),L9=Wi(0),C2=Wi(!1),ml=Wi(!1),E9=Wi(!1),D2=Wi(!0),Dc=Wi(!1),O9=Wi({value:null}),hC=Wi({value:null}),pC=Wi({value:null}),fC=Wi({value:null}),Am=Wi({value:null}),mC=Wi({value:null}),gC=Wi({value:null}),L2=Wi(hhe()),j9=Wi("archetype"),R9=Wi({show:!1,title:"",url:"",copiedText:"",webClassName:"",mediumClassName:"",mobileClassName:""}),E2=(e,t)=>{D.useEffect(()=>{if(!(t!=null&&t.current))return;const i=document.getElementById("root"),n=new Set,s=new Set;let a=t.current;for(;a;)n.add(a),a=a.parentElement;const o=c=>{s.add(c),Array.from(c.children).forEach(u=>o(u))};o(t.current);const r=(c,u)=>{!n.has(c)&&!s.has(c)&&c!==i&&(u?(c.setAttribute("inert",""),c.style.pointerEvents="none"):(c.removeAttribute("inert"),c.style.pointerEvents=""))},l=c=>{Array.from(document.body.querySelectorAll("*")).forEach(h=>r(h,c))};return l(!!e),()=>{l(!1)}},[e,t])},ze=Wi(null),fhe=Wi(!1),mhe=()=>{const[e,t]=Hm(ze),i=xt(fhe),n=a=>{t(a),localStorage.setItem("uveTheme",a);const o=document.getElementById("root");o&&(o.className=a)};return{theme:e,changeTheme:a=>{i(!0),setTimeout(()=>{n(a||(e===F?De:F)),i(!1)},Ene)}}},ve=()=>{const[e,t]=D.useState(window.innerWidth),[i,n]=D.useState(window.innerHeight),[s,a]=D.useState("web");return D.useEffect(()=>{const o=()=>{document.fullscreenElement||(t(window.innerWidth),n(window.innerHeight))};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),D.useEffect(()=>{if(document.fullscreenElement)return;const o=e/i;o>=4/3?a("web"):o>=25/42?a("medium"):a("mobile")},[i,e]),{deviceType:s,windowWidth:e,windowHeight:i}},ghe=e=>D.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...e},D.createElement("path",{d:"M4 18L20 18",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),D.createElement("path",{d:"M4 12L20 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),D.createElement("path",{d:"M4 6L20 6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),Ai=D.forwardRef(({theme:e,children:t,className:i,mode:n="normal"},s)=>{const{deviceType:a}=ve();return d.jsx("div",{ref:s,className:k("border-1 pointer-events-auto rounded-lg border bg-opacity-10 p-8 backdrop-blur-[6px]",e===F?"border-earth-black/5 bg-earth-green shadow-earth-frame":"border-alien-white/5 bg-alien-purple shadow-alien-frame",a==="web"&&n==="normal"&&"hover:!bg-opacity-20",n==="light"&&"!bg-opacity-20",n==="dark"&&"brightness-100",i),style:{opacity:1,zIndex:10,transition:"background-color 0.3s ease-in-out, opacity 1s ease-in-out, border-color 1s ease-in-out",contentVisibility:"auto"},children:t})});Ai.displayName="GlassFrame";const Zn=D.forwardRef(({children:e,...t},i)=>{const n=le(Dc);return d.jsx(H8,{...t,ref:i,className:k(t.className,n&&"!pointer-events-none"),children:e})});Zn.displayName="Link Exit";const P9=D.forwardRef(({children:e,className:t,...i},n)=>{const s=le(Dc);return d.jsx(cie,{...i,ref:n,className:a=>k(typeof t=="function"?t(a):t,s&&"!pointer-events-none"),children:e})});P9.displayName="NavLink Exit";function At(e,t,{checkForDefaultPrevented:i=!0}={}){return function(s){if(e==null||e(s),i===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function yhe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function z9(...e){return t=>e.forEach(i=>yhe(i,t))}function pi(...e){return D.useCallback(z9(...e),e)}function xhe(e,t){const i=D.createContext(t),n=a=>{const{children:o,...r}=a,l=D.useMemo(()=>r,Object.values(r));return d.jsx(i.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(a){const o=D.useContext(i);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function bhe(e,t=[]){let i=[];function n(a,o){const r=D.createContext(o),l=i.length;i=[...i,o];const c=h=>{var v;const{scope:f,children:g,...x}=h,y=((v=f==null?void 0:f[e])==null?void 0:v[l])||r,b=D.useMemo(()=>x,Object.values(x));return d.jsx(y.Provider,{value:b,children:g})};c.displayName=a+"Provider";function u(h,f){var y;const g=((y=f==null?void 0:f[e])==null?void 0:y[l])||r,x=D.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[c,u]}const s=()=>{const a=i.map(o=>D.createContext(o));return function(r){const l=(r==null?void 0:r[e])||a;return D.useMemo(()=>({[`__scope${e}`]:{...r,[e]:l}}),[r,l])}};return s.scopeName=e,[n,vhe(s,...t)]}function vhe(...e){const t=e[0];if(e.length===1)return t;const i=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((r,{useScope:l,scopeName:c})=>{const h=l(a)[`__scope${c}`];return{...r,...h}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return i.scopeName=t.scopeName,i}var Oo=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},whe=D8.useId||(()=>{}),She=0;function tw(e){const[t,i]=D.useState(whe());return Oo(()=>{i(n=>n??String(She++))},[e]),e||(t?`radix-${t}`:"")}function Gi(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...i)=>{var n;return(n=t.current)==null?void 0:n.call(t,...i)},[])}function O2({prop:e,defaultProp:t,onChange:i=()=>{}}){const[n,s]=Nhe({defaultProp:t,onChange:i}),a=e!==void 0,o=a?e:n,r=Gi(i),l=D.useCallback(c=>{if(a){const h=typeof c=="function"?c(e):c;h!==e&&r(h)}else s(c)},[a,e,s,r]);return[o,l]}function Nhe({defaultProp:e,onChange:t}){const i=D.useState(e),[n]=i,s=D.useRef(n),a=Gi(t);return D.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),i}var km=D.forwardRef((e,t)=>{const{children:i,...n}=e,s=D.Children.toArray(i),a=s.find(Ihe);if(a){const o=a.props.children,r=s.map(l=>l===a?D.Children.count(o)>1?D.Children.only(null):D.isValidElement(o)?o.props.children:null:l);return d.jsx(yC,{...n,ref:t,children:D.isValidElement(o)?D.cloneElement(o,void 0,r):null})}return d.jsx(yC,{...n,ref:t,children:i})});km.displayName="Slot";var yC=D.forwardRef((e,t)=>{const{children:i,...n}=e;if(D.isValidElement(i)){const s=Ahe(i);return D.cloneElement(i,{...The(n,i.props),ref:t?z9(t,s):s})}return D.Children.count(i)>1?D.Children.only(null):null});yC.displayName="SlotClone";var Mhe=({children:e})=>d.jsx(d.Fragment,{children:e});function Ihe(e){return D.isValidElement(e)&&e.type===Mhe}function The(e,t){const i={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?i[n]=(...r)=>{a(...r),s(...r)}:s&&(i[n]=s):n==="style"?i[n]={...s,...a}:n==="className"&&(i[n]=[s,a].filter(Boolean).join(" "))}return{...e,...i}}function Ahe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var khe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ht=khe.reduce((e,t)=>{const i=D.forwardRef((n,s)=>{const{asChild:a,...o}=n,r=a?km:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(r,{...o,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function j2(e,t){e&&Sb.flushSync(()=>e.dispatchEvent(t))}function _9(e,t=globalThis==null?void 0:globalThis.document){const i=Gi(e);D.useEffect(()=>{const n=s=>{s.key==="Escape"&&i(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[i,t])}var Che="DismissableLayer",xC="dismissableLayer.update",Dhe="dismissableLayer.pointerDownOutside",Lhe="dismissableLayer.focusOutside",Vz,F9=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B9=D.forwardRef((e,t)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:r,...l}=e,c=D.useContext(F9),[u,h]=D.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=D.useState({}),x=pi(t,L=>h(L)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),S=u?y.indexOf(u):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,M=S>=v,I=jhe(L=>{const O=L.target,P=[...c.branches].some(z=>z.contains(O));!M||P||(s==null||s(L),o==null||o(L),L.defaultPrevented||r==null||r())},f),C=Rhe(L=>{const O=L.target;[...c.branches].some(z=>z.contains(O))||(a==null||a(L),o==null||o(L),L.defaultPrevented||r==null||r())},f);return _9(L=>{S===c.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&r&&(L.preventDefault(),r()))},f),D.useEffect(()=>{if(u)return i&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Vz=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Uz(),()=>{i&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Vz)}},[u,f,i,c]),D.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Uz())},[u,c]),D.useEffect(()=>{const L=()=>g({});return document.addEventListener(xC,L),()=>document.removeEventListener(xC,L)},[]),d.jsx(Ht.div,{...l,ref:x,style:{pointerEvents:N?M?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,C.onFocusCapture),onBlurCapture:At(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,I.onPointerDownCapture)})});B9.displayName=Che;var Ehe="DismissableLayerBranch",Ohe=D.forwardRef((e,t)=>{const i=D.useContext(F9),n=D.useRef(null),s=pi(t,n);return D.useEffect(()=>{const a=n.current;if(a)return i.branches.add(a),()=>{i.branches.delete(a)}},[i.branches]),d.jsx(Ht.div,{...e,ref:s})});Ohe.displayName=Ehe;function jhe(e,t=globalThis==null?void 0:globalThis.document){const i=Gi(e),n=D.useRef(!1),s=D.useRef(()=>{});return D.useEffect(()=>{const a=r=>{if(r.target&&!n.current){let l=function(){V9(Dhe,i,c,{discrete:!0})};const c={originalEvent:r};r.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,i]),{onPointerDownCapture:()=>n.current=!0}}function Rhe(e,t=globalThis==null?void 0:globalThis.document){const i=Gi(e),n=D.useRef(!1);return D.useEffect(()=>{const s=a=>{a.target&&!n.current&&V9(Lhe,i,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,i]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Uz(){const e=new CustomEvent(xC);document.dispatchEvent(e)}function V9(e,t,i,{discrete:n}){const s=i.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});t&&s.addEventListener(e,t,{once:!0}),n?j2(s,a):s.dispatchEvent(a)}var QT="focusScope.autoFocusOnMount",JT="focusScope.autoFocusOnUnmount",Gz={bubbles:!1,cancelable:!0},Phe="FocusScope",R2=D.forwardRef((e,t)=>{const{loop:i=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[r,l]=D.useState(null),c=Gi(s),u=Gi(a),h=D.useRef(null),f=pi(t,y=>l(y)),g=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(n){let y=function(N){if(g.paused||!r)return;const M=N.target;r.contains(M)?h.current=M:Lu(h.current,{select:!0})},b=function(N){if(g.paused||!r)return;const M=N.relatedTarget;M!==null&&(r.contains(M)||Lu(h.current,{select:!0}))},v=function(N){if(document.activeElement===document.body)for(const I of N)I.removedNodes.length>0&&Lu(r)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const S=new MutationObserver(v);return r&&S.observe(r,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),S.disconnect()}}},[n,r,g.paused]),D.useEffect(()=>{if(r){Hz.add(g);const y=document.activeElement;if(!r.contains(y)){const v=new CustomEvent(QT,Gz);r.addEventListener(QT,c),r.dispatchEvent(v),v.defaultPrevented||(zhe(Uhe(U9(r)),{select:!0}),document.activeElement===y&&Lu(r))}return()=>{r.removeEventListener(QT,c),setTimeout(()=>{const v=new CustomEvent(JT,Gz);r.addEventListener(JT,u),r.dispatchEvent(v),v.defaultPrevented||Lu(y??document.body,{select:!0}),r.removeEventListener(JT,u),Hz.remove(g)},0)}}},[r,c,u,g]);const x=D.useCallback(y=>{if(!i&&!n||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(b&&v){const S=y.currentTarget,[N,M]=_he(S);N&&M?!y.shiftKey&&v===M?(y.preventDefault(),i&&Lu(N,{select:!0})):y.shiftKey&&v===N&&(y.preventDefault(),i&&Lu(M,{select:!0})):v===S&&y.preventDefault()}},[i,n,g.paused]);return d.jsx(Ht.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});R2.displayName=Phe;function zhe(e,{select:t=!1}={}){const i=document.activeElement;for(const n of e)if(Lu(n,{select:t}),document.activeElement!==i)return}function _he(e){const t=U9(e),i=Wz(t,e),n=Wz(t.reverse(),e);return[i,n]}function U9(e){const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function Wz(e,t){for(const i of e)if(!Fhe(i,{upTo:t}))return i}function Fhe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bhe(e){return e instanceof HTMLInputElement&&"select"in e}function Lu(e,{select:t=!1}={}){if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&Bhe(e)&&t&&e.select()}}var Hz=Vhe();function Vhe(){let e=[];return{add(t){const i=e[0];t!==i&&(i==null||i.pause()),e=Yz(e,t),e.unshift(t)},remove(t){var i;e=Yz(e,t),(i=e[0])==null||i.resume()}}}function Yz(e,t){const i=[...e],n=i.indexOf(t);return n!==-1&&i.splice(n,1),i}function Uhe(e){return e.filter(t=>t.tagName!=="A")}var Ghe="Portal",G9=D.forwardRef((e,t)=>{var r;const{container:i,...n}=e,[s,a]=D.useState(!1);Oo(()=>a(!0),[]);const o=i||s&&((r=globalThis==null?void 0:globalThis.document)==null?void 0:r.body);return o?E8.createPortal(d.jsx(Ht.div,{...n,ref:t}),o):null});G9.displayName=Ghe;function Whe(e,t){return D.useReducer((i,n)=>t[i][n]??i,e)}var zS=e=>{const{present:t,children:i}=e,n=Hhe(t),s=typeof i=="function"?i({present:n.isPresent}):D.Children.only(i),a=pi(n.ref,Yhe(s));return typeof i=="function"||n.isPresent?D.cloneElement(s,{ref:a}):null};zS.displayName="Presence";function Hhe(e){const[t,i]=D.useState(),n=D.useRef({}),s=D.useRef(e),a=D.useRef("none"),o=e?"mounted":"unmounted",[r,l]=Whe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=U0(n.current);a.current=r==="mounted"?c:"none"},[r]),Oo(()=>{const c=n.current,u=s.current;if(u!==e){const f=a.current,g=U0(c);e?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Oo(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=g=>{const y=U0(n.current).includes(g.animationName);if(g.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=g=>{g.target===t&&(a.current=U0(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(r),ref:D.useCallback(c=>{c&&(n.current=getComputedStyle(c)),i(c)},[])}}function U0(e){return(e==null?void 0:e.animationName)||"none"}function Yhe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var eA=0;function $he(){D.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$z()),document.body.insertAdjacentElement("beforeend",e[1]??$z()),eA++,()=>{eA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eA--}},[])}function $z(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fs=function(){return fs=Object.assign||function(t){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},fs.apply(this,arguments)};function P2(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]]);return i}function W9(e,t,i){if(i||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Ix="right-scroll-bar-position",Tx="width-before-scroll-bar",Khe="with-scroll-bars-hidden",Zhe="--removed-body-scroll-bar-size";function tA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qhe(e,t){var i=D.useState(function(){return{value:e,callback:t,facade:{get current(){return i.value},set current(n){var s=i.value;s!==n&&(i.value=n,i.callback(n,s))}}}})[0];return i.callback=t,i.facade}var Xhe=typeof window<"u"?D.useLayoutEffect:D.useEffect,Kz=new WeakMap;function H9(e,t){var i=qhe(null,function(n){return e.forEach(function(s){return tA(s,n)})});return Xhe(function(){var n=Kz.get(i);if(n){var s=new Set(n),a=new Set(e),o=i.current;s.forEach(function(r){a.has(r)||tA(r,null)}),a.forEach(function(r){s.has(r)||tA(r,o)})}Kz.set(i,e)},[e]),i}function Qhe(e){return e}function Jhe(e,t){t===void 0&&(t=Qhe);var i=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(a){var o=t(a,n);return i.push(o),function(){i=i.filter(function(r){return r!==o})}},assignSyncMedium:function(a){for(n=!0;i.length;){var o=i;i=[],o.forEach(a)}i={push:function(r){return a(r)},filter:function(){return i}}},assignMedium:function(a){n=!0;var o=[];if(i.length){var r=i;i=[],r.forEach(a),o=i}var l=function(){var u=o;o=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),i={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),i}}}};return s}function Y9(e){e===void 0&&(e={});var t=Jhe(null);return t.options=fs({async:!0,ssr:!1},e),t}var $9=function(e){var t=e.sideCar,i=P2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,fs({},i))};$9.isSideCarExport=!0;function K9(e,t){return e.useMedium(t),$9}var Z9=Y9(),iA=function(){},_S=D.forwardRef(function(e,t){var i=D.useRef(null),n=D.useState({onScrollCapture:iA,onWheelCapture:iA,onTouchMoveCapture:iA}),s=n[0],a=n[1],o=e.forwardProps,r=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,g=e.noIsolation,x=e.inert,y=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,S=e.gapMode,N=P2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=f,I=H9([i,t]),C=fs(fs({},N),s);return D.createElement(D.Fragment,null,u&&D.createElement(M,{sideCar:Z9,removeScrollBar:c,shards:h,noIsolation:g,inert:x,setCallbacks:a,allowPinchZoom:!!y,lockRef:i,gapMode:S}),o?D.cloneElement(D.Children.only(r),fs(fs({},C),{ref:I})):D.createElement(v,fs({},C,{className:l,ref:I}),r))});_S.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_S.classNames={fullWidth:Tx,zeroRight:Ix};var epe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tpe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=epe();return t&&e.setAttribute("nonce",t),e}function ipe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function npe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var spe=function(){var e=0,t=null;return{add:function(i){e==0&&(t=tpe())&&(ipe(t,i),npe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ape=function(){var e=spe();return function(t,i){D.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&i])}},z2=function(){var e=ape(),t=function(i){var n=i.styles,s=i.dynamic;return e(n,s),null};return t},ope={left:0,top:0,right:0,gap:0},nA=function(e){return parseInt(e||"",10)||0},rpe=function(e){var t=window.getComputedStyle(document.body),i=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[nA(i),nA(n),nA(s)]},lpe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ope;var t=rpe(e),i=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-i+t[2]-t[0])}},cpe=z2(),mm="data-scroll-locked",upe=function(e,t,i,n){var s=e.left,a=e.top,o=e.right,r=e.gap;return i===void 0&&(i="margin"),`
  .`.concat(Khe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(r,"px ").concat(n,`;
  }
  body[`).concat(mm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),i==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(r,"px ").concat(n,`;
    `),i==="padding"&&"padding-right: ".concat(r,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ix,` {
    right: `).concat(r,"px ").concat(n,`;
  }
  
  .`).concat(Tx,` {
    margin-right: `).concat(r,"px ").concat(n,`;
  }
  
  .`).concat(Ix," .").concat(Ix,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Tx," .").concat(Tx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mm,`] {
    `).concat(Zhe,": ").concat(r,`px;
  }
`)},Zz=function(){var e=parseInt(document.body.getAttribute(mm)||"0",10);return isFinite(e)?e:0},dpe=function(){D.useEffect(function(){return document.body.setAttribute(mm,(Zz()+1).toString()),function(){var e=Zz()-1;e<=0?document.body.removeAttribute(mm):document.body.setAttribute(mm,e.toString())}},[])},q9=function(e){var t=e.noRelative,i=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;dpe();var a=D.useMemo(function(){return lpe(s)},[s]);return D.createElement(cpe,{styles:upe(a,!t,s,i?"":"!important")})},bC=!1;if(typeof window<"u")try{var G0=Object.defineProperty({},"passive",{get:function(){return bC=!0,!0}});window.addEventListener("test",G0,G0),window.removeEventListener("test",G0,G0)}catch{bC=!1}var Nf=bC?{passive:!1}:!1,hpe=function(e){return e.tagName==="TEXTAREA"},X9=function(e,t){if(!(e instanceof Element))return!1;var i=window.getComputedStyle(e);return i[t]!=="hidden"&&!(i.overflowY===i.overflowX&&!hpe(e)&&i[t]==="visible")},ppe=function(e){return X9(e,"overflowY")},fpe=function(e){return X9(e,"overflowX")},qz=function(e,t){var i=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Q9(e,n);if(s){var a=J9(e,n),o=a[1],r=a[2];if(o>r)return!0}n=n.parentNode}while(n&&n!==i.body);return!1},mpe=function(e){var t=e.scrollTop,i=e.scrollHeight,n=e.clientHeight;return[t,i,n]},gpe=function(e){var t=e.scrollLeft,i=e.scrollWidth,n=e.clientWidth;return[t,i,n]},Q9=function(e,t){return e==="v"?ppe(t):fpe(t)},J9=function(e,t){return e==="v"?mpe(t):gpe(t)},ype=function(e,t){return e==="h"&&t==="rtl"?-1:1},xpe=function(e,t,i,n,s){var a=ype(e,window.getComputedStyle(t).direction),o=a*n,r=i.target,l=t.contains(r),c=!1,u=o>0,h=0,f=0;do{var g=J9(e,r),x=g[0],y=g[1],b=g[2],v=y-b-a*x;(x||v)&&Q9(e,r)&&(h+=v,f+=x),r instanceof ShadowRoot?r=r.host:r=r.parentNode}while(!l&&r!==document.body||l&&(t.contains(r)||t===r));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(c=!0),c},W0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xz=function(e){return[e.deltaX,e.deltaY]},Qz=function(e){return e&&"current"in e?e.current:e},bpe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vpe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wpe=0,Mf=[];function Spe(e){var t=D.useRef([]),i=D.useRef([0,0]),n=D.useRef(),s=D.useState(wpe++)[0],a=D.useState(z2)[0],o=D.useRef(e);D.useEffect(function(){o.current=e},[e]),D.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=W9([e.lockRef.current],(e.shards||[]).map(Qz),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var r=D.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=W0(y),S=i.current,N="deltaX"in y?y.deltaX:S[0]-v[0],M="deltaY"in y?y.deltaY:S[1]-v[1],I,C=y.target,L=Math.abs(N)>Math.abs(M)?"h":"v";if("touches"in y&&L==="h"&&C.type==="range")return!1;var O=qz(L,C);if(!O)return!0;if(O?I=L:(I=L==="v"?"h":"v",O=qz(L,C)),!O)return!1;if(!n.current&&"changedTouches"in y&&(N||M)&&(n.current=I),!I)return!0;var P=n.current||I;return xpe(P,b,y,P==="h"?N:M)},[]),l=D.useCallback(function(y){var b=y;if(!(!Mf.length||Mf[Mf.length-1]!==a)){var v="deltaY"in b?Xz(b):W0(b),S=t.current.filter(function(I){return I.name===b.type&&(I.target===b.target||b.target===I.shadowParent)&&bpe(I.delta,v)})[0];if(S&&S.should){b.cancelable&&b.preventDefault();return}if(!S){var N=(o.current.shards||[]).map(Qz).filter(Boolean).filter(function(I){return I.contains(b.target)}),M=N.length>0?r(b,N[0]):!o.current.noIsolation;M&&b.cancelable&&b.preventDefault()}}},[]),c=D.useCallback(function(y,b,v,S){var N={name:y,delta:b,target:v,should:S,shadowParent:Npe(v)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(M){return M!==N})},1)},[]),u=D.useCallback(function(y){i.current=W0(y),n.current=void 0},[]),h=D.useCallback(function(y){c(y.type,Xz(y),y.target,r(y,e.lockRef.current))},[]),f=D.useCallback(function(y){c(y.type,W0(y),y.target,r(y,e.lockRef.current))},[]);D.useEffect(function(){return Mf.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Nf),document.addEventListener("touchmove",l,Nf),document.addEventListener("touchstart",u,Nf),function(){Mf=Mf.filter(function(y){return y!==a}),document.removeEventListener("wheel",l,Nf),document.removeEventListener("touchmove",l,Nf),document.removeEventListener("touchstart",u,Nf)}},[]);var g=e.removeScrollBar,x=e.inert;return D.createElement(D.Fragment,null,x?D.createElement(a,{styles:vpe(s)}):null,g?D.createElement(q9,{gapMode:e.gapMode}):null)}function Npe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Mpe=K9(Z9,Spe);var eG=D.forwardRef(function(e,t){return D.createElement(_S,fs({},e,{ref:t,sideCar:Mpe}))});eG.classNames=_S.classNames;var Ipe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},If=new WeakMap,H0=new WeakMap,Y0={},sA=0,tG=function(e){return e&&(e.host||tG(e.parentNode))},Tpe=function(e,t){return t.map(function(i){if(e.contains(i))return i;var n=tG(i);return n&&e.contains(n)?n:(console.error("aria-hidden",i,"in not contained inside",e,". Doing nothing"),null)}).filter(function(i){return!!i})},Ape=function(e,t,i,n){var s=Tpe(t,Array.isArray(e)?e:[e]);Y0[i]||(Y0[i]=new WeakMap);var a=Y0[i],o=[],r=new Set,l=new Set(s),c=function(h){!h||r.has(h)||(r.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(r.has(f))u(f);else try{var g=f.getAttribute(n),x=g!==null&&g!=="false",y=(If.get(f)||0)+1,b=(a.get(f)||0)+1;If.set(f,y),a.set(f,b),o.push(f),y===1&&x&&H0.set(f,!0),b===1&&f.setAttribute(i,"true"),x||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),r.clear(),sA++,function(){o.forEach(function(h){var f=If.get(h)-1,g=a.get(h)-1;If.set(h,f),a.set(h,g),f||(H0.has(h)||h.removeAttribute(n),H0.delete(h)),g||h.removeAttribute(i)}),sA--,sA||(If=new WeakMap,If=new WeakMap,H0=new WeakMap,Y0={})}},iG=function(e,t,i){i===void 0&&(i="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Ipe(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Ape(n,s,i,"aria-hidden")):function(){return null}},_2="Dialog",[nG,VBe]=bhe(_2),[kpe,Tr]=nG(_2),sG=e=>{const{__scopeDialog:t,children:i,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,r=D.useRef(null),l=D.useRef(null),[c=!1,u]=O2({prop:n,defaultProp:s,onChange:a});return d.jsx(kpe,{scope:t,triggerRef:r,contentRef:l,contentId:tw(),titleId:tw(),descriptionId:tw(),open:c,onOpenChange:u,onOpenToggle:D.useCallback(()=>u(h=>!h),[u]),modal:o,children:i})};sG.displayName=_2;var aG="DialogTrigger",oG=D.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,s=Tr(aG,i),a=pi(t,s.triggerRef);return d.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":V2(s.open),...n,ref:a,onClick:At(e.onClick,s.onOpenToggle)})});oG.displayName=aG;var F2="DialogPortal",[Cpe,rG]=nG(F2,{forceMount:void 0}),lG=e=>{const{__scopeDialog:t,forceMount:i,children:n,container:s}=e,a=Tr(F2,t);return d.jsx(Cpe,{scope:t,forceMount:i,children:D.Children.map(n,o=>d.jsx(zS,{present:i||a.open,children:d.jsx(G9,{asChild:!0,container:s,children:o})}))})};lG.displayName=F2;var Lw="DialogOverlay",cG=D.forwardRef((e,t)=>{const i=rG(Lw,e.__scopeDialog),{forceMount:n=i.forceMount,...s}=e,a=Tr(Lw,e.__scopeDialog);return a.modal?d.jsx(zS,{present:n||a.open,children:d.jsx(Dpe,{...s,ref:t})}):null});cG.displayName=Lw;var Dpe=D.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,s=Tr(Lw,i);return d.jsx(eG,{as:km,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ht.div,{"data-state":V2(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Jh="DialogContent",uG=D.forwardRef((e,t)=>{const i=rG(Jh,e.__scopeDialog),{forceMount:n=i.forceMount,...s}=e,a=Tr(Jh,e.__scopeDialog);return d.jsx(zS,{present:n||a.open,children:a.modal?d.jsx(Lpe,{...s,ref:t}):d.jsx(Epe,{...s,ref:t})})});uG.displayName=Jh;var Lpe=D.forwardRef((e,t)=>{const i=Tr(Jh,e.__scopeDialog),n=D.useRef(null),s=pi(t,i.contentRef,n);return D.useEffect(()=>{const a=n.current;if(a)return iG(a)},[]),d.jsx(dG,{...e,ref:s,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=i.triggerRef.current)==null||o.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,r=o.button===0&&o.ctrlKey===!0;(o.button===2||r)&&a.preventDefault()}),onFocusOutside:At(e.onFocusOutside,a=>a.preventDefault())})}),Epe=D.forwardRef((e,t)=>{const i=Tr(Jh,e.__scopeDialog),n=D.useRef(!1),s=D.useRef(!1);return d.jsx(dG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,r;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(r=i.triggerRef.current)==null||r.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((c=i.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),dG=D.forwardRef((e,t)=>{const{__scopeDialog:i,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,r=Tr(Jh,i),l=D.useRef(null),c=pi(t,l);return $he(),d.jsxs(d.Fragment,{children:[d.jsx(R2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:d.jsx(B9,{role:"dialog",id:r.contentId,"aria-describedby":r.descriptionId,"aria-labelledby":r.titleId,"data-state":V2(r.open),...o,ref:c,onDismiss:()=>r.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(Ope,{titleId:r.titleId}),d.jsx(Rpe,{contentRef:l,descriptionId:r.descriptionId})]})]})}),B2="DialogTitle",hG=D.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,s=Tr(B2,i);return d.jsx(Ht.h2,{id:s.titleId,...n,ref:t})});hG.displayName=B2;var pG="DialogDescription",fG=D.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,s=Tr(pG,i);return d.jsx(Ht.p,{id:s.descriptionId,...n,ref:t})});fG.displayName=pG;var mG="DialogClose",gG=D.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,s=Tr(mG,i);return d.jsx(Ht.button,{type:"button",...n,ref:t,onClick:At(e.onClick,()=>s.onOpenChange(!1))})});gG.displayName=mG;function V2(e){return e?"open":"closed"}var yG="DialogTitleWarning",[UBe,xG]=xhe(yG,{contentName:Jh,titleName:B2,docsSlug:"dialog"}),Ope=({titleId:e})=>{const t=xG(yG),i=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return D.useEffect(()=>{e&&(document.getElementById(e)||console.error(i))},[i,e]),null},jpe="DialogDescriptionWarning",Rpe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xG(jpe).contentName}}.`;return D.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Ppe=sG,zpe=oG,_pe=lG,FS=cG,BS=uG,bG=hG,vG=fG,wG=gG;const SG=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z",fill:"currentColor",stroke:"currentColor"})),NG=Ppe,MG=zpe,IG=_pe,TG=ps.forwardRef(({className:e,...t},i)=>d.jsx(FS,{className:k("absolute inset-0 z-[100]",t.theme===F?"bg-earth-white/50":"bg-alien-black/40",e),...t,ref:i}));TG.displayName=FS.displayName;const Ma=ps.forwardRef(({theme:e,className:t,children:i,...n},s)=>d.jsxs(IG,{children:[d.jsx(TG,{theme:e}),d.jsxs(BS,{ref:s,className:k("data-[state=open]:animate-in data-[state=closed]:animate-out absolute z-[200] transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",t),...n,children:[i,d.jsx(wG,{tabIndex:1,autoFocus:!0,className:k("absolute right-4 top-4 focus:rounded-full focus:outline focus:outline-1 active:outline-none disabled:pointer-events-none",e===F?"focus:outline-earth-black":"focus:outline-alien-white"),children:d.jsx(SG,{className:k("h-6 w-6",e===F?"text-earth-black drop-shadow-earth-option":"text-alien-white drop-shadow-alien-option")})})]})]}));Ma.displayName=BS.displayName;const Fpe=ps.forwardRef(({className:e,...t},i)=>d.jsx(FS,{className:k("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t,ref:i}));Fpe.displayName=FS.displayName;const Bpe={top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-full data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left top-0 bottom-0",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"},Ks=ps.forwardRef(({side:e="right",theme:t,className:i,children:n,...s},a)=>{const{deviceType:o}=ve();return d.jsx(IG,{children:d.jsxs(BS,{ref:a,className:k("data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-[200] transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",Bpe[e],i),...s,children:[n,d.jsx(wG,{autoFocus:o==="mobile",className:"absolute right-4 top-4 focus:outline-none active:outline-none disabled:pointer-events-none",children:d.jsx(SG,{className:k("h-6 w-6",t===F?"text-earth-black drop-shadow-earth-option":"text-alien-white drop-shadow-alien-option")})})]})})});Ks.displayName=BS.displayName;const U2=ps.forwardRef(({className:e,...t},i)=>d.jsx(bG,{ref:i,className:k("text-foreground text-lg font-semibold",e),...t}));U2.displayName=bG.displayName;const G2=ps.forwardRef(({className:e,...t},i)=>d.jsx(vG,{ref:i,className:k("text-muted-foreground text-sm",e),...t}));G2.displayName=vG.displayName;const Vpe=e=>{const[t,i]=D.useState(0),[n,s]=D.useState(0),a=()=>{if(e.current&&e.current.offsetParent){const r=e.current.getBoundingClientRect(),l=e.current.offsetParent.getBoundingClientRect(),u=(r.left-l.left)/2;i(u)}},o=()=>{if(e.current&&e.current.offsetParent){const r=e.current.getBoundingClientRect(),l=e.current.offsetParent.getBoundingClientRect(),c=l.right-r.right,u=r.right-l.left+c/2;s(u)}};return D.useEffect(()=>(a(),o(),window.addEventListener("resize",a),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",a),window.removeEventListener("resize",o)}),[e.current]),{leftPosition:t,rightPosition:n}},Upe=({children:e,height:t,theme:i,className:n})=>d.jsxs("div",{className:k("fixed z-[50] w-full",n),style:{height:`${t/16}rem`},children:[d.jsx("div",{className:k("absolute bottom-0 left-0 right-0 top-0 -z-20 h-full w-full"),style:{background:i===F?"linear-gradient(0deg, transparent 0px, #8cff8cbb 90%, #8cff8c 100%)":"linear-gradient(0deg, transparent 0px, #9221b740 80%, #9221b7 100%)"}}),d.jsx("div",{className:k("absolute bottom-0 left-0 right-0 top-0 -z-10 h-full w-full",i===F?"bg-earth-metal bg-opacity-50 shadow-earth-header backdrop-blur-xl":"bg-alien-metal bg-opacity-50 shadow-alien-header backdrop-blur-xl")}),e]});function Ab(e,t=[]){let i=[];function n(a,o){const r=D.createContext(o),l=i.length;i=[...i,o];function c(h){const{scope:f,children:g,...x}=h,y=(f==null?void 0:f[e][l])||r,b=D.useMemo(()=>x,Object.values(x));return d.jsx(y.Provider,{value:b,children:g})}function u(h,f){const g=(f==null?void 0:f[e][l])||r,x=D.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const s=()=>{const a=i.map(o=>D.createContext(o));return function(r){const l=(r==null?void 0:r[e])||a;return D.useMemo(()=>({[`__scope${e}`]:{...r,[e]:l}}),[r,l])}};return s.scopeName=e,[n,Gpe(s,...t)]}function Gpe(...e){const t=e[0];if(e.length===1)return t;const i=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((r,{useScope:l,scopeName:c})=>{const h=l(a)[`__scope${c}`];return{...r,...h}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return i.scopeName=t.scopeName,i}var Wpe="DismissableLayer",vC="dismissableLayer.update",Hpe="dismissableLayer.pointerDownOutside",Ype="dismissableLayer.focusOutside",Jz,AG=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W2=D.forwardRef((e,t)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:r,...l}=e,c=D.useContext(AG),[u,h]=D.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=D.useState({}),x=pi(t,L=>h(L)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),S=u?y.indexOf(u):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,M=S>=v,I=Kpe(L=>{const O=L.target,P=[...c.branches].some(z=>z.contains(O));!M||P||(s==null||s(L),o==null||o(L),L.defaultPrevented||r==null||r())},f),C=Zpe(L=>{const O=L.target;[...c.branches].some(z=>z.contains(O))||(a==null||a(L),o==null||o(L),L.defaultPrevented||r==null||r())},f);return _9(L=>{S===c.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&r&&(L.preventDefault(),r()))},f),D.useEffect(()=>{if(u)return i&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Jz=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),e_(),()=>{i&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Jz)}},[u,f,i,c]),D.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),e_())},[u,c]),D.useEffect(()=>{const L=()=>g({});return document.addEventListener(vC,L),()=>document.removeEventListener(vC,L)},[]),d.jsx(Ht.div,{...l,ref:x,style:{pointerEvents:N?M?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,C.onFocusCapture),onBlurCapture:At(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,I.onPointerDownCapture)})});W2.displayName=Wpe;var $pe="DismissableLayerBranch",kG=D.forwardRef((e,t)=>{const i=D.useContext(AG),n=D.useRef(null),s=pi(t,n);return D.useEffect(()=>{const a=n.current;if(a)return i.branches.add(a),()=>{i.branches.delete(a)}},[i.branches]),d.jsx(Ht.div,{...e,ref:s})});kG.displayName=$pe;function Kpe(e,t=globalThis==null?void 0:globalThis.document){const i=Gi(e),n=D.useRef(!1),s=D.useRef(()=>{});return D.useEffect(()=>{const a=r=>{if(r.target&&!n.current){let l=function(){CG(Hpe,i,c,{discrete:!0})};const c={originalEvent:r};r.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,i]),{onPointerDownCapture:()=>n.current=!0}}function Zpe(e,t=globalThis==null?void 0:globalThis.document){const i=Gi(e),n=D.useRef(!1);return D.useEffect(()=>{const s=a=>{a.target&&!n.current&&CG(Ype,i,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,i]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function e_(){const e=new CustomEvent(vC);document.dispatchEvent(e)}function CG(e,t,i,{discrete:n}){const s=i.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});t&&s.addEventListener(e,t,{once:!0}),n?j2(s,a):s.dispatchEvent(a)}var qpe=W2,Xpe=kG,aA=0;function Qpe(){D.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??t_()),document.body.insertAdjacentElement("beforeend",e[1]??t_()),aA++,()=>{aA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aA--}},[])}function t_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Jpe=["top","right","bottom","left"],sd=Math.min,Ba=Math.max,Ew=Math.round,$0=Math.floor,ad=e=>({x:e,y:e}),efe={left:"right",right:"left",bottom:"top",top:"bottom"},tfe={start:"end",end:"start"};function wC(e,t,i){return Ba(e,sd(t,i))}function Mc(e,t){return typeof e=="function"?e(t):e}function Ic(e){return e.split("-")[0]}function $m(e){return e.split("-")[1]}function H2(e){return e==="x"?"y":"x"}function Y2(e){return e==="y"?"height":"width"}function od(e){return["top","bottom"].includes(Ic(e))?"y":"x"}function $2(e){return H2(od(e))}function ife(e,t,i){i===void 0&&(i=!1);const n=$m(e),s=$2(e),a=Y2(s);let o=s==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Ow(o)),[o,Ow(o)]}function nfe(e){const t=Ow(e);return[SC(e),t,SC(t)]}function SC(e){return e.replace(/start|end/g,t=>tfe[t])}function sfe(e,t,i){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return i?t?s:n:t?n:s;case"left":case"right":return t?a:o;default:return[]}}function afe(e,t,i,n){const s=$m(e);let a=sfe(Ic(e),i==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(SC)))),a}function Ow(e){return e.replace(/left|right|bottom|top/g,t=>efe[t])}function ofe(e){return{top:0,right:0,bottom:0,left:0,...e}}function DG(e){return typeof e!="number"?ofe(e):{top:e,right:e,bottom:e,left:e}}function jw(e){const{x:t,y:i,width:n,height:s}=e;return{width:n,height:s,top:i,left:t,right:t+n,bottom:i+s,x:t,y:i}}function i_(e,t,i){let{reference:n,floating:s}=e;const a=od(t),o=$2(t),r=Y2(o),l=Ic(t),c=a==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[r]/2-s[r]/2;let g;switch(l){case"top":g={x:u,y:n.y-s.height};break;case"bottom":g={x:u,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch($m(t)){case"start":g[o]-=f*(i&&c?-1:1);break;case"end":g[o]+=f*(i&&c?-1:1);break}return g}const rfe=async(e,t,i)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=i,r=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=i_(c,n,l),f=n,g={},x=0;for(let y=0;y<r.length;y++){const{name:b,fn:v}=r[y],{x:S,y:N,data:M,reset:I}=await v({x:u,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:e,floating:t}});u=S??u,h=N??h,g={...g,[b]:{...g[b],...M}},I&&x<=50&&(x++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(c=I.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:u,y:h}=i_(c,f,l)),y=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:g}};async function $x(e,t){var i;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:r,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=Mc(t,e),x=DG(g),b=r[f?h==="floating"?"reference":"floating":h],v=jw(await a.getClippingRect({element:(i=await(a.isElement==null?void 0:a.isElement(b)))==null||i?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(r.floating)),boundary:c,rootBoundary:u,strategy:l})),S=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(r.floating)),M=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},I=jw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:r,rect:S,offsetParent:N,strategy:l}):S);return{top:(v.top-I.top+x.top)/M.y,bottom:(I.bottom-v.bottom+x.bottom)/M.y,left:(v.left-I.left+x.left)/M.x,right:(I.right-v.right+x.right)/M.x}}const lfe=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:n,placement:s,rects:a,platform:o,elements:r,middlewareData:l}=t,{element:c,padding:u=0}=Mc(e,t)||{};if(c==null)return{};const h=DG(u),f={x:i,y:n},g=$2(s),x=Y2(g),y=await o.getDimensions(c),b=g==="y",v=b?"top":"left",S=b?"bottom":"right",N=b?"clientHeight":"clientWidth",M=a.reference[x]+a.reference[g]-f[g]-a.floating[x],I=f[g]-a.reference[g],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let L=C?C[N]:0;(!L||!await(o.isElement==null?void 0:o.isElement(C)))&&(L=r.floating[N]||a.floating[x]);const O=M/2-I/2,P=L/2-y[x]/2-1,z=sd(h[v],P),V=sd(h[S],P),G=z,H=L-y[x]-V,B=L/2-y[x]/2+O,$=wC(G,B,H),Q=!l.arrow&&$m(s)!=null&&B!==$&&a.reference[x]/2-(B<G?z:V)-y[x]/2<0,X=Q?B<G?B-G:B-H:0;return{[g]:f[g]+X,data:{[g]:$,centerOffset:B-$-X,...Q&&{alignmentOffset:X}},reset:Q}}}),cfe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:r,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=Mc(e,t);if((i=a.arrow)!=null&&i.alignmentOffset)return{};const v=Ic(s),S=od(r),N=Ic(r)===r,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),I=f||(N||!y?[Ow(r)]:nfe(r)),C=x!=="none";!f&&C&&I.push(...afe(r,y,x,M));const L=[r,...I],O=await $x(t,b),P=[];let z=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&P.push(O[v]),h){const B=ife(s,o,M);P.push(O[B[0]],O[B[1]])}if(z=[...z,{placement:s,overflows:P}],!P.every(B=>B<=0)){var V,G;const B=(((V=a.flip)==null?void 0:V.index)||0)+1,$=L[B];if($)return{data:{index:B,overflows:z},reset:{placement:$}};let Q=(G=z.filter(X=>X.overflows[0]<=0).sort((X,Y)=>X.overflows[1]-Y.overflows[1])[0])==null?void 0:G.placement;if(!Q)switch(g){case"bestFit":{var H;const X=(H=z.filter(Y=>{if(C){const q=od(Y.placement);return q===S||q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(q=>q>0).reduce((q,Z)=>q+Z,0)]).sort((Y,q)=>Y[1]-q[1])[0])==null?void 0:H[0];X&&(Q=X);break}case"initialPlacement":Q=r;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function n_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function s_(e){return Jpe.some(t=>e[t]>=0)}const ufe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:i}=t,{strategy:n="referenceHidden",...s}=Mc(e,t);switch(n){case"referenceHidden":{const a=await $x(t,{...s,elementContext:"reference"}),o=n_(a,i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:s_(o)}}}case"escaped":{const a=await $x(t,{...s,altBoundary:!0}),o=n_(a,i.floating);return{data:{escapedOffsets:o,escaped:s_(o)}}}default:return{}}}}};async function dfe(e,t){const{placement:i,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ic(i),r=$m(i),l=od(i)==="y",c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,h=Mc(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return r&&typeof x=="number"&&(g=r==="end"?x*-1:x),l?{x:g*u,y:f*c}:{x:f*c,y:g*u}}const hfe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var i,n;const{x:s,y:a,placement:o,middlewareData:r}=t,l=await dfe(t,e);return o===((i=r.offset)==null?void 0:i.placement)&&(n=r.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:a+l.y,data:{...l,placement:o}}}}},pfe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:r={fn:b=>{let{x:v,y:S}=b;return{x:v,y:S}}},...l}=Mc(e,t),c={x:i,y:n},u=await $x(t,l),h=od(Ic(s)),f=H2(h);let g=c[f],x=c[h];if(a){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",S=g+u[b],N=g-u[v];g=wC(S,g,N)}if(o){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",S=x+u[b],N=x-u[v];x=wC(S,x,N)}const y=r.fn({...t,[f]:g,[h]:x});return{...y,data:{x:y.x-i,y:y.y-n,enabled:{[f]:a,[h]:o}}}}}},ffe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:i,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:r=0,mainAxis:l=!0,crossAxis:c=!0}=Mc(e,t),u={x:i,y:n},h=od(s),f=H2(h);let g=u[f],x=u[h];const y=Mc(r,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const N=f==="y"?"height":"width",M=a.reference[f]-a.floating[N]+b.mainAxis,I=a.reference[f]+a.reference[N]-b.mainAxis;g<M?g=M:g>I&&(g=I)}if(c){var v,S;const N=f==="y"?"width":"height",M=["top","left"].includes(Ic(s)),I=a.reference[h]-a.floating[N]+(M&&((v=o.offset)==null?void 0:v[h])||0)+(M?0:b.crossAxis),C=a.reference[h]+a.reference[N]+(M?0:((S=o.offset)==null?void 0:S[h])||0)-(M?b.crossAxis:0);x<I?x=I:x>C&&(x=C)}return{[f]:g,[h]:x}}}},mfe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var i,n;const{placement:s,rects:a,platform:o,elements:r}=t,{apply:l=()=>{},...c}=Mc(e,t),u=await $x(t,c),h=Ic(s),f=$m(s),g=od(s)==="y",{width:x,height:y}=a.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(r.floating))?"start":"end")?"left":"right"):(v=h,b=f==="end"?"top":"bottom");const S=y-u.top-u.bottom,N=x-u.left-u.right,M=sd(y-u[b],S),I=sd(x-u[v],N),C=!t.middlewareData.shift;let L=M,O=I;if((i=t.middlewareData.shift)!=null&&i.enabled.x&&(O=N),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=S),C&&!f){const z=Ba(u.left,0),V=Ba(u.right,0),G=Ba(u.top,0),H=Ba(u.bottom,0);g?O=x-2*(z!==0||V!==0?z+V:Ba(u.left,u.right)):L=y-2*(G!==0||H!==0?G+H:Ba(u.top,u.bottom))}await l({...t,availableWidth:O,availableHeight:L});const P=await o.getDimensions(r.floating);return x!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function VS(){return typeof window<"u"}function Km(e){return LG(e)?(e.nodeName||"").toLowerCase():"#document"}function Ua(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gl(e){var t;return(t=(LG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LG(e){return VS()?e instanceof Node||e instanceof Ua(e).Node:!1}function Sr(e){return VS()?e instanceof Element||e instanceof Ua(e).Element:!1}function ll(e){return VS()?e instanceof HTMLElement||e instanceof Ua(e).HTMLElement:!1}function a_(e){return!VS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ua(e).ShadowRoot}function kb(e){const{overflow:t,overflowX:i,overflowY:n,display:s}=Nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(s)}function gfe(e){return["table","td","th"].includes(Km(e))}function US(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function K2(e){const t=Z2(),i=Sr(e)?Nr(e):e;return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(i.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(i.contain||"").includes(n))}function yfe(e){let t=rd(e);for(;ll(t)&&!Cm(t);){if(K2(t))return t;if(US(t))return null;t=rd(t)}return null}function Z2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cm(e){return["html","body","#document"].includes(Km(e))}function Nr(e){return Ua(e).getComputedStyle(e)}function GS(e){return Sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rd(e){if(Km(e)==="html")return e;const t=e.assignedSlot||e.parentNode||a_(e)&&e.host||gl(e);return a_(t)?t.host:t}function EG(e){const t=rd(e);return Cm(t)?e.ownerDocument?e.ownerDocument.body:e.body:ll(t)&&kb(t)?t:EG(t)}function Kx(e,t,i){var n;t===void 0&&(t=[]),i===void 0&&(i=!0);const s=EG(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Ua(s);if(a){const r=NC(o);return t.concat(o,o.visualViewport||[],kb(s)?s:[],r&&i?Kx(r):[])}return t.concat(s,Kx(s,[],i))}function NC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function OG(e){const t=Nr(e);let i=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ll(e),a=s?e.offsetWidth:i,o=s?e.offsetHeight:n,r=Ew(i)!==a||Ew(n)!==o;return r&&(i=a,n=o),{width:i,height:n,$:r}}function q2(e){return Sr(e)?e:e.contextElement}function gm(e){const t=q2(e);if(!ll(t))return ad(1);const i=t.getBoundingClientRect(),{width:n,height:s,$:a}=OG(t);let o=(a?Ew(i.width):i.width)/n,r=(a?Ew(i.height):i.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!r||!Number.isFinite(r))&&(r=1),{x:o,y:r}}const xfe=ad(0);function jG(e){const t=Ua(e);return!Z2()||!t.visualViewport?xfe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bfe(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==Ua(e)?!1:t}function ep(e,t,i,n){t===void 0&&(t=!1),i===void 0&&(i=!1);const s=e.getBoundingClientRect(),a=q2(e);let o=ad(1);t&&(n?Sr(n)&&(o=gm(n)):o=gm(e));const r=bfe(a,i,n)?jG(a):ad(0);let l=(s.left+r.x)/o.x,c=(s.top+r.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(a){const f=Ua(a),g=n&&Sr(n)?Ua(n):n;let x=f,y=NC(x);for(;y&&n&&g!==x;){const b=gm(y),v=y.getBoundingClientRect(),S=Nr(y),N=v.left+(y.clientLeft+parseFloat(S.paddingLeft))*b.x,M=v.top+(y.clientTop+parseFloat(S.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,h*=b.y,l+=N,c+=M,x=Ua(y),y=NC(x)}}return jw({width:u,height:h,x:l,y:c})}function vfe(e){let{elements:t,rect:i,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=gl(n),r=t?US(t.floating):!1;if(n===o||r&&a)return i;let l={scrollLeft:0,scrollTop:0},c=ad(1);const u=ad(0),h=ll(n);if((h||!h&&!a)&&((Km(n)!=="body"||kb(o))&&(l=GS(n)),ll(n))){const f=ep(n);c=gm(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+u.x,y:i.y*c.y-l.scrollTop*c.y+u.y}}function wfe(e){return Array.from(e.getClientRects())}function MC(e,t){const i=GS(e).scrollLeft;return t?t.left+i:ep(gl(e)).left+i}function Sfe(e){const t=gl(e),i=GS(e),n=e.ownerDocument.body,s=Ba(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ba(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-i.scrollLeft+MC(e);const r=-i.scrollTop;return Nr(n).direction==="rtl"&&(o+=Ba(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:r}}function Nfe(e,t){const i=Ua(e),n=gl(e),s=i.visualViewport;let a=n.clientWidth,o=n.clientHeight,r=0,l=0;if(s){a=s.width,o=s.height;const c=Z2();(!c||c&&t==="fixed")&&(r=s.offsetLeft,l=s.offsetTop)}return{width:a,height:o,x:r,y:l}}function Mfe(e,t){const i=ep(e,!0,t==="fixed"),n=i.top+e.clientTop,s=i.left+e.clientLeft,a=ll(e)?gm(e):ad(1),o=e.clientWidth*a.x,r=e.clientHeight*a.y,l=s*a.x,c=n*a.y;return{width:o,height:r,x:l,y:c}}function o_(e,t,i){let n;if(t==="viewport")n=Nfe(e,i);else if(t==="document")n=Sfe(gl(e));else if(Sr(t))n=Mfe(t,i);else{const s=jG(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return jw(n)}function RG(e,t){const i=rd(e);return i===t||!Sr(i)||Cm(i)?!1:Nr(i).position==="fixed"||RG(i,t)}function Ife(e,t){const i=t.get(e);if(i)return i;let n=Kx(e,[],!1).filter(r=>Sr(r)&&Km(r)!=="body"),s=null;const a=Nr(e).position==="fixed";let o=a?rd(e):e;for(;Sr(o)&&!Cm(o);){const r=Nr(o),l=K2(o);!l&&r.position==="fixed"&&(s=null),(a?!l&&!s:!l&&r.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||kb(o)&&!l&&RG(e,o))?n=n.filter(u=>u!==o):s=r,o=rd(o)}return t.set(e,n),n}function Tfe(e){let{element:t,boundary:i,rootBoundary:n,strategy:s}=e;const o=[...i==="clippingAncestors"?US(t)?[]:Ife(t,this._c):[].concat(i),n],r=o[0],l=o.reduce((c,u)=>{const h=o_(t,u,s);return c.top=Ba(h.top,c.top),c.right=sd(h.right,c.right),c.bottom=sd(h.bottom,c.bottom),c.left=Ba(h.left,c.left),c},o_(t,r,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Afe(e){const{width:t,height:i}=OG(e);return{width:t,height:i}}function kfe(e,t,i){const n=ll(t),s=gl(t),a=i==="fixed",o=ep(e,!0,a,t);let r={scrollLeft:0,scrollTop:0};const l=ad(0);if(n||!n&&!a)if((Km(t)!=="body"||kb(s))&&(r=GS(t)),n){const g=ep(t,!0,a,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else s&&(l.x=MC(s));let c=0,u=0;if(s&&!n&&!a){const g=s.getBoundingClientRect();u=g.top+r.scrollTop,c=g.left+r.scrollLeft-MC(s,g)}const h=o.left+r.scrollLeft-l.x-c,f=o.top+r.scrollTop-l.y-u;return{x:h,y:f,width:o.width,height:o.height}}function oA(e){return Nr(e).position==="static"}function r_(e,t){if(!ll(e)||Nr(e).position==="fixed")return null;if(t)return t(e);let i=e.offsetParent;return gl(e)===i&&(i=i.ownerDocument.body),i}function PG(e,t){const i=Ua(e);if(US(e))return i;if(!ll(e)){let s=rd(e);for(;s&&!Cm(s);){if(Sr(s)&&!oA(s))return s;s=rd(s)}return i}let n=r_(e,t);for(;n&&gfe(n)&&oA(n);)n=r_(n,t);return n&&Cm(n)&&oA(n)&&!K2(n)?i:n||yfe(e)||i}const Cfe=async function(e){const t=this.getOffsetParent||PG,i=this.getDimensions,n=await i(e.floating);return{reference:kfe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Dfe(e){return Nr(e).direction==="rtl"}const Lfe={convertOffsetParentRelativeRectToViewportRelativeRect:vfe,getDocumentElement:gl,getClippingRect:Tfe,getOffsetParent:PG,getElementRects:Cfe,getClientRects:wfe,getDimensions:Afe,getScale:gm,isElement:Sr,isRTL:Dfe};function Efe(e,t){let i=null,n;const s=gl(e);function a(){var r;clearTimeout(n),(r=i)==null||r.disconnect(),i=null}function o(r,l){r===void 0&&(r=!1),l===void 0&&(l=1),a();const{left:c,top:u,width:h,height:f}=e.getBoundingClientRect();if(r||t(),!h||!f)return;const g=$0(u),x=$0(s.clientWidth-(c+h)),y=$0(s.clientHeight-(u+f)),b=$0(c),S={rootMargin:-g+"px "+-x+"px "+-y+"px "+-b+"px",threshold:Ba(0,sd(1,l))||1};let N=!0;function M(I){const C=I[0].intersectionRatio;if(C!==l){if(!N)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N=!1}try{i=new IntersectionObserver(M,{...S,root:s.ownerDocument})}catch{i=new IntersectionObserver(M,S)}i.observe(e)}return o(!0),a}function Ofe(e,t,i,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=q2(e),u=s||a?[...c?Kx(c):[],...Kx(t)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",i,{passive:!0}),a&&v.addEventListener("resize",i)});const h=c&&r?Efe(c,i):null;let f=-1,g=null;o&&(g=new ResizeObserver(v=>{let[S]=v;S&&S.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(t)})),i()}),c&&!l&&g.observe(c),g.observe(t));let x,y=l?ep(e):null;l&&b();function b(){const v=ep(e);y&&(v.x!==y.x||v.y!==y.y||v.width!==y.width||v.height!==y.height)&&i(),y=v,x=requestAnimationFrame(b)}return i(),()=>{var v;u.forEach(S=>{s&&S.removeEventListener("scroll",i),a&&S.removeEventListener("resize",i)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const jfe=hfe,Rfe=pfe,Pfe=cfe,zfe=mfe,_fe=ufe,l_=lfe,Ffe=ffe,Bfe=(e,t,i)=>{const n=new Map,s={platform:Lfe,...i},a={...s.platform,_c:n};return rfe(e,t,{...s,platform:a})};var iw=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Rw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let i,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(i=e.length,i!==t.length)return!1;for(n=i;n--!==0;)if(!Rw(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(n=i;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=i;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Rw(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function zG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c_(e,t){const i=zG(e);return Math.round(t*i)/i}function rA(e){const t=D.useRef(e);return iw(()=>{t.current=e}),t}function Vfe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:i="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:r=!0,whileElementsMounted:l,open:c}=e,[u,h]=D.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=D.useState(n);Rw(f,n)||g(n);const[x,y]=D.useState(null),[b,v]=D.useState(null),S=D.useCallback(Y=>{Y!==C.current&&(C.current=Y,y(Y))},[]),N=D.useCallback(Y=>{Y!==L.current&&(L.current=Y,v(Y))},[]),M=a||x,I=o||b,C=D.useRef(null),L=D.useRef(null),O=D.useRef(u),P=l!=null,z=rA(l),V=rA(s),G=rA(c),H=D.useCallback(()=>{if(!C.current||!L.current)return;const Y={placement:t,strategy:i,middleware:f};V.current&&(Y.platform=V.current),Bfe(C.current,L.current,Y).then(q=>{const Z={...q,isPositioned:G.current!==!1};B.current&&!Rw(O.current,Z)&&(O.current=Z,Sb.flushSync(()=>{h(Z)}))})},[f,t,i,V,G]);iw(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[c]);const B=D.useRef(!1);iw(()=>(B.current=!0,()=>{B.current=!1}),[]),iw(()=>{if(M&&(C.current=M),I&&(L.current=I),M&&I){if(z.current)return z.current(M,I,H);H()}},[M,I,H,z,P]);const $=D.useMemo(()=>({reference:C,floating:L,setReference:S,setFloating:N}),[S,N]),Q=D.useMemo(()=>({reference:M,floating:I}),[M,I]),X=D.useMemo(()=>{const Y={position:i,left:0,top:0};if(!Q.floating)return Y;const q=c_(Q.floating,u.x),Z=c_(Q.floating,u.y);return r?{...Y,transform:"translate("+q+"px, "+Z+"px)",...zG(Q.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:q,top:Z}},[i,r,Q.floating,u.x,u.y]);return D.useMemo(()=>({...u,update:H,refs:$,elements:Q,floatingStyles:X}),[u,H,$,Q,X])}const Ufe=e=>{function t(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){const{element:n,padding:s}=typeof e=="function"?e(i):e;return n&&t(n)?n.current!=null?l_({element:n.current,padding:s}).fn(i):{}:n?l_({element:n,padding:s}).fn(i):{}}}},Gfe=(e,t)=>({...jfe(e),options:[e,t]}),Wfe=(e,t)=>({...Rfe(e),options:[e,t]}),Hfe=(e,t)=>({...Ffe(e),options:[e,t]}),Yfe=(e,t)=>({...Pfe(e),options:[e,t]}),$fe=(e,t)=>({...zfe(e),options:[e,t]}),Kfe=(e,t)=>({..._fe(e),options:[e,t]}),Zfe=(e,t)=>({...Ufe(e),options:[e,t]});var qfe="Arrow",_G=D.forwardRef((e,t)=>{const{children:i,width:n=10,height:s=5,...a}=e;return d.jsx(Ht.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?i:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});_G.displayName=qfe;var Xfe=_G;function Qfe(e){const[t,i]=D.useState(void 0);return Oo(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,r;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,r=c.blockSize}else o=e.offsetWidth,r=e.offsetHeight;i({width:o,height:r})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else i(void 0)},[e]),t}var X2="Popper",[FG,BG]=Ab(X2),[Jfe,VG]=FG(X2),UG=e=>{const{__scopePopper:t,children:i}=e,[n,s]=D.useState(null);return d.jsx(Jfe,{scope:t,anchor:n,onAnchorChange:s,children:i})};UG.displayName=X2;var GG="PopperAnchor",WG=D.forwardRef((e,t)=>{const{__scopePopper:i,virtualRef:n,...s}=e,a=VG(GG,i),o=D.useRef(null),r=pi(t,o);return D.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(Ht.div,{...s,ref:r})});WG.displayName=GG;var Q2="PopperContent",[eme,tme]=FG(Q2),HG=D.forwardRef((e,t)=>{var te,he,ge,xe,be,ye;const{__scopePopper:i,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:r=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=e,b=VG(Q2,i),[v,S]=D.useState(null),N=pi(t,we=>S(we)),[M,I]=D.useState(null),C=Qfe(M),L=(C==null?void 0:C.width)??0,O=(C==null?void 0:C.height)??0,P=n+(a!=="center"?"-"+a:""),z=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},V=Array.isArray(c)?c:[c],G=V.length>0,H={padding:z,boundary:V.filter(nme),altBoundary:G},{refs:B,floatingStyles:$,placement:Q,isPositioned:X,middlewareData:Y}=Vfe({strategy:"fixed",placement:P,whileElementsMounted:(...we)=>Ofe(...we,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[Gfe({mainAxis:s+O,alignmentAxis:o}),l&&Wfe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Hfe():void 0,...H}),l&&Yfe({...H}),$fe({...H,apply:({elements:we,rects:_e,availableWidth:Le,availableHeight:Ke})=>{const{width:$e,height:He}=_e.reference,Ze=we.floating.style;Ze.setProperty("--radix-popper-available-width",`${Le}px`),Ze.setProperty("--radix-popper-available-height",`${Ke}px`),Ze.setProperty("--radix-popper-anchor-width",`${$e}px`),Ze.setProperty("--radix-popper-anchor-height",`${He}px`)}}),M&&Zfe({element:M,padding:r}),sme({arrowWidth:L,arrowHeight:O}),f&&Kfe({strategy:"referenceHidden",...H})]}),[q,Z]=KG(Q),W=Gi(x);Oo(()=>{X&&(W==null||W())},[X,W]);const ee=(te=Y.arrow)==null?void 0:te.x,oe=(he=Y.arrow)==null?void 0:he.y,fe=((ge=Y.arrow)==null?void 0:ge.centerOffset)!==0,[ue,de]=D.useState();return Oo(()=>{v&&de(window.getComputedStyle(v).zIndex)},[v]),d.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:X?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(xe=Y.transformOrigin)==null?void 0:xe.x,(be=Y.transformOrigin)==null?void 0:be.y].join(" "),...((ye=Y.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(eme,{scope:i,placedSide:q,onArrowChange:I,arrowX:ee,arrowY:oe,shouldHideArrow:fe,children:d.jsx(Ht.div,{"data-side":q,"data-align":Z,...y,ref:N,style:{...y.style,animation:X?void 0:"none"}})})})});HG.displayName=Q2;var YG="PopperArrow",ime={top:"bottom",right:"left",bottom:"top",left:"right"},$G=D.forwardRef(function(t,i){const{__scopePopper:n,...s}=t,a=tme(YG,n),o=ime[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(Xfe,{...s,ref:i,style:{...s.style,display:"block"}})})});$G.displayName=YG;function nme(e){return e!==null}var sme=e=>({name:"transformOrigin",options:e,fn(t){var b,v,S;const{placement:i,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,r=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=KG(i),h={start:"0%",center:"50%",end:"100%"}[u],f=(((v=s.arrow)==null?void 0:v.x)??0)+r/2,g=(((S=s.arrow)==null?void 0:S.y)??0)+l/2;let x="",y="";return c==="bottom"?(x=o?h:`${f}px`,y=`${-l}px`):c==="top"?(x=o?h:`${f}px`,y=`${n.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=o?h:`${g}px`):c==="left"&&(x=`${n.floating.width+l}px`,y=o?h:`${g}px`),{data:{x,y}}}});function KG(e){const[t,i="center"]=e.split("-");return[t,i]}var ame=UG,ZG=WG,ome=HG,rme=$G,lme="Portal",J2=D.forwardRef((e,t)=>{var r;const{container:i,...n}=e,[s,a]=D.useState(!1);Oo(()=>a(!0),[]);const o=i||s&&((r=globalThis==null?void 0:globalThis.document)==null?void 0:r.body);return o?E8.createPortal(d.jsx(Ht.div,{...n,ref:t}),o):null});J2.displayName=lme;function cme(e,t){return D.useReducer((i,n)=>t[i][n]??i,e)}var xd=e=>{const{present:t,children:i}=e,n=ume(t),s=typeof i=="function"?i({present:n.isPresent}):D.Children.only(i),a=pi(n.ref,dme(s));return typeof i=="function"||n.isPresent?D.cloneElement(s,{ref:a}):null};xd.displayName="Presence";function ume(e){const[t,i]=D.useState(),n=D.useRef({}),s=D.useRef(e),a=D.useRef("none"),o=e?"mounted":"unmounted",[r,l]=cme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=K0(n.current);a.current=r==="mounted"?c:"none"},[r]),Oo(()=>{const c=n.current,u=s.current;if(u!==e){const f=a.current,g=K0(c);e?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Oo(()=>{if(t){const c=h=>{const g=K0(n.current).includes(h.animationName);h.target===t&&g&&Sb.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===t&&(a.current=K0(n.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(r),ref:D.useCallback(c=>{c&&(n.current=getComputedStyle(c)),i(c)},[])}}function K0(e){return(e==null?void 0:e.animationName)||"none"}function dme(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var qG=Y9(),lA=function(){},WS=D.forwardRef(function(e,t){var i=D.useRef(null),n=D.useState({onScrollCapture:lA,onWheelCapture:lA,onTouchMoveCapture:lA}),s=n[0],a=n[1],o=e.forwardProps,r=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,g=e.noIsolation,x=e.inert,y=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,S=e.gapMode,N=P2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=f,I=H9([i,t]),C=fs(fs({},N),s);return D.createElement(D.Fragment,null,u&&D.createElement(M,{sideCar:qG,removeScrollBar:c,shards:h,noIsolation:g,inert:x,setCallbacks:a,allowPinchZoom:!!y,lockRef:i,gapMode:S}),o?D.cloneElement(D.Children.only(r),fs(fs({},C),{ref:I})):D.createElement(v,fs({},C,{className:l,ref:I}),r))});WS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};WS.classNames={fullWidth:Tx,zeroRight:Ix};var IC=!1;if(typeof window<"u")try{var Z0=Object.defineProperty({},"passive",{get:function(){return IC=!0,!0}});window.addEventListener("test",Z0,Z0),window.removeEventListener("test",Z0,Z0)}catch{IC=!1}var Tf=IC?{passive:!1}:!1,hme=function(e){return e.tagName==="TEXTAREA"},XG=function(e,t){var i=window.getComputedStyle(e);return i[t]!=="hidden"&&!(i.overflowY===i.overflowX&&!hme(e)&&i[t]==="visible")},pme=function(e){return XG(e,"overflowY")},fme=function(e){return XG(e,"overflowX")},u_=function(e,t){var i=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=QG(e,n);if(s){var a=JG(e,n),o=a[1],r=a[2];if(o>r)return!0}n=n.parentNode}while(n&&n!==i.body);return!1},mme=function(e){var t=e.scrollTop,i=e.scrollHeight,n=e.clientHeight;return[t,i,n]},gme=function(e){var t=e.scrollLeft,i=e.scrollWidth,n=e.clientWidth;return[t,i,n]},QG=function(e,t){return e==="v"?pme(t):fme(t)},JG=function(e,t){return e==="v"?mme(t):gme(t)},yme=function(e,t){return e==="h"&&t==="rtl"?-1:1},xme=function(e,t,i,n,s){var a=yme(e,window.getComputedStyle(t).direction),o=a*n,r=i.target,l=t.contains(r),c=!1,u=o>0,h=0,f=0;do{var g=JG(e,r),x=g[0],y=g[1],b=g[2],v=y-b-a*x;(x||v)&&QG(e,r)&&(h+=v,f+=x),r instanceof ShadowRoot?r=r.host:r=r.parentNode}while(!l&&r!==document.body||l&&(t.contains(r)||t===r));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(c=!0),c},q0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},d_=function(e){return[e.deltaX,e.deltaY]},h_=function(e){return e&&"current"in e?e.current:e},bme=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vme=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wme=0,Af=[];function Sme(e){var t=D.useRef([]),i=D.useRef([0,0]),n=D.useRef(),s=D.useState(wme++)[0],a=D.useState(z2)[0],o=D.useRef(e);D.useEffect(function(){o.current=e},[e]),D.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=W9([e.lockRef.current],(e.shards||[]).map(h_),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var r=D.useCallback(function(y,b){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var v=q0(y),S=i.current,N="deltaX"in y?y.deltaX:S[0]-v[0],M="deltaY"in y?y.deltaY:S[1]-v[1],I,C=y.target,L=Math.abs(N)>Math.abs(M)?"h":"v";if("touches"in y&&L==="h"&&C.type==="range")return!1;var O=u_(L,C);if(!O)return!0;if(O?I=L:(I=L==="v"?"h":"v",O=u_(L,C)),!O)return!1;if(!n.current&&"changedTouches"in y&&(N||M)&&(n.current=I),!I)return!0;var P=n.current||I;return xme(P,b,y,P==="h"?N:M)},[]),l=D.useCallback(function(y){var b=y;if(!(!Af.length||Af[Af.length-1]!==a)){var v="deltaY"in b?d_(b):q0(b),S=t.current.filter(function(I){return I.name===b.type&&(I.target===b.target||b.target===I.shadowParent)&&bme(I.delta,v)})[0];if(S&&S.should){b.cancelable&&b.preventDefault();return}if(!S){var N=(o.current.shards||[]).map(h_).filter(Boolean).filter(function(I){return I.contains(b.target)}),M=N.length>0?r(b,N[0]):!o.current.noIsolation;M&&b.cancelable&&b.preventDefault()}}},[]),c=D.useCallback(function(y,b,v,S){var N={name:y,delta:b,target:v,should:S,shadowParent:Nme(v)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(M){return M!==N})},1)},[]),u=D.useCallback(function(y){i.current=q0(y),n.current=void 0},[]),h=D.useCallback(function(y){c(y.type,d_(y),y.target,r(y,e.lockRef.current))},[]),f=D.useCallback(function(y){c(y.type,q0(y),y.target,r(y,e.lockRef.current))},[]);D.useEffect(function(){return Af.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Tf),document.addEventListener("touchmove",l,Tf),document.addEventListener("touchstart",u,Tf),function(){Af=Af.filter(function(y){return y!==a}),document.removeEventListener("wheel",l,Tf),document.removeEventListener("touchmove",l,Tf),document.removeEventListener("touchstart",u,Tf)}},[]);var g=e.removeScrollBar,x=e.inert;return D.createElement(D.Fragment,null,x?D.createElement(a,{styles:vme(s)}):null,g?D.createElement(q9,{gapMode:e.gapMode}):null)}function Nme(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Mme=K9(qG,Sme);var e7=D.forwardRef(function(e,t){return D.createElement(WS,fs({},e,{ref:t,sideCar:Mme}))});e7.classNames=WS.classNames;var eL="Popover",[t7,GBe]=Ab(eL,[BG]),Cb=BG(),[Ime,bd]=t7(eL),i7=e=>{const{__scopePopover:t,children:i,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,r=Cb(t),l=D.useRef(null),[c,u]=D.useState(!1),[h=!1,f]=O2({prop:n,defaultProp:s,onChange:a});return d.jsx(ame,{...r,children:d.jsx(Ime,{scope:t,contentId:tw(),triggerRef:l,open:h,onOpenChange:f,onOpenToggle:D.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:c,onCustomAnchorAdd:D.useCallback(()=>u(!0),[]),onCustomAnchorRemove:D.useCallback(()=>u(!1),[]),modal:o,children:i})})};i7.displayName=eL;var n7="PopoverAnchor",Tme=D.forwardRef((e,t)=>{const{__scopePopover:i,...n}=e,s=bd(n7,i),a=Cb(i),{onCustomAnchorAdd:o,onCustomAnchorRemove:r}=s;return D.useEffect(()=>(o(),()=>r()),[o,r]),d.jsx(ZG,{...a,...n,ref:t})});Tme.displayName=n7;var s7="PopoverTrigger",a7=D.forwardRef((e,t)=>{const{__scopePopover:i,...n}=e,s=bd(s7,i),a=Cb(i),o=pi(t,s.triggerRef),r=d.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":d7(s.open),...n,ref:o,onClick:At(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?r:d.jsx(ZG,{asChild:!0,...a,children:r})});a7.displayName=s7;var tL="PopoverPortal",[Ame,kme]=t7(tL,{forceMount:void 0}),o7=e=>{const{__scopePopover:t,forceMount:i,children:n,container:s}=e,a=bd(tL,t);return d.jsx(Ame,{scope:t,forceMount:i,children:d.jsx(xd,{present:i||a.open,children:d.jsx(J2,{asChild:!0,container:s,children:n})})})};o7.displayName=tL;var Dm="PopoverContent",r7=D.forwardRef((e,t)=>{const i=kme(Dm,e.__scopePopover),{forceMount:n=i.forceMount,...s}=e,a=bd(Dm,e.__scopePopover);return d.jsx(xd,{present:n||a.open,children:a.modal?d.jsx(Cme,{...s,ref:t}):d.jsx(Dme,{...s,ref:t})})});r7.displayName=Dm;var Cme=D.forwardRef((e,t)=>{const i=bd(Dm,e.__scopePopover),n=D.useRef(null),s=pi(t,n),a=D.useRef(!1);return D.useEffect(()=>{const o=n.current;if(o)return iG(o)},[]),d.jsx(e7,{as:km,allowPinchZoom:!0,children:d.jsx(l7,{...e,ref:s,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,o=>{var r;o.preventDefault(),a.current||(r=i.triggerRef.current)==null||r.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,o=>{const r=o.detail.originalEvent,l=r.button===0&&r.ctrlKey===!0,c=r.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:At(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dme=D.forwardRef((e,t)=>{const i=bd(Dm,e.__scopePopover),n=D.useRef(!1),s=D.useRef(!1);return d.jsx(l7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,r;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(r=i.triggerRef.current)==null||r.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((c=i.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),l7=D.forwardRef((e,t)=>{const{__scopePopover:i,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:r,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...h}=e,f=bd(Dm,i),g=Cb(i);return Qpe(),d.jsx(R2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:d.jsx(W2,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:r,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:d.jsx(ome,{"data-state":d7(f.open),role:"dialog",id:f.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),c7="PopoverClose",u7=D.forwardRef((e,t)=>{const{__scopePopover:i,...n}=e,s=bd(c7,i);return d.jsx(Ht.button,{type:"button",...n,ref:t,onClick:At(e.onClick,()=>s.onOpenChange(!1))})});u7.displayName=c7;var Lme="PopoverArrow",Eme=D.forwardRef((e,t)=>{const{__scopePopover:i,...n}=e,s=Cb(i);return d.jsx(rme,{...s,...n,ref:t})});Eme.displayName=Lme;function d7(e){return e?"open":"closed"}var Ome=i7,jme=a7,Rme=o7,Pme=r7;const TC=e=>D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em",...e},D.createElement("path",{d:"M7.293 4.707 14.586 12l-7.293 7.293 1.414 1.414L17.414 12 8.707 3.293 7.293 4.707z"})),h7=e=>{const[t,i]=D.useState({width:0,height:0});return D.useEffect(()=>{if(!(e!=null&&e.current))return;const n=e.current,s=new ResizeObserver(a=>{const{width:o,height:r}=a[0].contentRect;i({width:o,height:r})});return s.observe(n),()=>{s.disconnect()}},[e]),t},zme=({theme:e,containerRef:t})=>{const{t:i}=je(),n=Ya(),{deviceType:s}=ve(),{height:a}=h7(t),[o,r]=D.useState(!1),l=n.pathname.split("/")[1],c=l==="",u=c?d.jsxs("span",{children:["U",d.jsx("span",{className:"text-[0.95em]",children:"NI"}),d.jsx("span",{className:"font-nunito-sans text-[1.2em]",children:"V"}),"E",d.jsx("span",{className:"text-[0.95em]",children:"ARTH"})]}):i(`header.nav-${l}`);return d.jsxs(Ome,{onOpenChange:h=>r(h),children:[d.jsx(jme,{asChild:!0,children:d.jsxs("button",{className:k("group relative flex w-max select-none items-center justify-center gap-2 rounded-xl px-[0.4863em] py-[0.2432em] font-nunito font-black tracking-wide focus:outline-none",e===F?"text-earth-black hover:bg-earth-green/40 focus:bg-earth-green/40":"text-alien-white hover:bg-alien-purple/20 focus:bg-alien-purple/20",o&&(e===F?"bg-earth-green/40":"bg-alien-purple/20"),{web:c?"text-[1.9444em]":"text-[1.4185em]",medium:c?"text-[1.9444em]":"text-[1.4185em]"}[s]),children:[d.jsxs("span",{className:"relative",children:[u,c&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:k("absolute left-[37.5%] top-[30%] text-[0.5em]",zt()?e===F?"text-shadow-earth-univearth-s":"text-shadow-alien-univearth-s":e===F?"drop-shadow-earth-univearth-s":"drop-shadow-alien-univearth-s",e===F?"font-bold text-alien-white":"font-black text-earth-black"),children:"s"}),d.jsx("div",{className:"font-nunito-sans text-[0.37em]",children:i("header.nav-tcg")})]})]}),d.jsxs("span",{className:k("absolute left-[1px] top-[calc(50%+2px)] -z-[1] flex w-full -translate-y-1/2 items-center justify-center gap-2 opacity-[40%] blur-[1px]",e===F?"text-earth-black-fade":"text-alien-white"),children:[d.jsxs("div",{children:[u,c&&d.jsx("div",{className:"font-nunito-sans text-[0.37em]",children:i("header.nav-tcg")})]}),d.jsx(TC,{className:k("hidden rotate-90 group-hover:block group-focus:block",o&&"!block"),style:{width:a*.212765}})]}),d.jsx(TC,{className:k("hidden rotate-90 group-hover:block group-focus:block",o&&"!block"),style:{width:a*.212765}})]})}),d.jsx(Rme,{children:d.jsx(Pme,{className:"z-[90] focus:outline-none",sideOffset:5,style:{fontSize:{web:`${a*.18/16}rem`,medium:`${a*.18/16}rem`}[s]},children:d.jsx("div",{className:k("flex flex-col items-center rounded",{web:"gap-[1.1em] px-[1.8913em] py-[0.9456em] backdrop-blur-md",medium:"gap-[1.3em] px-[1.8913em] py-[1.3em] backdrop-blur-[8px]"}[s],e===F?"bg-earth-green !bg-opacity-[0.6] text-earth-black shadow-earth-frame":"bg-alien-purple !bg-opacity-30 text-alien-white shadow-alien-frame"),children:oJ.map(h=>h.id===l||h.id==="univearth"&&c?null:d.jsx(_me,{theme:e,to:h.to,text:i(`header.nav-${h.id}`)},h.id))})})})]})},_me=({theme:e,to:t,text:i})=>{const{deviceType:n}=ve();return d.jsx(u7,{asChild:!0,children:d.jsx(Zn,{to:t,className:k("select-none font-nunito tracking-wider focus:outline-none",zt()?e===F?"text-shadow-earth-option hover:text-shadow-earth-option-hover focus:text-shadow-earth-option-hover":"text-shadow-alien-option hover:text-shadow-alien-option-hover focus:text-shadow-alien-option-hover":e===F?"drop-shadow-earth-option hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"drop-shadow-alien-option hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover",{web:"text-[1.25em] font-bold",medium:"text-[1.1em] font-extrabold"}[n]),children:i})})},qe=({text:e,className:t,theme:i,shadowClassName:n})=>d.jsxs("p",{className:k("relative",i===F?"text-earth-black":"text-alien-white",t),children:[e,d.jsx("span",{className:k("absolute left-[1px] top-[2px] -z-[1] w-full text-[length:inherit] text-inherit opacity-[40%] blur-[1px]",i===F?"text-[#004500]":"",n),children:e})]}),Fme=({theme:e})=>{const{t,i18n:i}=je(),{deviceType:n}=ve();return d.jsxs("button",{onClick:()=>{const s=rt(i.language)==="en"?"es":"en";i.changeLanguage(s)},className:k("group flex h-full w-[5.334em] select-none flex-col items-center justify-between py-[0.4em] text-[0.7092em] focus:outline-none"),children:[d.jsx(Bme,{theme:e,title:"Change Language",lang:rt(i.language)}),d.jsx(qe,{theme:e,text:t("header.language"),className:k("font-nunito font-extrabold leading-none tracking-wider",{medium:"mb-[0.3em] text-[1em]"}[n])})]})},Bme=({lang:e,title:t,theme:i,iconClassName:n})=>{const s=le(Ee),{deviceType:a}=ve();return d.jsxs("div",{className:k("relative flex justify-center",{web:"h-[75%] w-full items-end",medium:"h-[75%] w-full items-end"}[a]),children:[d.jsx("div",{title:t,className:k("absolute z-10 flex aspect-square items-center justify-center",{web:"h-[75%]",medium:"h-[75%]"}[a],{"group-hover:drop-shadow-earth-net-icon group-focus:drop-shadow-earth-net-icon":i===F,"group-hover:drop-shadow-alien-net-icon group-focus:drop-shadow-alien-net-icon":i===De}),children:d.jsx("span",{className:k("block font-nunito font-black leading-none tracking-wider text-white",{web:"text-[1.17em] opacity-75 group-hover:opacity-100",medium:"mt-[0.2em] text-[1.2em]"}[a],n),children:e==="es"?"ES":"EN"})}),d.jsx("img",{loading:"eager",src:i===F?s.earthcleancirclebutton:s.aliencleancirclebutton,className:k("flex aspect-square max-w-none items-center justify-center saturate-[0.8]",{web:"aspect-square h-[75%]",medium:"aspect-square h-[75%]"}[a],i===De&&"drop-shadow-alien-switch !saturate-100")})]})},Vme=({theme:e})=>{const{t,i18n:i}=je();return d.jsxs("button",{onClick:()=>{const n=rt(i.language)==="en"?"es":"en";i.changeLanguage(n)},className:k("group flex w-full items-center justify-between focus:outline-none"),children:[d.jsx(qe,{theme:e,text:t("header.side-lang"),className:k("mt-[0.5rem] font-nunito font-extrabold leading-none tracking-wider")}),d.jsx(Ume,{theme:e,title:"Change Language",lang:rt(i.language)})]})},Ume=({lang:e,title:t,theme:i,iconClassName:n})=>{const s=le(Ee);return d.jsxs("div",{className:k("relative flex h-[2.5em] w-fit items-center justify-center"),children:[d.jsx("div",{title:t,className:k("absolute z-10 flex aspect-square h-full items-center justify-center",{"group-hover:drop-shadow-earth-net-icon group-focus:drop-shadow-earth-net-icon":i===F,"group-hover:drop-shadow-alien-net-icon group-focus:drop-shadow-alien-net-icon":i===De}),children:d.jsx("span",{className:k("block font-nunito text-[0.8rem] font-black leading-none tracking-wider text-white",n),children:e==="es"?"ES":"EN"})}),d.jsx("img",{loading:"eager",src:i===F?s.earthcleancirclebutton:s.aliencleancirclebutton,className:k("flex aspect-square h-[2.5em] max-w-none items-center justify-center saturate-[0.8]",i===De&&"drop-shadow-alien-switch !saturate-100")})]})},Gme=({theme:e})=>{const{t}=je(),{changeTheme:i}=mhe(),n=le(Ee),{deviceType:s}=ve(),[a,o]=D.useState(!1);return D.useEffect(()=>{o(!1)},[e]),D.useEffect(()=>{a&&i()},[a]),d.jsx("button",{onClick:()=>{a||o(!0)},className:k("group flex h-full select-none flex-col items-center justify-between outline-none focus:outline-none",a&&"pointer-events-none",{web:"w-[5.334em] py-[0.4em] text-[0.7092em]",medium:"w-[5.334em] py-[0.4em] text-[0.7092em]",mobile:"w-[5.334em] py-[0.4em] text-[0.7092em] mr-1"}[s]),children:e===F?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative h-[75%]",children:[d.jsx("img",{className:"h-full",src:a?n.earthswitchon:n.earthswitch,alt:"Earth Switch"}),!a&&d.jsx("div",{className:k("absolute left-1/2 top-[10%] z-10 aspect-square w-[40%] -translate-x-1/2 group-hover:bg-earth-green/50 group-hover:shadow-earth-switch group-focus:bg-earth-green/50 group-focus:shadow-earth-switch")})]}),d.jsx(qe,{theme:F,text:t(a?"header.theme-alien":"header.theme-earth"),className:k("font-nunito font-extrabold leading-none tracking-wider",{medium:"mb-[0.3em] text-[1em]"}[s])})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative h-[75%]",children:[d.jsx("img",{className:"h-[105%] drop-shadow-alien-switch",src:a?n.alienswitchon:n.alienswitch,alt:"Alien Switch"}),!a&&d.jsx("div",{className:k("absolute left-1/2 top-[8%] z-10 aspect-square w-[40%] -translate-x-1/2 group-hover:bg-alien-purple/50 group-hover:shadow-alien-switch group-focus:bg-alien-purple/50 group-focus:shadow-alien-switch")})]}),d.jsx(qe,{theme:De,text:t(a?"header.theme-earth":"header.theme-alien"),className:k("font-nunito font-extrabold leading-none tracking-wider",{medium:"mb-[0.3em] text-[1em]"}[s])})]})})},Wme=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M14.9864 3L15.1094 3.006C17.1234 3.22 18.6364 3.678 20.0754 4.679C20.2471 4.79882 20.3769 4.96951 20.4464 5.167C22.3224 10.482 22.8194 15.154 21.8974 17.447C20.8944 19.452 19.2914 21 17.5034 21C16.7714 21 15.8104 20.032 15.1754 18.955C15.8841 18.8252 16.5859 18.6607 17.2784 18.462C17.4048 18.4259 17.5227 18.3652 17.6256 18.2835C17.7285 18.2018 17.8143 18.1006 17.8781 17.9858C17.9419 17.8709 17.9825 17.7446 17.9974 17.6141C18.0124 17.4835 18.0015 17.3513 17.9654 17.225C17.9293 17.0987 17.8687 16.9807 17.787 16.8778C17.7053 16.7749 17.6041 16.6891 17.4892 16.6253C17.3744 16.5615 17.248 16.521 17.1175 16.506C16.987 16.491 16.8548 16.5019 16.7284 16.538C13.4084 17.488 10.5984 17.488 7.27844 16.538C7.0233 16.4651 6.74964 16.4965 6.51765 16.6253C6.28567 16.7541 6.11437 16.9699 6.04144 17.225C5.9685 17.4801 5.99991 17.7538 6.12874 17.9858C6.25758 18.2178 6.4733 18.3891 6.72844 18.462C7.44444 18.6667 8.14544 18.8313 8.83144 18.956C8.19643 20.031 7.23544 21 6.50344 21C4.71544 21 3.11244 19.452 2.07544 17.371C1.18744 15.154 1.68544 10.481 3.56044 5.167C3.62996 4.96951 3.75973 4.79882 3.93144 4.679C5.37044 3.678 6.88344 3.22 8.89744 3.006C9.0781 2.98673 9.2606 3.01704 9.42533 3.09368C9.59007 3.17032 9.73081 3.29039 9.83244 3.441L9.89544 3.548L10.5464 4.833L10.6834 4.817C11.5621 4.72721 12.4477 4.72721 13.3264 4.817L13.4604 4.833L14.1104 3.549C14.1832 3.40479 14.2897 3.28035 14.421 3.18631C14.5524 3.09227 14.7045 3.03143 14.8644 3.009L14.9864 3ZM9.00344 10C8.5255 9.99998 8.06335 10.1711 7.70069 10.4824C7.33803 10.7937 7.09884 11.2246 7.02643 11.697L7.00844 11.851L7.00344 12L7.00844 12.15C7.03762 12.538 7.17938 12.9092 7.41634 13.2178C7.65329 13.5265 7.97515 13.7594 8.34248 13.8878C8.7098 14.0163 9.10663 14.0349 9.48432 13.9412C9.86202 13.8475 10.2042 13.6456 10.4689 13.3604C10.7336 13.0751 10.9093 12.7188 10.9745 12.3352C11.0397 11.9516 10.9916 11.5572 10.8361 11.2005C10.6805 10.8438 10.4243 10.5403 10.0988 10.327C9.77324 10.1138 9.39258 10.0001 9.00344 10ZM15.0034 10C14.5255 9.99998 14.0634 10.1711 13.7007 10.4824C13.338 10.7937 13.0988 11.2246 13.0264 11.697L13.0084 11.851L13.0034 12L13.0084 12.15C13.0376 12.538 13.1794 12.9092 13.4163 13.2178C13.6533 13.5265 13.9752 13.7594 14.3425 13.8878C14.7098 14.0163 15.1066 14.0349 15.4843 13.9412C15.862 13.8475 16.2042 13.6456 16.4689 13.3604C16.7336 13.0751 16.9093 12.7188 16.9745 12.3352C17.0397 11.9516 16.9916 11.5572 16.8361 11.2005C16.6805 10.8438 16.4243 10.5403 16.0988 10.327C15.7732 10.1138 15.3926 10.0001 15.0034 10Z",fill:"white"})),Hme=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M9.99913 6.87531C8.27882 6.87531 6.87492 8.27921 6.87492 9.99953C6.87492 11.7198 8.27882 13.1237 9.99913 13.1237C11.7194 13.1237 13.1234 11.7198 13.1234 9.99953C13.1234 8.27921 11.7194 6.87531 9.99913 6.87531ZM19.3694 9.99953C19.3694 8.70578 19.3812 7.42374 19.3085 6.13234C19.2359 4.63234 18.8937 3.30109 17.7968 2.20421C16.6976 1.10499 15.3687 0.76515 13.8687 0.692494C12.5749 0.619838 11.2929 0.631557 10.0015 0.631557C8.70773 0.631557 7.4257 0.619838 6.13429 0.692494C4.63429 0.76515 3.30304 1.10734 2.20617 2.20421C1.10695 3.30343 0.767103 4.63234 0.694447 6.13234C0.621791 7.42609 0.63351 8.70812 0.63351 9.99953C0.63351 11.2909 0.621791 12.5753 0.694447 13.8667C0.767103 15.3667 1.10929 16.698 2.20617 17.7948C3.30538 18.8941 4.63429 19.2339 6.13429 19.3066C7.42804 19.3792 8.71007 19.3675 10.0015 19.3675C11.2952 19.3675 12.5773 19.3792 13.8687 19.3066C15.3687 19.2339 16.6999 18.8917 17.7968 17.7948C18.896 16.6956 19.2359 15.3667 19.3085 13.8667C19.3835 12.5753 19.3694 11.2933 19.3694 9.99953ZM9.99913 14.8066C7.33898 14.8066 5.1921 12.6597 5.1921 9.99953C5.1921 7.33937 7.33898 5.19249 9.99913 5.19249C12.6593 5.19249 14.8062 7.33937 14.8062 9.99953C14.8062 12.6597 12.6593 14.8066 9.99913 14.8066ZM15.003 6.11827C14.3819 6.11827 13.8804 5.61671 13.8804 4.99562C13.8804 4.37453 14.3819 3.87296 15.003 3.87296C15.6241 3.87296 16.1257 4.37453 16.1257 4.99562C16.1259 5.1431 16.097 5.28917 16.0406 5.42546C15.9843 5.56175 15.9016 5.68558 15.7973 5.78987C15.693 5.89415 15.5692 5.97684 15.4329 6.0332C15.2966 6.08955 15.1505 6.11846 15.003 6.11827Z",fill:"white"})),Yme=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M20.7097 3.6545C20.7097 3.6545 22.6523 2.897 22.4904 4.73664C22.4365 5.49415 21.9508 8.1454 21.573 11.0131L20.278 19.5079C20.278 19.5079 20.17 20.7524 19.1987 20.9688C18.2274 21.1852 16.7704 20.2113 16.5005 19.9949C16.2847 19.8326 12.4534 17.3977 11.1043 16.2074C10.7265 15.8827 10.2948 15.2334 11.1582 14.476L16.8244 9.06525C17.4719 8.41595 18.1194 6.90095 15.4213 8.7406L7.86655 13.8808C7.86655 13.8808 7.00315 14.4219 5.3843 13.9349L1.87671 12.8527C1.87671 12.8527 0.581605 12.0412 2.79408 11.2295C8.19035 8.68645 14.8278 6.0893 20.7097 3.6545Z",fill:"white"})),$me=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M16.5963 5.82C15.9128 5.03953 15.5361 4.0374 15.5363 3H12.4462V15.4C12.4229 16.0712 12.1398 16.7071 11.6566 17.1735C11.1733 17.6399 10.5278 17.9004 9.85625 17.9C8.43625 17.9 7.25625 16.74 7.25625 15.3C7.25625 13.58 8.91625 12.29 10.6263 12.82V9.66C7.17625 9.2 4.15625 11.88 4.15625 15.3C4.15625 18.63 6.91625 21 9.84625 21C12.9863 21 15.5363 18.45 15.5363 15.3V9.01C16.7892 9.90985 18.2936 10.3926 19.8363 10.39V7.3C19.8363 7.3 17.9563 7.39 16.5963 5.82Z",fill:"white"})),Kme=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M20.1566 20.6109C20.092 20.7286 19.9971 20.8267 19.8817 20.8951C19.7662 20.9636 19.6346 20.9998 19.5004 21H15.0004C14.8741 21 14.75 20.9681 14.6393 20.9073C14.5287 20.8465 14.4352 20.7587 14.3676 20.6522L10.5716 14.6869L5.05536 20.7544C4.92089 20.8988 4.7349 20.9845 4.53772 20.9927C4.34054 21.0009 4.14805 20.9311 4.002 20.7984C3.85595 20.6657 3.7681 20.4807 3.7575 20.2836C3.74689 20.0866 3.81439 19.8933 3.94536 19.7456L9.7363 13.3706L3.86755 4.15313C3.79527 4.03973 3.75481 3.90898 3.7504 3.77458C3.746 3.64018 3.7778 3.50707 3.8425 3.38918C3.90719 3.27129 4.0024 3.17296 4.11813 3.10449C4.23387 3.03603 4.36589 2.99993 4.50036 3H9.00036C9.12659 3.00004 9.25077 3.03194 9.36139 3.09274C9.472 3.15353 9.56549 3.24127 9.63318 3.34781L13.4291 9.31312L18.9454 3.24562C19.0798 3.10117 19.2658 3.01555 19.463 3.00731C19.6602 2.99907 19.8527 3.06888 19.9987 3.20161C20.1448 3.33435 20.2326 3.51929 20.2432 3.71636C20.2538 3.91343 20.1863 4.10674 20.0554 4.25438L14.2644 10.6247L20.1332 19.8478C20.2051 19.9613 20.2451 20.0919 20.2493 20.2262C20.2534 20.3604 20.2214 20.4933 20.1566 20.6109Z",fill:"white"})),Zme=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M12.244 4C12.778 4.003 14.114 4.016 15.534 4.073L16.038 4.095C17.467 4.162 18.895 4.278 19.604 4.475C20.549 4.741 21.291 5.515 21.542 6.497C21.942 8.057 21.992 11.099 21.998 11.836L21.999 11.988V12.162C21.992 12.899 21.942 15.942 21.542 17.501C21.288 18.486 20.545 19.261 19.604 19.523C18.895 19.72 17.467 19.836 16.038 19.903L15.534 19.926C14.114 19.982 12.778 19.996 12.244 19.998L12.009 19.999H11.754C10.624 19.992 5.898 19.941 4.394 19.523C3.45 19.257 2.707 18.483 2.456 17.501C2.056 15.941 2.006 12.899 2 12.162V11.836C2.006 11.099 2.056 8.056 2.456 6.497C2.71 5.512 3.453 4.737 4.395 4.476C5.898 4.057 10.625 4.006 11.755 4H12.244ZM9.999 8.5V15.5L15.999 12L9.999 8.5Z",fill:"white"})),qme={discord:Wme,telegram:Yme,youtube:Zme,tiktok:$me,x:Kme,instagram:Hme},kn=({net:e,title:t,theme:i,iconClassName:n,className:s,tabIndex:a})=>{const o=le(Ee),{deviceType:r}=ve(),l=qme[e];return d.jsxs("div",{className:k("relative",s),children:[d.jsx("a",{tabIndex:a,href:gr[e],target:"_blank",rel:"noreferrer",title:t,className:k("relative flex aspect-square items-center justify-center focus:outline-none",{web:"w-[3.3em]",medium:"w-[3.3em]",mobile:"w-[2.7em]"}[r],{"hover:drop-shadow-earth-net-icon focus:drop-shadow-earth-net-icon":i===F,"hover:drop-shadow-alien-net-icon focus:drop-shadow-alien-net-icon":i===De}),children:d.jsx(l,{className:n})}),d.jsx("img",{loading:"eager",src:i===F?o.earthcirclebutton:o.aliencirclebutton,className:k("absolute left-[0.04em] top-[0.15em] -z-[1] block h-auto w-full max-w-none")})]})},Lm=({text:e,className:t,...i})=>d.jsx("div",{className:k("h-fit w-fit text-center font-nunito-sans text-[0.9em] font-black tracking-wide",t),...i,children:d.jsxs("div",{className:"relative",children:[e,d.jsx("span",{className:"absolute left-[0.15rem] top-[0.15rem] w-full text-center text-inherit opacity-[40%] blur-[1px]",children:e})]})}),Xme=({theme:e,icon:t})=>{const i=D.useRef(null),n=le(Ee),s=D.useRef(null),{leftPosition:a,rightPosition:o}=Vpe(s),{deviceType:r,windowHeight:l}=ve(),c=Q8(l,r),h=Ya().pathname.replace("/",""),f=p7(h);return d.jsx(Upe,{height:c,theme:e,children:d.jsxs("header",{ref:i,className:k("relative flex h-full w-full items-center justify-center"),style:{fontSize:`${c*.18/16}rem`},children:[r==="mobile"&&d.jsx(p_,{menuIconTheme:e}),r!=="mobile"||!f?d.jsxs(Zn,{to:"/",className:k("group absolute block aspect-square h-[80%] shrink-0 -translate-x-1/2 focus:outline-none",{mobile:"left-1/2"}[r]),style:r!=="mobile"?{left:a}:void 0,children:[d.jsx("img",{src:t}),d.jsx("div",{className:"absolute top-0 h-full w-full overflow-hidden rounded-full",children:e===F?d.jsx("div",{className:"absolute top-[50%] z-10 h-full w-full rounded-full group-hover:bg-earth-green/20 group-hover:shadow-earth-icon group-focus:bg-earth-green/20 group-focus:shadow-earth-icon"}):d.jsx("div",{className:"absolute left-[50%] top-[20%] z-10 h-[25%] w-full -translate-x-1/2 rounded-full group-hover:bg-alien-purple/30 group-hover:shadow-alien-icon group-focus:bg-alien-purple/30 group-focus:shadow-alien-icon"})}),d.jsx("img",{src:e===F?n.univearthminilogoblack:n.univearthminilogowhite,className:k("pointer-events-none absolute -bottom-[15%] left-1/2 z-10 max-h-none w-[120%] max-w-none -translate-x-1/2 -translate-y-1/2 group-hover:!bottom-[20%] group-hover:w-[160%] group-focus:!bottom-[20%] group-focus:w-[160%]",e===F?"drop-shadow-earth-white-shadow group-hover:!drop-shadow-earth-character-hover group-focus:!drop-shadow-earth-character-hover":"drop-shadow-alien-black-shadow group-hover:!drop-shadow-alien-character-hover group-focus:!drop-shadow-alien-character-hover"),style:{transition:"width 0.5s ease-in-out, height 0.5s ease-in-out, bottom 0.5s ease-in-out"}})]}):d.jsxs("div",{className:"absolute left-1/2 flex h-full shrink-0 -translate-x-1/2 flex-col items-center justify-between pt-1",children:[d.jsxs(Zn,{to:"/",className:k("group block aspect-square h-[70%] focus:outline-none"),style:r!=="mobile"?{left:a}:void 0,children:[d.jsx("img",{src:t}),d.jsx("img",{src:e===F?n.univearthminilogoblack:n.univearthminilogowhite,className:k("pointer-events-none absolute bottom-[38%] left-1/2 z-10 h-[20%] max-h-none w-auto max-w-none -translate-x-1/2 -translate-y-1/2",e===F?"drop-shadow-earth-white-shadow group-hover:!drop-shadow-earth-character-hover group-focus:!drop-shadow-earth-character-hover":"drop-shadow-alien-black-shadow group-hover:!drop-shadow-alien-character-hover group-focus:!drop-shadow-alien-character-hover"),style:{transition:"width 0.5s ease-in-out, height 0.5s ease-in-out, bottom 0.5s ease-in-out"}})]}),d.jsx(p_,{triggerClassName:k("relative shrink-0 select-none font-nunito text-[1.1em] font-extrabold tracking-wider outline-none",!f&&"hidden",e===F?" drop-shadow-earth-option":" drop-shadow-alien-option",e===F?" text-earth-black hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":" text-alien-white hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),trigger:d.jsx(ege,{})})]}),r!=="mobile"&&d.jsx(Qme,{theme:e,navRef:s,headerRef:i,headerHeight:c}),d.jsxs("div",{className:k("absolute flex h-full items-center",{web:"-translate-x-1/2",medium:"-translate-x-1/2",mobile:"right-0"}[r]),style:r!=="mobile"?{left:o,gap:r==="web"?c*.127659:c*0}:{},children:[r!=="mobile"&&d.jsx(Fme,{theme:e}),d.jsx(Gme,{theme:e,containerRef:i})]})]})})},Qme=({theme:e,navRef:t,headerRef:i,headerHeight:n})=>{const{t:s}=je(),{deviceType:a}=ve(),o=Ya(),l=o.pathname.split("/")[1]===""?"univearth":o.pathname.split("/")[1],c=NS[l];return d.jsxs("nav",{ref:t,className:k("flex h-full flex-col items-center",c!=null&&c.length?"justify-between":"justify-center",{web:"w-[50%]",medium:"w-[55%]"}[a]),style:{paddingTop:{web:c!=null&&c.length?n*.1:0,medium:c!=null&&c.length?n*.14:0}[a]},children:[d.jsx(zme,{theme:e,containerRef:i}),!!(c!=null&&c.length)&&d.jsx("ul",{className:k("flex h-min items-center gap-[0.25em]",e===F?"text-earth-black":"text-alien-white"),children:c.map(u=>d.jsx(Jme,{headerHeight:n,theme:e,title:s(`header.nav-${u.id}`),to:u.id,disabled:u.disabled},u.id))})]})},Jme=({headerHeight:e,theme:t,title:i,to:n,disabled:s})=>{const{deviceType:a}=ve();return d.jsx("li",{className:k("relative font-nunito-sans font-semibold"),style:{fontSize:{web:e*.18,medium:e*.13}[a]},children:d.jsx(P9,{tabIndex:s?-1:0,to:n,end:"true",className:({isActive:o})=>k("flex justify-center rounded-t-lg px-3 py-2 focus:outline-none",{web:"w-[9.93em] px-[0.7093em] py-[0.473em]",medium:"min-w-[8em] px-[0.7093em] py-[0.8em]"}[a],s&&"cursor-not-allowed opacity-[0.6]",o&&(t===F?"bg-earth-green/40":"bg-alien-purple/20"),t===F?"text-earth-black":"text-alien-white",!s&&(t===F?"hover:bg-earth-green/20 focus:bg-earth-green/20":"hover:bg-alien-purple/10 focus:bg-alien-purple/10")),onClick:s?o=>o.preventDefault():void 0,children:i})})},p7=e=>{for(const t of Object.values(NS))if(t.find(n=>n.id===e))return`header.nav-${e}`;return null},ege=()=>{const{t:e}=je(),i=Ya().pathname.replace("/",""),n=p7(i);return d.jsx("span",{children:e(n)})},p_=({menuIconTheme:e,trigger:t,triggerClassName:i})=>{const{t:n}=je(),s=le(ze),[a,o]=D.useState(!1);return d.jsxs(NG,{open:a,onOpenChange:o,children:[d.jsx(MG,{className:k("absolute left-0 overflow-visible active:outline-none",i||k("outline-none",e===F?"text-earth-black focus:shadow-earth-frame":"text-alien-white focus:shadow-alien-frame")),children:t||d.jsx(ghe,{className:k("m-4 h-8 w-8")})}),d.jsxs(Ks,{theme:s,side:"left",children:[d.jsx(U2,{className:"hidden"}),d.jsx(G2,{className:"hidden"}),d.jsxs(Ai,{className:k("flex h-[calc(var(--vh)*100)] w-screen flex-col !rounded-none !py-0 text-[clamp(0.9rem,2.5*var(--vh),1.1rem)] !backdrop-blur-xl",s===F?"bg-opacity-40":"bg-opacity-20"),theme:s,children:[d.jsx(tge,{onClick:()=>o(!1)}),d.jsxs("ul",{className:k("flex grow flex-col gap-[1em]",s===F?"text-earth-black":"text-alien-white"),children:[d.jsx("li",{children:d.jsx(Vme,{theme:s})}),d.jsx("li",{className:k("mx-auto h-px w-[95%] shrink-0",s===F?"bg-earth-black":"bg-alien-white")}),oJ.map((r,l)=>d.jsxs("li",{className:k("select-none font-nunito tracking-wider focus:outline-none",zt()?s===F?"text-shadow-earth-option":"text-shadow-alien-option":s===F?"drop-shadow-earth-option":"drop-shadow-alien-option"),children:[d.jsx(Lm,{text:n(`header.nav-${r.id}`),className:l!==0&&"mb-[0.8em]"}),!!NS[r.id].length&&d.jsx("ul",{className:"flex flex-col gap-[0.8em]",children:NS[r.id].map(c=>!c.disabled&&d.jsx("li",{className:k("relative ml-[1em] font-nunito !text-[0.9em] font-extrabold",zt()?s===F?"text-shadow-earth-option":"text-shadow-alien-option":s===F?"drop-shadow-earth-option":"drop-shadow-alien-option"),children:d.jsx(Zn,{to:c.id,onClick:()=>o(!1),className:({isActive:u})=>k("flex justify-center rounded-t-lg px-[0.75em] py-[0.5em] focus:outline-none",u&&(s===F?"bg-earth-green/40":"bg-alien-purple/20"),s===F?"text-earth-black":"text-alien-white"),children:n(`header.nav-${c.id}`)})},c.id))})]},r.id)),d.jsxs("li",{className:"mt-auto",children:[d.jsxs("p",{className:k("relative text-center font-nunito-sans font-black",s===F?"text-earth-black":"text-alien-white",zt()?s===F?"text-shadow-earth-option":"text-shadow-alien-option":s===F?"drop-shadow-earth-option":"drop-shadow-alien-option"),children:[n("header.follow"),d.jsx("span",{className:k("absolute left-[1px] top-[2px] -z-[1] w-full text-center opacity-[40%] blur-[1px]",s===F?"text-earth-black-fade":"text-alien-white"),children:n("header.follow")})]}),d.jsxs("div",{className:k("inline-grid w-full grid-cols-3 justify-items-center gap-[0.4em] self-end p-[0.8em] !pt-[0.4em] brightness-[0.85]"),children:[d.jsx(kn,{net:"discord",title:"Discord",theme:s,iconClassName:k("ml-[1px]")}),d.jsx(kn,{net:"x",title:"X",theme:s,iconClassName:k("ml-[1px]")}),d.jsx(kn,{net:"telegram",title:"Telegram",theme:s}),d.jsx(kn,{net:"youtube",title:"Youtube",theme:s,iconClassName:k("ml-[1px]")}),d.jsx(kn,{net:"instagram",title:"Instagram",theme:s,iconClassName:k("ml-[0.5px]")}),d.jsx(kn,{net:"tiktok",title:"Tiktok",theme:s,iconClassName:k("ml-[1px]")})]})]})]})]})]})]})},tge=({onClick:e})=>{const t=le(Ee),i=le(ze),[n,s]=D.useState(!1),[a,o]=D.useState(!1),[r,l]=D.useState(!1);return D.useEffect(()=>{const c=setTimeout(()=>l(!0),3e3);return()=>clearTimeout(c)},[]),d.jsxs("div",{className:"pointer-events-none relative mx-auto my-2 h-fit w-[clamp(70*var(--vw),39*var(--vh),80*var(--vw))] shrink-0",children:[d.jsx(Zn,{to:"/",className:"logo-univearth-clip pointer-events-auto absolute top-0 z-10 h-full w-full",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onFocus:()=>o(!0),onBlur:()=>o(!1),onClick:e}),d.jsx("img",{className:k("pointer-events-none h-auto max-h-none w-full max-w-none",(n||a)&&(zt()?i===F?"text-shadow-earth-character-hover":"text-shadow-alien-character-hover":i===F?"drop-shadow-earth-character-hover":"drop-shadow-alien-character-hover")),src:t.univearthlogogeneral,alt:"UniVearth Logo"}),r&&d.jsxs(Eo,{children:[d.jsx(mn.img,{initial:{opacity:0},animate:{opacity:[.25,.5,1,.5,.25]},transition:{duration:3,repeat:1/0,repeatType:"loop",ease:"easeInOut"},src:t.univearthlogoearthlights,className:k("pointer-events-none absolute -bottom-[81.8%] -right-[13.35%] hidden max-h-none w-[118.9%] max-w-none",(i===F||n||a)&&"!block")},"earthLights"),d.jsx(mn.img,{initial:{opacity:0},animate:{opacity:[.25,.5,1,.5,.25]},transition:{duration:3,repeat:1/0,repeatType:"loop",ease:"easeInOut"},src:t.univearthlogoalienlights,className:k("pointer-events-none absolute -bottom-[81.8%] -left-[5.35%] right-0 hidden max-h-none w-[118.9%] max-w-none",(i===De||n||a)&&"!block")},"alienLights")]})]})},ige="/uvegame/alien-android-chrome-192x192.png",nge="/uvegame/earth-android-chrome-192x192.png",sge=()=>{const e=le(ze);return d.jsx("div",{className:"absolute left-0 right-0 top-0 w-full",children:d.jsx(Eo,{mode:"wait",initial:!1,children:d.jsx(mn.div,{initial:{top:"-200px"},animate:{top:"0"},transition:{duration:1,ease:"easeOut"},exit:{top:["0","0","-200px"],transition:{duration:1,delay:2,ease:"easeIn"}},className:"relative",children:d.jsx(Xme,{theme:e,icon:{[F]:nge,[De]:ige}[e]})},e)})})},age=()=>{const{t:e}=je(),t=le(Ee),i=le(ze),n=xt(E9),[s,a]=Hm(phe),[o,r]=D.useState(!1);D.useEffect(()=>{n(o)},[o]),D.useEffect(()=>{const u=Date.now();s?setTimeout(()=>{r(!0)},2e3):_ne(D9,i,()=>{const h=Date.now()-u,f=Math.max(0,2e3-h);setTimeout(()=>{r(!0),a(!0)},f)})},[i]);const l=()=>{a(!1)};return d.jsx(mn.div,{className:k("fixed inset-0 z-[200] flex h-screen w-screen items-center justify-center bg-black",o&&"pointer-events-none"),initial:{opacity:1},animate:{opacity:o?0:1},transition:{duration:.5},onAnimationComplete:()=>{o&&l()},children:d.jsxs("div",{className:"text-center",children:[d.jsxs(mn.div,{className:"relative",animate:{y:o?"-100%":"0%"},transition:{duration:1},children:[d.jsx("img",{src:t.gearlogo,alt:"loading",className:"w-[min(50*var(--vw),30*var(--vh))]"}),d.jsx(mn.img,{src:t.gearmid,alt:"loading",className:"absolute left-1/2 top-1/2 w-[50%] object-contain",style:{translateX:"-50%",translateY:"-50%"},animate:{rotate:360,translateX:"-50%",translateY:"-50%"},transition:{rotate:{repeat:1/0,duration:5,ease:"linear"}}}),d.jsx("img",{src:t.gearcenter,alt:"loading",className:"absolute left-1/2 top-1/2 w-[10%] -translate-x-1/2 -translate-y-1/2 object-contain"})]}),d.jsx(mn.p,{className:"mt-5 font-orbitron text-lg font-black text-white",animate:{opacity:o?0:1},transition:{duration:1,ease:"easeInOut"},children:e("loading.text")})]})})},Lt=({src:e,className:t,style:i})=>d.jsx("img",{src:e,alt:"asset",loading:"eager",className:k("pointer-events-none absolute z-[45] max-w-none",t),style:i}),f7={left:"9% 25.92%",right:"52% 25.92%",center:"35% 25.92%"},oge=({className:e,referenceHeight:t,scale:i=1,frameSide:n,style:s})=>{const a=le(Ee),{windowWidth:o}=ve();return d.jsx("div",{className:k("absolute",e),style:s,children:d.jsxs("div",{className:"relative",style:{transformOrigin:f7[n],transform:`scale(${i})`},children:[d.jsx(Lt,{src:a.eartharmlargebase,className:"left-[98%] top-[67.5%] !min-w-[calc(100*var(--vw))] opacity-[0.9] brightness-[1.5] saturate-[0.6]",style:{height:t*.028}}),o>2600-1620*i&&d.jsx(Lt,{src:a.eartharmlargebase,className:"left-[600%] top-[67.5%] !min-w-[calc(100*var(--vw))] opacity-[0.9] brightness-[1.5] saturate-[0.6]",style:{height:t*.028}}),d.jsx(Lt,{src:a.earthrightarm,className:"!relative !min-w-full",style:{height:t*.12}})]})})},m7={left:"40% 30%",right:"84% 30%",center:"62% 30%"},rge=({className:e,referenceHeight:t,scale:i=1,frameSide:n,style:s})=>{const a=le(Ee),{windowWidth:o}=ve();return d.jsx("div",{className:k("absolute",e),style:s,children:d.jsxs("div",{className:"relative",style:{transformOrigin:m7[n],transform:`scale(${i})`},children:[d.jsx(Lt,{src:a.eartharmlargebase,className:"right-[98%] top-[70%] !min-w-[calc(100*var(--vw))] opacity-[0.9] brightness-[1.5] saturate-[0.6]",style:{height:t*.028}}),o>2600-1620*i&&d.jsx(Lt,{src:a.eartharmlargebase,className:"right-[580%] top-[70%] !min-w-[calc(100*var(--vw))] opacity-[0.9] brightness-[1.5] saturate-[0.6]",style:{height:t*.028}}),d.jsx(Lt,{src:a.earthleftarm,className:"!relative !min-w-full",style:{height:t*.11803}})]})})},g7={left:"5% 30%",right:"27.3% 30%",center:"18.5% 30%"},lge=({className:e,referenceHeight:t,scale:i=1,frameSide:n,style:s})=>{const a=le(Ee),{windowWidth:o}=ve();return d.jsx("div",{className:k("absolute",e),style:s,children:d.jsxs("div",{className:"relative",style:{transformOrigin:g7[n],transform:`scale(${i})`},children:[d.jsx(Lt,{src:a.alienarm,className:"!relative !min-w-full",style:{height:t*.15}}),d.jsx(Lt,{src:a.alienarmlargebase,className:"left-[96%] top-[51%] !min-w-[calc(100*var(--vw))]",style:{height:t*.035}}),o>2600-1620*i&&d.jsx(Lt,{src:a.alienarmlargebase,className:"left-[408.5%] top-[51%] !min-w-[calc(100*var(--vw))]",style:{height:t*.035}})]})})},y7={left:"66% 30%",right:"88% 30%",center:"77% 30%"},cge=({className:e,referenceHeight:t,scale:i=1,frameSide:n,style:s})=>{const a=le(Ee),{windowWidth:o}=ve();return d.jsx("div",{className:k("absolute",e),style:s,children:d.jsxs("div",{className:"relative",style:{transformOrigin:y7[n],transform:`scale(${i})`},children:[d.jsx(Lt,{src:a.alienarm,className:"!relative !min-w-full -scale-x-100",style:{height:t*.15}}),d.jsx(Lt,{src:a.alienarmlargebase,className:"right-[96%] top-[51%] !min-w-[calc(100*var(--vw))] -scale-x-100",style:{height:t*.035}}),o>2600-1620*i&&d.jsx(Lt,{src:a.alienarmlargebase,className:"right-[408.5%] top-[51%] !min-w-[calc(100*var(--vw))] -scale-x-100",style:{height:t*.035}})]})})},uge={left:rge,right:oge},dge={left:cge,right:lge},hge={[F]:uge,[De]:dge},pge={"earth-right":f7,"earth-left":m7,"alien-right":g7,"alien-left":y7},f_={[F]:{center:.5,left:1,right:.02},[De]:{center:.5,left:1,right:.015}},Qn=({theme:e,armSide:t,frameSide:i,reference:n,parentRef:s,className:a,scale:o=1,scaleAdjust:r=1})=>{const{deviceType:l}=ve(),c=n.width,u=n.height,[h,f]=D.useState({width:0,height:0});D.useEffect(()=>{if(!(s!=null&&s.current))return;const y=new ResizeObserver(b=>{for(let v of b)f({width:parseFloat(v.contentRect.width.toFixed(2)),height:parseFloat(v.contentRect.height.toFixed(2))})});return y.observe(s.current),()=>y.disconnect()},[s]);const g=hge[e][t],x=Number(pge[`${e}-${t}`][i].split("% ")[0])/100;return d.jsx(g,{className:k("z-10",{medium:{[F]:t==="right"?"translate-x-[27%]":"translate-x-[9%]",[De]:t==="right"?"translate-x-[42.2%]":"translate-x-[7.2%]"}[e],mobile:{[F]:t==="right"?"translate-x-[32%]":"translate-x-[11%]",[De]:t==="right"?"translate-x-[50%]":"translate-x-[8.5%]"}[e]}[l],a),style:{bottom:e===F?`${-12.5*(542.41/h.height)*(u/762.77)}%`:`${-14.8*(542.41/h.height)*(u/762.77)}%`,right:e===F?`${(h.width*f_[e][i]*{web:1,medium:{right:.67,left:.83}[t],mobile:{right:.78,left:.77}[t]}[l]-270.66*c/1356.03*(1-x))/(h.width/100)*r}%`:`${(h.width*f_[e][i]*{web:1,medium:{right:.773,left:.885}[t],mobile:{right:.85,left:.854}[t]}[l]-370.22*c/1356.03*(1-x))/(h.width/100)*r}%`},referenceHeight:u,scale:o,frameSide:i})},fge=()=>{const e=D.useRef(null),t=le(ze),i=le(Dc),[n,s]=D.useState(!1),a=le(D2);return E2(n,e),D.useEffect(()=>{if(n){const o=r=>{(r.key==="Escape"||r.key==="Enter")&&s(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)}},[n]),d.jsxs("div",{ref:e,className:k("pointer-events-none absolute z-[100] h-full w-full"),children:[n&&d.jsx("div",{tabIndex:-1,className:k("pointer-events-auto absolute top-0 h-full w-full backdrop-blur-[0.5px]",n&&(t===F?"bg-earth-white/50":"bg-alien-black/80")),onClick:()=>s(!1)}),d.jsx(Eo,{mode:"wait",initial:!0,children:!i&&a&&d.jsx(mn.div,{className:"absolute top-[12%]",initial:{right:-320},animate:n?{right:0}:{right:-222.39},exit:{right:-320,transition:{duration:1,delay:1}},transition:{duration:.8},children:d.jsx(mge,{theme:t,isOpen:n,onOpenChange:o=>s(o)})},t)})]})},mge=({theme:e,isOpen:t,onOpenChange:i})=>{const n=D.useRef(null),{deviceType:s}=ve(),{t:a}=je();return d.jsxs("div",{ref:n,className:k("pointer-events-auto relative flex rounded-l",s==="web"?"backdrop-blur-sm":"backdrop-blur-[8px]",e===F?"bg-earth-green/40 text-earth-black shadow-earth-frame":"bg-alien-purple/20 text-alien-white shadow-alien-frame",!t&&(e===F?"bg-earth-green/20 has-[:focus]:bg-earth-green/40 has-[:hover]:bg-earth-green/40":"bg-alien-purple/10 has-[:focus]:bg-alien-purple/20 has-[:hover]:bg-alien-purple/20")),children:[d.jsx(Eo,{children:t&&d.jsx(mn.div,{exit:{opacity:0,transition:{delay:1}},className:"pointer-events-none",children:d.jsx(Qn,{theme:e,armSide:"right",frameSide:"center",reference:{height:762.77,width:1356.03},parentRef:n,scale:.55,scaleAdjust:e===F?1.35:1.1})},e)}),d.jsx("button",{tabIndex:0,className:k("relative flex h-[9.6rem] w-[2rem] cursor-pointer items-center justify-center rounded-l outline-none transition-all duration-300 ease-in-out",!t&&"hover:w-[2.5rem] focus:w-[2.5rem]",!t&&(e===F?"focus:bg-earth-green/40":"focus:bg-alien-purple/20"),t&&(e===F?"hover:bg-earth-green/40 focus:bg-earth-green/40":"hover:bg-alien-purple/20 focus:bg-alien-purple/20")),onClick:()=>i(!t),children:d.jsxs("div",{className:"absolute flex rotate-90 transform select-none items-center gap-2 font-nunito text-sm font-black",style:{transformOrigin:"center"},children:[d.jsx(TC,{className:k("h-4 w-4 overflow-visible",t?"-rotate-90":"rotate-90"),style:{transformOrigin:"center"}}),a("header.follow")]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4",children:[d.jsx(kn,{tabIndex:t?0:-1,net:"discord",title:"Discord",theme:e,iconClassName:k("ml-[1px]")}),d.jsx(kn,{tabIndex:t?0:-1,net:"x",title:"X",theme:e,iconClassName:k("ml-[1px]")}),d.jsx(kn,{tabIndex:t?0:-1,net:"telegram",title:"Telegram",theme:e}),d.jsx(kn,{tabIndex:t?0:-1,net:"youtube",title:"Youtube",theme:e,iconClassName:k("ml-[1px]")}),d.jsx(kn,{tabIndex:t?0:-1,net:"instagram",title:"Instagram",theme:e,iconClassName:k("ml-[0.5px]")}),d.jsx(kn,{tabIndex:t?0:-1,net:"tiktok",title:"Tiktok",theme:e,iconClassName:k("ml-[1px]")})]})]})},gge=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e},D.createElement("title",null,"copy"),D.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},D.createElement("g",{id:"copy",fill:"currentColor",transform:"translate(85.333333, 42.666667)"},D.createElement("path",{d:"M341.333333,85.3333333 L341.333333,405.333333 L85.3333333,405.333333 L85.3333333,85.3333333 L341.333333,85.3333333 Z M298.666667,128 L128,128 L128,362.666667 L298.666667,362.666667 L298.666667,128 Z M234.666667,7.10542736e-15 L234.666667,42.6666667 L42.6666667,42.6666667 L42.6666667,298.666667 L1.42108547e-14,298.666667 L1.42108547e-14,7.10542736e-15 L234.666667,7.10542736e-15 Z"})))),yge=e=>D.createElement("svg",{fill:"currentColor",height:"1em",width:"1em",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 490 490",xmlSpace:"preserve",...e},D.createElement("g",null,D.createElement("path",{d:"M401.05,311.1c-29.2,0-55,14.1-71.1,36l-73.7-44.2c8.1-17.4,12.6-36.8,12.6-57.3c0-17.8-3.4-34.8-9.6-50.4l74.2-47.7 c16.2,19.3,40.4,31.5,67.5,31.5c48.9,0,88.4-39.5,88.4-89.5c0-49.9-39.5-89.5-88.4-89.5c-48.9,0-88.4,39.5-88.4,89.5 c0,7.4,0.9,14.6,2.5,21.4l-76.4,49.1c-24.7-30.4-62.1-49.7-103.9-49.7c-73.9,0-134.2,60.3-134.2,135.2s60.3,135.2,134.2,135.2 c39,0,74.2-16.8,98.8-43.7l80.4,48.2c-0.8,5-1.3,10.1-1.3,15.3c0,49.9,39.5,89.5,88.4,89.5c48.9,0,88.4-39.5,88.4-89.5 C489.45,350.6,449.85,311.1,401.05,311.1z M401.05,41.6c26,0,47.9,21.8,47.9,48.9s-21.8,48.9-47.9,48.9 c-26.1,0-47.9-21.8-47.9-48.9S374.95,41.6,401.05,41.6z M134.65,340.2c-52,0-93.6-42.7-93.6-94.7s41.6-94.7,93.6-94.7 s93.6,42.7,93.6,94.7S186.65,340.2,134.65,340.2z M401.05,450.5c-26,0-47.9-21.8-47.9-48.9c0-27.1,21.8-48.9,47.9-48.9 c26.1,0,47.9,21.8,47.9,48.9C448.95,428.7,427.05,450.5,401.05,450.5z"}),D.createElement("path",{d:"M401.05,311.1c-29.2,0-55,14.1-71.1,36l-73.7-44.2c8.1-17.4,12.6-36.8,12.6-57.3c0-17.8-3.4-34.8-9.6-50.4l74.2-47.7 c16.2,19.3,40.4,31.5,67.5,31.5c48.9,0,88.4-39.5,88.4-89.5c0-49.9-39.5-89.5-88.4-89.5c-48.9,0-88.4,39.5-88.4,89.5 c0,7.4,0.9,14.6,2.5,21.4l-76.4,49.1c-24.7-30.4-62.1-49.7-103.9-49.7c-73.9,0-134.2,60.3-134.2,135.2s60.3,135.2,134.2,135.2 c39,0,74.2-16.8,98.8-43.7l80.4,48.2c-0.8,5-1.3,10.1-1.3,15.3c0,49.9,39.5,89.5,88.4,89.5c48.9,0,88.4-39.5,88.4-89.5 C489.45,350.6,449.85,311.1,401.05,311.1z M401.05,41.6c26,0,47.9,21.8,47.9,48.9s-21.8,48.9-47.9,48.9 c-26.1,0-47.9-21.8-47.9-48.9S374.95,41.6,401.05,41.6z M134.65,340.2c-52,0-93.6-42.7-93.6-94.7s41.6-94.7,93.6-94.7 s93.6,42.7,93.6,94.7S186.65,340.2,134.65,340.2z M401.05,450.5c-26,0-47.9-21.8-47.9-48.9c0-27.1,21.8-48.9,47.9-48.9 c26.1,0,47.9,21.8,47.9,48.9C448.95,428.7,427.05,450.5,401.05,450.5z"})));function xge(e){const t=e+"CollectionProvider",[i,n]=Ab(t),[s,a]=i(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:y}=g,b=ps.useRef(null),v=ps.useRef(new Map).current;return d.jsx(s,{scope:x,itemMap:v,collectionRef:b,children:y})};o.displayName=t;const r=e+"CollectionSlot",l=ps.forwardRef((g,x)=>{const{scope:y,children:b}=g,v=a(r,y),S=pi(x,v.collectionRef);return d.jsx(km,{ref:S,children:b})});l.displayName=r;const c=e+"CollectionItemSlot",u="data-radix-collection-item",h=ps.forwardRef((g,x)=>{const{scope:y,children:b,...v}=g,S=ps.useRef(null),N=pi(x,S),M=a(c,y);return ps.useEffect(()=>(M.itemMap.set(S,{ref:S,...v}),()=>void M.itemMap.delete(S))),d.jsx(km,{[u]:"",ref:N,children:b})});h.displayName=c;function f(g){const x=a(e+"CollectionConsumer",g);return ps.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((M,I)=>v.indexOf(M.ref.current)-v.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,n]}var bge="VisuallyHidden",iL=D.forwardRef((e,t)=>d.jsx(Ht.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));iL.displayName=bge;var nL="ToastProvider",[sL,vge,wge]=xge("Toast"),[x7,WBe]=Ab("Toast",[wge]),[Sge,HS]=x7(nL),b7=e=>{const{__scopeToast:t,label:i="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[r,l]=D.useState(null),[c,u]=D.useState(0),h=D.useRef(!1),f=D.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${nL}\`. Expected non-empty \`string\`.`),d.jsx(sL.Provider,{scope:t,children:d.jsx(Sge,{scope:t,label:i,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:c,viewport:r,onViewportChange:l,onToastAdd:D.useCallback(()=>u(g=>g+1),[]),onToastRemove:D.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};b7.displayName=nL;var v7="ToastViewport",Nge=["F8"],AC="toast.viewportPause",kC="toast.viewportResume",w7=D.forwardRef((e,t)=>{const{__scopeToast:i,hotkey:n=Nge,label:s="Notifications ({hotkey})",...a}=e,o=HS(v7,i),r=vge(i),l=D.useRef(null),c=D.useRef(null),u=D.useRef(null),h=D.useRef(null),f=pi(t,h,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;D.useEffect(()=>{const b=v=>{var N;n.every(M=>v[M]||v.code===M)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),D.useEffect(()=>{const b=l.current,v=h.current;if(x&&b&&v){const S=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(AC);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(kC);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},M=C=>{!b.contains(C.relatedTarget)&&N()},I=()=>{b.contains(document.activeElement)||N()};return b.addEventListener("focusin",S),b.addEventListener("focusout",M),b.addEventListener("pointermove",S),b.addEventListener("pointerleave",I),window.addEventListener("blur",S),window.addEventListener("focus",N),()=>{b.removeEventListener("focusin",S),b.removeEventListener("focusout",M),b.removeEventListener("pointermove",S),b.removeEventListener("pointerleave",I),window.removeEventListener("blur",S),window.removeEventListener("focus",N)}}},[x,o.isClosePausedRef]);const y=D.useCallback(({tabbingDirection:b})=>{const S=r().map(N=>{const M=N.ref.current,I=[M,..._ge(M)];return b==="forwards"?I:I.reverse()});return(b==="forwards"?S.reverse():S).flat()},[r]);return D.useEffect(()=>{const b=h.current;if(b){const v=S=>{var I,C,L;const N=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!N){const O=document.activeElement,P=S.shiftKey;if(S.target===b&&P){(I=c.current)==null||I.focus();return}const G=y({tabbingDirection:P?"backwards":"forwards"}),H=G.findIndex(B=>B===O);cA(G.slice(H+1))?S.preventDefault():P?(C=c.current)==null||C.focus():(L=u.current)==null||L.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[r,y]),d.jsxs(Xpe,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&d.jsx(CC,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});cA(b)}}),d.jsx(sL.Slot,{scope:i,children:d.jsx(Ht.ol,{tabIndex:-1,...a,ref:f})}),x&&d.jsx(CC,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});cA(b)}})]})});w7.displayName=v7;var S7="ToastFocusProxy",CC=D.forwardRef((e,t)=>{const{__scopeToast:i,onFocusFromOutsideViewport:n,...s}=e,a=HS(S7,i);return d.jsx(iL,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const r=o.relatedTarget;!((c=a.viewport)!=null&&c.contains(r))&&n()}})});CC.displayName=S7;var YS="Toast",Mge="toast.swipeStart",Ige="toast.swipeMove",Tge="toast.swipeCancel",Age="toast.swipeEnd",N7=D.forwardRef((e,t)=>{const{forceMount:i,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[r=!0,l]=O2({prop:n,defaultProp:s,onChange:a});return d.jsx(xd,{present:i||r,children:d.jsx(Dge,{open:r,...o,ref:t,onClose:()=>l(!1),onPause:Gi(e.onPause),onResume:Gi(e.onResume),onSwipeStart:At(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:At(e.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:At(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:At(e.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});N7.displayName=YS;var[kge,Cge]=x7(YS,{onClose(){}}),Dge=D.forwardRef((e,t)=>{const{__scopeToast:i,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:r,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...x}=e,y=HS(YS,i),[b,v]=D.useState(null),S=pi(t,B=>v(B)),N=D.useRef(null),M=D.useRef(null),I=s||y.duration,C=D.useRef(0),L=D.useRef(I),O=D.useRef(0),{onToastAdd:P,onToastRemove:z}=y,V=Gi(()=>{var $;(b==null?void 0:b.contains(document.activeElement))&&(($=y.viewport)==null||$.focus()),o()}),G=D.useCallback(B=>{!B||B===1/0||(window.clearTimeout(O.current),C.current=new Date().getTime(),O.current=window.setTimeout(V,B))},[V]);D.useEffect(()=>{const B=y.viewport;if(B){const $=()=>{G(L.current),c==null||c()},Q=()=>{const X=new Date().getTime()-C.current;L.current=L.current-X,window.clearTimeout(O.current),l==null||l()};return B.addEventListener(AC,Q),B.addEventListener(kC,$),()=>{B.removeEventListener(AC,Q),B.removeEventListener(kC,$)}}},[y.viewport,I,l,c,G]),D.useEffect(()=>{a&&!y.isClosePausedRef.current&&G(I)},[a,I,y.isClosePausedRef,G]),D.useEffect(()=>(P(),()=>z()),[P,z]);const H=D.useMemo(()=>b?C7(b):null,[b]);return y.viewport?d.jsxs(d.Fragment,{children:[H&&d.jsx(Lge,{__scopeToast:i,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),d.jsx(kge,{scope:i,onClose:V,children:Sb.createPortal(d.jsx(sL.ItemSlot,{scope:i,children:d.jsx(qpe,{asChild:!0,onEscapeKeyDown:At(r,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:At(e.onKeyDown,B=>{B.key==="Escape"&&(r==null||r(B.nativeEvent),B.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:At(e.onPointerDown,B=>{B.button===0&&(N.current={x:B.clientX,y:B.clientY})}),onPointerMove:At(e.onPointerMove,B=>{if(!N.current)return;const $=B.clientX-N.current.x,Q=B.clientY-N.current.y,X=!!M.current,Y=["left","right"].includes(y.swipeDirection),q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Z=Y?q(0,$):0,W=Y?0:q(0,Q),ee=B.pointerType==="touch"?10:2,oe={x:Z,y:W},fe={originalEvent:B,delta:oe};X?(M.current=oe,X0(Ige,h,fe,{discrete:!1})):m_(oe,y.swipeDirection,ee)?(M.current=oe,X0(Mge,u,fe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs($)>ee||Math.abs(Q)>ee)&&(N.current=null)}),onPointerUp:At(e.onPointerUp,B=>{const $=M.current,Q=B.target;if(Q.hasPointerCapture(B.pointerId)&&Q.releasePointerCapture(B.pointerId),M.current=null,N.current=null,$){const X=B.currentTarget,Y={originalEvent:B,delta:$};m_($,y.swipeDirection,y.swipeThreshold)?X0(Age,g,Y,{discrete:!0}):X0(Tge,f,Y,{discrete:!0}),X.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Lge=e=>{const{__scopeToast:t,children:i,...n}=e,s=HS(YS,t),[a,o]=D.useState(!1),[r,l]=D.useState(!1);return Pge(()=>o(!0)),D.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),r?null:d.jsx(J2,{asChild:!0,children:d.jsx(iL,{...n,children:a&&d.jsxs(d.Fragment,{children:[s.label," ",i]})})})},Ege="ToastTitle",M7=D.forwardRef((e,t)=>{const{__scopeToast:i,...n}=e;return d.jsx(Ht.div,{...n,ref:t})});M7.displayName=Ege;var Oge="ToastDescription",jge=D.forwardRef((e,t)=>{const{__scopeToast:i,...n}=e;return d.jsx(Ht.div,{...n,ref:t})});jge.displayName=Oge;var I7="ToastAction",Rge=D.forwardRef((e,t)=>{const{altText:i,...n}=e;return i.trim()?d.jsx(k7,{altText:i,asChild:!0,children:d.jsx(A7,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${I7}\`. Expected non-empty \`string\`.`),null)});Rge.displayName=I7;var T7="ToastClose",A7=D.forwardRef((e,t)=>{const{__scopeToast:i,...n}=e,s=Cge(T7,i);return d.jsx(k7,{asChild:!0,children:d.jsx(Ht.button,{type:"button",...n,ref:t,onClick:At(e.onClick,s.onClose)})})});A7.displayName=T7;var k7=D.forwardRef((e,t)=>{const{__scopeToast:i,altText:n,...s}=e;return d.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function C7(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),zge(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...C7(n))}}),t}function X0(e,t,i,{discrete:n}){const s=i.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});t&&s.addEventListener(e,t,{once:!0}),n?j2(s,a):s.dispatchEvent(a)}var m_=(e,t,i=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>i:!a&&s>i};function Pge(e=()=>{}){const t=Gi(e);Oo(()=>{let i=0,n=0;return i=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(n)}},[t])}function zge(e){return e.nodeType===e.ELEMENT_NODE}function _ge(e){const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function cA(e){const t=document.activeElement;return e.some(i=>i===t?!0:(i.focus(),document.activeElement!==t))}var Fge=b7,Bge=w7,Vge=N7,Uge=M7;const Eu=({text:e,copiedText:t,className:i,buttonClassName:n,children:s})=>{const{t:a}=je(),[o,r]=D.useState(!1),l=async()=>{navigator.clipboard.writeText(e).then(()=>r(!0))};return d.jsx("div",{className:k("flex items-center gap-1"),children:d.jsxs(Fge,{duration:1e3,label:"Copy",children:[d.jsx("button",{onClick:l,title:e,className:k("outline-none",n),children:s}),d.jsx(Vge,{className:"rounded-[6px] bg-white px-4 py-1",open:o,onOpenChange:r,children:d.jsx(Uge,{className:"font-nunito-sans text-xs font-semibold text-black",children:t??a("about.copy-toast")})}),d.jsx(Bge,{className:k("absolute m-0 mt-[-0.75rem] list-none p-0 outline-none",i)})]})})},ct=({childrenGhost:e=!1,divKey:t="default",transformOrigin:i="center",initial:n={scale:0},animate:s={scale:1},duration:a=.5,delay:o,exit:r={scale:0,transition:{duration:.5}},children:l,fixedChildrenStyle:c=!1,className:u,style:h,custom:f,...g})=>{const x=le(ze),y=le(Dc);return e?d.jsxs("div",{className:k("relative",u),style:h,...g,children:[d.jsx(Eo,{mode:"wait",initial:!0,custom:f,children:!y&&d.jsx(mn.div,{initial:n,animate:s,transition:{duration:a,delay:o},exit:r,style:{transformOrigin:i,willChange:"clip-path, transform"},className:"absolute top-0 h-full w-full",children:l},`${x}-${t}`)}),d.jsx("div",{className:k("invisible",u),style:h,children:!c&&l})]}):d.jsx(Eo,{mode:"wait",initial:!0,custom:f,children:!y&&d.jsx(mn.div,{initial:n,animate:s,transition:{duration:a,delay:o},exit:r,style:{...h,transformOrigin:i,willChange:"clip-path, transform"},className:k("relative h-full w-full",u),...g,children:l},`${x}-${t}`)})},Gge=()=>{const e=le(R9),t=le(ze),{deviceType:i}=ve(),n=D.useRef(null),s=()=>typeof navigator<"u"&&typeof navigator.share=="function",a=async()=>{try{await navigator.share({text:e.title,url:e.url})}catch{navigator.clipboard.writeText(e.url)}};return D.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]),d.jsxs(ct,{initial:{left:"-100%"},animate:{left:0},exit:{left:"-100%"},className:k(e.show?"!fixed z-[100] flex !h-fit !w-fit -translate-y-1/2 flex-col gap-3":"hidden",{web:e.webClassName??"top-[20%]",medium:e.mediumClassName??"top-[20%]",mobile:e.mobileClassName}[i]),children:[s()&&d.jsx("button",{onClick:a,className:k("rounded-r outline-none transition-all hover:opacity-100 hover:brightness-105 focus:opacity-100 focus:brightness-105",{web:"h-9 w-9 opacity-50 brightness-75",medium:"h-9 w-9 opacity-50 brightness-75",mobile:"h-7 w-7"}[i]),children:d.jsx(Ai,{theme:t,className:k("flex items-center justify-center !rounded-l-none !rounded-r !p-2",{[F]:"text-earth-black",[De]:"text-alien-white"}[t]),children:d.jsx(yge,{className:"h-full w-full"})})}),d.jsx(Eu,{buttonClassName:k("rounded-r outline-none transition-all hover:opacity-100 hover:brightness-105 focus:opacity-100 focus:brightness-105",{web:"h-9 w-9 opacity-50 brightness-75",medium:"h-9 w-9 opacity-50 brightness-75",mobile:"h-7 w-7"}[i]),text:e.url,copiedText:e.copiedText,children:d.jsx(Ai,{theme:t,className:k("flex items-center justify-center !rounded-l-none !rounded-r !p-2",{[F]:"text-earth-black",[De]:"text-alien-white"}[t]),children:d.jsx(gge,{alt:"copy url",className:k("h-full w-full")})})})]})},yl=({children:e})=>{const t=xt(Dc);return D.useEffect(()=>{t(!1)},[]),d.jsx(mn.div,{exit:{opacity:0,transition:{delay:1.5}},className:"relative z-40 h-full w-full overflow-hidden",children:e})},Wge=()=>{const e=Ya(),t=B8();return d.jsx(Eo,{mode:"wait",initial:!1,children:!!t&&ps.cloneElement(t,{key:e.pathname})})},Hge=()=>{const{deviceType:e}=ve(),t=le(ze),i=D.useRef(null),[n,s]=Hm(C2);return E2(n,i),D.useEffect(()=>{var a;if(n){(a=i.current)==null||a.focus();const o=r=>{(r.key==="Escape"||r.key==="Enter")&&s(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)}},[n]),d.jsxs("div",{className:k("relative h-[calc(var(--vh)*100)] w-screen",t===F?"bg-earth-white":"bg-alien-black"),children:[d.jsx(age,{}),d.jsx(sge,{}),e!=="mobile"&&d.jsx(fge,{}),d.jsx(Gge,{}),d.jsx("main",{className:"relative h-full w-full",children:d.jsx(Wge,{})}),n&&d.jsx("button",{ref:i,className:"absolute bottom-0 left-0 right-0 top-0 z-[100] h-[calc(var(--vh)*100)] w-screen cursor-default bg-black/20",onClick:()=>{s(!1)}})]})},Jt=({divKey:e="default",side:t,initial:i,animate:n,delay:s=0,duration:a=1,exit:o,exitDelay:r=0,exitDuration:l,listenExiting:c=!0,show:u=!0,className:h,style:f,children:g})=>{const x=le(Dc),y=le(ze);return d.jsx(Eo,{mode:"wait",initial:!0,children:!(x&&c)&&u&&d.jsx(mn.div,{initial:i||{[t]:t==="left"||t==="right"?"calc(-1*var(--vw)*100)":"calc(-1*var(--vh)*100)"},animate:n||{[t]:"0"},transition:{delay:s,duration:a,ease:"easeOut"},exit:o?{...o,transition:{delay:r,duration:l??a,ease:"easeIn"}}:{[t]:t==="left"||t==="right"?"calc(-1*var(--vw)*100)":"calc(-1*var(--vh)*100)",transition:{delay:r,duration:l??a,ease:"easeIn"}},className:k("relative",h),style:f,children:g},`${y}-${e}-${u}-${t}`)})},Yge=()=>{const e=le(ze);return d.jsxs(Eo,{mode:"sync",initial:!1,children:[e===F&&d.jsx(mn.div,{className:k("absolute top-0 z-[1] h-screen w-screen bg-earth-white"),initial:{opacity:0},animate:{opacity:.85},exit:{opacity:0,transition:{duration:2,delay:2,ease:"easeInOut"}},transition:{duration:1,delay:2,ease:"easeInOut"}},"earthBackgroundColor"),e!==F&&d.jsx(mn.div,{className:k("absolute top-0 z-[1] h-screen w-screen bg-alien-black"),initial:{opacity:0},animate:{opacity:.9},exit:{opacity:0,transition:{duration:2,delay:2,ease:"easeInOut"}},transition:{duration:1,delay:2,ease:"easeInOut"}},"alienBackgroundColor")]})},xl=({imgAlien:e,imgEarth:t,className:i,earthClassName:n,alienClassName:s})=>{const a=le(ze),o=le(Dc),r=a===F?t:e,l=a===F?n:s;return d.jsxs(d.Fragment,{children:[d.jsx(Eo,{mode:"wait",initial:!1,children:!o&&d.jsx(mn.div,{className:k("absolute top-0 h-screen w-screen bg-cover bg-center saturate-50",i,l),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:1.5,duration:1,ease:"easeInOut"}},transition:{duration:.5,ease:"easeInOut"},style:{backgroundImage:`url(${r})`}},r)}),d.jsx(Yge,{})]})},Jn=D.createContext(null),kf={web:16/9,medium:29/41},g_={web:.05,medium:.025,mobile:.0237252},Cf={web:"calc(var(--vw)*95)",medium:"calc(var(--vw)*92)"},Df={web:"calc(var(--vh)*83)",medium:"calc(var(--vh)*86)"},bl=({children:e})=>{const{deviceType:t,windowHeight:i}=ve(),n=Q8(i,t),s=D.useRef(null),{height:a,width:o}=h7(s),r=D.useMemo(()=>({height:a,width:o}),[a,o]);return d.jsx(Jn.Provider,{value:r,children:d.jsx("div",{ref:s,className:k("absolute left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 border-solid",{web:"aspect-video"}[t]),style:t!=="mobile"?{top:`calc(50% + ${n/2/16}rem)`,width:`min(${Cf[t]}, ${Df[t]} * (${kf[t]}))`,minWidth:`min(${Cf[t]}, ${Df[t]} * (${kf[t]}))`,maxWidth:`min(${Cf[t]}, ${Df[t]} * (${kf[t]}))`,height:`min(${Df[t]}, ${Cf[t]} / (${kf[t]}))`,minHeight:`min(${Df[t]}, ${Cf[t]} / (${kf[t]}))`,maxHeight:`min(${Df[t]}, ${Cf[t]} / (${kf[t]}))`,fontSize:`${a*g_[t]/16}rem`}:{top:`calc(50% + ${n/2/16}rem)`,width:"95%",minWidth:"304px",maxWidth:"408.5px",height:`calc(${-n*.95/16}rem + var(--vh) * 95)`,minHeight:"478px",maxHeight:"783px",fontSize:`clamp(0.875rem,${a*g_[t]/16}rem,1rem)`},children:d.jsx("div",{className:"relative h-full w-full",children:e})})})},vl=({title:e,url:t,copiedText:i,webClassName:n,mediumClassName:s,mobileClassName:a,dependencies:o})=>{const{t:r}=je(),l=xt(R9);D.useEffect(()=>(l({show:!0,title:e,url:t,copiedText:i??r("share.copied"),webClassName:n,mediumClassName:s,mobileClassName:a}),()=>l({show:!1,title:"",url:"",copiedText:"",webClassName:"",mediumClassName:"",mobileClassName:""})),[o])},$ge=()=>{const e=le(Ee),{t}=je();return vl({title:t("share.page.game-cards"),url:wr+"game/cards",mobileClassName:"top-[37%]"}),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:e.earthmountain,imgAlien:e.alienforest,earthClassName:"right-[1.3%] scale-x-[1.026]",alienClassName:"right-[3%] scale-x-[1.061]"}),d.jsx(bl,{children:d.jsx(Kge,{})})]})},Kge=()=>{const e=D.useRef(null),t=le(ze),{deviceType:i}=ve(),{width:n,height:s}=D.useContext(Jn),a=xt(j9);return D.useEffect(()=>()=>a("archetype"),[]),d.jsx(Jt,{side:t===F?"left":"right",duration:1.5,delay:.5,exitDuration:1,exitDelay:1,className:"h-full w-full",children:d.jsx("div",{className:"absolute top-0 h-full w-full",children:d.jsxs("div",{ref:e,className:k("relative justify-self-end",{web:"h-[91%] w-full",medium:"h-[91%] w-full",mobile:"mx-auto h-[91%] w-[90%]"}[i]),children:[d.jsx(ct,{childrenGhost:!0,transformOrigin:{web:"53% bottom",medium:"60% bottom",mobile:t===F?"95% bottom":"10% bottom"}[i],delay:2,duration:1,className:"h-full w-full",children:d.jsx(Ai,{theme:t,className:k("relative h-full w-full !p-0"),mode:"dark",children:d.jsx(Zge,{theme:t})})}),d.jsx(Qn,{theme:t,armSide:t===F?"left":"right",frameSide:{web:"center",medium:"center",mobile:t===F?"right":"left"}[i],parentRef:e,reference:{height:s,width:n},scale:{web:1,medium:1,mobile:.8}[i],scaleAdjust:{mobile:t===F?.5:.92}[i]})]})})})},y_={[F]:{commanders:["earthcogsairsinuitcommander","earthfreakgardespunkcommander","earthfreakgardesmayacommander","earthenginegearstinglitcommander","earthenginegearsskatercommander","earthtekheistscherokeecommander","earthtekheistsnavajocommander"],cards:[["earthcogsairsinuitcard1","earthcogsairsinuitcard2","earthcogsairsinuitcard3","earthcogsairsinuitcard4","earthcogsairsinuitcard5"],["earthfreakgardespunkcard1","earthfreakgardespunkcard2","earthfreakgardespunkcard3","earthfreakgardespunkcard4","earthfreakgardespunkcard5"],["earthfreakgardesmayacard1","earthfreakgardesmayacard2","earthfreakgardesmayacard3","earthfreakgardesmayacard4","earthfreakgardesmayacard5"],["earthenginegearstinglitcard1","earthenginegearstinglitcard2","earthenginegearstinglitcard3","earthenginegearstinglitcard4","earthenginegearstinglitcard5"],["earthenginegearsskatercard1","earthenginegearsskatercard2","earthenginegearsskatercard3","earthenginegearsskatercard4","earthenginegearsskatercard5"],["earthtekheistscherokeecard1","earthtekheistscherokeecard2","earthtekheistscherokeecard3","earthtekheistscherokeecard4","earthtekheistscherokeecard5"],["earthtekheistsnavajocard1","earthtekheistsnavajocard2","earthtekheistsnavajocard3","earthtekheistsnavajocard4","earthtekheistsnavajocard5"]]},[De]:{commanders:["alienvoidweaverswaspcommander","alienforestalkersbatcommander","alienforestalkershorsecommander","alientidedrifterssharkcommander","alientidedrifterseelcommander","alienbiofluxerswolfcommander","alienbiofluxersvulturecommander"],cards:[["alienvoidweaverswaspcard1","alienvoidweaverswaspcard2","alienvoidweaverswaspcard3","alienvoidweaverswaspcard4","alienvoidweaverswaspcard5"],["alienforestalkersbatcard1","alienforestalkersbatcard2","alienforestalkersbatcard3","alienforestalkersbatcard4","alienforestalkersbatcard5"],["alienforestalkershorsecard1","alienforestalkershorsecard2","alienforestalkershorsecard3","alienforestalkershorsecard4","alienforestalkershorsecard5"],["alientidedrifterssharkcard1","alientidedrifterssharkcard2","alientidedrifterssharkcard3","alientidedrifterssharkcard4","alientidedrifterssharkcard5"],["alientidedrifterseelcard1","alientidedrifterseelcard2","alientidedrifterseelcard3","alientidedrifterseelcard4","alientidedrifterseelcard5"],["alienbiofluxerswolfcard1","alienbiofluxerswolfcard2","alienbiofluxerswolfcard3","alienbiofluxerswolfcard4","alienbiofluxerswolfcard5"],["alienbiofluxersvulturecard1","alienbiofluxersvulturecard2","alienbiofluxersvulturecard3","alienbiofluxersvulturecard4","alienbiofluxersvulturecard5"]]}},Zge=({theme:e})=>{const{t}=je(),{deviceType:i}=ve(),n=le(Ee),[s,a]=Hm(j9),{commanderImage:o,cardImage:r}=D.useMemo(()=>{const l=y_[e].commanders,c=Math.floor(Math.random()*7),u=n[l[c]],h=y_[e].cards,f=Math.floor(Math.random()*5),g=n[h[c][f]];return{commanderImage:u,cardImage:g}},[]);return d.jsxs(d.Fragment,{children:[d.jsx(qe,{text:t("game.cards-title"),theme:e,className:k("!absolute left-1/2 -translate-x-1/2 font-nunito-sans font-black",{web:"top-[5%] text-[0.9em]",medium:"top-[4%] text-[0.9em]",mobile:"top-[3%] w-max text-mb-lg"}[i])}),d.jsx("p",{className:k("absolute left-1/2 -translate-x-1/2 text-center font-nunito font-bold",{web:"top-[14%] w-[50%] text-[0.7em]",medium:"top-[8%] w-[50%] text-[0.7em]",mobile:"top-[7%] w-[90%] text-mb-base"}[i],e===F?"text-earth-black":"text-alien-white"),children:t("game.cards-description")}),d.jsxs("div",{className:k("absolute",{web:"left-[11%] top-[30%]",medium:"left-1/2 top-[18%] -translate-x-1/2",mobile:"left-1/2 top-[33%] w-[45%] origin-center -translate-x-1/2 -translate-y-1/2 [@media(min-height:670px)]:scale-[1.2]"}[i]),children:[d.jsx(qe,{text:t("game.cards-commander"),theme:e,className:k("!absolute left-1/2 -translate-x-1/2 font-nunito-sans text-[0.7em] font-semibold",{web:"-bottom-[12.6%]",medium:"-top-[10%]",mobile:"-top-[10%]"}[i])}),d.jsx("img",{src:o,className:k({web:"w-[8.889em]",medium:"w-[10em]",mobile:"mx-auto w-full"}[i])}),d.jsx("button",{className:k("absolute bottom-[5%] left-1/2 aspect-square w-[1.778em] -translate-x-1/2 rounded-full outline-none",e===F?"hover:bg-earth-green/20 hover:shadow-earth-icon hover:brightness-125 focus:bg-earth-green/20 focus:shadow-earth-icon focus:brightness-125":"hover:bg-alien-purple/20 hover:shadow-alien-icon hover:brightness-125 focus:bg-alien-purple/20 focus:shadow-alien-icon focus:brightness-125",e===F&&s==="archetype"&&"bg-earth-green/20 shadow-earth-icon brightness-125",e===De&&s==="archetype"&&"bg-alien-purple/20 shadow-alien-icon brightness-125"),onClick:()=>a("archetype")})]}),d.jsxs("div",{className:k("absolute",{web:"right-[12.95%] top-[32.7%]",medium:"left-1/2 top-[63%] -translate-x-1/2",mobile:"left-1/2 top-[80%] w-[42%] origin-center -translate-x-1/2 -translate-y-1/2 [@media(min-height:670px)]:scale-[1.2]"}[i]),children:[d.jsx(qe,{text:t("game.cards-card"),theme:e,className:k("!absolute right-1/2 translate-x-1/2 font-nunito-sans text-[0.7em] font-semibold",{web:"-bottom-[15%]",medium:"-bottom-[10%]",mobile:"-bottom-[10%]"}[i])}),d.jsx("img",{src:r,className:k({web:"w-[8em]",medium:"w-[9.5em]",mobile:"mx-auto w-full"}[i])}),d.jsx("button",{className:k("absolute left-1/2 aspect-square w-[1.778em] -translate-x-1/2 rounded-full outline-none",e===F?"top-[77%] hover:bg-earth-green/20 hover:shadow-earth-icon hover:brightness-125 focus:bg-earth-green/20 focus:shadow-earth-icon focus:brightness-125":"top-[75.5%] hover:bg-alien-purple/20 hover:shadow-alien-icon hover:brightness-125 focus:bg-alien-purple/20 focus:shadow-alien-icon focus:brightness-125",e===F&&s==="archetype"&&"bg-earth-green/20 shadow-earth-icon brightness-125",e===De&&s==="archetype"&&"bg-alien-purple/20 shadow-alien-icon brightness-125"),onClick:()=>a("archetype")}),d.jsx("button",{className:k("absolute left-[3.5%] aspect-square w-[1.2086em] rounded-full outline-none",e===F?"top-[80%] hover:bg-earth-green/20 hover:shadow-earth-icon hover:brightness-125 focus:bg-earth-green/20 focus:shadow-earth-icon focus:brightness-125":"top-[78.6%] hover:bg-alien-purple/20 hover:shadow-alien-icon hover:brightness-125 focus:bg-alien-purple/20 focus:shadow-alien-icon focus:brightness-125",e===F&&s==="stats"&&"bg-earth-green/20 shadow-earth-icon brightness-125",e===De&&s==="stats"&&"bg-alien-purple/20 shadow-alien-icon brightness-125"),onClick:()=>a("stats")}),d.jsx("button",{className:k("absolute aspect-square w-[1.2086em] rounded-full outline-none",e===F?"right-[4%] top-[80%] hover:bg-earth-green/20 hover:shadow-earth-icon hover:brightness-125 focus:bg-earth-green/20 focus:shadow-earth-icon focus:brightness-125":"right-[3.8%] top-[78.6%] hover:bg-alien-purple/20 hover:shadow-alien-icon hover:brightness-125 focus:bg-alien-purple/20 focus:shadow-alien-icon focus:brightness-125",e===F&&s==="ability"&&"bg-earth-green/20 shadow-earth-icon brightness-125",e===De&&s==="ability"&&"bg-alien-purple/20 shadow-alien-icon brightness-125"),onClick:()=>a("ability")})]}),d.jsx(ct,{divKey:s,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},duration:.3,className:k("pointer-events-none !absolute left-1/2 !h-fit -translate-x-1/2 -translate-y-1/2",{web:"top-[55%] !w-[25%]",medium:"top-[55.5%] !w-[50%]",mobile:"top-[56.5%] !w-[95%]"}[i]),children:!!s&&d.jsx(qe,{text:t(`game.cards-${s}`),className:k("text-center font-nunito",{web:"text-[0.45em]",medium:"text-[0.7em]",mobile:"text-mb-base"}[i],e===F?"font-semibold text-earth-black":"font-medium text-alien-white"),shadowClassName:k("!opacity-[1]",e===F?"!text-earth-green saturate-[0.5]":"!text-alien-purple")})})]})},qge=()=>{const[e,t]=D.useState({x:0,y:0}),i=D.useRef(null),n=D.useRef(null);return D.useEffect(()=>{if(zt()){let o=.001;const r=l=>{n.current||(n.current=l);const u=(l-n.current)*o,h=Math.sin(u)*50,f=Math.sin(u*2)*25;t({x:h,y:f}),i.current=requestAnimationFrame(r)};return i.current=requestAnimationFrame(r),()=>cancelAnimationFrame(i.current)}const s=o=>{const{innerWidth:r,innerHeight:l}=window,c=(o.clientX/r*2-1)*100,u=(o.clientY/l*2-1)*100;t({x:c,y:u})},a=o=>{const r=o.gamma/45*100,l=o.beta/45*100;t({x:r,y:l})};return window.addEventListener("deviceorientation",a),window.addEventListener("mousemove",s),()=>{window.removeEventListener("deviceorientation",a),window.removeEventListener("mousemove",s),cancelAnimationFrame(i.current)}},[]),{offset:e}},Xge=()=>{const e=le(Ee),[t,i]=Hm(L2),n=le(ze),s=D.useRef(!0),{t:a}=je();return vl({title:{[F]:[a("share.page.game-clans.earth.clan-cogsairs"),a("share.page.game-clans.earth.clan-freakgardes"),a("share.page.game-clans.earth.clan-tekheists"),a("share.page.game-clans.earth.clan-enginegears"),a("share.page.game-clans.earth.clan-freakgardes"),a("share.page.game-clans.earth.clan-tekheists"),a("share.page.game-clans.earth.clan-enginegears"),"",a("share.page.game-clans.clans")][t],[De]:[a("share.page.game-clans.alien.clan-voidweavers"),a("share.page.game-clans.alien.clan-biofluxers"),a("share.page.game-clans.alien.clan-tidedrifters"),a("share.page.game-clans.alien.clan-forestalkers"),a("share.page.game-clans.alien.clan-biofluxers"),a("share.page.game-clans.alien.clan-tidedrifters"),a("share.page.game-clans.alien.clan-forestalkers"),"",a("share.page.game-clans.clans")][t]}[n],url:t!==8?wr+`game/clans?stage=${t}&theme=${n}`:wr+`game/clans?theme=${n}`,dependencies:[t,n],mobileClassName:"top-[20%]"}),D.useEffect(()=>{s.current?s.current=!1:i(8)},[n]),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:e.earthmountain,imgAlien:e.alienforest,earthClassName:"right-[1.3%] scale-x-[1.026]",alienClassName:"right-[3%] scale-x-[1.061]"}),d.jsxs(bl,{children:[d.jsx(Jge,{theme:n,stage:t,onStageChange:o=>{i(o)}}),d.jsx(Qge,{stage:t}),d.jsx(yye,{stage:t})]})]})},Qge=({stage:e})=>{const{t}=je(),{deviceType:i}=ve(),n=D.useRef(null),s=le(ze),a=le(Ee),{width:o,height:r}=D.useContext(Jn),[l,c]=D.useState(8);return D.useEffect(()=>c(e),[e]),d.jsx(Jt,{side:"left",duration:1.5,delay:.5,exitDuration:1,exitDelay:1,show:l===8,className:"pointer-events-none !absolute h-full w-full",children:d.jsx("div",{className:k("absolute w-full",{web:"-bottom-[57%] h-full",medium:"-bottom-[70%] h-full",mobile:"bottom-[28%] h-fit translate-y-1/2"}[i]),children:d.jsxs("div",{ref:n,className:k("relative mx-auto justify-self-end",{web:"w-[60%]",medium:"w-[80%]",mobile:"w-[90%]"}[i]),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:s===F?"15% bottom":"10% bottom",delay:1.5,children:d.jsx(Ai,{theme:s,className:k("relative overflow-hidden",{web:"space-y-[2.5%] !px-[8%] !py-[5%]",medium:"space-y-[3%] !px-[12%] !py-[6%] !pb-[7%]",mobile:"space-y-[3%] !px-[9%] !py-[7%] !pb-[8%]"}[i],e!==8&&"invisible"),children:d.jsxs("div",{className:k("relative flex flex-col",{web:"space-y-[2.5%]",medium:"space-y-[3%]",mobile:"space-y-[3%]"}[i],s===F?"!text-earth-black":"!text-alien-white"),children:[d.jsx(qe,{className:k("font-nunito-sans font-black",{web:"text-[0.63em]",medium:"text-[1em]",mobile:"text-mb-base"}[i]),text:t("game.clans-title"),theme:s}),d.jsx("p",{className:k("flex flex-col text-justify font-nunito font-semibold",{web:"!text-[0.52em]",medium:"!text-[0.61em]",mobile:"!text-mb-sm"}[i]),children:t("game.clans-description1")}),d.jsx("p",{className:k("flex flex-col text-justify font-nunito font-semibold",{web:"!text-[0.52em]",medium:"!text-[0.61em]",mobile:"!text-mb-sm"}[i]),children:t("game.clans-description2")})]})})}),d.jsx(ct,{divKey:e,className:"!absolute top-0 h-full w-full",delay:2,initial:{right:"calc(-1*var(--vw)*100)",display:"none"},animate:{right:0,display:"block"},exit:{right:"calc(-1*var(--vw)*100)",display:"none",transition:{delay:0,duration:.5,ease:"easeIn"}},children:e===8&&d.jsx(d.Fragment,{children:s===F?d.jsxs("div",{className:k("absolute h-full w-full",{web:"-right-[3.4%] -top-[0.3em]",medium:"-right-[3.4%] -top-[0.3em]",mobile:"-right-[3.4%] -top-[0.3em]"}[i]),children:[i!=="mobile"&&d.jsxs(d.Fragment,{children:[d.jsx(Lt,{src:a.eartharmlargebase,className:k("min-w-[calc(115*var(--vw))] opacity-[0.8] brightness-[2.5] saturate-[0.33]",{web:"left-[96.6%] top-[0.37em] max-h-[0.3em]",medium:"left-[96.6%] top-[0.65em] max-h-[0.35em]"}[i])}),d.jsx(Lt,{src:a.eartharmlargebase,className:k("min-w-[calc(115*var(--vw))] opacity-[0.8] brightness-[2.5] saturate-[0.33]",{web:"left-[96.6%] top-[1.15em] max-h-[0.2em]",medium:"left-[96.6%] top-[1.74em] max-h-[0.25em]"}[i])})]}),d.jsx(Lt,{src:a.earthrightcorner,className:k("top-0",{web:"right-0 w-[25%]",medium:"-right-[1%] w-[35%]",mobile:"right-[1%] w-[30%]"}[i])})]}):d.jsxs("div",{className:k("absolute h-full w-full",{web:"-right-[3%] -top-[0.7em]",medium:"-right-[3%] -top-[0.7em]",mobile:"-right-[3%] -top-[0.7em]"}[i]),children:[i!=="mobile"&&d.jsx(Lt,{src:a.alienarmlargebase,className:k("min-w-[calc(115*var(--vw))]",{web:"left-[97%] top-[0.79em] max-h-[0.45em]",medium:"left-[97%] top-[0.87em] max-h-[0.45em]"}[i])}),d.jsx(Lt,{src:a.aliensmallcorner,className:k("right-0 top-0 -scale-x-100",{web:"w-[27%]",medium:"w-[27%]",mobile:"w-[27%]"}[i])})]})})}),d.jsx(Qn,{theme:s,armSide:"left",frameSide:"left",parentRef:n,reference:{height:r,width:o},scale:{web:1,medium:.7,mobile:.7}[i],scaleAdjust:{mobile:.9}[i]})]})})})},Jge=({theme:e,stage:t,onStageChange:i})=>{const{deviceType:n}=ve(),s=le(Ee);return d.jsxs("div",{className:k("absolute left-1/2 top-[1%] aspect-square w-[28.35%] -translate-x-1/2",{medium:"origin-top scale-[2]",mobile:"origin-top scale-[2.6]"}[n]),children:[d.jsx(ct,{initial:{left:"50%",scale:0},animate:{left:["50%","50%","50%","50%","50%","40%","30%","20%","10%",0],scale:[0,0,0,0,1,1,1,1,1,1]},exit:{left:["0%","10%","20%","30%","40%","50%","50%","50%","50%","50%"],scale:[1,1,1,1,1,1,0,0,0,0],transition:{delay:1.5,duration:1}},delay:1,duration:1,className:k("pointer-events-none !absolute top-0 z-50 translate-x-1/2"),transformOrigin:"0% 0%",children:d.jsx("img",{src:e===F?s.earthgear:s.aliengear,className:k("absolute",e===F?"-left-[6.7%] -top-[6.4%] !w-[12%]":"-left-[9.5%] -top-[10%] !w-[19%]")})}),d.jsx(ct,{initial:{scale:0},animate:{scale:1},exit:{scale:0,transition:{delay:1,duration:.5}},delay:3,duration:1,transformOrigin:"0% 0%",children:d.jsx(Ai,{mode:t===8?"dark":"normal",theme:e,className:"relative h-full w-full !overflow-hidden !p-0",children:d.jsx(eye,{theme:e,sectors:7,stage:t,onStageChange:i})})})]})},x_={earth:["translate(0, 40%)","translate(-5%,25%) scale(1.3)","translate(-13%,9%)","translate(-6%,2%)","translate(0%,8%)","translate(10%,20%) scale(0.85)","translate(7%,26%) scale(0.9)"],alien:["translate(0,40%)","translate(-5%,18%) scale(0.8)","translate(-48%,8%) scale(-1,1)","translate(-5%,-5%)","translate(5%,0) scale(0.9)","translate(35%,15%)","translate(15%,15%) scale(0.8)"]},eye=({theme:e,sectors:t,stage:i,onStageChange:n})=>{const{deviceType:s}=ve(),a=le(Ee),o=le(ze),[r,l]=D.useState(0),[c,u]=D.useState(!0),h={[F]:[a.earthinuitcommander,a.earthmayacommander,a.earthnavajocommander,a.earthtinglitcommander,a.earthpunkcommander,a.earthcherokeecommander,a.earthskatercommander],[De]:[a.alienwaspcommander,a.alienwolfcommander,a.alieneelcommander,a.alienbatcommander,a.alienvulturecommander,a.aliensharkcommander,a.alienhorsecommander]};return D.useEffect(()=>{u(!0)},[e]),D.useEffect(()=>{if(c){const f=setInterval(()=>{l(g=>(g+1)%7)},1500);return()=>clearInterval(f)}},[c]),d.jsxs(ct,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:1}},delay:4.5,className:"!absolute top-0 h-full w-full",tabIndex:-1,onFocus:()=>{u(!1)},onBlur:()=>{u(!0)},onMouseEnter:()=>u(!1),onMouseLeave:()=>u(!0),children:[d.jsx("div",{className:k("absolute left-1/2 top-1/2 z-10 -translate-x-1/2 -translate-y-1/2 rounded-full transition-all delay-1000 duration-1000",{web:"h-[5%] w-[5%]",medium:"h-[5%] w-[5%]",mobile:"h-[10%] w-[10%]"}[s],i===8?"opacity-100":"opacity-0",e===F?"bg-[color:#B8E7D0]":"bg-[color:#26112C]"),style:{willChange:"clip-path, transform"}}),h[F].map((f,g)=>d.jsx(b_,{index:g,theme:F,totalSectors:t,image:f,imgTranslate:x_[F][g],stage:i,onStageChange:n,visible:o===F,hovered:g===r,onHoverChange:x=>l(x),onFocus:()=>l(g)},g)),h[De].map((f,g)=>d.jsx(b_,{index:g,theme:De,totalSectors:t,image:f,imgTranslate:x_[De][g],stage:i,onStageChange:n,visible:o===De,hovered:g===r,onHoverChange:x=>l(x),onFocus:()=>l(g)},g))]})},b_=({index:e,theme:t,totalSectors:i,image:n,imgTranslate:s,stage:a,onStageChange:o,visible:r,hovered:l,onHoverChange:c,onFocus:u,onBlur:h})=>{const f=D.useMemo(()=>e===a?0:360/i*e,[e,a]),g=D.useMemo(()=>a===2&&t===De?"translate(10%,0)":s,[a,t,s]);return d.jsx(ct,{divKey:a,initial:{opacity:0},animate:{opacity:1},duration:a!==8?2:1,delay:a!==8?0:1,exit:{opacity:0,transition:{duration:1}},className:k("pointer-events-none !absolute left-0 top-0"),children:d.jsx("button",{className:k("pointer-events-auto invisible absolute h-[110%] w-[110%] transform-gpu overflow-hidden outline-none brightness-[0.5] transition-all duration-500 hover:brightness-[1] focus:brightness-[1]",l&&"brightness-[1]",t===F?"bg-earth-green/20 hover:bg-earth-green/40 focus:bg-earth-green/40":"bg-alien-purple/20 hover:bg-alien-purple/40 focus:bg-alien-purple/40",a===8&&"game-clan-clip -top-1/2 left-0 !h-full !w-full",(e===a||a===8)&&r&&"!visible",e===a&&"-left-[5%] -top-[5%] !bg-transparent opacity-80 !brightness-100 transition-all hover:opacity-100 focus:opacity-100",e===a&&(t===F?"hover:drop-shadow-earth-character-hover focus:drop-shadow-earth-character-hover":"hover:drop-shadow-alien-character-hover focus:drop-shadow-alien-character-hover")),onClick:()=>o(a!==8?8:e),style:{WebkitBackfaceVisibility:"hidden",WebkitTransform:`rotate(${f}deg)`,transform:`rotate(${f}deg)`,transformOrigin:"bottom center"},onMouseEnter:()=>c(e),onFocus:u,onBlur:h,children:d.jsx("img",{src:n,loading:"eager",className:"h-full w-full transform-gpu",style:{transformOrigin:"center",WebkitTransform:a===8||a!==e?`rotate(${-f}deg) ${g}`:a===2&&t===De?`${g}`:"",WebkitBackfaceVisibility:"hidden",transform:a===8||a!==e?`rotate(${-f}deg) ${g}`:a===2&&t===De?`${g}`:""}})})})},tye=(e,t,i)=>({transform:`translate(${e*i}%, ${t*i}%)`,transition:"transform 0.1s ease-out",willChange:"transform"}),iye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:1,mobile:1}[i],src:n.earthinuit1,className:k("absolute",{web:"bottom-0 left-[35%] w-[11.4em]",medium:"bottom-[39%] left-0 w-[11em]",mobile:"bottom-[39%] left-0 w-[11em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:5,mobile:5}[i],src:n.earthinuit2,className:k("absolute",{web:"-right-[0.5%] top-[1%] w-[11em]",medium:"bottom-0 right-[25%] w-[14.5em]",mobile:"bottom-0 right-[25%] w-[14.5em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:3,mobile:3}[i],src:n.earthinuit3,className:k("absolute",{web:"bottom-[10%] left-[8%] w-[10.5em]",medium:"bottom-[18%] left-[5%] w-[13em] !brightness-[1.1]",mobile:"bottom-[20%] left-[3%] w-[13em] !brightness-[1.1]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:2,mobile:2}[i],src:n.earthinuit4,className:k("absolute",{web:"bottom-[10%] right-[8%] w-[10.5em]",medium:"bottom-[39%] right-0 w-[12em]",mobile:"bottom-[39%] right-0 w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:4,mobile:4}[i],src:n.earthinuit5,className:k("absolute",{web:"top-[1%] w-[11em]",medium:"bottom-[21%] right-[3%] w-[13em]",mobile:"-right-[2%] bottom-[17%] w-[13.5em]"}[i]),isMirror:!0})]})},nye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:3,mobile:4}[i],src:n.earthpunk1,className:k("absolute",{web:"left-0 top-[1%] w-[8em]",medium:"bottom-[10%] left-[10%] w-[10.5em]",mobile:"bottom-[8%] left-[6%] w-[10.5em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:2}[i],src:n.earthpunk2,className:k("absolute",{web:"right-0 top-[1%] w-[6.5em]",medium:"bottom-[33%] right-0 w-[9em]",mobile:"-right-[2%] bottom-[33%] w-[9em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:4,mobile:3}[i],src:n.earthpunk3,className:k("absolute",{web:"bottom-[7%] right-[14%] w-[8em]",medium:"bottom-[10%] right-[6%] w-[10em]",mobile:"bottom-[10%] right-[0%] w-[10em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:1,mobile:1}[i],src:n.earthpunk4,className:k("absolute",{web:"bottom-0 left-[8.2%] w-[12em]",medium:"bottom-[37%] left-0 w-[13em]",mobile:"-left-[2%] bottom-[37%] w-[13em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:5,mobile:5}[i],src:n.earthpunk5,className:k("absolute",{web:"bottom-0 left-[34.5%] w-[11em]",medium:"bottom-0 left-[22%] w-[15em]",mobile:"bottom-0 left-[22%] w-[15em]"}[i])})]})},sye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:1}[i],src:n.earthmaya1,className:k("absolute",{web:"right-0 top-[2%] w-[12.5em]",medium:"bottom-[38%] right-0 w-[15em]",mobile:"-right-[2%] bottom-[38%] w-[14em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:5,mobile:5}[i],src:n.earthmaya2,className:k("absolute",{web:"bottom-0 left-[32%] w-[12em]",medium:"bottom-0 left-[28%] w-[15em]",mobile:"bottom-0 left-[25%] w-[15em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:4,mobile:4}[i],src:n.earthmaya3,className:k("absolute",{web:"bottom-[7%] left-[62%] w-[11em]",medium:"bottom-[17%] right-[6%] w-[13em]",mobile:"-right-[2%] bottom-[15%] w-[13.5em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:3,mobile:3}[i],src:n.earthmaya4,className:k("absolute",{web:"bottom-[7%] left-[7%] w-[10.3em]",medium:"bottom-[17%] left-[6%] w-[13em]",mobile:"bottom-[18%] left-[2%] w-[13em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:2}[i],src:n.earthmaya5,className:k("absolute",{web:"top-[2%] w-[11.5em]",medium:"bottom-[38%] left-0 w-[12.5em]",mobile:"-left-[2%] bottom-[35%] w-[13em]"}[i])})]})},aye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:2,mobile:1}[i],src:n.earthtinglit1,className:k("absolute",{web:"bottom-0 right-[3%] w-[13em]",medium:"bottom-[35%] right-0 w-[13em]",mobile:"-right-[3%] bottom-[35%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:1,mobile:2}[i],src:n.earthtinglit2,className:k("absolute",{web:"bottom-0 left-[3%] w-[12.6em]",medium:"bottom-[35%] left-0 w-[12.6em]",mobile:"-left-[3%] bottom-[30%] w-[12.6em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:5,mobile:5}[i],src:n.earthtinglit3,className:k("absolute",{web:"top-[3%] w-[11em]",medium:"bottom-0 left-[23%] w-[15em]",mobile:"bottom-0 left-[18%] w-[15em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:3,mobile:3}[i],src:n.earthtinglit4,className:k("absolute",{web:"bottom-0 left-[33%] w-[12em]",medium:"bottom-[17%] right-[6%] w-[13.5em]",mobile:"-right-[2%] bottom-[17%] w-[13.5em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:4,mobile:4}[i],src:n.earthtinglit5,className:k("absolute",{web:"right-0 top-[3%] w-[10em]",medium:"bottom-[17%] left-[14%] w-[12.5em]",mobile:"bottom-[12%] left-[6%] w-[12.5em]"}[i])})]})},oye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:2}[i],src:n.earthskater1,className:k("absolute",{web:"right-0 top-[3%] w-[12em]",medium:"bottom-[40%] right-0 w-[14em]",mobile:"-right-[4%] bottom-[38%] w-[14em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:1}[i],src:n.earthskater2,className:k("absolute",{web:"top-[3%] w-[11em]",medium:"bottom-[40%] w-[13em]",mobile:"-left-[4%] bottom-[40%] w-[13em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:3,mobile:3}[i],src:n.earthskater3,className:k("absolute",{web:"bottom-[10%] left-[10%] w-[9.5em]",medium:"bottom-[17%] left-[6%] w-[13em]",mobile:"bottom-[19%] left-[0%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:5,mobile:5}[i],src:n.earthskater4,className:k("absolute",{web:"bottom-0 left-[33%] w-[12em]",medium:"bottom-0 left-[25%] w-[15em]",mobile:"bottom-0 left-[15%] w-[15em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:4,mobile:4}[i],src:n.earthskater5,className:k("absolute",{web:"bottom-[10%] right-[10%] w-[10em]",medium:"bottom-[17%] right-[6%] w-[13em]",mobile:"bottom-[14%] right-[0%] w-[12em]"}[i])})]})},rye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:5,mobile:5}[i],src:n.earthcherokee1,className:k("absolute",{web:"top-[1%] w-[12em]",medium:"bottom-0 left-[16%] w-[19em]",mobile:"bottom-0 left-[10%] w-[19em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:2}[i],src:n.earthcherokee2,className:k("absolute",{web:"right-[0.5%] top-[1%] w-[11em]",medium:"bottom-[45%] right-0 w-[12em]",mobile:"-right-[2%] bottom-[45%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:3,mobile:3}[i],src:n.earthcherokee3,className:k("absolute",{web:"bottom-[6%] right-[4%] w-[12.5em]",medium:"bottom-[15%] left-[6%] w-[13.5em]",mobile:"bottom-[17%] left-[3%] w-[13.5em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:1,mobile:1}[i],src:n.earthcherokee4,className:k("absolute",{web:"bottom-[6%] left-[7%] w-[12em]",medium:"bottom-[40%] left-0 w-[12em]",mobile:"-left-[2%] bottom-[35%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:4,mobile:4}[i],src:n.earthcherokee5,className:k("absolute",{web:"bottom-0 left-[34%] w-[11em]",medium:"bottom-[17%] right-[6%] w-[11.5em]",mobile:"bottom-[14%] right-[3%] w-[11.5em]"}[i])})]})},lye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:4,mobile:4}[i],src:n.earthnavajo1,className:k("absolute",{web:"right-[12%] top-[1%] w-[7.5em]",medium:"bottom-[15%] right-[4%] w-[12em]",mobile:"-right-[2%] bottom-[15%] w-[11em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:2,mobile:2}[i],src:n.earthnavajo2,className:k("absolute",{web:"bottom-[11%] w-[10em]",medium:"bottom-[40%] right-0 w-[12em]",mobile:"bottom-[40%] right-0 w-[12em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:3,mobile:3}[i],src:n.earthnavajo3,className:k("absolute",{web:"bottom-[10%] right-0 w-[13.5em]",medium:"bottom-[17%] left-[0%] w-[18em]",mobile:"-left-[20%] bottom-[23%] w-[17em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:1}[i],src:n.earthnavajo4,className:k("absolute",{web:"left-[7%] top-[1%] w-[10em]",medium:"bottom-[40%] left-0 w-[12em]",mobile:"bottom-[40%] left-0 w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:5,mobile:5}[i],src:n.earthnavajo5,className:k("absolute",{web:"bottom-0 left-[33.5%] w-[11.5em]",medium:"bottom-0 left-[26%] w-[14em]",mobile:"bottom-0 left-[18%] w-[14em]"}[i])})]})},cye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:2}[i],src:n.alienwasp1,className:k("absolute",{web:"right-[2%] top-0 w-[11.3em]",medium:"bottom-[38%] right-0 w-[13em]",mobile:"-right-[2%] bottom-[34%] w-[14em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:4,mobile:4}[i],src:n.alienwasp2,className:k("absolute",{web:"bottom-0 right-0 w-[12em]",medium:"bottom-[17%] right-[7%] w-[12em]",mobile:"bottom-[15%] right-[5%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:1}[i],src:n.alienwasp3,className:k("absolute",{web:"left-[2%] top-0 w-[11.5em]",medium:"bottom-[40%] left-0 w-[13em]",mobile:"-left-[2%] bottom-[40%] w-[13em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:5,mobile:5}[i],src:n.alienwasp4,className:k("absolute",{web:"bottom-[8%] left-[34%] w-[13em]",medium:"bottom-0 left-[28%] w-[15.5em]",mobile:"bottom-0 left-[18%] w-[15.5em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:3,mobile:3}[i],src:n.alienwasp5,className:k("absolute",{web:"bottom-0 left-0 w-[15.5em]",medium:"bottom-[19%] left-[7%] w-[15.5em]",mobile:"bottom-[22%] left-[5%] w-[15.5em]"}[i]),isMirror:!0})]})},uye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:3,mobile:3}[i],src:n.alienwolf1,className:k("absolute",{web:"bottom-[5%] left-[7%] w-[10em]",medium:"bottom-[18%] left-[9%] w-[11em]",mobile:"bottom-[20%] left-[2%] w-[11em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:4,mobile:4}[i],src:n.alienwolf2,className:k("absolute",{web:"bottom-[5%] right-[5%] w-[10.5em]",medium:"bottom-[18%] right-[5%] w-[12em]",mobile:"bottom-[15%] right-[0%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:5,mobile:5}[i],src:n.alienwolf3,className:k("absolute",{web:"bottom-0 left-[33%] w-[13em]",medium:"bottom-0 left-[27%] w-[15em]",mobile:"bottom-0 left-[18%] w-[15em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:2}[i],src:n.alienwolf4,className:k("absolute",{web:"right-0 top-[5%] w-[10.5em]",medium:"bottom-[40%] right-0 w-[11em]",mobile:"-right-[2%] bottom-[40%] w-[11em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:1}[i],src:n.alienwolf5,className:k("absolute",{web:"top-[5%] w-[11em]",medium:"bottom-[41%] w-[11.5em]",mobile:"-left-[3%] bottom-[41%] w-[11.5em]"}[i])})]})},dye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:1}[i],src:n.alienvulture1,className:k("absolute",{web:"right-[0] top-[0] w-[15.5em]",medium:"-right-[33%] bottom-[40%] w-[18m]",mobile:"-right-[33%] bottom-[40%] w-[18m]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:4,mobile:4}[i],src:n.alienvulture2,className:k("absolute",{web:"bottom-[13%] right-[0] w-[14em]",medium:"-right-[5%] bottom-[25%] w-[15em]",mobile:"-right-[10%] bottom-[20%] w-[15em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:2}[i],src:n.alienvulture3,className:k("absolute",{web:"left-[0] top-[0] w-[15.5em]",medium:"-left-[20%] bottom-[40%] w-[22em]",mobile:"-left-[20%] bottom-[40%] w-[22em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:3,mobile:3}[i],src:n.alienvulture4,className:k("absolute",{web:"bottom-[13%] left-[0] w-[15em]",medium:"-left-[5%] bottom-[22%] w-[17em]",mobile:"-left-[15%] bottom-[22%] w-[17em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:5,mobile:5}[i],src:n.alienvulture5,className:k("absolute",{web:"bottom-[0] left-[26.5%] w-[17.4em]",medium:"bottom-[0] left-[23%] w-[17.4em]",mobile:"bottom-[0] left-[20%] w-[17.4em]"}[i])})]})},hye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:2,mobile:2}[i],src:n.alienbat1,className:k("absolute",{web:"bottom-[10%] left-[8%] w-[10.5em]",medium:"bottom-[35%] right-0 w-[13.5em]",mobile:"-right-[2%] bottom-[35%] w-[13.5em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:1}[i],src:n.alienbat2,className:k("absolute",{web:"left-[0] top-[4%] w-[10em]",medium:"bottom-[35%] left-0 w-[13em]",mobile:"-left-[2%] bottom-[35%] w-[13em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:4,mobile:4}[i],src:n.alienbat3,className:k("absolute",{web:"right-[0] top-[5%] w-[9em]",medium:"bottom-[16%] right-[7%] w-[12em]",mobile:"bottom-[16%] right-[4%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:5,mobile:5}[i],src:n.alienbat4,className:k("absolute",{web:"bottom-[10%] right-[8%] w-[10em]",medium:"bottom-0 right-[23%] w-[14em]",mobile:"bottom-0 right-[20%] w-[14em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:3,mobile:3}[i],src:n.alienbat5,className:k("absolute",{web:"bottom-[0] left-[33%] w-[12em]",medium:"bottom-[17%] left-[11%] w-[12em]",mobile:"bottom-[19%] left-[8%] w-[12em]"}[i])})]})},pye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:1}[i],src:n.alienhorse1,className:k("absolute",{web:"left-[7%] top-[7%] w-[10.6em]",medium:"bottom-[40%] left-0 w-[12em]",mobile:"-left-[2%] bottom-[40%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:2}[i],src:n.alienhorse2,className:k("absolute",{web:"right-[7%] top-[7%] w-[10.6em]",medium:"bottom-[40%] right-0 w-[12em]",mobile:"-right-[5%] bottom-[36%] w-[12em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:5,mobile:5}[i],src:n.alienhorse3,className:k("absolute",{web:"bottom-[0] left-[34%] w-[11em]",medium:"bottom-[0] left-[28%] w-[13em]",mobile:"bottom-[0] left-[20%] w-[13em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:3,mobile:3}[i],src:n.alienhorse4,className:k("absolute",{web:"bottom-[4%] left-[0] w-[10em]",medium:"bottom-[17%] left-[10%] w-[11.5em]",mobile:"bottom-[19%] left-[0%] w-[11em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:4,mobile:4}[i],src:n.alienhorse5,className:k("absolute",{web:"bottom-[4%] right-[0] w-[10em]",medium:"bottom-[17%] right-[7%] w-[11.5em]",mobile:"-right-[2%] bottom-[16%] w-[11.5em]"}[i])})]})},fye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:1}[i],src:n.alienshark1,className:k("absolute",{web:"left-[0] top-[5%] w-[12em]",medium:"bottom-[35%] left-[0] w-[14em]",mobile:"-left-[2%] bottom-[35%] w-[14em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:5,mobile:5}[i],src:n.alienshark2,className:k("absolute",{web:"bottom-[0] left-[33%] w-[12em]",medium:"bottom-[0] left-[25%] w-[14em]",mobile:"bottom-[0] left-[20%] w-[14em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:4,mobile:4}[i],src:n.alienshark3,className:k("absolute",{web:"bottom-[10%] right-[8%] w-[10.7em]",medium:"bottom-[17%] right-[8%] w-[12em]",mobile:"bottom-[15%] right-[5%] w-[12.5em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:2}[i],src:n.alienshark4,className:k("absolute",{web:"right-[0] top-[5%] w-[9.5em]",medium:"bottom-[37%] right-[0] w-[11em]",mobile:"-right-[2%] bottom-[34%] w-[11em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:3,mobile:3}[i],src:n.alienshark5,className:k("absolute",{web:"bottom-[10%] left-[8%] w-[10.7em]",medium:"bottom-[16%] left-[8%] w-[12em]",mobile:"bottom-[19%] left-[5%] w-[11.5em]"}[i])})]})},mye=({x:e,y:t})=>{const{deviceType:i}=ve(),n=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx(Pe,{x:e,y:t,zIndex:{web:5,medium:5,mobile:5}[i],src:n.alieneel1,className:k("absolute",{web:"bottom-[0] left-[34.5%] w-[11.5em]",medium:"bottom-[0] left-[28%] w-[13em]",mobile:"bottom-[0] left-[20%] w-[13em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:4,medium:4,mobile:4}[i],src:n.alieneel2,className:k("absolute",{web:"bottom-[10%] right-[9%] w-[11em]",medium:"bottom-[18%] right-[6%] w-[13em]",mobile:"bottom-[16%] right-[2%] w-[13em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:3,medium:3,mobile:3}[i],src:n.alieneel3,className:k("absolute",{web:"bottom-[10%] left-[9%] w-[10em]",medium:"bottom-[18%] left-[6%] w-[12.5em]",mobile:"bottom-[20%] left-[2%] w-[12.5em]"}[i])}),d.jsx(Pe,{x:e,y:t,zIndex:{web:2,medium:2,mobile:2}[i],src:n.alieneel4,className:k("absolute",{web:"right-[0] top-[2%] w-[10em]",medium:"bottom-[37%] right-[0] w-[12em]",mobile:"-right-[2%] bottom-[37%] w-[12em]"}[i]),isMirror:!0}),d.jsx(Pe,{x:e,y:t,zIndex:{web:1,medium:1,mobile:1}[i],src:n.alieneel5,className:k("absolute",{web:"left-[0] top-[2%] w-[10em]",medium:"bottom-[37%] left-[0] w-[12em]",mobile:"-left-[2%] bottom-[37%] w-[12em]"}[i])})]})},Pe=({src:e,className:t,x:i,y:n,zIndex:s,isMirror:a})=>{const{deviceType:o}=ve(),r=tye(o==="mobile"?i*-2:i,o==="mobile"?n*1.5:n,{1:.03,2:.03,3:.07,4:.07,5:.1}[s]);return d.jsx("img",{loading:"eager",src:e,className:k("absolute transform-gpu",t),style:{...r,zIndex:s,WebkitFilter:`brightness(${{1:.9,2:.9,3:.95,4:.95,5:1.1}[s]})`,filter:`brightness(${{1:.9,2:.9,3:.95,4:.95,5:1.1}[s]})`,WebkitTransform:`${r.transform} ${a?"scale(-1,1)":"scale(1)"}`,transform:`${r.transform} ${a?"scale(-1,1)":"scale(1)"}`}})},gye={[F]:{0:iye,1:sye,2:lye,3:aye,4:nye,5:rye,6:oye},[De]:{0:cye,1:uye,2:mye,3:hye,4:dye,5:fye,6:pye}},yye=({stage:e})=>{const t=le(ze),i=gye[t][e],{offset:{x:n,y:s}}=qge();return d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},delay:1.2,exit:{opacity:0,transition:{delay:0}},className:"pointer-events-none z-20",children:!!i&&d.jsx(i,{x:n,y:s})})},Cn=e=>D.createElement("svg",{id:"icons_1_",xmlns:"http://www.w3.org/2000/svg",x:0,y:0,viewBox:"0 0 128 128",style:{enableBackground:"new 0 0 128 128"},xmlSpace:"preserve",width:"1em",height:"1em",...e},D.createElement("style",null,".st0{display:none}.st1{display:inline}.st2{fill:currentColor}"),D.createElement("g",{id:"row1_1_"},D.createElement("g",{id:"_x31__3_"},D.createElement("path",{className:"st2",d:"M64 0C28.7 0 0 28.7 0 64s28.7 64 64 64 64-28.7 64-64S99.3 0 64 0zm0 121.6C32.2 121.6 6.4 95.8 6.4 64S32.2 6.4 64 6.4s57.6 25.8 57.6 57.6-25.8 57.6-57.6 57.6zM49.2 38.4 73.6 64 49.2 89.6h13.5L86.4 64 62.7 38.4H49.2z",id:"_x32__2_"})))),Zm=(e=100,t=!1,i=200,n,s=1)=>{const a=le(n??O9),o=a==null?void 0:a.value,[r,l]=D.useState(()=>{const g=new URLSearchParams(window.location.search).get("screen");return g?Math.min(e,Math.max(0,parseInt(g,10)||0)):0}),c=D.useRef(!1),u=D.useRef(null);D.useEffect(()=>{o!==null&&l(Math.min(e,Math.max(0,o)))},[a,e]);const h=f=>f.target.closest(".scrollable-frame");return D.useEffect(()=>{let f=o!==null?o:0;const g=b=>{const v=s>0?s:Math.abs(b)/100;b>0?f=Math.min(e,f+v):b<0&&(f=Math.max(0,f-v)),l(parseFloat(f.toFixed(2)))},x=b=>{h(b)||(!t||!c.current)&&(g(b.deltaY),c.current=!0,clearTimeout(u.current),u.current=setTimeout(()=>{c.current=!1},i))},y=b=>{if(h(b))return;const v=b.touches[0];if(v){const S=v.clientY-window.innerHeight/2;(!t||!c.current)&&(g(S),c.current=!0,clearTimeout(u.current),u.current=setTimeout(()=>{c.current=!1},i))}};return window.addEventListener("wheel",x),window.addEventListener("touchmove",y,{passive:!0}),()=>{window.removeEventListener("wheel",x),window.removeEventListener("touchmove",y),clearTimeout(u.current)}},[e,t,i,a,s]),parseFloat(r)},xye=(e=100,t=!1,i=200,n,s=1)=>{const{deviceType:a}=ve(),o=le(n??O9),r=o==null?void 0:o.value,l=D.useRef(r||0),c=D.useRef(()=>{}),u=D.useRef(!1),h=D.useRef(null);return D.useEffect(()=>{l.current=0,c.current(l.current)},[a]),D.useEffect(()=>{r!==null&&(l.current=Math.min(e,Math.max(0,r)),c.current(l.current))},[o,e]),D.useEffect(()=>{let f=r!==null?r:0;const g=b=>{const v=s>0?s:Math.abs(b)/100;b>0?f=Math.min(e,f+v):b<0&&(f=Math.max(0,f-v)),l.current=parseFloat(f.toFixed(2)),c.current(l.current)},x=b=>{(!t||!u.current)&&(g(b.deltaY),u.current=!0,clearTimeout(h.current),h.current=setTimeout(()=>{u.current=!1},i))},y=b=>{const v=b.touches[0];if(v){const S=v.clientY-window.innerHeight/2;(!t||!u.current)&&(g(S),u.current=!0,clearTimeout(h.current),h.current=setTimeout(()=>{u.current=!1},i))}};return window.addEventListener("wheel",x),window.addEventListener("touchmove",y,{passive:!0}),()=>{window.removeEventListener("wheel",x),window.removeEventListener("touchmove",y),clearTimeout(h.current)}},[e,t,i,o,s]),{scrollLevelRef:l,onScrollChange:f=>c.current=f}},bye=()=>{const{t:e}=je(),t=le(ze),i=le(Ee),n=xt(pC),s=Zm(2,!0,2e3,pC);return vl({title:[e("share.page.game-exploration"),e("share.page.game-exploitation"),e("share.page.game-battle")][s],url:wr+`game/mechs?screen=${s}&theme=${t}`,dependencies:[s,t],webClassName:"top-[50%]",mediumClassName:"top-[50%]",mobileClassName:"top-[50%]"}),D.useEffect(()=>()=>n({value:0}),[]),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:i.earthmountain,imgAlien:i.alienforest,earthClassName:"right-[1.3%] scale-x-[1.026]",alienClassName:"right-[3%] scale-x-[1.061]"}),d.jsxs(bl,{children:[d.jsx(vye,{scrollLevel:s}),d.jsx(Sye,{scrollLevel:s}),d.jsx(Mye,{scrollLevel:s}),d.jsx(Tye,{scrollLevel:s})]})]})},vye=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=le(ze),s=xt(pC),a=()=>{s({value:0})},o=()=>{s({value:1})},r=()=>{s({value:2})};return d.jsxs(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},delay:1,exit:{opacity:0,transition:{delay:0,duration:.5}},className:k("!absolute !h-fit !w-fit font-nunito-sans font-black",{web:k("translate-y-1/2",e===0||e===2?"left-[5%]":"left-[70%]","bottom-[10%] text-[0.5em]"),medium:k("bottom-[5%] left-[5%] translate-y-1/2 text-[0.6em]"),mobile:k("left-1/2 -translate-x-1/2 text-mb-sm",e===0?"bottom-0":"top-0")}[i],n===F?"text-earth-black":"text-alien-white"),style:{transition:"left 1s ease-in-out"},children:[e===0&&d.jsxs("button",{onClick:o,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("game.scroll-to-resources")]}),e===1&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:a,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] -rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("game.scroll-to-explore")]}),d.jsxs("button",{onClick:r,className:k("group mt-[0.2em] flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("game.scroll-to-gameplay")]})]}),e===2&&d.jsxs("button",{onClick:o,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] -rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("game.scroll-to-resources")]})]})},wye=({theme:e})=>{const{t}=je(),{deviceType:i}=ve();return d.jsxs("div",{className:k("relative flex flex-col",{web:"space-y-[4.84%]",medium:"space-y-[3%]",mobile:"space-y-[calc(var(--vh)*1)]"}[i],e===F?"!text-earth-black":"!text-alien-white"),children:[d.jsx(qe,{className:k("font-nunito-sans font-black",{web:"text-[0.63em]",medium:"text-[0.71em]",mobile:"text-mb-base"}[i]),text:t("game.map-title"),theme:e}),d.jsx(qe,{className:k("font-nunito-sans font-medium leading-tight",{web:"!text-[0.525em]",medium:"!text-[0.615em]",mobile:"!text-mb-sm"}[i]),text:t(e===F?"game.map-description-earth":"game.map-description-alien"),theme:e}),d.jsxs("ul",{className:k("flex list-disc flex-col pl-[8%] font-nunito font-semibold",{web:"space-y-[3%] !text-[0.52em]",medium:"space-y-[3%] !text-[0.61em]",mobile:"space-y-[1%] !text-mb-sm"}[i]),children:[d.jsx("li",{children:d.jsx("p",{children:t(e===F?"game.map-item-1-earth":"game.map-item-1-alien")})}),d.jsx("li",{children:d.jsx("p",{children:t(e===F?"game.map-item-2-earth":"game.map-item-2-alien")})}),d.jsx("li",{children:d.jsx("p",{children:t("game.map-item-3")})}),d.jsx("li",{children:d.jsx("p",{children:t(e===F?"game.map-item-4-earth":"game.map-item-4-alien")})})]})]})},Sye=({scrollLevel:e})=>{const t=le(ze),{width:i,height:n}=D.useContext(Jn),s=le(Ee),{deviceType:a}=ve(),o=D.useRef(null);return d.jsx("div",{className:"pointer-events-none absolute h-full w-full",style:{top:`-${150*e}%`,left:e===0?0:"calc(var(--vw)*100)",transition:"top 1.6s 1s ease-in-out, left 2s 0.5s ease-in-out"},children:d.jsxs(Jt,{side:"right",duration:1.5,exitDuration:1,exitDelay:1,className:"h-full w-full",children:[d.jsx("div",{className:k("absolute w-full",{web:"-bottom-[12%] left-[10%] h-full",medium:"-bottom-[1%] left-[2.3%] h-full",mobile:"left-0 top-[15%] h-fit -translate-y-1/2"}[a]),children:d.jsxs("div",{ref:o,className:k("relative",{web:"w-[40%]",medium:"w-[42.5%]",mobile:"w-full"}[a]),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:{web:t===F?"75% bottom":"85% bottom",medium:t===F?"25% bottom":"15% bottom",mobile:t===F?"7% bottom":"15% bottom"}[a],delay:1.5,children:d.jsx(Ai,{theme:t,className:k({web:"!px-[8%] !py-[8%]",medium:"!px-[12%] !py-[12%] !pb-[13%]",mobile:"!px-[calc(var(--vh)*3)] !py-[calc(var(--vh)*3.5)]"}[a]),children:d.jsx(wye,{theme:t})})}),d.jsx(ct,{divKey:e,className:"!absolute top-0 h-full w-full",delay:2,initial:{left:"calc(-1*var(--vw)*100)",display:"none"},animate:{left:0,display:"block"},exit:{left:"calc(-1*var(--vw)*100)",display:"none",transition:{delay:0,duration:.5,ease:"easeIn"}},children:a!=="mobile"&&(t===F?d.jsxs("div",{className:k("absolute -top-[0.3em] h-full w-full",{web:"-left-[4%]",medium:"-left-[5.5%]"}[a]),children:[d.jsx(Lt,{src:s.eartharmlargebase,className:k("max-h-[0.35em] min-w-[calc(115*var(--vw))] opacity-[0.8] brightness-[2.5] saturate-[0.33]",{web:"right-[96%] top-[0.25em]",medium:"right-[96%] top-[0.35em]"}[a])}),d.jsx(Lt,{src:s.eartharmlargebase,className:k("max-h-[0.2em] min-w-[calc(115*var(--vw))] opacity-[0.8] brightness-[2.5] saturate-[0.33]",{web:"right-[96%] top-[0.86em]",medium:"right-[96%] top-[1.06em]"}[a])}),d.jsx(Lt,{src:s.earthleftcorner,className:k("top-0",{web:"w-[30%]",medium:"w-[42%]"}[a])})]}):d.jsxs("div",{className:k("absolute -top-[0.6em] h-full w-full",{web:"-left-[5%]",medium:"-left-[6%]"}[a]),children:[d.jsx(Lt,{src:s.alienarmlargebase,className:k("max-h-[0.45em] min-w-[calc(115*var(--vw))] -scale-x-100",{web:"right-[95%] top-[0.63em]",medium:"right-[94%] top-[0.75em]"}[a])}),d.jsx(Lt,{src:s.aliensmallcorner,className:k("top-0",{web:"w-[35%]",medium:"w-[46%]"}[a])})]}))}),d.jsx(Qn,{theme:t,armSide:{web:"right",medium:"right",mobile:"right"}[a],frameSide:{web:"right",medium:"center",mobile:"left"}[a],parentRef:o,reference:{height:n,width:i},scale:{web:1,medium:.7,mobile:.6}[a],scaleAdjust:{mobile:.9}[a]})]})}),d.jsxs("div",{className:k("absolute z-50 drop-shadow-video-shadow",{web:"left-[65%] top-[10%] h-full w-full",medium:"left-[45%] top-[23%] h-full w-full scale-[0.9]",mobile:"left-1/2 top-[64%] h-[calc(61*var(--vh))] w-[calc(61*var(--vh)*0.48345)] origin-center -translate-x-1/2 -translate-y-1/2 scale-[0.8]"}[a]),children:[d.jsx("div",{className:k("absolute rounded-[5%] bg-black",{web:"left-[1.2%] top-[2%] h-[76%] w-[20%]",medium:"left-[2%] top-[2%] h-[76%] w-[52%]",mobile:"left-0 top-0 h-full w-full"}[a])}),d.jsx("div",{className:k("absolute aspect-square rounded-full border-2 border-solid border-gray-800 bg-gray-900",{web:"left-[10.75%] top-[2.9%] w-[1%]",medium:"left-[26.45%] top-[2.9%] w-[2.4%]",mobile:"left-1/2 top-[1.8%] w-[5%] -translate-x-1/2"}[a])}),d.jsx("div",{className:k("absolute h-[3px] rounded-full bg-slate-300",{web:"left-[8.6%] top-[76.7%] w-[5%]",medium:"left-[22.5%] top-[76.7%] w-[10.2%]",mobile:"bottom-[2%] left-1/2 w-[20%] -translate-x-1/2"}[a])}),d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.5,delay:.5}},delay:1.5,className:k("!absolute top-[4.9%]",{web:"left-[1.71%]",medium:"left-[4.25%]",mobile:"left-0"}[a]),children:d.jsx("img",{src:t===F?s.earthmapscreen:s.alienmapscreen,loading:"eager",className:k("pointer-events-auto w-auto brightness-90 hover:brightness-110",{web:"h-[71.6%]",medium:"h-[71.6%]",mobile:"mx-auto h-auto !w-[88.1%]"}[a])})}),d.jsx("img",{src:t===F?s.earthmobilebordervertical:s.alienmobilebordervertical,loading:"eager",className:k("absolute",{web:"top-0 h-[80%]",medium:"top-0 h-[80%]",mobile:"left-1/2 top-1/2 h-[105%] w-auto max-w-none -translate-x-1/2 -translate-y-1/2"}[a])})]})]})})},Nye=({theme:e})=>{const{t}=je(),{deviceType:i}=ve();return d.jsxs("div",{className:k("relative flex flex-col",{web:"space-y-[4.84%]",medium:"space-y-[3%]",mobile:"space-y-[calc(var(--vh)*1)]"}[i],e===F?"!text-earth-black":"!text-alien-white"),children:[d.jsx(qe,{className:k("font-nunito-sans font-black",{web:"text-[0.63em]",medium:"text-[0.71em]",mobile:"text-mb-base"}[i]),text:t("game.resources-title"),theme:e}),d.jsx(qe,{className:k("font-nunito-sans font-medium leading-tight",{web:"!text-[0.525em]",medium:"!text-[0.615em]",mobile:"!text-mb-sm"}[i]),text:t("game.resources-description"),theme:e}),d.jsxs("ul",{className:k("flex list-disc flex-col pl-[8%] font-nunito font-semibold",{web:"space-y-[3%] !text-[0.52em]",medium:"space-y-[3%] !text-[0.61em]",mobile:"space-y-[1%] !text-mb-sm"}[i]),children:[d.jsx("li",{children:d.jsx("p",{children:t("game.resources-item-1")})}),d.jsx("li",{children:d.jsx("p",{children:t("game.resources-item-2")})}),d.jsx("li",{children:d.jsx("p",{children:t("game.resources-item-3")})}),d.jsx("li",{children:d.jsx("p",{children:t("game.resources-item-4")})})]})]})},Mye=({scrollLevel:e})=>{const t=le(ze),{width:i,height:n}=D.useContext(Jn),s=le(Ee),{deviceType:a}=ve(),o=D.useRef(null);return d.jsx("div",{className:"pointer-events-none absolute h-full w-full",style:{...{web:{left:e===1?0:"calc(-1*var(--vw)*100)"},medium:{left:e===1?0:"calc(var(--vw)*100)"},mobile:{left:e===1?0:"calc(var(--vw)*100)"}}[a],top:`${-150*e+150}%`,transition:"top 1.6s 1s ease-in-out, left 2s 0.5s ease-in-out"},children:d.jsxs(Jt,{divKey:a,side:{web:"left",medium:"right",mobile:"right"}[a],duration:1.5,exitDuration:1,exitDelay:1,className:"h-full w-full",children:[d.jsx("div",{className:k("absolute h-full w-full",{web:"-bottom-[12%] right-[10%]",medium:"-bottom-[1%] left-[2.3%]",mobile:"left-0 top-[10%]"}[a]),children:d.jsxs("div",{ref:o,className:k("relative",{web:"!absolute right-0 w-[40%]",medium:"w-[42.5%]",mobile:"w-full"}[a]),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:{web:t===F?"25% bottom":"15% bottom",medium:t===F?"25% bottom":"15% bottom",mobile:t===F?"7% bottom":"15% bottom"}[a],delay:1.5,children:d.jsx(Ai,{theme:t,className:k({web:"!px-[8%] !py-[8%]",medium:"!px-[12%] !py-[12%] !pb-[13%]",mobile:"!px-[calc(var(--vh)*3)] !py-[calc(var(--vh)*3.5)]"}[a]),children:d.jsx(Nye,{theme:t})})}),d.jsx(ct,{divKey:e,className:"!absolute top-0 h-full w-full",delay:2,initial:{web:{right:"calc(-1*var(--vw)*100)",display:"none"},medium:{left:"calc(-1*var(--vw)*100)",display:"none"},mobile:{left:"calc(-1*var(--vw)*100)",display:"none"}}[a],animate:{web:{right:0,display:"block"},medium:{left:0,display:"block"},mobile:{left:0,display:"block"}}[a],exit:{web:{right:"calc(-1*var(--vw)*100)",display:"none",transition:{delay:0,duration:.5,ease:"easeIn"}},medium:{left:"calc(-1*var(--vw)*100)",display:"none",transition:{delay:0,duration:.5,ease:"easeIn"}},mobile:{left:"calc(-1*var(--vw)*100)",display:"none",transition:{delay:0,duration:.5,ease:"easeIn"}}}[a],children:a!=="mobile"&&(t===F?d.jsxs("div",{className:k("absolute -top-[0.3em] h-full w-full",{web:"-right-[4%]",medium:"-left-[5.5%]"}[a]),children:[d.jsx(Lt,{src:s.eartharmlargebase,className:k("max-h-[0.35em] min-w-[calc(115*var(--vw))] opacity-[0.8] brightness-[2.5] saturate-[0.33]",{web:"left-[96%] top-[0.25em]",medium:"right-[94.5%] top-[0.35em]"}[a])}),d.jsx(Lt,{src:s.eartharmlargebase,className:k("max-h-[0.2em] min-w-[calc(115*var(--vw))] opacity-[0.8] brightness-[2.5] saturate-[0.33]",{web:"left-[96%] top-[0.86em]",medium:"right-[94.5%] top-[1.06em]"}[a])}),d.jsx(Lt,{src:{web:s.earthrightcorner,medium:s.earthleftcorner}[a],className:k("top-0",{web:"right-0 w-[30%]",medium:"w-[42%]"}[a])})]}):d.jsxs("div",{className:k("absolute -top-[0.6em] h-full w-full",{web:"-right-[5%]",medium:"-left-[6%]"}[a]),children:[d.jsx(Lt,{src:s.alienarmlargebase,className:k("max-h-[0.45em] min-w-[calc(115*var(--vw))]",{web:"left-[95%] top-[0.63em]",medium:"right-[94%] top-[0.75em]"}[a])}),d.jsx(Lt,{src:s.aliensmallcorner,className:k("top-0",{web:"right-0 w-[35%] -scale-x-100",medium:"w-[46%]"}[a])})]}))}),d.jsx(Qn,{theme:t,armSide:{web:"left",medium:"right",mobile:"right"}[a],frameSide:{web:"left",medium:"center",mobile:"left"}[a],parentRef:o,reference:{height:n,width:i},scale:{web:1,medium:.6,mobile:.6}[a],scaleAdjust:{mobile:.9}[a]})]})}),d.jsxs("div",{className:k("absolute z-50 drop-shadow-video-shadow",{web:"left-[13%] top-[10%] h-full w-full",medium:"left-[45%] top-[23%] h-full w-full scale-[0.9]",mobile:"left-1/2 top-[70%] h-[calc(61*var(--vh))] w-[calc(61*var(--vh)*0.48345)] origin-center -translate-x-1/2 -translate-y-1/2 scale-[0.8]"}[a]),children:[d.jsx("div",{className:k("absolute rounded-[5%] bg-black",{web:"left-[1.2%] top-[2%] h-[76%] w-[20%]",medium:"left-[2%] top-[2%] h-[76%] w-[52%]",mobile:"left-0 top-0 h-full w-full"}[a])}),d.jsx("div",{className:k("absolute aspect-square rounded-full border-2 border-solid border-gray-800 bg-gray-900",{web:"left-[10.75%] top-[2.9%] w-[1%]",medium:"left-[26.45%] top-[2.9%] w-[2.4%]",mobile:"left-1/2 top-[1.8%] w-[5%] -translate-x-1/2"}[a])}),d.jsx("div",{className:k("absolute h-[3px] rounded-full bg-slate-300",{web:"left-[8.6%] top-[76.7%] w-[5%]",medium:"left-[22.5%] top-[76.7%] w-[10.2%]",mobile:"bottom-[2%] left-1/2 w-[20%] -translate-x-1/2"}[a])}),d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.5,delay:.5}},delay:1.5,className:k("!absolute top-[4.9%]",{web:"left-[1.71%]",medium:"left-[4.25%]",mobile:"left-0"}[a]),children:d.jsx("img",{src:t===F?s.earthresourcescreen:s.alienresourcescreen,loading:"eager",className:k("pointer-events-auto w-auto brightness-90 hover:brightness-110",{web:"h-[71.6%]",medium:"h-[71.6%]",mobile:"mx-auto h-auto !w-[88.1%]"}[a])})}),d.jsx("img",{src:t===F?s.earthmobilebordervertical:s.alienmobilebordervertical,loading:"eager",className:k("absolute",{web:"top-0 h-[80%]",medium:"top-0 h-[80%]",mobile:"left-1/2 top-1/2 h-[105%] w-auto max-w-none -translate-x-1/2 -translate-y-1/2"}[a])})]})]})})},Iye=({theme:e})=>{const{t}=je(),{deviceType:i}=ve();return d.jsxs("div",{className:k("relative flex flex-col",{web:"space-y-[4.84%]",medium:"space-y-[3%]",mobile:"space-y-[calc(var(--vh)*1)]"}[i],e===F?"!text-earth-black":"!text-alien-white"),children:[d.jsx(qe,{className:k("font-nunito-sans font-black",{web:"text-[0.63em]",medium:"text-[0.71em]",mobile:"text-mb-base"}[i]),text:t("game.gameplay-title"),theme:e}),d.jsx(qe,{className:k("font-nunito-sans font-medium leading-tight",{web:"!text-[0.525em]",medium:"!text-[0.615em]",mobile:"!text-mb-sm"}[i]),text:t(e===F?"game.gameplay-description-earth":"game.gameplay-description-alien"),theme:e}),d.jsxs("ul",{className:k("flex list-disc flex-col pl-[8%] font-nunito font-semibold",{web:"space-y-[3%] !text-[0.52em]",medium:"space-y-[3%] !text-[0.61em]",mobile:"space-y-[1%] !text-mb-sm"}[i]),children:[d.jsx("li",{children:d.jsx("p",{children:t("game.gameplay-item-1")})}),d.jsx("li",{children:d.jsx("p",{children:t("game.gameplay-item-2")})}),d.jsx("li",{children:d.jsx("p",{children:t(e===F?"game.gameplay-item-3-earth":"game.gameplay-item-3-alien")})}),d.jsx("li",{children:d.jsx("p",{children:t("game.gameplay-item-4")})})]})]})},Tye=({scrollLevel:e})=>{const t=le(ze),{width:i,height:n}=D.useContext(Jn),s=le(Ee),{deviceType:a}=ve(),o=D.useRef(null);return d.jsx("div",{className:"pointer-events-none absolute h-full w-full",style:{top:`${-150*e+300}%`,left:e===2?0:"calc(var(--vw)*100)",transition:"top 1.6s 1s ease-in-out, left 2s 0.5s ease-in-out"},children:d.jsxs(Jt,{side:"right",duration:1.5,exitDuration:1,exitDelay:1,className:"h-full w-full",children:[d.jsx("div",{className:k("absolute h-full w-full",{web:"-bottom-[12%] left-[10%]",medium:"-bottom-[1%] left-[2.3%]",mobile:"left-0 top-[5%]"}[a]),children:d.jsxs("div",{ref:o,className:k("relative",{web:"w-[40%]",medium:"w-[42.5%]",mobile:"w-full"}[a]),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:{web:t===F?"75% bottom":"85% bottom",medium:t===F?"25% bottom":"15% bottom",mobile:t===F?"7% bottom":"15% bottom"}[a],delay:1.5,children:d.jsx(Ai,{theme:t,className:k({web:"!px-[8%] !py-[8%]",medium:"!px-[12%] !py-[12%] !pb-[13%]",mobile:"!px-[calc(var(--vh)*3)] !py-[calc(var(--vh)*3.5)]"}[a]),children:d.jsx(Iye,{theme:t})})}),d.jsx(ct,{divKey:e,className:"!absolute top-0 h-full w-full",delay:2,initial:{left:"calc(-1*var(--vw)*100)",display:"none"},animate:{left:0,display:"block"},exit:{left:"calc(-1*var(--vw)*100)",display:"none",transition:{delay:0,duration:.5,ease:"easeIn"}},children:a!=="mobile"&&(t===F?d.jsxs("div",{className:k("absolute -top-[0.3em] h-full w-full",{web:"-left-[4%]",medium:"-left-[5.5%]"}[a]),children:[d.jsx(Lt,{src:s.eartharmlargebase,className:k("max-h-[0.35em] min-w-[calc(115*var(--vw))] opacity-[0.8] brightness-[2.5] saturate-[0.33]",{web:"right-[96%] top-[0.25em]",medium:"right-[94.5%] top-[0.35em]"}[a])}),d.jsx(Lt,{src:s.eartharmlargebase,className:k("max-h-[0.2em] min-w-[calc(115*var(--vw))] opacity-[0.8] brightness-[2.5] saturate-[0.33]",{web:"right-[96%] top-[0.86em]",medium:"right-[94.5%] top-[1.06em]"}[a])}),d.jsx(Lt,{src:s.earthleftcorner,className:k("top-0",{web:"w-[30%]",medium:"w-[42%]"}[a])})]}):d.jsxs("div",{className:k("absolute -top-[0.6em] h-full w-full",{web:"-left-[5%]",medium:"-left-[6%]"}[a]),children:[d.jsx(Lt,{src:s.alienarmlargebase,className:k("max-h-[0.45em] min-w-[calc(115*var(--vw))] -scale-x-100",{web:"right-[95%] top-[0.63em]",medium:"right-[94%] top-[0.75em]"}[a])}),d.jsx(Lt,{src:s.aliensmallcorner,className:k("top-0",{web:"w-[35%]",medium:"w-[46%]"}[a])})]}))}),d.jsx(Qn,{theme:t,armSide:{web:"right",medium:"right",mobile:"right"}[a],frameSide:{web:"right",medium:"center",mobile:"left"}[a],parentRef:o,reference:{height:n,width:i},scale:{web:1,medium:.6,mobile:.6}[a],scaleAdjust:{mobile:.9}[a]})]})}),d.jsxs("div",{className:k("absolute z-50 drop-shadow-video-shadow",{web:"left-[65%] top-[10%] h-full w-full",medium:"left-[45%] top-[23%] h-full w-full scale-[0.9]",mobile:"left-1/2 top-[71%] h-[calc(61*var(--vh))] w-[calc(61*var(--vh)*0.48345)] origin-center -translate-x-1/2 -translate-y-1/2 scale-[0.8]"}[a]),children:[d.jsx("div",{className:k("absolute rounded-[5%] bg-black",{web:"left-[1.2%] top-[2%] h-[76%] w-[20%]",medium:"left-[2%] top-[2%] h-[76%] w-[52%]",mobile:"left-0 top-0 h-full w-full"}[a])}),d.jsx("div",{className:k("absolute aspect-square rounded-full border-2 border-solid border-gray-800 bg-gray-900",{web:"left-[10.75%] top-[2.9%] w-[1%]",medium:"left-[26.45%] top-[2.9%] w-[2.4%]",mobile:"left-1/2 top-[1.8%] w-[5%] -translate-x-1/2"}[a])}),d.jsx("div",{className:k("absolute h-[3px] rounded-full bg-slate-300",{web:"left-[8.6%] top-[76.7%] w-[5%]",medium:"left-[22.5%] top-[76.7%] w-[10.2%]",mobile:"bottom-[2%] left-1/2 w-[20%] -translate-x-1/2"}[a])}),d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.5,delay:.5}},delay:1.5,className:k("!absolute top-[4.9%]",{web:"left-[1.71%]",medium:"left-[4.25%]",mobile:"left-0"}[a]),children:d.jsx("img",{src:t===F?s.earthgameplayscreen:s.aliengameplayscreen,loading:"eager",className:k("pointer-events-auto w-auto brightness-90 hover:brightness-110",{web:"h-[71.6%]",medium:"h-[71.6%]",mobile:"mx-auto h-auto !w-[88.1%]"}[a])})}),d.jsx("img",{src:t===F?s.earthmobilebordervertical:s.alienmobilebordervertical,loading:"eager",className:k("absolute",{web:"top-0 h-[80%]",medium:"top-0 h-[80%]",mobile:"left-1/2 top-1/2 h-[105%] w-auto max-w-none -translate-x-1/2 -translate-y-1/2"}[a])})]})]})})},aL=(e,t)=>{const[i,n]=D.useState({days:0,hours:0,minutes:0});return D.useEffect(()=>{const s=()=>{const o=e-new Date;if(o<=0){n({days:0,hours:0,minutes:0});return}const r=Math.floor(o/(1e3*60*60*24)),l=Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(o%(1e3*60*60)/(1e3*60));n({days:r,hours:l,minutes:c})};if(s(),t){const a=setInterval(s,6e4);return()=>clearInterval(a)}},[]),i},Bu=({src:e,to:t,clipPath:i,className:n,style:s,styler:a,imgClassName:o,theme:r,onClick:l})=>{const[c,u]=D.useState(!1),[h,f]=D.useState(!1),g=a(c,h);return d.jsxs("div",{className:k("pointer-events-auto absolute h-fit w-fit",n),style:{...s,willChange:"clip-path, transform",transition:"left 0.8s ease-out, bottom 0.8s ease-out, right 0.8s ease-out, top 0.8s ease-out"},onClick:l,children:[t?d.jsx(Zn,{to:t,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onFocus:()=>f(!0),onBlur:()=>f(!1),className:k("peer absolute z-10 h-full w-full hover:cursor-pointer",i),style:g}):d.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:k("peer absolute z-10 h-full w-full hover:cursor-pointer",i),style:g}),d.jsx("img",{src:e,loading:"eager",className:k(r===F?"drop-shadow-earth-character peer-hover:drop-shadow-earth-character-hover peer-focus:drop-shadow-earth-character-hover":"drop-shadow-alien-character peer-hover:drop-shadow-alien-character-hover peer-focus:drop-shadow-alien-character-hover",o),style:{...g,willChange:"clip-path, transform",transition:"transform 0.8s ease-out"}})]})},D7=({src:e,className:t,style:i,side:n,divKey:s,show:a,delay:o=1,duration:r=1,exitDelay:l=.5,exitDuration:c=1})=>{const u=le(Ee),h=le(ze);return d.jsx(Jt,{side:n,divKey:s,delay:o,duration:r,exitDelay:l,exitDuration:c,className:k("select-none drop-shadow-video-shadow",t),style:i,show:a,children:d.jsx(kye,{theme:h,borderImage:h===F?u.earthmobileborderhorizontal:u.alienmobileborderhorizontal,src:e})})},Aye=e=>Xk.clans[e][Object.keys(Xk.clans[e])[Math.floor(Math.random()*6)]],kye=({src:e,borderImage:t,theme:i,style:n})=>{const{deviceType:s}=ve(),a=le(E9),o=Aye(i);return d.jsxs("div",{className:k("relative aspect-[1.9]",{mobile:"mx-auto h-auto w-[calc(min(90*var(--vw),var(--vh)*40))]"}[s]),children:[d.jsx("img",{src:t,className:k("pointer-events-none absolute -left-[2.5%] -top-[5%] z-10 h-[110%] w-[105%] max-w-none -scale-x-100")}),d.jsx("div",{className:k("h-full w-full overflow-hidden rounded-[8%] bg-black","p-[2%] pl-[1%] pt-[1.2%]"),style:n,children:a&&d.jsx("iframe",{style:{width:"100%",height:"100%"},src:`${e||o}&autoplay=1&mute=1&rel=0&enablejsapi=1&playsinline=1&vq=hd1080`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen;",referrerPolicy:"strict-origin-when-cross-origin"})})]})},Cye=()=>{const{t:e}=je(),t=le(ze),i=le(Ee),n=XD;return vl({title:e("share.page.home"),url:wr+`?theme=${t}`,dependencies:[t],mobileClassName:"top-[37%]"}),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:i.earthroom,imgAlien:i.alienroom,earthClassName:"right-[1.3%] scale-x-[1.026]",alienClassName:"right-[1.45%] scale-x-[1.029]"}),d.jsxs(bl,{children:[d.jsx(Eye,{hasCountdown:n}),d.jsx(Dye,{}),d.jsx(Lye,{})]})]})},Dye=()=>{const e=le(Ee),t=le(ze),{deviceType:i}=ve(),[n,s]=D.useState(!1),[a,o]=D.useState(!1),r=le(Dc),[l,c]=D.useState(!1);return D.useEffect(()=>{const u=setTimeout(()=>c(!0),3e3);return()=>clearTimeout(u)},[]),d.jsx(Eo,{mode:"wait",initial:!0,children:!r&&d.jsx(mn.div,{className:"pointer-events-none absolute top-0 h-full w-full",style:{transformOrigin:"center 3%"},initial:{scale:0},animate:{scale:[0,0,0,0,0,1,1.01,1]},transition:{duration:1,ease:"easeIn"},exit:{scale:0,transition:{duration:1,ease:"easeIn"}},children:d.jsxs("div",{className:k("pointer-events-none absolute left-[49.9%] z-20 -translate-x-1/2",{web:"-bottom-[1%] w-[85%]",medium:"bottom-0 w-[108%]",mobile:"top-1/2 w-[105%] -translate-y-1/2"}[i]),children:[d.jsx(Zn,{to:"game/mechs",className:"logo-univearth-clip pointer-events-auto absolute top-0 z-10 h-full w-full",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onFocus:()=>o(!0),onBlur:()=>o(!1)}),d.jsx("img",{loading:"eager",className:k("pointer-events-none max-h-none w-full max-w-none",(n||a)&&(t===F?"drop-shadow-earth-character-hover":"drop-shadow-alien-character-hover")),src:e.univearthlogogeneral,alt:"UniVearth Logo"}),l&&d.jsxs(Eo,{children:[d.jsx(mn.img,{initial:{opacity:0},animate:{opacity:[.25,.5,1,.5,.25]},transition:{duration:3,repeat:1/0,repeatType:"loop",ease:"easeInOut"},src:e.univearthlogoearthlights,className:k("pointer-events-none absolute -bottom-[81.8%] -right-[13.35%] hidden max-h-none w-[118.9%] max-w-none",(t===F||n||a)&&"!block")},"earthLights"),d.jsx(mn.img,{initial:{opacity:0},animate:{opacity:[.25,.5,1,.5,.25]},transition:{duration:3,repeat:1/0,repeatType:"loop",ease:"easeInOut"},src:e.univearthlogoalienlights,className:k("pointer-events-none absolute -bottom-[81.8%] -left-[5.35%] right-0 hidden max-h-none w-[118.9%] max-w-none",(t===De||n||a)&&"!block")},"alienLights")]})]})})})},Lye=()=>{const{i18n:e}=je(),{deviceType:t}=ve(),{onScrollChange:i}=xye(1,!0,1e3,hC),[n,s]=D.useState(1);return D.useEffect(()=>{i(a=>{s(a)})},[i]),console.log(e),d.jsx(D7,{src:Xk.cinematic[rt(e.language)],side:t==="web"?"top":"right",className:k("!absolute mt-[1%]",{web:"left-1/2 z-20 w-[53%]",medium:"!top-[20%] w-[95%]",mobile:"!top-[27%] w-full -translate-y-1/2"}[t]),style:{transform:{web:`scale(${1-.3*n}) translate(-50%)`,medium:`scale(${1-.4*n}) translate(-2.2%,${0-n*8}%)`}[t],transformOrigin:{web:"left top",medium:"center top"}[t],transition:"transform 0.8s ease-out"}})},Eye=({hasCountdown:e})=>{const t=Zm(1,!0,1e3,hC),i=le(ze),n=xt(hC);return D.useEffect(()=>{n({value:0})},[i]),d.jsxs(d.Fragment,{children:[d.jsx(Jt,{className:"!absolute !top-0 h-full w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},delay:1,duration:1,exitDuration:1,exitDelay:2,children:i===F?d.jsx(Rye,{scrollLevel:t,hasCountdown:e}):d.jsx(Pye,{scrollLevel:t,hasCountdown:e})}),d.jsx(Jt,{className:"pointer-events-none h-full w-full",style:{transformOrigin:"center 3%"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},delay:2.5,duration:1,exitDuration:.8,children:i===F?d.jsx(Oye,{scrollLevel:t}):d.jsx(jye,{scrollLevel:t})})]})},Oye=({scrollLevel:e})=>{const{deviceType:t}=ve(),i=le(Ee),n=xt(L2);return d.jsxs(d.Fragment,{children:[d.jsx(Bu,{src:i.earthmaya5,scrollLevel:e,clipPath:"earth-maya5-clip",to:"game/clans",style:{web:{width:"8.4em",bottom:`${10+e*15}%`,left:`${.2+e*3.6}%`},medium:{width:"9.5em",bottom:`${16+e*17}%`,left:`${.2+e*16}%`},mobile:{bottom:"16%",left:"13%"}}[t],styler:(s,a)=>({transform:{web:`scale(${1+Number(s||a)*.02+.3*e})`,medium:`scale(${1+Number(s||a)*.02+.5*e})`,mobile:`scale(${1+Number(s||a)*.02})`}[t],height:{mobile:"min(23*var(--vh),60*var(--vw))"}[t],transformOrigin:"center"}),theme:F,onClick:()=>n(1)}),d.jsx(Bu,{src:i.earthtinglit5,scrollLevel:e,clipPath:"earth-tinglit5-clip",to:"game/clans",style:{web:{width:"8.92em",bottom:`${1+e*9}%`,left:`${23+e*5}%`},medium:{width:"10.5em",bottom:`${3+e*10}%`,left:`${16-e*10}%`},mobile:{bottom:"3%",left:"0%"}}[t],styler:(s,a)=>({transform:{web:`scale(${1+Number(s||a)*.02+.3*e})`,medium:`scale(${1+Number(s||a)*.02+.35*e})`,mobile:`scale(${1+Number(s||a)*.02})`}[t],height:{mobile:"min(27*var(--vh),60*var(--vw))"}[t],transformOrigin:"center"}),theme:F,onClick:()=>n(3)}),d.jsx(Bu,{src:i.earthinuit2,scrollLevel:e,clipPath:"earth-inuit2-clip",to:"game/clans",style:{web:{width:"8.14em",bottom:`${10+e*15}%`,right:`${0+e*3.2}%`},medium:{width:"9.5em",bottom:`${15+e*13}%`,right:`${0+e*15}%`},mobile:{bottom:"14%",right:"0%"}}[t],styler:(s,a)=>({transform:{web:`scale(${1+Number(s||a)*.02+.3*e})`,medium:`scale(${1+Number(s||a)*.02+.5*e})`,mobile:`scale(${1+Number(s||a)*.02})`}[t],height:{mobile:"min(23*var(--vh),60*var(--vw))"}[t],transformOrigin:"center"}),theme:F,onClick:()=>n(0)}),d.jsx(Bu,{src:i.earthcherokee5,scrollLevel:e,clipPath:"earth-cherokee5-clip",to:"game/clans",style:{web:{width:"7.35em",bottom:`${3+e*9}%`,right:`${22+e*4}%`},medium:{width:"9em",bottom:`${3+e*9}%`,right:`${18-e*7}%`},mobile:{bottom:"0%",right:"14%"}}[t],styler:(s,a)=>({transform:{web:`scale(${1+Number(s||a)*.02+.3*e})`,medium:`scale(${1+Number(s||a)*.02+.7*e})`,mobile:`scale(${1+Number(s||a)*.02})`}[t],height:{mobile:"min(30*var(--vh),63*var(--vw))"}[t],transformOrigin:"center"}),theme:F,onClick:()=>n(5)})]})},jye=({scrollLevel:e})=>{const{deviceType:t}=ve(),i=le(Ee),n=xt(L2);return d.jsxs(d.Fragment,{children:[d.jsx(Bu,{src:i.alienwasp1,scrollLevel:e,clipPath:"alien-wasp1-clip",to:"game/clans",style:{web:{width:"8.4em",bottom:`${15+e*15}%`,left:`${.2+e*3.6}%`},medium:{width:"11em",bottom:`${15+e*17}%`,left:`${0+e*16}%`},mobile:{bottom:"15%",left:"13%"}}[t],styler:(s,a)=>({transform:{web:`scale(${1+Number(s||a)*.02+.3*e})`,medium:`scale(${1+Number(s||a)*.02+.5*e})`}[t],height:{mobile:"min(24*var(--vh),60*var(--vw))"}[t],transformOrigin:"center"}),theme:De,onClick:()=>n(0)}),d.jsx(Bu,{src:i.alienhorse4,scrollLevel:e,clipPath:"alien-horse4-clip",to:"game/clans",style:{web:{width:"8.4em",bottom:`${1+e*8}%`,left:`${23+e*2}%`},medium:{width:"10.5em",bottom:`${1+e*6}%`,left:`${15-e*8.5}%`},mobile:{bottom:"2%",left:"0%"}}[t],styler:(s,a)=>({transform:{web:`scale(${1+Number(s||a)*.02+.3*e})`,medium:`scale(${1+Number(s||a)*.02+.35*e})`}[t],height:{mobile:"min(25*var(--vh),60*var(--vw))"}[t],transformOrigin:"center"}),theme:De,onClick:()=>n(6)}),d.jsx(Bu,{src:i.alienshark3,scrollLevel:e,clipPath:"alien-shark3-clip",to:"game/clans",style:{web:{width:"8.14em",bottom:`${15+e*15}%`,right:`${0+e*3.6}%`},medium:{width:"10.5em",bottom:`${15+e*13}%`,right:`${0+e*15}%`},mobile:{bottom:"14%",right:"0%"}}[t],styler:(s,a)=>({transform:{web:`scale(${1+Number(s||a)*.02+.3*e})`,medium:`scale(${1+Number(s||a)*.02+.5*e})`}[t],height:{mobile:"min(23*var(--vh),60*var(--vw))"}[t],transformOrigin:"center"}),theme:De,onClick:()=>n(5)}),d.jsx(Bu,{src:i.alienwolf1,scrollLevel:e,clipPath:"alien-wolf1-clip",to:"game/clans",style:{web:{width:"8.92em",bottom:`${3+e*7}%`,right:`${22+e*0}%`},medium:{width:"11em",bottom:`${1+e*6}%`,right:`${13-e*3.5}%`},mobile:{bottom:"0%",right:"14%"}}[t],styler:(s,a)=>({transform:{web:`scale(${1+Number(s||a)*.02+.3*e})`,medium:`scale(${1+Number(s||a)*.02+.5*e})`}[t],height:{mobile:"min(30*var(--vh),63*var(--vw))"}[t],transformOrigin:"center"}),theme:De,onClick:()=>n(1)})]})},Rye=({scrollLevel:e,hasCountdown:t})=>{const{deviceType:i}=ve(),{t:n}=je(),s=xt(Am);return d.jsxs(d.Fragment,{children:[d.jsx(L7,{to:"/project/events",theme:F,title:n("home.giveaway"),the:n("home.the-giveaway"),style:{top:{web:`${19-e*15.5}%`,medium:0,mobile:0}[i],left:{web:`${1.5+e*4}%`,medium:"1.5%",mobile:0}[i],transform:{web:`scale(${1+.3*e})`}[i],transformOrigin:"center"},onClick:()=>s({value:1})}),d.jsx(E7,{to:"/presale/access",theme:F,title:n("home.presale"),style:{top:{web:`${16.8-e*16}%`,medium:0,mobile:0}[i],right:{web:`${1.5+e*4}%`,medium:"1.5%",mobile:0}[i],transform:{web:`scale(${1+.3*e})`}[i],transformOrigin:"center"},hasCountdown:t})]})},Pye=({scrollLevel:e,hasCountdown:t})=>{const{deviceType:i}=ve(),{t:n}=je(),s=xt(Am);return d.jsxs(d.Fragment,{children:[d.jsx(L7,{to:"/project/events",theme:De,title:n("home.giveaway"),the:n("home.the-giveaway"),style:{top:{web:`${19-e*15.5}%`,medium:0,mobile:0}[i],left:{web:`${1.5+e*4}%`,medium:"1.5%",mobile:0}[i],transform:{web:`scale(${1+.3*e})`}[i],transformOrigin:"center"},onClick:()=>s({value:1})}),d.jsx(E7,{to:"/presale/access",theme:De,title:n("home.presale"),style:{top:{web:`${16.8-e*16}%`,medium:0,mobile:0}[i],right:{web:`${1.5+e*4}%`,medium:"1.5%",mobile:0}[i],transform:{web:`scale(${1+.3*e})`}[i],transformOrigin:"center"},hasCountdown:t})]})},L7=({theme:e,title:t,to:i,style:n,the:s,onClick:a,className:o})=>{const{t:r}=je(),{deviceType:l}=ve(),c=le(Ee);return d.jsxs(Zn,{to:i,className:k("group absolute select-none focus:outline-none",{web:"w-[20%]",medium:"w-[48%]",mobile:"w-[50%]"}[l],o),style:{...n,fontSize:{web:"1.0666em",medium:"2em",mobile:"1.5em"}[l],transition:"transform 0.8s ease-out, left 0.8s ease-out, bottom 0.8s ease-out, right 0.8s ease-out, top 0.8s ease-out"},onClick:a,children:[d.jsx("img",{loading:"eager",src:e===F?c.earthsmoke:c.aliensmoke,className:k("rotate-180 brightness-90",e===F?"drop-shadow-earth-character group-hover:brightness-150 group-focus:brightness-150":"drop-shadow-alien-character group-hover:brightness-200 group-focus:brightness-200")}),d.jsxs("span",{className:k("absolute left-1/2 flex w-min -translate-x-1/2 -translate-y-[80%] flex-col items-center font-nunito-sans text-[0.7em] font-black",{web:"top-[28%]",medium:"top-[43%]",mobile:"top-[43%]"}[l],zt()?e===F?"text-shadow-earth-character-hover":"text-shadow-alien-character-hover":e===F?"drop-shadow-earth-character-hover":"drop-shadow-alien-character-hover",e===F?"text-earth-black":"text-alien-white"),children:[r("home.join")," ",d.jsx("span",{className:k({web:"text-[0.5em]",medium:"text-[0.5em]",mobile:"text-[0.6em]"}[l]),children:s})]}),d.jsx("span",{className:k("absolute left-1/2 -translate-x-1/2 -translate-y-[80%] font-nunito text-[0.8em] font-black tracking-wider text-black group-hover:scale-110 group-focus:scale-110",{web:"top-[65%]",medium:"top-[73%]",mobile:"top-[73%]"}[l],zt()?e===F?"text-shadow-earth-text-white":"text-shadow-alien-text-white":e===F?"drop-shadow-earth-text-white":"drop-shadow-alien-text-white"),style:{transition:"transform 0.3s ease-in"},children:t})]})},E7=({theme:e,title:t,to:i,style:n,hasCountdown:s,className:a})=>{const{t:o}=je(),r=le(Ee),{deviceType:l}=ve(),{days:c,hours:u,minutes:h}=aL(new Date(qD),s);return d.jsxs(Zn,{to:i,className:k("group absolute select-none focus:outline-none",{web:"w-[20%]",medium:"w-[48%]",mobile:"w-[50%] overflow-visible"}[l],a),style:{...n,fontSize:{web:"1.0666em",medium:"2em",mobile:"1.5em"}[l],transition:"transform 0.8s ease-out, left 0.8s ease-out, bottom 0.8s ease-out, right 0.8s ease-out, top 0.8s ease-out"},children:[d.jsx("img",{loading:"eager",src:e===F?r.earthsmoke:r.aliensmoke,className:k("brightness-90",e===F?"drop-shadow-earth-character group-hover:brightness-150 group-focus:brightness-150":"drop-shadow-alien-character group-hover:brightness-200 group-focus:brightness-200")}),d.jsx("span",{className:k("absolute left-1/2 -translate-x-1/2 -translate-y-[80%] font-nunito text-[0.8em] font-black tracking-wider text-black group-hover:scale-110 group-focus:scale-110",{web:"top-1/2",medium:"top-[38%]",mobile:"top-[38%]"}[l],zt()?e===F?"text-shadow-earth-text-white":"text-shadow-alien-text-white":e===F?"drop-shadow-earth-text-white":"drop-shadow-alien-text-white"),style:{transition:"transform 0.3s ease-in"},children:t}),d.jsx("span",{className:k("absolute left-1/2 flex w-max -translate-x-1/2 flex-col items-center font-nunito-sans font-black",{web:"-translate-y-[80%]",medium:"top-[82.5%] -translate-y-[100%]",mobile:"top-[82.5%] -translate-y-[100%]"}[l],e===F?"text-earth-black drop-shadow-earth-character-hover":"text-alien-white drop-shadow-alien-character-hover",s?"-bottom-[30%] text-[0.7em]":"-bottom-[10%] text-[0.6em]"),children:s?d.jsxs("div",{className:k("flex gap-1",{web:"text-[1em]",medium:"text-[0.8em]",mobile:"text-[0.8em]"}[l]),children:[d.jsxs("div",{className:"flex flex-col items-center",children:[c.toString().padStart(2,"0"),d.jsx("span",{className:{web:"text-[0.4em]",medium:"text-[0.5em]",mobile:"text-[0.6em]"}[l],children:o("home.days")})]})," ",":"," ",d.jsxs("div",{className:"flex flex-col items-center",children:[u.toString().padStart(2,"0"),d.jsx("span",{className:{web:"text-[0.4em]",medium:"text-[0.5em]",mobile:"text-[0.6em]"}[l],children:o("home.hours")})]})," ",":"," ",d.jsxs("div",{className:"flex flex-col items-center",children:[h.toString().padStart(2,"0"),d.jsx("span",{className:{web:"text-[0.4em]",medium:"text-[0.5em]",mobile:"text-[0.6em]"}[l],children:"min"})]})]}):o("home.live")})]})};function zye(e){return Object.prototype.toString.call(e)==="[object Object]"}function v_(e){return zye(e)||Array.isArray(e)}function _ye(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function oL(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),a=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==a?!1:i.every(o=>{const r=e[o],l=t[o];return typeof r=="function"?`${r}`==`${l}`:!v_(r)||!v_(l)?r===l:oL(r,l)})}function w_(e){return e.concat().sort((t,i)=>t.name>i.name?1:-1).map(t=>t.options)}function Fye(e,t){if(e.length!==t.length)return!1;const i=w_(e),n=w_(t);return i.every((s,a)=>{const o=n[a];return oL(s,o)})}function rL(e){return typeof e=="number"}function DC(e){return typeof e=="string"}function $S(e){return typeof e=="boolean"}function S_(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mi(e){return Math.abs(e)}function lL(e){return Math.sign(e)}function Ax(e,t){return Mi(e-t)}function Bye(e,t){if(e===0||t===0||Mi(e)<=Mi(t))return 0;const i=Ax(Mi(e),Mi(t));return Mi(i/e)}function Vye(e){return Math.round(e*100)/100}function Zx(e){return qx(e).map(Number)}function xr(e){return e[Db(e)]}function Db(e){return Math.max(0,e.length-1)}function cL(e,t){return t===Db(e)}function N_(e,t=0){return Array.from(Array(e),(i,n)=>t+n)}function qx(e){return Object.keys(e)}function O7(e,t){return[e,t].reduce((i,n)=>(qx(n).forEach(s=>{const a=i[s],o=n[s],r=S_(a)&&S_(o);i[s]=r?O7(a,o):o}),i),{})}function LC(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Uye(e,t){const i={start:n,center:s,end:a};function n(){return 0}function s(l){return a(l)/2}function a(l){return t-l}function o(l,c){return DC(e)?i[e](l):e(t,l,c)}return{measure:o}}function Xx(){let e=[];function t(s,a,o,r={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(a,o,r),l=()=>s.removeEventListener(a,o,r);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return e.push(l),n}function i(){e=e.filter(s=>s())}const n={add:t,clear:i};return n}function Gye(e,t,i,n){const s=Xx(),a=1e3/60;let o=null,r=0,l=0;function c(){s.add(e,"visibilitychange",()=>{e.hidden&&x()})}function u(){g(),s.clear()}function h(b){if(!l)return;o||(o=b,i(),i());const v=b-o;for(o=b,r+=v;r>=a;)i(),r-=a;const S=r/a;n(S),l&&(l=t.requestAnimationFrame(h))}function f(){l||(l=t.requestAnimationFrame(h))}function g(){t.cancelAnimationFrame(l),o=null,r=0,l=0}function x(){o=null,r=0}return{init:c,destroy:u,start:f,stop:g,update:i,render:n}}function Wye(e,t){const i=t==="rtl",n=e==="y",s=n?"y":"x",a=n?"x":"y",o=!n&&i?-1:1,r=u(),l=h();function c(x){const{height:y,width:b}=x;return n?y:b}function u(){return n?"top":i?"right":"left"}function h(){return n?"bottom":i?"left":"right"}function f(x){return x*o}return{scroll:s,cross:a,startEdge:r,endEdge:l,measureSize:c,direction:f}}function tp(e=0,t=0){const i=Mi(e-t);function n(c){return c<e}function s(c){return c>t}function a(c){return n(c)||s(c)}function o(c){return a(c)?n(c)?e:t:c}function r(c){return i?c-i*Math.ceil((c-t)/i):c}return{length:i,max:t,min:e,constrain:o,reachedAny:a,reachedMax:s,reachedMin:n,removeOffset:r}}function j7(e,t,i){const{constrain:n}=tp(0,e),s=e+1;let a=o(t);function o(f){return i?Mi((s+f)%s):n(f)}function r(){return a}function l(f){return a=o(f),h}function c(f){return u().set(r()+f)}function u(){return j7(e,r(),i)}const h={get:r,set:l,add:c,clone:u};return h}function Hye(e,t,i,n,s,a,o,r,l,c,u,h,f,g,x,y,b,v,S){const{cross:N,direction:M}=e,I=["INPUT","SELECT","TEXTAREA"],C={passive:!1},L=Xx(),O=Xx(),P=tp(50,225).constrain(g.measure(20)),z={mouse:300,touch:400},V={mouse:500,touch:600},G=x?43:25;let H=!1,B=0,$=0,Q=!1,X=!1,Y=!1,q=!1;function Z(ye){if(!S)return;function we(Le){($S(S)||S(ye,Le))&&de(Le)}const _e=t;L.add(_e,"dragstart",Le=>Le.preventDefault(),C).add(_e,"touchmove",()=>{},C).add(_e,"touchend",()=>{}).add(_e,"touchstart",we).add(_e,"mousedown",we).add(_e,"touchcancel",he).add(_e,"contextmenu",he).add(_e,"click",ge,!0)}function W(){L.clear(),O.clear()}function ee(){const ye=q?i:t;O.add(ye,"touchmove",te,C).add(ye,"touchend",he).add(ye,"mousemove",te,C).add(ye,"mouseup",he)}function oe(ye){const we=ye.nodeName||"";return I.includes(we)}function fe(){return(x?V:z)[q?"mouse":"touch"]}function ue(ye,we){const _e=h.add(lL(ye)*-1),Le=u.byDistance(ye,!x).distance;return x||Mi(ye)<P?Le:b&&we?Le*.5:u.byIndex(_e.get(),0).distance}function de(ye){const we=LC(ye,n);q=we,Y=x&&we&&!ye.buttons&&H,H=Ax(s.get(),o.get())>=2,!(we&&ye.button!==0)&&(oe(ye.target)||(Q=!0,a.pointerDown(ye),c.useFriction(0).useDuration(0),s.set(o),ee(),B=a.readPoint(ye),$=a.readPoint(ye,N),f.emit("pointerDown")))}function te(ye){if(!LC(ye,n)&&ye.touches.length>=2)return he(ye);const _e=a.readPoint(ye),Le=a.readPoint(ye,N),Ke=Ax(_e,B),$e=Ax(Le,$);if(!X&&!q&&(!ye.cancelable||(X=Ke>$e,!X)))return he(ye);const He=a.pointerMove(ye);Ke>y&&(Y=!0),c.useFriction(.3).useDuration(.75),r.start(),s.add(M(He)),ye.preventDefault()}function he(ye){const _e=u.byDistance(0,!1).index!==h.get(),Le=a.pointerUp(ye)*fe(),Ke=ue(M(Le),_e),$e=Bye(Le,Ke),He=G-10*$e,Ze=v+$e/50;X=!1,Q=!1,O.clear(),c.useDuration(He).useFriction(Ze),l.distance(Ke,!x),q=!1,f.emit("pointerUp")}function ge(ye){Y&&(ye.stopPropagation(),ye.preventDefault(),Y=!1)}function xe(){return Q}return{init:Z,destroy:W,pointerDown:xe}}function Yye(e,t){let n,s;function a(h){return h.timeStamp}function o(h,f){const x=`client${(f||e.scroll)==="x"?"X":"Y"}`;return(LC(h,t)?h:h.touches[0])[x]}function r(h){return n=h,s=h,o(h)}function l(h){const f=o(h)-o(s),g=a(h)-a(n)>170;return s=h,g&&(n=h),f}function c(h){if(!n||!s)return 0;const f=o(s)-o(n),g=a(h)-a(n),x=a(h)-a(s)>170,y=f/g;return g&&!x&&Mi(y)>.1?y:0}return{pointerDown:r,pointerMove:l,pointerUp:c,readPoint:o}}function $ye(){function e(i){const{offsetTop:n,offsetLeft:s,offsetWidth:a,offsetHeight:o}=i;return{top:n,right:s+a,bottom:n+o,left:s,width:a,height:o}}return{measure:e}}function Kye(e){function t(n){return e*(n/100)}return{measure:t}}function Zye(e,t,i,n,s,a,o){const r=[e].concat(n);let l,c,u=[],h=!1;function f(b){return s.measureSize(o.measure(b))}function g(b){if(!a)return;c=f(e),u=n.map(f);function v(S){for(const N of S){if(h)return;const M=N.target===e,I=n.indexOf(N.target),C=M?c:u[I],L=f(M?e:n[I]);if(Mi(L-C)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(S=>{($S(a)||a(b,S))&&v(S)}),i.requestAnimationFrame(()=>{r.forEach(S=>l.observe(S))})}function x(){h=!0,l&&l.disconnect()}return{init:g,destroy:x}}function qye(e,t,i,n,s,a){let o=0,r=0,l=s,c=a,u=e.get(),h=0;function f(){const C=n.get()-e.get(),L=!l;let O=0;return L?(o=0,i.set(n),e.set(n),O=C):(i.set(e),o+=C/l,o*=c,u+=o,e.add(o),O=u-h),r=lL(O),h=u,I}function g(){const C=n.get()-t.get();return Mi(C)<.001}function x(){return l}function y(){return r}function b(){return o}function v(){return N(s)}function S(){return M(a)}function N(C){return l=C,I}function M(C){return c=C,I}const I={direction:y,duration:x,velocity:b,seek:f,settled:g,useBaseFriction:S,useBaseDuration:v,useFriction:M,useDuration:N};return I}function Xye(e,t,i,n,s){const a=s.measure(10),o=s.measure(50),r=tp(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(i.get())||!e.reachedAny(t.get()))}function u(g){if(!c())return;const x=e.reachedMin(t.get())?"min":"max",y=Mi(e[x]-t.get()),b=i.get()-t.get(),v=r.constrain(y/o);i.subtract(b*v),!g&&Mi(b)<a&&(i.set(e.constrain(i.get())),n.useDuration(25).useBaseFriction())}function h(g){l=!g}return{shouldConstrain:c,constrain:u,toggleActive:h}}function Qye(e,t,i,n,s){const a=tp(-t+e,0),o=h(),r=u(),l=f();function c(x,y){return Ax(x,y)<=1}function u(){const x=o[0],y=xr(o),b=o.lastIndexOf(x),v=o.indexOf(y)+1;return tp(b,v)}function h(){return i.map((x,y)=>{const{min:b,max:v}=a,S=a.constrain(x),N=!y,M=cL(i,y);return N?v:M||c(b,S)?b:c(v,S)?v:S}).map(x=>parseFloat(x.toFixed(3)))}function f(){if(t<=e+s)return[a.max];if(n==="keepSnaps")return o;const{min:x,max:y}=r;return o.slice(x,y)}return{snapsContained:l,scrollContainLimit:r}}function Jye(e,t,i){const n=t[0],s=i?n-e:xr(t);return{limit:tp(s,n)}}function exe(e,t,i,n){const a=t.min+.1,o=t.max+.1,{reachedMin:r,reachedMax:l}=tp(a,o);function c(f){return f===1?l(i.get()):f===-1?r(i.get()):!1}function u(f){if(!c(f))return;const g=e*(f*-1);n.forEach(x=>x.add(g))}return{loop:u}}function txe(e){const{max:t,length:i}=e;function n(a){const o=a-t;return i?o/-i:0}return{get:n}}function ixe(e,t,i,n,s){const{startEdge:a,endEdge:o}=e,{groupSlides:r}=s,l=h().map(t.measure),c=f(),u=g();function h(){return r(n).map(y=>xr(y)[o]-y[0][a]).map(Mi)}function f(){return n.map(y=>i[a]-y[a]).map(y=>-Mi(y))}function g(){return r(c).map(y=>y[0]).map((y,b)=>y+l[b])}return{snaps:c,snapsAligned:u}}function nxe(e,t,i,n,s,a){const{groupSlides:o}=s,{min:r,max:l}=n,c=u();function u(){const f=o(a),g=!e||t==="keepSnaps";return i.length===1?[a]:g?f:f.slice(r,l).map((x,y,b)=>{const v=!y,S=cL(b,y);if(v){const N=xr(b[0])+1;return N_(N)}if(S){const N=Db(a)-xr(b)[0]+1;return N_(N,xr(b)[0])}return x})}return{slideRegistry:c}}function sxe(e,t,i,n,s){const{reachedAny:a,removeOffset:o,constrain:r}=n;function l(x){return x.concat().sort((y,b)=>Mi(y)-Mi(b))[0]}function c(x){const y=e?o(x):r(x),b=t.map((S,N)=>({diff:u(S-y,0),index:N})).sort((S,N)=>Mi(S.diff)-Mi(N.diff)),{index:v}=b[0];return{index:v,distance:y}}function u(x,y){const b=[x,x+i,x-i];if(!e)return x;if(!y)return l(b);const v=b.filter(S=>lL(S)===y);return v.length?l(v):xr(b)-i}function h(x,y){const b=t[x]-s.get(),v=u(b,y);return{index:x,distance:v}}function f(x,y){const b=s.get()+x,{index:v,distance:S}=c(b),N=!e&&a(b);if(!y||N)return{index:v,distance:x};const M=t[v]-S,I=x+u(M,0);return{index:v,distance:I}}return{byDistance:f,byIndex:h,shortcut:u}}function axe(e,t,i,n,s,a,o){function r(h){const f=h.distance,g=h.index!==t.get();a.add(f),f&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),g&&(i.set(t.get()),t.set(h.index),o.emit("select"))}function l(h,f){const g=s.byDistance(h,f);r(g)}function c(h,f){const g=t.clone().set(h),x=s.byIndex(g.get(),f);r(x)}return{distance:l,index:c}}function oxe(e,t,i,n,s,a,o,r){const l={passive:!0,capture:!0};let c=0;function u(g){if(!r)return;function x(y){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const S=i.findIndex(N=>N.includes(y));rL(S)&&(s.useDuration(0),n.index(S,0),o.emit("slideFocus"))}a.add(document,"keydown",h,!1),t.forEach((y,b)=>{a.add(y,"focus",v=>{($S(r)||r(g,v))&&x(b)},l)})}function h(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function ox(e){let t=e;function i(){return t}function n(l){t=o(l)}function s(l){t+=o(l)}function a(l){t-=o(l)}function o(l){return rL(l)?l:l.get()}return{get:i,set:n,add:s,subtract:a}}function R7(e,t){const i=e.scroll==="x"?o:r,n=t.style;let s=null,a=!1;function o(f){return`translate3d(${f}px,0px,0px)`}function r(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(a)return;const g=Vye(e.direction(f));g!==s&&(n.transform=i(g),s=g)}function c(f){a=!f}function u(){a||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function rxe(e,t,i,n,s,a,o,r,l){const u=Zx(s),h=Zx(s).reverse(),f=v().concat(S());function g(L,O){return L.reduce((P,z)=>P-s[z],O)}function x(L,O){return L.reduce((P,z)=>g(P,O)>0?P.concat([z]):P,[])}function y(L){return a.map((O,P)=>({start:O-n[P]+.5+L,end:O+t-.5+L}))}function b(L,O,P){const z=y(O);return L.map(V=>{const G=P?0:-i,H=P?i:0,B=P?"end":"start",$=z[V][B];return{index:V,loopPoint:$,slideLocation:ox(-1),translate:R7(e,l[V]),target:()=>r.get()>$?G:H}})}function v(){const L=o[0],O=x(h,L);return b(O,i,!1)}function S(){const L=t-o[0]-1,O=x(u,L);return b(O,-i,!0)}function N(){return f.every(({index:L})=>{const O=u.filter(P=>P!==L);return g(O,t)<=.1})}function M(){f.forEach(L=>{const{target:O,translate:P,slideLocation:z}=L,V=O();V!==z.get()&&(P.to(V),z.set(V))})}function I(){f.forEach(L=>L.translate.clear())}return{canLoop:N,clear:I,loop:M,loopPoints:f}}function lxe(e,t,i){let n,s=!1;function a(l){if(!i)return;function c(u){for(const h of u)if(h.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(u=>{s||($S(i)||i(l,u))&&c(u)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),s=!0}return{init:a,destroy:o}}function cxe(e,t,i,n){const s={};let a=null,o=null,r,l=!1;function c(){r=new IntersectionObserver(x=>{l||(x.forEach(y=>{const b=t.indexOf(y.target);s[b]=y}),a=null,o=null,i.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(x=>r.observe(x))}function u(){r&&r.disconnect(),l=!0}function h(x){return qx(s).reduce((y,b)=>{const v=parseInt(b),{isIntersecting:S}=s[v];return(x&&S||!x&&!S)&&y.push(v),y},[])}function f(x=!0){if(x&&a)return a;if(!x&&o)return o;const y=h(x);return x&&(a=y),x||(o=y),y}return{init:c,destroy:u,get:f}}function uxe(e,t,i,n,s,a){const{measureSize:o,startEdge:r,endEdge:l}=e,c=i[0]&&s,u=x(),h=y(),f=i.map(o),g=b();function x(){if(!c)return 0;const S=i[0];return Mi(t[r]-S[r])}function y(){if(!c)return 0;const S=a.getComputedStyle(xr(n));return parseFloat(S.getPropertyValue(`margin-${l}`))}function b(){return i.map((S,N,M)=>{const I=!N,C=cL(M,N);return I?f[N]+u:C?f[N]+h:M[N+1][r]-S[r]}).map(Mi)}return{slideSizes:f,slideSizesWithGaps:g,startGap:u,endGap:h}}function dxe(e,t,i,n,s,a,o,r,l){const{startEdge:c,endEdge:u,direction:h}=e,f=rL(i);function g(v,S){return Zx(v).filter(N=>N%S===0).map(N=>v.slice(N,N+S))}function x(v){return v.length?Zx(v).reduce((S,N,M)=>{const I=xr(S)||0,C=I===0,L=N===Db(v),O=s[c]-a[I][c],P=s[c]-a[N][u],z=!n&&C?h(o):0,V=!n&&L?h(r):0,G=Mi(P-V-(O+z));return M&&G>t+l&&S.push(N),L&&S.push(v.length),S},[]).map((S,N,M)=>{const I=Math.max(M[N-1]||0);return v.slice(I,S)}):[]}function y(v){return f?g(v,i):x(v)}return{groupSlides:y}}function hxe(e,t,i,n,s,a,o){const{align:r,axis:l,direction:c,startIndex:u,loop:h,duration:f,dragFree:g,dragThreshold:x,inViewThreshold:y,slidesToScroll:b,skipSnaps:v,containScroll:S,watchResize:N,watchSlides:M,watchDrag:I,watchFocus:C}=a,L=2,O=$ye(),P=O.measure(t),z=i.map(O.measure),V=Wye(l,c),G=V.measureSize(P),H=Kye(G),B=Uye(r,G),$=!h&&!!S,Q=h||!!S,{slideSizes:X,slideSizesWithGaps:Y,startGap:q,endGap:Z}=uxe(V,P,z,i,Q,s),W=dxe(V,G,b,h,P,z,q,Z,L),{snaps:ee,snapsAligned:oe}=ixe(V,B,P,z,W),fe=-xr(ee)+xr(Y),{snapsContained:ue,scrollContainLimit:de}=Qye(G,fe,oe,S,L),te=$?ue:oe,{limit:he}=Jye(fe,te,h),ge=j7(Db(te),u,h),xe=ge.clone(),be=Zx(i),ye=({dragHandler:ao,scrollBody:Bl,scrollBounds:Gg,options:{loop:$d}})=>{$d||Gg.constrain(ao.pointerDown()),Bl.seek()},we=({scrollBody:ao,translate:Bl,location:Gg,offsetLocation:$d,previousLocation:Nv,scrollLooper:GM,slideLooper:Wg,dragHandler:Hg,animation:Yg,eventHandler:qp,scrollBounds:$g,options:{loop:Vl}},Ul)=>{const Kg=ao.settled(),Mv=!$g.shouldConstrain(),Zg=Vl?Kg:Kg&&Mv;Zg&&!Hg.pointerDown()&&(Yg.stop(),qp.emit("settle")),Zg||qp.emit("scroll");const Iv=Gg.get()*Ul+Nv.get()*(1-Ul);$d.set(Iv),Vl&&(GM.loop(ao.direction()),Wg.loop()),Bl.to($d.get())},_e=Gye(n,s,()=>ye(Fl),ao=>we(Fl,ao)),Le=.68,Ke=te[ge.get()],$e=ox(Ke),He=ox(Ke),Ze=ox(Ke),at=ox(Ke),Je=qye($e,Ze,He,at,f,Le),Mt=sxe(h,te,fe,he,at),xi=axe(_e,ge,xe,Je,Mt,at,o),Li=txe(he),Vn=Xx(),_l=cxe(t,i,o,y),{slideRegistry:Yo}=nxe($,S,te,de,W,be),$o=oxe(e,i,Yo,xi,Je,Vn,o,C),Fl={ownerDocument:n,ownerWindow:s,eventHandler:o,containerRect:P,slideRects:z,animation:_e,axis:V,dragHandler:Hye(V,e,n,s,at,Yye(V,s),$e,_e,xi,Je,Mt,ge,o,H,g,x,v,Le,I),eventStore:Vn,percentOfView:H,index:ge,indexPrevious:xe,limit:he,location:$e,offsetLocation:Ze,previousLocation:He,options:a,resizeHandler:Zye(t,o,s,i,V,N,O),scrollBody:Je,scrollBounds:Xye(he,Ze,at,Je,H),scrollLooper:exe(fe,he,Ze,[$e,Ze,He,at]),scrollProgress:Li,scrollSnapList:te.map(Li.get),scrollSnaps:te,scrollTarget:Mt,scrollTo:xi,slideLooper:rxe(V,G,fe,X,Y,ee,te,Ze,i),slideFocus:$o,slidesHandler:lxe(t,o,M),slidesInView:_l,slideIndexes:be,slideRegistry:Yo,slidesToScroll:W,target:at,translate:R7(V,t)};return Fl}function pxe(){let e={},t;function i(c){t=c}function n(c){return e[c]||[]}function s(c){return n(c).forEach(u=>u(t,c)),l}function a(c,u){return e[c]=n(c).concat([u]),l}function o(c,u){return e[c]=n(c).filter(h=>h!==u),l}function r(){e={}}const l={init:i,emit:s,off:o,on:a,clear:r};return l}const fxe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function mxe(e){function t(a,o){return O7(a,o||{})}function i(a){const o=a.breakpoints||{},r=qx(o).filter(l=>e.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>t(l,c),{});return t(a,r)}function n(a){return a.map(o=>qx(o.breakpoints||{})).reduce((o,r)=>o.concat(r),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:i,optionsMediaQueries:n}}function gxe(e){let t=[];function i(a,o){return t=o.filter(({options:r})=>e.optionsAtMedia(r).active!==!1),t.forEach(r=>r.init(a,e)),o.reduce((r,l)=>Object.assign(r,{[l.name]:l}),{})}function n(){t=t.filter(a=>a.destroy())}return{init:i,destroy:n}}function Pw(e,t,i){const n=e.ownerDocument,s=n.defaultView,a=mxe(s),o=gxe(a),r=Xx(),l=pxe(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:h}=a,{on:f,off:g,emit:x}=l,y=V;let b=!1,v,S=c(fxe,Pw.globalOptions),N=c(S),M=[],I,C,L;function O(){const{container:be,slides:ye}=N;C=(DC(be)?e.querySelector(be):be)||e.children[0];const _e=DC(ye)?C.querySelectorAll(ye):ye;L=[].slice.call(_e||C.children)}function P(be){const ye=hxe(e,C,L,n,s,be,l);if(be.loop&&!ye.slideLooper.canLoop()){const we=Object.assign({},be,{loop:!1});return P(we)}return ye}function z(be,ye){b||(S=c(S,be),N=u(S),M=ye||M,O(),v=P(N),h([S,...M.map(({options:we})=>we)]).forEach(we=>r.add(we,"change",V)),N.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(xe),v.eventHandler.init(xe),v.resizeHandler.init(xe),v.slidesHandler.init(xe),v.options.loop&&v.slideLooper.loop(),C.offsetParent&&L.length&&v.dragHandler.init(xe),I=o.init(xe,M)))}function V(be,ye){const we=W();G(),z(c({startIndex:we},be),ye),l.emit("reInit")}function G(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),o.destroy(),r.clear()}function H(){b||(b=!0,r.clear(),G(),l.emit("destroy"),l.clear())}function B(be,ye,we){!N.active||b||(v.scrollBody.useBaseFriction().useDuration(ye===!0?0:N.duration),v.scrollTo.index(be,we||0))}function $(be){const ye=v.index.add(1).get();B(ye,be,-1)}function Q(be){const ye=v.index.add(-1).get();B(ye,be,1)}function X(){return v.index.add(1).get()!==W()}function Y(){return v.index.add(-1).get()!==W()}function q(){return v.scrollSnapList}function Z(){return v.scrollProgress.get(v.location.get())}function W(){return v.index.get()}function ee(){return v.indexPrevious.get()}function oe(){return v.slidesInView.get()}function fe(){return v.slidesInView.get(!1)}function ue(){return I}function de(){return v}function te(){return e}function he(){return C}function ge(){return L}const xe={canScrollNext:X,canScrollPrev:Y,containerNode:he,internalEngine:de,destroy:H,off:g,on:f,emit:x,plugins:ue,previousScrollSnap:ee,reInit:y,rootNode:te,scrollNext:$,scrollPrev:Q,scrollProgress:Z,scrollSnapList:q,scrollTo:B,selectedScrollSnap:W,slideNodes:ge,slidesInView:oe,slidesNotInView:fe};return z(t,i),setTimeout(()=>l.emit("init"),0),xe}Pw.globalOptions=void 0;function uL(e={},t=[]){const i=D.useRef(e),n=D.useRef(t),[s,a]=D.useState(),[o,r]=D.useState(),l=D.useCallback(()=>{s&&s.reInit(i.current,n.current)},[s]);return D.useEffect(()=>{oL(i.current,e)||(i.current=e,l())},[e,l]),D.useEffect(()=>{Fye(n.current,t)||(n.current=t,l())},[t,l]),D.useEffect(()=>{if(_ye()&&o){Pw.globalOptions=uL.globalOptions;const c=Pw(o,i.current,n.current);return a(c),()=>c.destroy()}else a(void 0)},[o,a]),[r,s]}uL.globalOptions=void 0;const P7=D.createContext(null);function KS(){const e=D.useContext(P7);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const dL=D.forwardRef(({isArticlesCarousel:e=!1,orientation:t="horizontal",opts:i,setApi:n,plugins:s,className:a,children:o,...r},l)=>{const[c,u]=uL({...i,axis:t==="horizontal"?"x":"y"},s),[h,f]=D.useState(!1),[g,x]=D.useState(!1),y=D.useCallback(N=>{N&&(f(N.canScrollPrev()),x(N.canScrollNext()))},[]),b=D.useCallback(()=>{u==null||u.scrollPrev()},[u]),v=D.useCallback(()=>{u==null||u.scrollNext()},[u]),S=D.useCallback(N=>{N.key==="ArrowLeft"?(N.preventDefault(),b()):N.key==="ArrowRight"&&(N.preventDefault(),v())},[b,v]);return D.useEffect(()=>{!u||!n||n(u)},[u,n]),D.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),d.jsx(P7.Provider,{value:{carouselRef:c,api:u,opts:i,orientation:t||((i==null?void 0:i.axis)==="y"?"vertical":"horizontal"),scrollPrev:b,scrollNext:v,canScrollPrev:h,canScrollNext:g,isArticlesCarousel:e},children:d.jsx("div",{ref:l,onKeyDownCapture:S,className:k("relative",a),role:"region","aria-roledescription":"carousel",...r,children:o})})});dL.displayName="Carousel";const hL=D.forwardRef(({className:e,isVisible:t,...i},n)=>{const{deviceType:s}=ve(),{carouselRef:a,orientation:o,isArticlesCarousel:r}=KS();return d.jsx("div",{ref:a,className:k(!t&&"overflow-hidden"),children:d.jsx("div",{ref:n,className:k("flex",o==="horizontal"?{web:"-ml-4",medium:"-ml-4",mobile:r?"":"-ml-4"}[s]:"-mt-[0.4195em] flex-col",e),...i})})});hL.displayName="CarouselContent";const el=D.forwardRef(({className:e,...t},i)=>{const{orientation:n}=KS();return d.jsx("div",{ref:i,role:"group","aria-roledescription":"slide",className:k("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});el.displayName="CarouselItem";const z7=D.forwardRef(({className:e,...t},i)=>{const{orientation:n,scrollPrev:s,canScrollPrev:a}=KS(),o=le(ze),{deviceType:r}=ve();return d.jsxs("button",{ref:i,className:k("group absolute origin-center rotate-180 rounded-full outline-none",n==="horizontal"?"top-1/2 -translate-y-1/2 translate-x-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",!a&&"opacity-50",e),disabled:!a,onClick:s,...t,children:[d.jsx(Cn,{loading:"eager",className:k("h-[1em] w-[1em]",{mobile:"origin-right scale-[0.6]"}[r],o===F?"text-earth-black group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-net-icon":"text-alien-white group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-net-icon")}),d.jsx("span",{className:"sr-only",children:"Previous slide"})]})});z7.displayName="CarouselPrevious";const _7=D.forwardRef(({className:e,...t},i)=>{const{orientation:n,scrollNext:s,canScrollNext:a}=KS(),o=le(ze),{deviceType:r}=ve();return d.jsxs("button",{ref:i,className:k("group absolute rounded-full outline-none",n==="horizontal"?"top-1/2 -translate-x-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",!a&&"opacity-50",e),disabled:!a,onClick:s,...t,children:[d.jsx(Cn,{loading:"eager",className:k("h-[1em] w-[1em]",{mobile:"origin-right scale-[0.6]"}[r],o===F?"text-earth-black group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-net-icon":"text-alien-white group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-net-icon")}),d.jsx("span",{className:"sr-only",children:"Next slide"})]})});_7.displayName="CarouselNext";const F7=({cards:e,className:t,activeTranslation:i})=>{const{deviceType:n}=ve(),s=le(C2),[a,o]=D.useState(!1),[r,l]=D.useState(!1),[c,u]=D.useState(!1),[h,f]=D.useState(!1),[g,x]=D.useState(!1),[y,b]=D.useState(!1);return D.useEffect(()=>{s||(o(!1),l(!1),u(!1),f(!1),x(!1),b(!1))},[s]),d.jsxs("div",{className:k("flex flex-col",t),children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(Lf,{active:a,setActiveCard:o,children:d.jsx("img",{loading:"eager",src:e[0],className:k("transition-all",a&&"absolute -bottom-[75%] left-[165%] h-auto max-w-none -translate-x-1/2 brightness-125",{web:a&&"w-[15em]",medium:a&&"w-[10em]",mobile:a&&"w-[calc(var(--vw)*45)]"}[n],a&&i)})}),d.jsx(Lf,{active:r,setActiveCard:l,className:"!aspect-[0.9156201] !w-[33%]",children:d.jsx("img",{loading:"eager",src:e[1],className:k("transition-all",r&&"absolute -bottom-[49%] left-[51%] h-auto max-w-none -translate-x-1/2 brightness-125",{web:r&&"w-[15em]",medium:r&&"w-[10em]",mobile:r&&"w-[calc(var(--vw)*45)]"}[n],r&&i)})}),d.jsx(Lf,{active:c,setActiveCard:u,children:d.jsx("img",{loading:"eager",src:e[2],className:k("transition-all",c&&"absolute -bottom-[75%] -left-[67%] h-auto max-w-none -translate-x-1/2 brightness-125",{web:c&&"w-[15em]",medium:c&&"w-[10em]",mobile:c&&"w-[calc(var(--vw)*45)]"}[n],c&&i)})})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Lf,{active:h,setActiveCard:f,children:d.jsx("img",{loading:"eager",src:e[3],className:k("transition-all",h&&"absolute bottom-[40%] left-[165%] h-auto max-w-none -translate-x-1/2 brightness-125",{web:h&&"w-[15em]",medium:h&&"w-[10em]",mobile:h&&"w-[calc(var(--vw)*45)]"}[n],h&&i)})}),d.jsx(Lf,{active:g,setActiveCard:x,children:d.jsx("img",{loading:"eager",src:e[4],className:k("transition-all",g&&"absolute bottom-[40%] left-[50%] h-auto max-w-none -translate-x-1/2 brightness-125",{web:g&&"w-[15em]",medium:g&&"w-[10em]",mobile:g&&"w-[calc(var(--vw)*45)]"}[n],g&&i)})}),d.jsx(Lf,{active:y,setActiveCard:b,children:d.jsx("img",{loading:"eager",src:e[5],className:k("transition-all",y&&"absolute -left-[67%] bottom-[40%] h-auto max-w-none -translate-x-1/2 brightness-125",{web:y&&"w-[15em]",medium:y&&"w-[10em]",mobile:y&&"w-[calc(var(--vw)*45)]"}[n],y&&i)})})]})]})},Lf=({active:e,setActiveCard:t,className:i,children:n})=>{const{deviceType:s}=ve(),a=D.useRef(null),o=D.useRef(e),r=xt(C2);return D.useEffect(()=>{var l;!e&&o.current===!0&&((l=a==null?void 0:a.current)==null||l.focus()),o.current=e},[e]),d.jsx("button",{ref:a,className:k("pointer-events-auto relative aspect-square w-[30%] shrink-0 p-0 outline-none",{web:"brightness-[0.6] hover:!brightness-100 focus:!brightness-100"}[s],e&&"z-[110] !brightness-100",i),onClick:()=>{t(!0),r(!0)},children:n})},yxe=({clans:e,current:t,activeTranslation:i})=>{const n=le(Ee);return e.map((s,a)=>d.jsx(el,{className:k("basis-100 flex items-center justify-center transition-opacity duration-500",t!==a+1&&"invisible opacity-0"),children:d.jsx(F7,{cards:[...s.map(o=>n[o])],activeTranslation:i})},a))},xxe=({theme:e})=>{const{i18n:t}=je();return d.jsx(B7,{theme:e,href:rt(t.language)==="en"?gr.whitepaperEN:gr.whitepaperES,children:d.jsx("p",{className:k("z-10 font-orbitron text-[0.5244em] font-black tracking-widest"),children:"Whitepaper"})})},B7=({theme:e,href:t,children:i,disabled:n})=>{const s=le(Ee),[a,o]=D.useState(!1);return d.jsx("a",{tabIndex:n?-1:0,href:t,target:"_blank",rel:"noreferrer",className:k("pointer-events-auto flex h-[2.0976em] w-fit items-center outline-none",n&&"cursor-not-allowed"),onMouseEnter:()=>!n&&o(!0),onMouseLeave:()=>!n&&o(!1),onFocus:()=>!n&&o(!0),onBlur:()=>!n&&o(!1),onClick:n?r=>r.preventDefault():void 0,children:a?d.jsxs("span",{className:k("relative flex items-center justify-center text-black"),children:[d.jsx("img",{loading:"eager",src:e===F?s.earthbuttonon:s.alienbuttonon,className:k("absolute !h-auto w-[8.3905em] max-w-none")}),i]}):d.jsxs("span",{className:k("relative flex items-center justify-center text-white",n&&"cursor-not-allowed"),children:[d.jsx("img",{loading:"eager",src:e===F?s.earthbutton:s.alienbutton,className:k("absolute !h-auto w-[8.3905em] max-w-none")}),i]})})};var bxe=D.createContext(void 0);function vxe(e){const t=D.useContext(bxe);return e||t||"ltr"}function wxe(e,[t,i]){return Math.min(i,Math.max(t,e))}function Sxe(e,t){return D.useReducer((i,n)=>t[i][n]??i,e)}var pL="ScrollArea",[V7,HBe]=Ab(pL),[Nxe,Ro]=V7(pL),U7=D.forwardRef((e,t)=>{const{__scopeScrollArea:i,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[r,l]=D.useState(null),[c,u]=D.useState(null),[h,f]=D.useState(null),[g,x]=D.useState(null),[y,b]=D.useState(null),[v,S]=D.useState(0),[N,M]=D.useState(0),[I,C]=D.useState(!1),[L,O]=D.useState(!1),P=pi(t,V=>l(V)),z=vxe(s);return d.jsx(Nxe,{scope:i,type:n,dir:z,scrollHideDelay:a,scrollArea:r,viewport:c,onViewportChange:u,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:I,onScrollbarXEnabledChange:C,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:L,onScrollbarYEnabledChange:O,onCornerWidthChange:S,onCornerHeightChange:M,children:d.jsx(Ht.div,{dir:z,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});U7.displayName=pL;var G7="ScrollAreaViewport",W7=D.forwardRef((e,t)=>{const{__scopeScrollArea:i,children:n,nonce:s,...a}=e,o=Ro(G7,i),r=D.useRef(null),l=pi(t,r,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(Ht.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});W7.displayName=G7;var wl="ScrollAreaScrollbar",H7=D.forwardRef((e,t)=>{const{forceMount:i,...n}=e,s=Ro(wl,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,r=e.orientation==="horizontal";return D.useEffect(()=>(r?a(!0):o(!0),()=>{r?a(!1):o(!1)}),[r,a,o]),s.type==="hover"?d.jsx(Mxe,{...n,ref:t,forceMount:i}):s.type==="scroll"?d.jsx(Ixe,{...n,ref:t,forceMount:i}):s.type==="auto"?d.jsx(Y7,{...n,ref:t,forceMount:i}):s.type==="always"?d.jsx(fL,{...n,ref:t}):null});H7.displayName=wl;var Mxe=D.forwardRef((e,t)=>{const{forceMount:i,...n}=e,s=Ro(wl,e.__scopeScrollArea),[a,o]=D.useState(!1);return D.useEffect(()=>{const r=s.scrollArea;let l=0;if(r){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return r.addEventListener("pointerenter",c),r.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),r.removeEventListener("pointerenter",c),r.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(xd,{present:i||a,children:d.jsx(Y7,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Ixe=D.forwardRef((e,t)=>{const{forceMount:i,...n}=e,s=Ro(wl,e.__scopeScrollArea),a=e.orientation==="horizontal",o=qS(()=>l("SCROLL_END"),100),[r,l]=Sxe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return D.useEffect(()=>{if(r==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[r,s.scrollHideDelay,l]),D.useEffect(()=>{const c=s.viewport,u=a?"scrollLeft":"scrollTop";if(c){let h=c[u];const f=()=>{const g=c[u];h!==g&&(l("SCROLL"),o()),h=g};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[s.viewport,a,l,o]),d.jsx(xd,{present:i||r!=="hidden",children:d.jsx(fL,{"data-state":r==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:At(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:At(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Y7=D.forwardRef((e,t)=>{const i=Ro(wl,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=D.useState(!1),r=e.orientation==="horizontal",l=qS(()=>{if(i.viewport){const c=i.viewport.offsetWidth<i.viewport.scrollWidth,u=i.viewport.offsetHeight<i.viewport.scrollHeight;o(r?c:u)}},10);return Em(i.viewport,l),Em(i.content,l),d.jsx(xd,{present:n||a,children:d.jsx(fL,{"data-state":a?"visible":"hidden",...s,ref:t})})}),fL=D.forwardRef((e,t)=>{const{orientation:i="vertical",...n}=e,s=Ro(wl,e.__scopeScrollArea),a=D.useRef(null),o=D.useRef(0),[r,l]=D.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=q7(r.viewport,r.content),u={...n,sizes:r,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,g){return Exe(f,o.current,r,g)}return i==="horizontal"?d.jsx(Txe,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,g=M_(f,r,s.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):i==="vertical"?d.jsx(Axe,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,g=M_(f,r);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Txe=D.forwardRef((e,t)=>{const{sizes:i,onSizesChange:n,...s}=e,a=Ro(wl,e.__scopeScrollArea),[o,r]=D.useState(),l=D.useRef(null),c=pi(t,l,a.onScrollbarXChange);return D.useEffect(()=>{l.current&&r(getComputedStyle(l.current))},[l]),d.jsx(K7,{"data-orientation":"horizontal",...s,ref:c,sizes:i,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ZS(i)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),Q7(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:_w(o.paddingLeft),paddingEnd:_w(o.paddingRight)}})}})}),Axe=D.forwardRef((e,t)=>{const{sizes:i,onSizesChange:n,...s}=e,a=Ro(wl,e.__scopeScrollArea),[o,r]=D.useState(),l=D.useRef(null),c=pi(t,l,a.onScrollbarYChange);return D.useEffect(()=>{l.current&&r(getComputedStyle(l.current))},[l]),d.jsx(K7,{"data-orientation":"vertical",...s,ref:c,sizes:i,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ZS(i)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),Q7(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:_w(o.paddingTop),paddingEnd:_w(o.paddingBottom)}})}})}),[kxe,$7]=V7(wl),K7=D.forwardRef((e,t)=>{const{__scopeScrollArea:i,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:r,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...f}=e,g=Ro(wl,i),[x,y]=D.useState(null),b=pi(t,P=>y(P)),v=D.useRef(null),S=D.useRef(""),N=g.viewport,M=n.content-n.viewport,I=Gi(u),C=Gi(l),L=qS(h,10);function O(P){if(v.current){const z=P.clientX-v.current.left,V=P.clientY-v.current.top;c({x:z,y:V})}}return D.useEffect(()=>{const P=z=>{const V=z.target;(x==null?void 0:x.contains(V))&&I(z,M)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[N,x,M,I]),D.useEffect(C,[n,C]),Em(x,L),Em(g.content,L),d.jsx(kxe,{scope:i,scrollbar:x,hasThumb:s,onThumbChange:Gi(a),onThumbPointerUp:Gi(o),onThumbPositionChange:C,onThumbPointerDown:Gi(r),children:d.jsx(Ht.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:At(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=x.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:At(e.onPointerMove,O),onPointerUp:At(e.onPointerUp,P=>{const z=P.target;z.hasPointerCapture(P.pointerId)&&z.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=S.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),zw="ScrollAreaThumb",Z7=D.forwardRef((e,t)=>{const{forceMount:i,...n}=e,s=$7(zw,e.__scopeScrollArea);return d.jsx(xd,{present:i||s.hasThumb,children:d.jsx(Cxe,{ref:t,...n})})}),Cxe=D.forwardRef((e,t)=>{const{__scopeScrollArea:i,style:n,...s}=e,a=Ro(zw,i),o=$7(zw,i),{onThumbPositionChange:r}=o,l=pi(t,h=>o.onThumbChange(h)),c=D.useRef(),u=qS(()=>{c.current&&(c.current(),c.current=void 0)},100);return D.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(u(),!c.current){const g=Oxe(h,r);c.current=g,r()}};return r(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,u,r]),d.jsx(Ht.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:At(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),x=h.clientX-g.left,y=h.clientY-g.top;o.onThumbPointerDown({x,y})}),onPointerUp:At(e.onPointerUp,o.onThumbPointerUp)})});Z7.displayName=zw;var mL="ScrollAreaCorner",Dxe=D.forwardRef((e,t)=>{const i=Ro(mL,e.__scopeScrollArea),n=!!(i.scrollbarX&&i.scrollbarY);return i.type!=="scroll"&&n?d.jsx(Lxe,{...e,ref:t}):null});Dxe.displayName=mL;var Lxe=D.forwardRef((e,t)=>{const{__scopeScrollArea:i,...n}=e,s=Ro(mL,i),[a,o]=D.useState(0),[r,l]=D.useState(0),c=!!(a&&r);return Em(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Em(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?d.jsx(Ht.div,{...n,ref:t,style:{width:a,height:r,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _w(e){return e?parseInt(e,10):0}function q7(e,t){const i=e/t;return isNaN(i)?0:i}function ZS(e){const t=q7(e.viewport,e.content),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-i)*t;return Math.max(n,18)}function Exe(e,t,i,n="ltr"){const s=ZS(i),a=s/2,o=t||a,r=s-o,l=i.scrollbar.paddingStart+o,c=i.scrollbar.size-i.scrollbar.paddingEnd-r,u=i.content-i.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return X7([l,c],h)(e)}function M_(e,t,i="ltr"){const n=ZS(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,r=a-n,l=i==="ltr"?[0,o]:[o*-1,0],c=wxe(e,l);return X7([0,o],[0,r])(c)}function X7(e,t){return i=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(i-e[0])}}function Q7(e,t){return e>0&&e<t}var Oxe=(e,t=()=>{})=>{let i={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=i.left!==a.left,r=i.top!==a.top;(o||r)&&t(),i=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function qS(e,t){const i=Gi(e),n=D.useRef(0);return D.useEffect(()=>()=>window.clearTimeout(n.current),[]),D.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(i,t)},[i,t])}function Em(e,t){const i=Gi(t);Oo(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(i)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,i])}var jxe=U7,Rxe=W7,Pxe=H7,zxe=Z7;const $a=({children:e,onScroll:t,scrollParent:i,isBody:n=!1,isGlass:s,scrollClassName:a,hideScrollBar:o=!1,className:r,type:l="auto",fixedTheme:c,initialScroll:u})=>{const h=le(ze),{deviceType:f}=ve(),g=D.useRef(null),x=c??h;return D.useEffect(()=>{const y=()=>{if(t&&g.current){const{scrollTop:v,scrollHeight:S,clientHeight:N}=g.current,M=v/(S-N);t({scrollTop:v,scrollProgress:M})}},b=g.current;return b==null||b.addEventListener("scroll",y),()=>b==null?void 0:b.removeEventListener("scroll",y)},[t]),D.useEffect(()=>{if(g.current){const{scrollHeight:y,clientHeight:b}=g.current;g.current.scrollTop=(y-b)*u}},[u,g.current]),d.jsxs(jxe,{className:"flex h-full w-full overflow-hidden [--scrollbar-size:0.45rem]",type:l,children:[d.jsx(Rxe,{tabIndex:{web:0,medium:-1}[f],ref:y=>{g.current=y,i&&(i.current=y)},className:k("!flex",{web:"-outline-offset-[1px] focus:outline focus:outline-1"}[f],x===F?"focus:outline-black/50":"focus:outline-white/50"),asChild:!0,children:d.jsx("div",{className:k("h-full",{"w-[calc(100%-var(--scrollbar-size))]":!o,"w-full":o},r),children:e})}),d.jsx(Pxe,{orientation:"vertical",className:k("z-50 flex w-[--scrollbar-size] touch-none select-none py-[0.375rem] pl-[2px] pr-[1px]",{hidden:o,"!pt-[6rem]":n&&f==="web","!pt-[5rem]":n&&f==="medium","bg-[color:#BCA99A]":x===F,"bg-[color:#14011B88]":x===De},a),children:d.jsx(zxe,{className:k("relative flex-[1] rounded-[--scrollbar-size] hover:cursor-pointer",{"bg-[color:#00a90088]":x===F&&s,"bg-[color:#661a6988]":x===De&&s,"bg-[color:#643D21]":x===F&&!s,"bg-[color:#AF39BF88]":x===De&&!s})})})]})},Ka=({className:e,title:t,content:i,open:n,setOpen:s,contentWrapper:a,mode:o,children:r})=>{const l=D.useRef(null),c=le(ze),{deviceType:u}=ve();return E2(n,l),d.jsxs(NG,{open:n,onOpenChange:s,children:[!!r&&d.jsx(MG,{asChild:!0,children:r}),d.jsxs(a,{theme:c,className:k("scrollable-frame",{medium:"h-full !w-full !max-w-none",mobile:"h-full !w-full !max-w-none"}[u]),children:[d.jsx(U2,{className:"hidden"}),d.jsx(G2,{className:"hidden"}),d.jsxs(Ai,{ref:l,className:k("p-8 !backdrop-blur-xl",u!=="web"&&"h-full w-full !rounded-none",{"!bg-opacity-[0.5] !text-earth-black saturate-[0.6]":c===F,"bg-opacity-20 !text-alien-white":c===De},e),mode:o||(c===F?"light":"dark"),theme:c,children:[!!t&&d.jsx(qe,{className:"mt-2 font-nunito-sans text-2xl font-bold leading-tight tracking-wide",text:t,theme:c}),i]})]})]})},vd=D.forwardRef(({title:e,description:t,backgroundImage:i,side:n,...s},a)=>{const o=le(ze),{deviceType:r}=ve(),{t:l}=je();return d.jsxs("button",{ref:a,className:k("relative flex h-full w-full flex-col items-center outline-none",{web:"px-[0.8391em] py-[0.8391em]",medium:"px-[0.8391em] py-[0.8391em]",mobile:"px-[0.8391em] py-[0.8391em] !pl-[0.3em]"}[r]),...s,children:[i,d.jsx(qe,{text:e,className:k("w-max scale-[0.65] font-nunito-sans font-black leading-none",{web:"text-[1.2586em]",medium:"text-[1.2586em]",mobile:"text-mb-lg"}[r]),theme:o}),d.jsx(qe,{text:t,className:k("font-nunito leading-tight",{left:"self-start text-left",right:"self-end text-right"}[n],{web:"mt-[0.8em] text-[0.4405em]",medium:"mt-[0.6em] text-[0.5em]",mobile:k("text-mb-xs mt-[0.4em]",{[F]:"font-semibold"}[o])}[r]),theme:o}),d.jsx(qe,{text:l("home.read-article"),className:k("mt-auto font-nunito leading-tight",{left:"self-start",right:"self-end"}[n],{web:"text-[0.3461em]",medium:"text-[0.4em]",mobile:"text-mb-2xs"}[r]),theme:o})]})});vd.displayName="Article Trigger Button";const EC=({trigger:e,theme:t})=>{const i=le(Ee),{deviceType:n}=ve(),{i18n:s,t:a}=je(),[o,r]=D.useState(!1),l=xt(ml),c=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[n]),text:"Investment Opportunities in Univearth",theme:t}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",t===F&&"font-medium"),lang:rt(s.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["The world of ",d.jsx("span",{className:"font-extrabold",children:"cryptocurrencies"})," ","is booming, driven by the rapid growth of Bitcoin and a greater understanding of it globally. This presents significant opportunities for investors who want to participate in innovative projects from their early stages. ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),", developed by Oblivion Mechanics, offers a great"," ",d.jsx("span",{className:"font-extrabold",children:"early investment opportunity"})," ","with the potential for a substantial return."]}),d.jsxs("p",{className:"my-2 text-center",children:["For full information read the"," ",d.jsxs("a",{href:rt(s.language)==="en"?gr.whitepaperEN:gr.whitepaperES,target:"_blank",rel:"norref noopener",className:k("outline-none",zt()?t===F?"hover:text-shadow-earth-option-hover focus:text-shadow-earth-option-hover":"hover:text-shadow-alien-option-hover focus:text-shadow-alien-option-hover":t===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-net-icon":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-net-icon"),children:[d.jsx("span",{className:"font-extrabold",children:"Whitepaper"}),"."]})]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Univearth's Funding Stages"}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth's ",d.jsx("span",{className:"font-extrabold",children:"funding plan"})," ","is designed to advance the"," ",d.jsx("span",{className:"font-extrabold",children:"development of the game"}),", offering investors a unique opportunity at each stage."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"1st Stage:"})," An initial presale of ",d.jsx("span",{className:"font-extrabold",children:"3,024 NFT"})," featuring"," ",d.jsx("span",{className:"font-extrabold",children:"72 unique characters"})," to be used within the game will take place. These characters are exclusive to the presale and will not be available again unless their owners decide to sell them. The funds raised at this stage will be used to"," ",d.jsx("span",{className:"font-extrabold",children:"develop a closed beta"})," for the game's most important section: battles on the board using card decks."]}),d.jsxs("p",{className:"my-2 indent-10",children:["This first stage also enables the formation of an"," ",d.jsx("span",{className:"font-extrabold",children:"early community"})," of committed players and investors. As the project progresses, game updates will be shared transparently."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"2nd Stage:"})," This will include new ",d.jsx("span",{className:"font-extrabold",children:"exclusive NFT"})," and the sale of ",d.jsx("span",{className:"font-extrabold",children:"tokens"}),". These tokens will not be used recurrently in the game but will be used to access"," ",d.jsx("span",{className:"font-extrabold",children:"auctions"})," for unique assets, which will be held during the game's development. In this stage, the funds will be crucial to"," ",d.jsx("span",{className:"font-extrabold",children:"complete the game"})," with the highest quality and to organize the launch timeline."]}),d.jsxs("p",{className:"my-2 indent-10",children:["It is important to note that if"," ",d.jsx("span",{className:"font-extrabold",children:"additional stages"})," or pre-sales are needed, it will depend on the success of previous ones and the project's needs. At all times, no repeated assets will be generated, thus maintaining the investment and trust of those who participated in the earlier stages."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Benefits of Investing Early in Univearth"}),d.jsxs("p",{className:"my-2 indent-10",children:["Investing in the early stages of Univearth offers significant advantages that can translate into highly"," ",d.jsx("span",{className:"font-extrabold",children:"attractive returns"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["First, investors would gain access to"," ",d.jsx("span",{className:"font-extrabold",children:"unique and scarce assets"}),", which increases their potential value in the game's marketplace. In a conservative scenario where the game reaches just 10,000 daily players and considering each player uses a deck of 16 cards, the initial 3,000 NFT would represent less than 2% of the total asset availability. As the project progresses and demonstrates its commitment and quality, these assets will"," ",d.jsx("span",{className:"font-extrabold",children:"appreciate"})," proportionally."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Another key point is that"," ",d.jsx("span",{className:"font-extrabold",children:"early-stage investors"})," are not competing in a pyramid scheme, as they do not depend on the entry of new investors to gain benefits nor do they need to be the first to sell to avoid being among those who lose money (as is the case in pyramid schemes). In Univearth, the value of assets is based on their"," ",d.jsx("span",{className:"font-extrabold",children:"real utility"})," within the game and their demand among players, not on promises of magical gains or unsustainable returns."]}),d.jsxs("p",{className:"my-2 indent-10",children:["But what ",d.jsx("span",{className:"font-extrabold",children:"utility"})," will the NFT have before the"," ",d.jsx("span",{className:"font-extrabold",children:"game's launch"}),"? During the game's development phase, before the second public presale, the NFT will act as keys to access more unique rewards for"," ",d.jsx("span",{className:"font-extrabold",children:"holding"})," them in your wallet. From exclusive ",d.jsx("span",{className:"font-extrabold",children:"auctions"})," to acquiring NFT of other unique assets through"," ",d.jsx("span",{className:"font-extrabold",children:"events and airdrops"}),". The possibilities of benefiting from NFT before the game's launch are endless."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Comparison with Other Investment Opportunities"}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Investments in Univearth"})," can be compared to real estate investments. Just as in real estate, investors acquire properties before they are built and expect a significant ",d.jsx("span",{className:"font-extrabold",children:"increase in value"})," ","upon completion, in Univearth, investors acquire game assets before"," ",d.jsx("span",{className:"font-extrabold",children:"launch"}),", with the goal of seeing a rise in their value once the game is fully developed."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Unlike many ",d.jsx("span",{className:"font-extrabold",children:"blockchain game"})," ","projects that encourage investors to hold their assets to prevent price drops in ",d.jsx("span",{className:"font-extrabold",children:"pyramid schemes"}),", Univearth offers complete freedom to its investors. Each one can decide when and how to sell their assets, without the risk of value collapse or pressure from third-party decisions."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Furthermore, by not relying on a token generation system or token burning mechanisms, risks associated with extreme volatility and speculative bubbles often seen in projects with complex tokenomics are eliminated. In Univearth, value lies in the"," ",d.jsx("span",{className:"font-extrabold",children:"real utility"})," and genuine demand for the assets within a quality game."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"How to Participate in the Funding Stages"}),d.jsxs("p",{className:"my-2 indent-10",children:["If you want to take advantage of this opportunity, it is essential to join the ",d.jsx("span",{className:"font-extrabold",children:"Univearth community"})," ","by following our social media channels and joining the Discord server. Here, you will stay informed about announcements and details regarding the pre-sales and development stages."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Pre-sales"})," will be announced well in advance so that everyone can get informed and participate. There are no limitations on investment, and thanks to the use of blockchain technology, geographical barriers are eliminated, allowing"," ",d.jsx("span",{className:"font-extrabold",children:"participation"})," from anywhere in the world."]}),d.jsxs("p",{className:"my-2 indent-10",children:["All of this, of course, using recognized and secure"," ",d.jsx("span",{className:"font-extrabold",children:"blockchain platforms"})," to carry out transactions, ensuring fund protection and trust in the process. In the future, we will introduce a dedicated marketplace on the Univearth website where investors and players can manage their assets more easily."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Commitment to Transparency and Trust"}),d.jsxs("p",{className:"my-2 indent-10",children:["We know there are"," ",d.jsx("span",{className:"font-extrabold",children:"prejudices and skepticism"})," ","surrounding indie projects and blockchain-based funding initiatives. However, in Univearth, we seek to break these paradigms and prove that it is possible to carry out an"," ",d.jsx("span",{className:"font-extrabold",children:"ethical, transparent, and successful project"})," ","without resorting to deceptive or unsustainable practices."]}),d.jsxs("p",{className:"my-2 indent-10",children:["At Oblivion Mechanics, we understand that transparency is key to building and maintaining the"," ",d.jsx("span",{className:"font-extrabold",children:"trust"})," of our investors and players. That is why all financial movements related to pre-sales and funding are public and verifiable through the blockchain."]}),d.jsxs("p",{className:"my-2 indent-10",children:["We are committed to constantly"," ",d.jsx("span",{className:"font-extrabold",children:"communicating"})," project progress, sharing updates, achievements, and challenges through our social media and official channels. We encourage active community participation, offering spaces for questions, suggestions, and feedback."]}),d.jsxs("p",{className:"my-2 indent-10",children:["It is important to note that the funds raised will be entirely dedicated to the"," ",d.jsx("span",{className:"font-extrabold",children:"development of Univearth"}),". Partners and team members will not receive direct profits from the pre-sales; rather, their return will come from the game's success once it is on the market and generating its own income. This aligns our interests with those of investors and players, and demonstrates our commitment to the project's"," ",d.jsx("span",{className:"font-extrabold",children:"long-term"})," success."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Call to Investors"}),d.jsxs("p",{className:"my-2 indent-10",children:["We invite investors to analyze our"," ",d.jsx("span",{className:"font-extrabold",children:"proposal"})," to consider the real value we offer and the solidity of our project. We do not promise magical gains or depend on poorly used technologies; we offer the opportunity to be part of a project that aims to"," ",d.jsx("span",{className:"font-extrabold",children:"revolutionize the mobile gaming industry"}),", supported by solid fundamentals and a clear vision."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth"})," represents a"," ",d.jsx("span",{className:"font-extrabold",children:"unique opportunity"})," for investors who want to participate in a high-potential project from its"," ",d.jsx("span",{className:"font-extrabold",children:"early stages"}),". By investing early, not only do you gain access to exclusive assets, but you also contribute to the development of a game that aspires to change how mobile games are conceived and enjoyed."]}),d.jsxs("p",{className:"my-2 indent-10",children:["We invite you to join our community, follow our official channels, and stay tuned for"," ",d.jsx("span",{className:"font-extrabold",children:"upcoming announcements"})," about pre-sales. Your investment can make a difference and be a key part in shaping the future of indie gaming."]})]})]}),u=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[n]),text:"Oportunidades de Inversin en Univearth",theme:t}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",t===F&&"font-medium"),lang:rt(s.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["El mundo de las ",d.jsx("span",{className:"font-extrabold",children:"criptomonedas"})," ","se encuentra en auge, debido al fuerte crecimiento de Bitcoin y a un mayor conocimiento del mismo globalmente. Esto presenta grandes oportunidades para aquellos inversores que quieran participar en proyectos innovadores desde sus primeras etapas."," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),", desarrollado por Oblivion Mechanics, ofrece una gran"," ",d.jsx("span",{className:"font-extrabold",children:"oportunidad de inversin temprana"}),", de la cual obtener un retorno significativo."]}),d.jsxs("p",{className:"my-2 text-center",children:["Para ver la informacin completa consulta el"," ",d.jsxs("a",{tabIndex:2,href:rt(s.language)==="en"?gr.whitepaperEN:gr.whitepaperES,target:"_blank",rel:"norref noopener",className:k("outline-none",zt()?t===F?"hover:text-shadow-earth-option-hover focus:text-shadow-earth-option-hover":"hover:text-shadow-alien-option-hover focus:text-shadow-alien-option-hover":t===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-net-icon":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-net-icon"),children:[d.jsx("span",{className:"font-extrabold",children:"Whitepaper"}),"."]})]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Las Etapas de Financiamiento de Univearth"}),d.jsxs("p",{className:"my-2 indent-10",children:["El ",d.jsx("span",{className:"font-extrabold",children:"plan de financiacin"})," de Univearth est diseado para hacer progresar el"," ",d.jsx("span",{className:"font-extrabold",children:"desarrollo del juego"}),", ofreciendo a los inversores una oportunidad nica en cada etapa."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"1 Etapa:"})," se realizar una preventa inicial de ",d.jsx("span",{className:"font-extrabold",children:"3,024 NFT"})," ","con ",d.jsx("span",{className:"font-extrabold",children:"72 personajes nicos"})," para usar dentro del juego. Estos personajes son exclusivos de la preventa y no volvern a estar disponibles de otra manera a menos que sus dueos decidan venderlos. Los fondos recaudados en esta etapa se destinarn al"," ",d.jsx("span",{className:"font-extrabold",children:"desarrollo de una beta cerrada"})," ","sobre la seccin ms importante del juego: las batallas en el tablero utilizando mazos de cartas."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Esta primera etapa tambin permite la formacin de una"," ",d.jsx("span",{className:"font-extrabold",children:"comunidad temprana"})," de jugadores e inversores comprometidos. A medida que el proyecto avance, se compartirn de forma transparente los avances del juego."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"2 Etapa:"})," esta incluir nuevos"," ",d.jsx("span",{className:"font-extrabold",children:"NFT exclusivos"})," y la venta de"," ",d.jsx("span",{className:"font-extrabold",children:"tokens"}),". Estos tokens no sern recurrentemente utilizados dentro del juego, sino que servirn para acceder a ",d.jsx("span",{className:"font-extrabold",children:"subastas"})," de activos nicos, que se realizarn mientras el juego se desarrolla. En esta etapa, los fondos sern decisivos para"," ",d.jsx("span",{className:"font-extrabold",children:"completar el juego"})," con la mxima calidad y para organizar los tiempos de lanzamiento."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Es importante destacar que si fueran necesarias etapas o"," ",d.jsx("span",{className:"font-extrabold",children:"preventas adicionales"}),", depender del xito de las anteriores y de las necesidades del proyecto. En todo momento, no se generarn activos repetidos, manteniendo as la inversin y la confianza de quienes participaron en las primeras etapas."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Beneficios de Invertir Temprano en Univearth"}),d.jsxs("p",{className:"my-2 indent-10",children:["Invertir en las primeras etapas de Univearth ofrece ventajas significativas que pueden traducirse en"," ",d.jsx("span",{className:"font-extrabold",children:"retornos de inversin"})," muy atractivos."]}),d.jsxs("p",{className:"my-2 indent-10",children:["En primer lugar, los inversores accederan a"," ",d.jsx("span",{className:"font-extrabold",children:"activos nicos y escasos"}),", lo que aumenta su valor potencial en el mercado del juego. En un escenario conservador donde el juego alcance apenas 10,000 jugadores diarios y considerando que cada jugador utiliza un mazo de 16 cartas, los 3,000 NFT iniciales representaran menos del 2% de la disponibilidad total de activos. A medida que el proyecto avance, y demuestre su compromiso y calidad, los activos se"," ",d.jsx("span",{className:"font-extrabold",children:"revalorizarn"})," ","proporcionalmente."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Otro punto clave es que los"," ",d.jsx("span",{className:"font-extrabold",children:"inversores en etapas tempranas"})," ","no compiten en un esquema piramidal, ya que no dependen de la entrada de nuevos inversores para obtener beneficios ni deben estar atentos para ser los primeros en vender y no quedar entre los participantes perdedores de dinero (es lo que sucede en los esquemas piramidales). En Univearth, el valor de los activos se basa en su"," ",d.jsx("span",{className:"font-extrabold",children:"utilidad real"})," dentro del juego y en su demanda entre los jugadores, no en promesas de ganancias mgicas o retornos insostenibles."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Pero, qu ",d.jsx("span",{className:"font-extrabold",children:"utilidad"})," tendrn los NFT hasta el"," ",d.jsx("span",{className:"font-extrabold",children:"lanzamiento del juego"}),"? Durante la etapa de desarrollo del juego, antes de la segunda preventa pblica, los NFT sern la llave para acceder a ms premios nicos al"," ",d.jsx("span",{className:"font-extrabold",children:"mantenerlos (hold)"})," en la billetera. Desde acceso a"," ",d.jsx("span",{className:"font-extrabold",children:"subastas"})," exclusivas, hasta adquirir NFT de otros activos nicos en"," ",d.jsx("span",{className:"font-extrabold",children:"eventos y airdrops"}),". Las posibilidades de aprovechar los NFT hasta el lanzamiento del juego son infinitas."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Comparacin con Otras Oportunidades de Inversin"}),d.jsxs("p",{className:"my-2 indent-10",children:["El funcionamiento de las"," ",d.jsx("span",{className:"font-extrabold",children:"inversiones en Univearth"})," puede compararse con la inversin en bienes races. As como en el sector inmobiliario los inversores adquieren propiedades antes de su construccin y esperan un"," ",d.jsx("span",{className:"font-extrabold",children:"aumento de valor"})," significativo al completarse, en Univearth los inversores adquieren activos del juego antes de su ",d.jsx("span",{className:"font-extrabold",children:"lanzamiento"}),", para obtener un aumento de valor una vez que el juego est desarrollado."]}),d.jsxs("p",{className:"my-2 indent-10",children:["A diferencia de muchos proyectos de"," ",d.jsx("span",{className:"font-extrabold",children:"juegos blockchain"})," que alientan a los inversores a mantener (hold) sus activos para evitar la cada de precios en"," ",d.jsx("span",{className:"font-extrabold",children:"esquemas piramidales"}),", Univearth ofrece una libertad total a sus inversores. Cada uno puede decidir cundo y cmo vender sus activos, sin riesgos de desmoronamiento del valor ni presiones por decisiones de terceros."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Adems, al no depender de un esquema de generacin de tokens revendibles ni de mecanismos de quema de tokens, se eliminan riesgos asociados a la volatilidad extrema y a las burbujas especulativas que suelen caracterizar a muchos proyectos basados en tokenomics complejos. En Univearth, el valor reside en la"," ",d.jsx("span",{className:"font-extrabold",children:"utilidad real"})," y la demanda genuina de los activos dentro de un juego de calidad."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Cmo Participar en las Etapas de Financiamiento"}),d.jsxs("p",{className:"my-2 indent-10",children:["Si quieres aprovechar esta oportunidad, es fundamental integrarse a la"," ",d.jsx("span",{className:"font-extrabold",children:"comunidad de Univearth"}),", siguiendo nuestras redes sociales y unindose al servidor de Discord. Aqu, se estar al tanto de los anuncios y detalles sobre las preventas y etapas de desarrollo."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Las ",d.jsx("span",{className:"font-extrabold",children:"preventas"})," se anunciarn con suficiente antelacin para que todos se puedan informar y participar. No existen limitaciones para invertir, y gracias a la utilizacin de la tecnologa blockchain, se eliminan las fronteras para poder ",d.jsx("span",{className:"font-extrabold",children:"participar"})," desde cualquier parte del mundo."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Todo esto por supuesto, empleando"," ",d.jsx("span",{className:"font-extrabold",children:"plataformas blockchain"})," ","reconocidas y seguras para llevar a cabo las transacciones, garantizar la proteccin de los fondos y la confianza en el proceso. En el futuro, introduciremos en la pgina web de Univearth un marketplace propio donde los inversores y jugadores puedan gestionar sus activos con mayor facilidad."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Compromiso con la Transparencia y la Confianza"}),d.jsxs("p",{className:"my-2 indent-10",children:["Sabemos que existen"," ",d.jsx("span",{className:"font-extrabold",children:"prejuicios y escepticismo"})," en torno a los proyectos indie y las iniciativas de financiamiento basadas en blockchain. Sin embargo, en Univearth buscamos romper con esos paradigmas y demostrar que es posible llevar adelante un"," ",d.jsx("span",{className:"font-extrabold",children:"proyecto tico, transparente y exitoso"})," ","sin recurrir a prcticas engaosas o insostenibles."]}),d.jsxs("p",{className:"my-2 indent-10",children:["En Oblivion Mechanics, entendemos que la transparencia es fundamental para construir y mantener la"," ",d.jsx("span",{className:"font-extrabold",children:"confianza"})," de nuestros inversores y jugadores. Por ello, todos los movimientos financieros relacionados con las preventas y financiamiento son pblicos y verificables a travs de la blockchain."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Nos comprometemos a ",d.jsx("span",{className:"font-extrabold",children:"comunicar"})," ","de manera constante los avances del proyecto, compartiendo actualizaciones, logros y desafos a travs de nuestras redes sociales y canales oficiales. Fomentamos la participacin activa de la comunidad, ofreciendo espacios para preguntas, sugerencias y retroalimentacin."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Es importante destacar que los fondos recaudados se destinarn ntegramente al"," ",d.jsx("span",{className:"font-extrabold",children:"desarrollo de Univearth"}),". Los socios y miembros del equipo no obtendrn ganancias directas de las preventas, sino que su retorno surgir del funcionamiento del juego una vez que est en el mercado y genere ingresos por s mismo. Esto alinea nuestros intereses con los de los inversores y jugadores, y demuestra nuestro compromiso con el xito a"," ",d.jsx("span",{className:"font-extrabold",children:"largo plazo"})," del proyecto."]}),d.jsx("h3",{className:k("my-3 font-bold",n==="mobile"?"text-center text-base":"text-lg"),children:"Llamada a los Inversores"}),d.jsxs("p",{className:"my-2 indent-10",children:["Invitamos a los inversores a analizar nuestra"," ",d.jsx("span",{className:"font-extrabold",children:"propuesta"})," para que consideren el valor real que ofrecemos y la solidez de nuestro proyecto. No prometemos ganancias mgicas ni dependemos de tecnologas mal utilizadas, ofrecemos la oportunidad de formar parte de un proyecto que busca"," ",d.jsx("span",{className:"font-extrabold",children:"revolucionar la industria"})," de los videojuegos mviles, apoyado en fundamentos slidos con una visin clara."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth"})," representa una"," ",d.jsx("span",{className:"font-extrabold",children:"oportunidad nica"})," para aquellos inversores que desean participar en un proyecto de alto potencial desde sus etapas iniciales. Al invertir en las"," ",d.jsx("span",{className:"font-extrabold",children:"etapas tempranas"}),", no solo se accede a activos exclusivos, sino que tambin se contribuye al desarrollo de un juego que aspira a cambiar la forma en que se conciben y disfrutan los videojuegos mviles."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Te invitamos a unirte a nuestra comunidad, seguir nuestros canales oficiales y estar atento a los"," ",d.jsx("span",{className:"font-extrabold",children:"prximos anuncios"})," sobre las preventas. Tu inversin puede marcar la diferencia y ser parte clave en la construccin del futuro de los videojuegos indie."]})]})]});return D.useEffect(()=>{l(o)},[o]),d.jsx(Ka,{open:o,setOpen:r,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[n]),contentWrapper:n!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[n]),children:rt(s.language)==="en"?c:u}),children:e||d.jsx(vd,{title:a("home.art-presale-title"),description:a("home.art-presale-description"),side:"right",backgroundImage:d.jsx("img",{src:t===F?i.earthtekheistsnavajocommander:i.alientidedrifterseelcommander,className:k("absolute -top-[0.3356em] left-0 h-[100%] w-[5.8734em] scale-[1.1]",t===F&&"opacity-20 brightness-150",t===De&&"opacity-50 brightness-75")})})})},Fw=()=>{const e=le(L9);return e===0?null:d.jsxs("span",{children:[" (",(e*125).toFixed(2)," USD)"]})},_xe=()=>{const e=le(Ee),{t}=je();return vl({title:t("share.page.presale.invest"),url:wr+"presale/invest",mobileClassName:"top-[20%]"}),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:e.earthtundra,imgAlien:e.alienmountain,earthClassName:"-right-[1.7%] scale-x-[1.034]",alienClassName:"right-[3%] scale-x-[1.059]"}),d.jsxs(bl,{children:[d.jsx(gL,{}),d.jsx(Fxe,{})]})]})},gL=({show:e=!0,className:t,buttonSideMove:i="right"})=>{const{deviceType:n}=ve(),{t:s}=je(),a=le(ze),o=le(Ee),{days:r,hours:l,minutes:c}=aL(new Date(qD),XD);return d.jsxs("div",{className:k("absolute top-0 h-full w-full",t),style:{transformOrigin:"top center"},children:[d.jsx(Jt,{className:"pointer-events-none !absolute !top-0 h-full w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},show:e,delay:2,duration:1,exitDuration:1,exitDelay:0,children:d.jsxs("div",{className:k("group pointer-events-auto absolute left-1/2 -translate-x-1/2 select-none text-[1.0666em] focus:outline-none",{web:"top-[8%] w-[22%]",medium:"top-[5%] w-[30%] scale-[1.1]",mobile:"top-[5%] w-[30%] scale-[1.1]"}[n]),children:[d.jsx("img",{src:a===F?o.earthsmoke:o.aliensmoke,className:k(a===F?"brightness-150 drop-shadow-earth-character group-hover:brightness-90 group-focus:brightness-90":"brightness-100 drop-shadow-alien-character group-hover:brightness-200 group-focus:brightness-200"),style:{transform:"scale(2.5)",transformOrigin:"center"}}),d.jsx("span",{className:k("absolute left-1/2 top-0 -translate-x-1/2 font-nunito-sans text-[1.8em] font-black tracking-wider text-black",zt()?"text-shadow-presale-title":"drop-shadow-presale-title"),style:{transition:"transform 0.3s ease-in"},children:s("home.presale")})]})}),d.jsx(Jt,{className:"pointer-events-none !absolute top-0 h-full w-full",side:i,show:e,delay:2,duration:1,exitDuration:1,exitDelay:0,children:d.jsx("div",{className:k("absolute left-1/2 -translate-x-1/2",{web:"top-[20%]",medium:"top-[14%] scale-[1.1]",mobile:"top-[15%] -translate-y-1/2 scale-[1.1]"}[n]),children:d.jsx(B7,{href:qk,theme:a,disabled:!qk.length,children:d.jsx("span",{className:k("absolute flex w-max -translate-x-1/2 flex-col items-center font-nunito-sans font-black",zt()?a===F?"text-shadow-earth-character-hover":"text-shadow-alien-character-hover":a===F?"drop-shadow-earth-character-hover":"drop-shadow-alien-character-hover",{web:"-bottom-[0.5em] left-[0.3em] text-[0.6em]",medium:"-bottom-[0.5em] left-[0.3em] text-[0.6em]",mobile:"-bottom-[0.5em] left-[0.4em] text-mb-sm"}[n]),children:s(QD?"presale.button-buying":"presale.button-coming")})})})})]})},Fxe=()=>{const{i18n:e}=je(),t=le(ze),i=le(Ee),n=D.useRef(null),{width:s,height:a}=D.useContext(Jn),{deviceType:o}=ve(),r={title:k("text-center font-nunito-sans font-black",{web:"mb-[0.6em] text-[0.65em]",medium:"mb-[0.7em] text-[0.7em]",mobile:"mb-[0.5em] text-mb-md"}[o]),subtitle:k("text-center font-nunito-sans  font-medium leading-tight",{web:"mb-[0.8em] !text-[0.55em]",medium:"mb-[0.8em] !text-[0.65em]",mobile:"mb-[0.6em] !text-mb-sm"}[o]),list:k("mx-auto flex  list-disc flex-col font-nunito font-semibold",{web:"mb-[1.5em] max-w-[70%] space-y-[0.6em] !text-[0.4em]",medium:"mb-[1.5em] max-w-[80%] space-y-[0.8em] !text-[0.5em]",mobile:"mb-[1.5em] max-w-[90%] space-y-[1%] !text-mb-sm"}[o]),small:k("text-justify font-nunito-sans",{web:"text-[0.35em]",medium:"text-[0.4em]",mobile:"text-mb-xs"}[o],t===F?"text-earth-black":"font-thin text-alien-white")},l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:r.title,text:"Public NFT Presale",theme:t}),d.jsx(qe,{className:r.subtitle,text:"Join to obtain unique collectible assets",theme:t}),d.jsxs("ul",{className:r.list,children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-extrabold",children:"No pyramid schemes"}),": Support the development of ",d.jsx("span",{className:"font-extrabold",children:"Univearth"})," ","and earn returns from its success, just like traditional video game funding models."]}),d.jsxs("li",{children:["A total of ",d.jsx("span",{className:"font-extrabold",children:"3,024 NFT"})," will be minted, evenly divided between both factions."]}),d.jsxs("li",{children:["Each NFT will be available for"," ",d.jsxs("span",{className:"font-extrabold",children:["125 POL",d.jsx(Fw,{})]}),", or its equivalent in ",d.jsx("span",{className:"font-extrabold",children:"ETH"}),", through the ",d.jsx("span",{className:"font-extrabold",children:"Polygon network"})," on OpenSea."]}),d.jsxs("li",{children:["Each NFT represents a"," ",d.jsx("span",{className:"font-extrabold",children:"unique character card"}),", which may include a ",d.jsx("span",{className:"font-extrabold",children:"special skin"})," and a ",d.jsx("span",{className:"font-extrabold",children:"collectible sticker"}),"."]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-extrabold",children:"NFT HOLDERS"})," will have access to ",d.jsx("span",{className:"font-extrabold",children:"exclusive airdrops"})," during the game's development events."]}),d.jsxs("li",{children:["These airdrops will grant access to"," ",d.jsx("span",{className:"font-extrabold",children:"rare and unique assets"})," within the game."]}),d.jsxs("li",{children:["For more details, read this"," ",d.jsx(EC,{theme:t,trigger:d.jsx("button",{className:k("outline-none",zt()?t===F?"hover:text-shadow-earth-option-hover focus:text-shadow-earth-option-hover":"hover:text-shadow-alien-option-hover focus:text-shadow-alien-option-hover":t===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-net-icon":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-net-icon"),children:d.jsx("span",{className:"font-extrabold",children:"Article"})})})," ","and the"," ",d.jsxs("a",{href:gr.whitepaperEN,rel:"norref noopener",target:"_blank",className:k("outline-none",zt()?t===F?"hover:text-shadow-earth-option-hover focus:text-shadow-earth-option-hover":"hover:text-shadow-alien-option-hover focus:text-shadow-alien-option-hover":t===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-net-icon":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-net-icon"),children:[d.jsx("span",{className:"font-extrabold",children:"Whitepaper"}),"."]})]})]}),d.jsxs("p",{className:r.small,children:[d.jsx("span",{className:"font-extrabold",children:"Investment Plan"}),": Invest in"," ",d.jsx("span",{className:"font-extrabold",children:"NFT"})," that represent"," ",d.jsx("span",{className:"font-extrabold",children:"unique game assets"}),", which can be resold as ",d.jsx("span",{className:"font-extrabold",children:"collectibles"})," in the future. The goal of this presale is to finance the development of a"," ",d.jsx("span",{className:"font-extrabold",children:"video game"})," that offers players"," ",d.jsx("span",{className:"font-extrabold",children:"total economic freedom"}),", allowing them to achieve"," ",d.jsx("span",{className:"font-extrabold",children:"investment returns"})," in ways that traditional crowdfunding platforms cannot provide."]})]}),c=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:r.title,text:"Preventa Pblica de NFT",theme:t}),d.jsx(qe,{className:r.subtitle,text:"Participa para obtener activos nicos coleccionables",theme:t}),d.jsxs("ul",{className:r.list,children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-extrabold",children:"Sin esquemas piramidales"}),": Apyanos en el desarrollo de"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"})," y obtn un retorno con su xito de la forma en que los videojuegos siempre se han financiado."]}),d.jsxs("li",{children:["Se generarn ",d.jsx("span",{className:"font-extrabold",children:"3,024 NFT"}),", divididos equitativamente entre ambos bandos."]}),d.jsxs("li",{children:["Cada uno estar disponible por"," ",d.jsxs("span",{className:"font-extrabold",children:["125 POL",d.jsx(Fw,{})]}),", o su equivalente en ",d.jsx("span",{className:"font-extrabold",children:"ETH"}),", a travs de la ",d.jsx("span",{className:"font-extrabold",children:"red Polygon"})," en"," ",d.jsx("span",{className:"font-extrabold",children:"OpenSea"}),"."]}),d.jsxs("li",{children:["Cada NFT representa un"," ",d.jsx("span",{className:"font-extrabold",children:"personaje nico"})," en forma de carta, que puede incluir un"," ",d.jsx("span",{className:"font-extrabold",children:"aspecto especial"})," y un"," ",d.jsx("span",{className:"font-extrabold",children:"sticker coleccionable"}),"."]}),d.jsxs("li",{children:["Los ",d.jsx("span",{className:"font-extrabold",children:"HOLDERS de NFT"})," podrn participar en"," ",d.jsx("span",{className:"font-extrabold",children:"airdrops exclusivos"})," durante los eventos de desarrollo del juego."]}),d.jsxs("li",{children:["Los airdrops permitirn acceder a"," ",d.jsx("span",{className:"font-extrabold",children:"activos raros y nicos"})," dentro del juego."]}),d.jsxs("li",{children:["Para ms informacin, lee este"," ",d.jsx(EC,{theme:t,trigger:d.jsx("button",{className:k("outline-none",zt()?t===F?"hover:text-shadow-earth-option-hover focus:text-shadow-earth-option-hover":"hover:text-shadow-alien-option-hover focus:text-shadow-alien-option-hover":t===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-net-icon":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-net-icon"),children:d.jsx("span",{className:"font-extrabold",children:"Artculo"})})})," ","y el"," ",d.jsxs("a",{href:gr.whitepaperES,rel:"norref noopener",target:"_blank",className:k("outline-none",zt()?t===F?"hover:text-shadow-earth-option-hover focus:text-shadow-earth-option-hover":"hover:text-shadow-alien-option-hover focus:text-shadow-alien-option-hover":t===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-net-icon":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-net-icon"),children:[d.jsx("span",{className:"font-extrabold",children:"Whitepaper"}),"."]})]})]}),d.jsxs("p",{className:r.small,children:[d.jsx("span",{className:"font-extrabold",children:"Plan de Inversin"}),": invierte en"," ",d.jsx("span",{className:"font-extrabold",children:"NFT"})," que representan"," ",d.jsx("span",{className:"font-extrabold",children:"activos nicos"})," del juego, los cuales podrn ser revendidos como"," ",d.jsx("span",{className:"font-extrabold",children:"coleccionables"})," en el futuro. El objetivo de esta preventa es financiar el desarrollo de un"," ",d.jsx("span",{className:"font-extrabold",children:"videojuego"})," que ofrezca a los jugadores"," ",d.jsx("span",{className:"font-extrabold",children:"total libertad econmica"}),", permitindoles obtener"," ",d.jsx("span",{className:"font-extrabold",children:"retornos de inversin"})," de una manera que no es posible mediante las plataformas tradicionales de crowdfunding."]})]});return d.jsx(Jt,{side:t===F?"right":"left",duration:1.5,exitDuration:1,exitDelay:.5,delay:1,className:"pointer-events-none !absolute top-0 h-full w-full",children:d.jsx("div",{className:k("absolute left-0 w-full",{web:"top-[35%] h-full",medium:"top-[58%] h-fit -translate-y-1/2",mobile:"top-[58%] h-fit -translate-y-1/2"}[o]),children:d.jsxs("div",{ref:n,className:k("relative w-full"),children:[d.jsx(ct,{childrenGhost:!0,transformOrigin:t===F?"47% bottom":"52% bottom",delay:2.5,children:d.jsxs(Ai,{mode:"dark",theme:t,className:k("relative overflow-hidden",{web:"!px-[2em] !py-[1.2em]",medium:"!px-[2em] !py-[1.2em] text-[1.4em]",mobile:"!px-[1em] !py-[1.2em]"}[o]),children:[d.jsxs("div",{className:"absolute top-0 h-full w-full opacity-[0.25]",children:[d.jsx("img",{src:i.polygonicon,className:k("absolute",{web:"-right-[8%] -top-[39%] h-screen max-h-full w-[12em] object-contain object-top",medium:"-right-[12%] -top-[20%] h-screen max-h-full w-[11em] object-contain object-top",mobile:"-right-[15%] -top-[15%] h-screen max-h-full w-[13em] object-contain object-top"}[o])}),d.jsx("img",{src:i.usdcicon,className:k("absolute",{web:"-bottom-[15%] right-[3%] h-screen max-h-full w-[5em] object-contain object-bottom",medium:"-bottom-[5%] right-[3%] h-screen max-h-full w-[5em] object-contain object-bottom",mobile:"-bottom-[6em] -right-[6%] h-screen max-h-full w-[70%] object-contain object-bottom"}[o])})]}),d.jsx("img",{src:t===F?i.earthnftboxmedium:i.aliennftboxmedium,className:k("absolute",{web:"-left-[15%] -top-[20%] h-screen max-h-full w-[15em] object-contain object-top opacity-[0.3]",medium:"-left-[15%] -top-[10%] h-screen max-h-full w-[12em] object-contain object-top opacity-[0.3]",mobile:"-left-[23%] -top-[5%] h-screen max-h-full w-[14em] object-contain object-top opacity-[0.3]"}[o])}),d.jsx("div",{className:k("relative flex flex-col",{mobile:"text-[1.3em]"}[o],{[F]:"!text-earth-black",[De]:"!text-alien-white"}[t]),children:rt(e.language)==="en"?l:c})]})}),d.jsx(Qn,{theme:t,armSide:t===F?"right":"left",frameSide:"center",parentRef:n,reference:{height:a,width:s},scale:{medium:.8,mobile:.8}[o],scaleAdjust:{medium:t===De?1:1.4}[o]})]})})})},fo=(e,t,i)=>[`${i}${e}${t}card1`,`${i}${e}${t}commander`,`${i}${e}${t}card2`,`${i}${e}${t}card3`,`${i}${e}${t}card4`,`${i}${e}${t}card5`],Bxe={[F]:[fo("freakgardes","punk",F),fo("freakgardes","maya",F),fo("enginegears","skater",F),fo("enginegears","tinglit",F),fo("tekheists","cherokee",F),fo("tekheists","navajo",F)],[De]:[fo("biofluxers","wolf",De),fo("biofluxers","vulture",De),fo("forestalkers","horse",De),fo("forestalkers","bat",De),fo("tidedrifters","shark",De),fo("tidedrifters","eel",De)]},Vxe={web:{1:"Freak-gardes",2:"Freak-gardes",3:"Engine-gears",4:"Engine-gears",5:"Tekheists",6:"Tekheists"},medium:{1:"Freak-gardes",2:"Freak-gardes",3:"Engine-gears",4:"Engine-gears",5:"Tekheists",6:"Tekheists"},mobile:{1:"Freak-gardes",2:"Freak-gardes",3:"Freak-gardes",4:"Freak-gardes",5:"Freak-gardes",6:"Freak-gardes",7:"Freak-gardes",8:"Freak-gardes",9:"Freak-gardes",10:"Freak-gardes",11:"Freak-gardes",12:"Freak-gardes",13:"Engine-gears",14:"Engine-gears",15:"Engine-gears",16:"Engine-gears",17:"Engine-gears",18:"Engine-gears",19:"Engine-gears",20:"Engine-gears",21:"Engine-gears",22:"Engine-gears",23:"Engine-gears",24:"Engine-gears",25:"Tekheists",26:"Tekheists",27:"Tekheists",28:"Tekheists",29:"Tekheists",30:"Tekheists",31:"Tekheists",32:"Tekheists",33:"Tekheists",34:"Tekheists",35:"Tekheists",36:"Tekheists"}},Uxe={web:{1:"Biofluxers",2:"Biofluxers",3:"Forestalkers",4:"Forestalkers",5:"Tidedrifters",6:"Tidedrifters"},medium:{1:"Biofluxers",2:"Biofluxers",3:"Forestalkers",4:"Forestalkers",5:"Tidedrifters",6:"Tidedrifters"},mobile:{1:"Biofluxers",2:"Biofluxers",3:"Biofluxers",4:"Biofluxers",5:"Biofluxers",6:"Biofluxers",7:"Biofluxers",8:"Biofluxers",9:"Biofluxers",10:"Biofluxers",11:"Biofluxers",12:"Biofluxers",13:"Forestalkers",14:"Forestalkers",15:"Forestalkers",16:"Forestalkers",17:"Forestalkers",18:"Forestalkers",19:"Forestalkers",20:"Forestalkers",21:"Forestalkers",22:"Forestalkers",23:"Forestalkers",24:"Forestalkers",25:"Tidedrifters",26:"Tidedrifters",27:"Tidedrifters",28:"Tidedrifters",29:"Tidedrifters",30:"Tidedrifters",31:"Tidedrifters",32:"Tidedrifters",33:"Tidedrifters",34:"Tidedrifters",35:"Tidedrifters",36:"Tidedrifters"}},Gxe={[F]:Vxe,[De]:Uxe},Wxe=()=>{const{deviceType:e}=ve(),t=le(Ee),{t:i}=je(),n=le(ze);return vl({title:i("share.page.presale.characters"),url:wr+`presale/nft?&theme=${n}`,dependencies:[n],mobileClassName:"top-[20%]"}),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:t.earthtundra,imgAlien:t.alienmountain,earthClassName:"-right-[1.7%] scale-x-[1.034]",alienClassName:"right-[3%] scale-x-[1.059]"}),d.jsxs(bl,{children:[d.jsx(gL,{className:k("scale-[0.8]",{web:"-left-[30%] top-[5%]"}[e]),buttonSideMove:"left"}),d.jsx(Yxe,{}),d.jsx(Hxe,{})]})]})},Hxe=()=>{const e=le(ze),{deviceType:t}=ve(),[i,n]=D.useState(),[s,a]=D.useState(0),[o,r]=D.useState(0);return D.useEffect(()=>{i&&(r(i.scrollSnapList().length),a(i.selectedScrollSnap()+1),i.on("select",()=>{a(i.selectedScrollSnap()+1)}))},[i]),D.useEffect(()=>{r(6)},[t]),D.useEffect(()=>{i&&i.scrollTo(0,!0)},[e]),d.jsx(Jt,{side:"left",duration:1.5,exitDuration:1,exitDelay:.5,delay:1,className:"pointer-events-none !absolute top-0 h-full w-full",children:d.jsxs("div",{className:k("absolute -left-1/2 h-full w-full translate-x-1/2",{web:"-bottom-[35.6%]",medium:"-bottom-[29%]",mobile:"-bottom-[27%]"}[t]),children:[d.jsx(qe,{text:Gxe[e][t][s],className:k("text-center font-nunito-sans font-bold",{web:"mb-[0.5em] text-[0.7866em]",medium:"absolute -top-[11%] mb-[0.5em] text-[0.7866em]",mobile:"absolute -top-[8.5%] mb-[0.5em] text-[0.7866em]"}[t],e===F?"text-earth-black":"text-alien-white")}),d.jsxs("div",{className:k("mx-auto w-[44%]",{medium:"scale-[1.9]",mobile:"scale-[1.9]"}[t]),children:[d.jsxs(dL,{setApi:n,opts:{loop:!0},className:"select-none",children:[d.jsx(hL,{isVisible:!0,children:d.jsx(yxe,{clans:Bxe[e],current:s,activeTranslation:{medium:"translate-y-[30%]",mobile:"translate-y-[30%]"}[t]})}),d.jsx(z7,{className:"pointer-events-auto !-left-[13%]"}),d.jsx(_7,{className:"pointer-events-auto !-right-[13%]"})]}),(t==="web"||t==="medium")&&d.jsx("div",{className:k("mx-auto mt-[0.5em] flex w-full",{web:"justify-center gap-[0.8em]",medium:"justify-center gap-[0.8em]"}[t]),children:o<=13&&Array(o).fill(null).map((l,c)=>d.jsx("button",{tabIndex:-1,onClick:()=>{i&&i.scrollTo(c)},className:k("pointer-events-auto aspect-square rounded-full",{web:"w-[0.3em]",medium:"w-[0.4em]"}[t],c+1===s?e===F?"bg-earth-green/75":"bg-alien-purple/75":e===F?"bg-[color:#a3bac5]":"bg-[color:#2e1435]")},c))})]})]})})},Yxe=()=>{const{t:e}=je(),t=le(ze),i=le(Ee),n=D.useRef(null),{width:s,height:a}=D.useContext(Jn),{deviceType:o}=ve();return d.jsx(Jt,{side:"right",duration:1.5,exitDuration:1,exitDelay:.5,delay:1,className:"pointer-events-none !absolute top-0 h-full w-full",children:d.jsx("div",{className:k("absolute w-full",{web:"left-[50%] top-0 h-full",medium:"bottom-[6%] left-0 h-fit",mobile:"bottom-[6%] left-0 h-fit [@media(min-height:670px)]:bottom-[15%]"}[o]),children:d.jsxs("div",{ref:n,className:k("relative",{web:"w-[50%]",medium:"mx-auto w-[90%]",mobile:"mx-auto w-[95%]"}[o]),children:[d.jsx(ct,{childrenGhost:!0,transformOrigin:{web:"90% bottom",medium:t===F?"47% bottom":"50% bottom",mobile:t===F?"47% bottom":"50% bottom"}[o],delay:2.5,className:"h-full w-full",children:d.jsxs(Ai,{mode:"dark",theme:t,className:k("h-full w-full overflow-hidden",{web:"!pb-[0.2em] !pt-[0.6em]",medium:"!pb-[0.8em] !pt-[1em]",mobile:"!pb-[0.8em] !pl-[0.7em] !pr-[0.6em] !pt-[1em]"}[o],t===F?"text-earth-black":"text-alien-white"),children:[d.jsx(qe,{text:e("presale.characters-description"),className:k("mb-[1em] text-center font-nunito-sans font-bold tracking-wide",{web:"text-[0.5em]",medium:"text-[0.7em]",mobile:"text-mb-sm"}[o]),theme:t}),d.jsxs("div",{className:k("relative z-10 flex justify-between"),children:[d.jsx("img",{src:t===F?i.earthnftboxmedium:i.aliennftboxmedium,className:k("absolute -scale-x-100 opacity-[0.2]",{web:"-right-[17%] -top-[70%] min-h-full w-[10em] max-w-[13em]",medium:"-right-[17%] -top-[60%] min-h-full w-[13em] max-w-[13em]",mobile:"-right-[17%] -top-[60%] min-h-full w-[13em] max-w-[13em]"}[o])}),d.jsxs("div",{className:k({web:"w-[60%]",medium:"w-[60%]",mobile:"w-[75%]"}[o]),children:[d.jsx(qe,{text:o!=="mobile"?` ${e("presale.characters-probability-title")}`:e("presale.characters-probability-title"),theme:t,className:k("font-nunito font-black",{web:"mb-[0.5em] text-[0.5em]",medium:"mb-[0.7em] text-[0.8em]",mobile:"mb-[0.7em] text-[0.8em]"}[o])}),d.jsxs("ul",{className:k("font-nunito font-semibold",{web:"mb-[1em] flex list-disc flex-col gap-[0.4em] pl-[1.5em] text-[0.4em]",medium:"mb-[1em] flex list-disc flex-col gap-[0.4em] pl-[1.7em] text-[0.55em]",mobile:"mb-[1em] flex list-disc flex-col gap-[0.4em] pl-[1.7em] text-mb-xs"}[o]),children:[d.jsx("li",{children:d.jsx("p",{children:e(t===F?"presale.characters-prob-earth-item-1":"presale.characters-prob-alien-item-1")})}),d.jsx("li",{children:d.jsx("p",{children:e(t===F?"presale.characters-prob-earth-item-2":"presale.characters-prob-alien-item-2")})}),d.jsx("li",{children:d.jsx("p",{children:e(t===F?"presale.characters-prob-earth-item-3":"presale.characters-prob-alien-item-3")})}),d.jsx("li",{children:d.jsx("p",{children:e(t===F?"presale.characters-prob-earth-item-4":"presale.characters-prob-alien-item-4")})}),d.jsx("li",{children:d.jsx("p",{children:e(t===F?"presale.characters-prob-earth-item-5":"presale.characters-prob-alien-item-5")})}),d.jsx("li",{children:d.jsx("p",{children:e(t===F?"presale.characters-prob-earth-item-6":"presale.characters-prob-alien-item-6")})})]})]}),d.jsxs("div",{className:k({web:"w-[40%]",medium:"w-[40%]",mobile:"w-[35%]"}[o]),children:[d.jsx(qe,{text:o!=="mobile"?` ${e("presale.characters-nft-box-title")}`:e("presale.characters-nft-box-title"),theme:t,className:k("font-nunito font-black",{web:"mb-[0.5em] text-[0.5em]",medium:"mb-[0.7em] text-[0.8em]",mobile:"mb-[0.7em] text-[0.8em]"}[o])}),d.jsxs("ul",{className:k("font-nunito font-semibold",{web:"mb-[1em] flex list-disc flex-col gap-[0.4em] pl-[1.5em] text-[0.4em]",medium:"mb-[1em] flex list-disc flex-col gap-[0.4em] pl-[1.7em] text-[0.6em]",mobile:"mb-[1em] flex list-disc flex-col gap-[0.4em] pl-[1.7em] text-mb-sm"}[o]),children:[d.jsx("li",{children:d.jsx("p",{children:e("presale.characters-box-item-1")})}),d.jsx("li",{children:d.jsx("p",{children:e("presale.characters-box-item-2")})})]})]})]})]})}),d.jsx(Qn,{theme:t,armSide:"right",frameSide:{web:"right",medium:"center",mobile:"center"}[o],parentRef:n,reference:{height:a,width:s},scale:.7,scaleAdjust:{medium:t===De?1:1.4}[o]})]})})})};var J7=Object.defineProperty,$xe=Object.getOwnPropertyDescriptor,Lc=(e,t)=>{for(var i in t)J7(e,i,{get:t[i],enumerable:!0})},j=(e,t,i,n)=>{for(var s=n>1?void 0:n?$xe(t,i):t,a=e.length-1,o;a>=0;a--)(o=e[a])&&(s=(n?o(t,i,s):o(s))||s);return n&&s&&J7(t,i,s),s},Kxe={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},OC=["bar","line","scatter"],Zxe=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"],eW=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(eW||{}),qxe={};Lc(qxe,{TimeInterval:()=>ip,day:()=>wL,friday:()=>lW,hour:()=>vL,millisecond:()=>yL,minute:()=>bL,monday:()=>sW,month:()=>NL,saturday:()=>cW,second:()=>xL,sunday:()=>SL,thursday:()=>rW,tuesday:()=>aW,utcDay:()=>hW,utcHour:()=>dW,utcMinute:()=>uW,utcMonth:()=>pW,utcYear:()=>fW,wednesday:()=>oW,year:()=>ML});var jC=new Map;function RC(e,t){jC.has(t)||(jC.set(t,!0),e())}RC.clear=()=>jC.clear();function I_(e){return e}function T_(e,t=0,i){const{leading:n=!0,trailing:s=!0}=i??{};let a,o,r=!1;function l(){s&&o?(a=setTimeout(l,t),e(...o)):r=!1,o=null}function c(...u){r?o=u:(r=!0,a=setTimeout(l,t),n?e(...u):o=u)}return Object.assign(c,{cancel(){clearTimeout(a),r=!1,o=null}})}function Xxe(...e){return()=>{for(const t of e)t()}}var Ie={log(...e){console.log(...e)},warn(e,...t){console.warn(`AG Charts - ${e}`,...t)},error(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)},table(...e){console.table(...e)},warnOnce(e,...t){RC(()=>Ie.warn(e,...t),`Logger.warn: ${e}`)},errorOnce(e,...t){RC(()=>Ie.error(e,...t),`Logger.error: ${e}`)}},ip=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,i){var r;const n=(r=this._rangeCallback)==null?void 0:r.call(this,e,t),s=this._encode(i?this.floor(e):this.ceil(e)),a=this._encode(i?this.ceil(t):this.floor(t));if(a<s)return[];const o=[];for(let l=s;l<=a;l++){const c=this._decode(l);o.push(c)}return n==null||n(),o}},Za=class extends ip{getOffset(e,t){const i=typeof e=="number"||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(i)%t}every(e,t){let i=0,n;const s=e;e=Math.max(1,Math.round(e)),s!==e&&Ie.warnOnce(`interval step of [${s}] rounded to [${e}].`);const{snapTo:a="start"}=t??{};if(typeof a=="string"){const l=i;n=(c,u)=>{const h=a==="start"?c:u;return i=this.getOffset(h,e),()=>i=l}}else typeof a=="number"?i=this.getOffset(new Date(a),e):a instanceof Date&&(i=this.getOffset(a,e));const o=l=>{const c=this._encode(l);return Math.floor((c-i)/e)},r=l=>this._decode(l*e+i);return new ip(o,r,n)}};function Qxe(e){return e.getTime()}function Jxe(e){return new Date(e)}var yL=new Za(Qxe,Jxe),ebe=yL;new Date(0).getFullYear();var Vu=1e3,Kn=Vu*60,Ws=Kn*60,Co=Ws*24,dc=Co*7,_y=Co*30,Om=Co*365,tW=new Date().getTimezoneOffset()*Kn;function tbe(e){return Math.floor((e.getTime()-tW)/Vu)}function ibe(e){return new Date(tW+e*Vu)}var xL=new Za(tbe,ibe),rx=xL,iW=new Date().getTimezoneOffset()*Kn;function nbe(e){return Math.floor((e.getTime()-iW)/Kn)}function sbe(e){return new Date(iW+e*Kn)}var bL=new Za(nbe,sbe),lx=bL,nW=new Date().getTimezoneOffset()*Kn;function abe(e){return Math.floor((e.getTime()-nW)/Ws)}function obe(e){return new Date(nW+e*Ws)}var vL=new Za(abe,obe),cx=vL;function rbe(e){const t=e.getTimezoneOffset()*Kn;return Math.floor((e.getTime()-t)/Co)}function lbe(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var wL=new Za(rbe,lbe),PC=wL;function up(e){const i=(7+e-4)%7;function n(a){const o=a.getTimezoneOffset()*Kn;return Math.floor((a.getTime()-o)/dc-i/7)}function s(a){const o=new Date(1970,0,1);return o.setDate(o.getDate()+a*7+i),o}return new Za(n,s)}var SL=up(0),sW=up(1),aW=up(2),oW=up(3),rW=up(4),lW=up(5),cW=up(6),nw=SL;function cbe(e){return e.getFullYear()*12+e.getMonth()}function ube(e){const t=Math.floor(e/12),i=e-t*12;return new Date(t,i,1)}var NL=new Za(cbe,ube),em=NL;function dbe(e){return e.getFullYear()}function hbe(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var ML=new Za(dbe,hbe),IL=ML;function pbe(e){return Math.floor(e.getTime()/Kn)}function fbe(e){return new Date(e*Kn)}var uW=new Za(pbe,fbe);function mbe(e){return Math.floor(e.getTime()/Ws)}function gbe(e){return new Date(e*Ws)}var dW=new Za(mbe,gbe);function ybe(e){return Math.floor(e.getTime()/Co)}function xbe(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var hW=new Za(ybe,xbe);function bbe(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function vbe(e){const t=Math.floor(e/12),i=e-t*12;return new Date(Date.UTC(t,i,1))}var pW=new Za(bbe,vbe);function wbe(e){return e.getUTCFullYear()}function Sbe(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var fW=new Za(wbe,Sbe),mW={};Lc(mW,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Hs,fromToMotion:()=>Si,staticFromToMotion:()=>Sl});var zC=new Map;function gW(){zC.clear()}function Po(e){const t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);const n=(zC.get(i)??0)+1;return zC.set(i,n),`${i}-${n}`}function Nbe(){var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??Mbe()}function Mbe(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let i=0;i<e.length;i++)(i===4||i===6||i===8||i===10)&&(t+="-"),t+=e[i].toString(16).padStart(2,"0");return t}function*Uu(...e){for(const t of e)yield*t}function yW(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}var XS=Symbol("interpolate"),Bw=e=>e[XS]!=null;function QS(e,t,i,n=1/0){const s={nearest:void 0,distanceSquared:n};for(const a of i){const o=a.distanceSquared(e,t);if(o===0)return{nearest:a,distanceSquared:0};o<s.distanceSquared&&(s.nearest=a,s.distanceSquared=o)}return s}function Ibe(e,t,i,n=1/0){var r;const{x:s=e,y:a=t}=((r=i.transformPoint)==null?void 0:r.call(i,e,t))??{},o={nearest:void 0,distanceSquared:n};for(const l of i.children){const{nearest:c,distanceSquared:u}=l.nearestSquared(s,a,o.distanceSquared);if(u===0)return{nearest:c,distanceSquared:u};u<o.distanceSquared&&(o.nearest=c,o.distanceSquared=u)}return o}var cl={};typeof window<"u"?cl.window=window:typeof global<"u"&&(cl.window=global.window);typeof document<"u"?cl.document=document:typeof global<"u"&&(cl.document=global.document);function br(e){var t;return e?(t=cl.document)==null?void 0:t[e]:cl.document}function jn(e){var t;return e?(t=cl.window)==null?void 0:t[e]:cl.window}function kt(e,t,i){const n=br().createElement(e);if(typeof t=="object"&&(i=t,t=void 0),t)for(const s of t.split(" "))n.classList.add(s);return i&&Object.assign(n.style,i),n}function _C(e,t){return br().createElementNS(e,t)}function xW(e,t){const{body:i}=br(),n=kt("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}function bW(e){cl.document=e}function vW(e){cl.window=e}function Yu(e,t){e&&(e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`)}function Tbe(e){var n;if(e.focus({preventScroll:!0}),((n=e.lastChild)==null?void 0:n.textContent)==null)return;const t=br().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const i=jn().getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(t)}var Abe=0;function kbe(e){return`${e??"ag-charts-element"}-${Abe++}`}function lt(e,t,i){return Math.min(i,Math.max(e,t))}function Vw(e,t){const[i,n]=ya(t);return lt(i,e,n)}function ya(e){if(e.length===0)return[];const t=[1/0,-1/0];for(const i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function jm(e){const[t,i]=ya(e);return i-t}function Hh(e,t,i=1e-10){return Math.abs(e-t)<i}function Lb(e){return Math.sign(e)===-1||Object.is(e,-0)}function JS(e,t=2){const i=10**t;return Math.round(e*i)/i}function eN(e,t=2){const i=Math.floor(Math.log(Math.abs(e))/Math.LN10);return i>=0||!isFinite(i)?e.toFixed(t):e.toFixed(Math.abs(i)-1+t)}function tN(e,t){return Math.floor(e%t+(e<0?t:0))}function Eb(e){var s;if(Math.floor(e)===e)return 0;let t=String(e),i=0;if(e<1e-6||e>=1e21){let a;[t,a]=t.split("e"),a!=null&&(i=Number(a))}const n=((s=t.split(".")[1])==null?void 0:s.length)??0;return Math.max(n-i,0)}function TL(e,t){return t=t??jn("navigator").language,new Intl.NumberFormat(t,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function AL(e,t){return TL(e/100,t)}var Qx=class tm{constructor(t,i,n,s){this.x=t,this.y=i,this.width=n,this.height=s}static fromDOMRect({x:t,y:i,width:n,height:s}){return new tm(t,i,n,s)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:t,y:i,width:n,height:s}=this;return new tm(t,i,n,s)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height}intersection(t){if(!this.collidesBBox(t))return;const i=lt(t.x,this.x,t.x+t.width),n=lt(t.y,this.y,t.y+t.height),s=lt(t.x,this.x+this.width,t.x+t.width),a=lt(t.y,this.y+this.height,t.y+t.height);return new tm(i,n,s-i,a-n)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,i){if(this.containsPoint(t,i))return 0;const n=t-lt(this.x,t,this.x+this.width),s=i-lt(this.y,i,this.y+this.height);return n*n+s*s}static nearestBox(t,i,n){return QS(t,i,n)}clip(t){if(t===void 0)return this;const i=Math.max(this.x,t.x),n=Math.max(this.y,t.y),s=Math.min(this.x+this.width,t.x+t.width),a=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.y=n,this.width=Math.max(0,s-i),this.height=Math.max(0,a-n),this}shrink(t,i){const n=(s,a)=>{switch(s){case"top":this.y+=a;case"bottom":this.height-=a;break;case"left":this.x+=a;case"right":this.width-=a;break;case"vertical":this.y+=a,this.height-=a*2;break;case"horizontal":this.x+=a,this.width-=a*2;break;case void 0:this.x+=a,this.width-=a*2,this.y+=a,this.height-=a*2;break}};return typeof t=="number"?n(i,t):typeof t=="object"&&Object.entries(t).forEach(([s,a])=>n(s,a)),this}grow(t,i){if(typeof t=="number")this.shrink(-t,i);else{const n={...t};for(const s in n)n[s]*=-1;this.shrink(n)}return this}translate(t,i){return this.x+=t,this.y+=i,this}combine(t){const{x:i,y:n,width:s,height:a}=this;this.x=Math.min(i,t.x),this.y=Math.min(n,t.y),this.width=Math.max(i+s,t.x+t.width)-this.x,this.height=Math.max(n+a,t.y+t.height)-this.y}static merge(t){let i=1/0,n=1/0,s=-1/0,a=-1/0;for(const o of t)o.x<i&&(i=o.x),o.y<n&&(n=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>a&&(a=o.y+o.height);return new tm(i,n,s-i,a-n)}[XS](t,i){return new tm(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};Qx.zero=Object.freeze(new Qx(0,0,0,0));Qx.NaN=Object.freeze(new Qx(NaN,NaN,NaN,NaN));var Fe=Qx,$u=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))($u||{});function Oe(e){return function(t,i){const n=`__${i}`;t[i]||Cbe(t,i,n,e)}}function Cbe(e,t,i,n){const{redraw:s=1,type:a="normal",changeCb:o,convertor:r,checkDirtyOnAssignment:l=!1}=n??{},c={redraw:s,changeCb:o,checkDirtyOnAssignment:l,convertor:r};let u;switch(a){case"normal":u=Obe(i,c);break;case"transform":u=jbe(i,c);break;case"path":u=Rbe(i,c);break}u=Ebe(Lbe(Dbe(u,c),c),c),Object.defineProperty(e,t,{set:u,get:function(){return this[i]},enumerable:!0,configurable:!0})}function Dbe(e,t){const{convertor:i}=t;return i?function(n){e.call(this,i(n))}:e}var Ob=Symbol("no-change");function Lbe(e,t){const{changeCb:i}=t;return i?function(n){const s=e.call(this,n);return s!==Ob&&i.call(this,this),s}:e}function Ebe(e,t){const{checkDirtyOnAssignment:i}=t;return i?function(n){const s=e.call(this,n);return s!==Ob&&n!=null&&n._dirty>0&&this.markDirty(n._dirty),s}:e}function Obe(e,t){const{redraw:i=1,changeCb:n}=t;return function(s){const a=this[e];return s!==a?(this[e]=s,this.markDirty(i),n==null||n(this),s):Ob}}function jbe(e,t){const{redraw:i=1}=t;return function(n){const s=this[e];return n!==s?(this[e]=n,this.markDirtyTransform(i),n):Ob}}function Rbe(e,t){const{redraw:i=1}=t;return function(n){const s=this[e];return n!==s?(this[e]=n,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(i)),n):Ob}}var wW=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(wW||{}),jb=class SW{constructor(t){this.serialNumber=SW._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0},this.id=Po(this),this.pointerEvents=0,this._dirty=3,this.dirtyZIndex=!1,this.virtualChildrenCount=0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.zIndexSubOrder=void 0,this.name=t==null?void 0:t.name,this.isVirtual=(t==null?void 0:t.isVirtual)??!1,this.tag=(t==null?void 0:t.tag)??NaN,this.zIndex=(t==null?void 0:t.zIndex)??0}static*extractBBoxes(t,i){for(const n of t)if(!i||n.visible&&!n.transitionOut){const s=n.getBBox();s&&(yield s)}}get datum(){var t;return this._datum??((t=this.parentNode)==null?void 0:t.datum)}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1;for(const t of this.children()){const i=t.preRender();this.childNodeCounts.groups+=i.groups,this.childNodeCounts.nonGroups+=i.nonGroups}return this.childNodeCounts}render(t){const{stats:i}=t;if(this._dirty=0,t.debugNodeSearch){const n=this.name??this.id;t.debugNodeSearch.some(s=>typeof s=="string"?s===n:s.test(n))&&(t.debugNodes[this.name??this.id]=this)}i&&i.nodesRendered++}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const i of this.children(!1))i._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes||this.hasVirtualChildren())return;const i=[...this.childNodes].sort(t);this.childNodes.clear();for(const n of i)this.childNodes.add(n)}*traverseUp(t){let i=this;for(t&&(yield i);i=i.parentNode;)yield i}*children(t=!0){if(!this.childNodes)return;const i=[];for(const n of this.childNodes)t&&n.isVirtual?i.push(n.children()):yield n;for(const n of i)yield*n}*virtualChildren(){if(!(!this.childNodes||!this.virtualChildrenCount))for(const t of this.childNodes)t.isVirtual&&(yield t)}hasVirtualChildren(){return this.virtualChildrenCount>0}isLeaf(){var t;return!((t=this.childNodes)!=null&&t.size)}isRoot(){return!this.parentNode}append(t){var i;this.childNodes??(this.childNodes=new Set);for(const n of yW(t))(i=n.parentNode)==null||i.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager),n.isVirtual&&this.virtualChildrenCount++;this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3)}appendChild(t){return this.append(t),t}removeChild(t){var i;return(i=this.childNodes)!=null&&i.delete(t)?(delete t.parentNode,t._setLayerManager(),t.isVirtual&&this.virtualChildrenCount--,this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3),!0):!1}remove(){var t;return((t=this.parentNode)==null?void 0:t.removeChild(this))??!1}clear(){var t;for(const i of this.children(!1))delete i.parentNode,i._setLayerManager();(t=this.childNodes)==null||t.clear(),this.invalidateCachedBBox(),this.virtualChildrenCount=0}destroy(){var t;(t=this.parentNode)==null||t.removeChild(this)}setProperties(t,i){if(i)for(const n of i)this[n]=t[n];else Object.assign(this,t);return this}containsPoint(t,i){return!1}pickNode(t,i,n=!1){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))return;const s=[...this.children()];if(s.length>1e3)for(let a=s.length-1;a>=0;a--){const o=s[a],l=o.containsPoint(t,i)?o.pickNode(t,i):void 0;if(l)return l}else if(s.length)for(let a=s.length-1;a>=0;a--){const o=s[a].pickNode(t,i);if(o)return o}else if(!this.isContainerNode)return this}invalidateCachedBBox(){var t;this.cachedBBox=void 0,(t=this.parentNode)==null||t.invalidateCachedBBox()}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(t=1,i=t){const{_dirty:n}=this,s=n>t||n===t&&t===i;this.cachedBBox==null&&s||(this.invalidateCachedBBox(),this._dirty=Math.max(n,t),this.parentNode?this.parentNode.markDirty(i):this.layerManager&&this.layerManager.markDirty())}markClean(t){const{force:i=!1,recursive:n=!0}=t??{};if(!(this._dirty===0&&!i)){this._dirty=0;for(const s of this.children(!1))(s.isVirtual?n!==!1:n===!0)&&s.markClean({force:i})}}onVisibleChange(){}onZIndexChange(){this.parentNode&&(this.parentNode.dirtyZIndex=!0)}toSVG(){}};jb._nextSerialNumber=0;j([Oe({redraw:3,changeCb:e=>e.onVisibleChange()})],jb.prototype,"visible",2);j([Oe({redraw:1,changeCb:e=>e.onZIndexChange()})],jb.prototype,"zIndex",2);j([Oe({redraw:1,changeCb:e=>e.onZIndexChange()})],jb.prototype,"zIndexSubOrder",2);var ld=jb,Q0=(e,t,i)=>e*(1-i)+t*i,uA=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},dA=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},NW=class qt{constructor(t,i,n,s=1){this.r=lt(0,t||0,1),this.g=lt(0,i||0,1),this.b=lt(0,n||0,1),this.a=lt(0,s||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!qt.parseHex(t):t.indexOf("rgb")>=0?!!qt.stringToRgba(t):!!qt.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return qt.fromHexString(t);const i=qt.nameToHex[t.toLowerCase()];if(i)return qt.fromHexString(i);if(t.indexOf("rgb")>=0)return qt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let i;switch(t.length){case 6:case 8:i=[];for(let n=0;n<t.length;n+=2)i.push(parseInt(`${t[n]}${t[n+1]}`,16));break;case 3:case 4:i=t.split("").map(n=>parseInt(n,16)).map(n=>n+n*16);break}if((i==null?void 0:i.length)>=3&&i.every(n=>n>=0))return i.length===3&&i.push(255),i}static fromHexString(t){const i=qt.parseHex(t);if(i){const[n,s,a,o]=i;return new qt(n/255,s/255,a/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let i=-1,n=-1;for(let r=0;r<t.length;r++){const l=t[r];if(i===-1&&l==="(")i=r;else if(l===")"){n=r;break}}if(i===-1||n===-1)return;const a=t.substring(i+1,n).split(","),o=[];for(let r=0;r<a.length;r++){const l=a[r];let c=parseFloat(l);if(!Number.isFinite(c))return;l.indexOf("%")>=0?(c=lt(0,c,100),c/=100):r===3?c=lt(0,c,1):(c=lt(0,c,255),c/=255),o.push(c)}return o}static fromRgbaString(t){const i=qt.stringToRgba(t);if(i){if(i.length===3)return new qt(i[0],i[1],i[2]);if(i.length===4)return new qt(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new qt(t[0],t[1],t[2],t[3]);if(t.length===3)return new qt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,n,s=1){const a=qt.HSBtoRGB(t,i,n);return new qt(a[0],a[1],a[2],s)}static fromHSL(t,i,n,s=1){const a=qt.HSLtoRGB(t,i,n);return new qt(a[0],a[1],a[2],s)}static fromOKLCH(t,i,n,s=1){const a=qt.OKLCHtoRGB(t,i,n);return new qt(a[0],a[1],a[2],s)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+qt.padHex(Math.round(this.r*255).toString(16))+qt.padHex(Math.round(this.g*255).toString(16))+qt.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=qt.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],n=Math.pow(10,t);return this.a!==1?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return qt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,i,n){const s=uA(t),a=uA(i),o=uA(n),r=Math.cbrt(.4122214708*s+.5363325363*a+.0514459929*o),l=Math.cbrt(.2119034982*s+.6806995451*a+.1073969566*o),c=Math.cbrt(.0883024619*s+.2817188376*a+.6299787005*o),u=.2104542553*r+.793617785*l-.0040720468*c,h=1.9779984951*r-2.428592205*l+.4505937099*c,f=.0259040371*r+.7827717662*l-.808675766*c,g=Math.atan2(f,h)*180/Math.PI,x=u,y=Math.hypot(h,f),b=g>=0?g:g+360;return[x,y,b]}static OKLCHtoRGB(t,i,n){const s=t,a=i*Math.cos(n*Math.PI/180),o=i*Math.sin(n*Math.PI/180),r=(s+.3963377774*a+.2158037573*o)**3,l=(s-.1055613458*a-.0638541728*o)**3,c=(s-.0894841775*a-1.291485548*o)**3,u=4.0767416621*r-3.3077115913*l+.2309699292*c,h=-1.2684380046*r+2.6097574011*l-.3413193965*c,f=-.0041960863*r-.7034186147*l+1.707614701*c,g=dA(u),x=dA(h),y=dA(f);return[g,x,y]}static RGBtoHSL(t,i,n){const s=Math.min(t,i,n),a=Math.max(t,i,n),o=(a+s)/2;let r,l;if(a===s)r=0,l=0;else{const c=a-s;l=o>.5?c/(2-a-s):c/(a+s),a===t?r=(i-n)/c+(i<n?6:0):a===i?r=(n-t)/c+2:r=(t-i)/c+4,r*=360/6}return[r,l,o]}static HSLtoRGB(t,i,n){if(t=(t%360+360)%360,i===0)return[n,n,n];const s=n<.5?n*(1+i):n+i-n*i,a=2*n-s;function o(u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?a+(s-a)*6*u:u<1/2?s:u<2/3?a+(s-a)*(2/3-u)*6:a}const r=o(t/360+1/3),l=o(t/360),c=o(t/360-1/3);return[r,l,c]}static RGBtoHSB(t,i,n){const s=Math.min(t,i,n),a=Math.max(t,i,n),o=a===0?0:(a-s)/a;let r=0;if(s!==a){const l=a-s,c=(a-t)/l,u=(a-i)/l,h=(a-n)/l;t===a?r=h-u:i===a?r=2+c-h:r=4+u-c,r/=6,r<0&&(r=r+1)}return[r*360,o,a]}static HSBtoRGB(t,i,n){t=(t%360+360)%360/360;let s=0,a=0,o=0;if(i===0)s=a=o=n;else{const r=(t-Math.floor(t))*6,l=r-Math.floor(r),c=n*(1-i),u=n*(1-i*l),h=n*(1-i*(1-l));switch(r>>0){case 0:s=n,a=h,o=c;break;case 1:s=u,a=n,o=c;break;case 2:s=c,a=n,o=h;break;case 3:s=c,a=u,o=n;break;case 4:s=h,a=c,o=n;break;case 5:s=n,a=c,o=u;break}}return[s,a,o]}static mix(t,i,n){return new qt(Q0(t.r,i.r,n),Q0(t.g,i.g,n),Q0(t.b,i.b,n),Q0(t.a,i.a,n))}};NW.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var nl=NW;function MW(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function IW(e,t){if(typeof e=="string")try{e=nl.fromString(e)}catch{e=nl.fromArray([0,0,0])}if(typeof t=="string")try{t=nl.fromString(t)}catch{t=nl.fromArray([0,0,0])}return i=>nl.mix(e,t,i).toRgbaString()}var Uw=Symbol("BREAK"),ym="__decorator_config";function TW(e,t){Object.getOwnPropertyDescriptor(e,ym)==null&&Object.defineProperty(e,ym,{value:{}});const i=e[ym],n=t.toString();if(typeof i[n]<"u")return i[n];const s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};const a=Object.getOwnPropertyDescriptor(e,t),o=a==null?void 0:a.set,r=a==null?void 0:a.get;return Object.defineProperty(e,t,{set:function(u){const{setters:h,observers:f}=i[n];let g;h.some(x=>x.length>2)&&(g=r?r.call(this):s.get(this));for(const x of h)if(u=x(this,t,u,g),u===Uw)return;o?o.call(this,u):s.set(this,u);for(const x of f)x(this,u,g)},get:function(){let u=r?r.call(this):s.get(this);for(const h of i[n].getters)if(u=h(this,t,u),u===Uw)return;return u},enumerable:!0,configurable:!1}),i[n]}function Tc(e,t,i){return(n,s)=>{const a=TW(n,s);a.setters.push(e),t&&a.getters.unshift(t),i&&Object.assign(a,i)}}function Pbe(e){return(t,i)=>{TW(t,i).observers.push(e)}}function iN(e){return typeof e<"u"&&ym in e}function xm(e){const t=new Set;for(;iN(e);)t.add(e==null?void 0:e[ym]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function zbe(e){return xm(e).reduce((t,i)=>(t[i]=e[i]??null,t),{})}function _be(e,t){const i=t.toString();for(;iN(e);){const n=e[ym];if(Object.hasOwn(n,i))return n[i];e=Object.getPrototypeOf(e)}}function Rm(e){return e!=null}function fi(e){return Array.isArray(e)}function kL(e){return typeof e=="boolean"}function Rb(e){return e instanceof Date}function Pb(e){return Rb(e)&&!isNaN(Number(e))}function AW(e){return e instanceof RegExp}function Ec(e){return typeof e=="function"}function Ys(e){return typeof e=="object"&&e!==null&&!fi(e)}function Fbe(e){return fi(e)||Sa(e)}function Sa(e){return typeof e=="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function xa(e){return typeof e=="string"}function Va(e){return typeof e=="number"}function yt(e){return Number.isFinite(e)}function kW(e){return typeof window<"u"&&e instanceof HTMLElement}function Bbe(e,t){return xa(t)&&Object.keys(e).includes(t)}function CW(e,t){return Object.values(e).includes(t)}function DW(e){return typeof e=="symbol"}function LW(e,t){return e.type!==t}function EW(e,t,i){for(const n in t)if(!(n in e))return!1;for(const n in e)if(!(n in t)||!i(e[n],t[n]))return!1;return!0}function Vbe(...e){return ft(...e.reverse())}function ft(...e){const t={};for(const i of e){if(!Ys(i))continue;const n=iN(i)?xm(i):Object.keys(i);for(const s of n)Sa(t[s])&&Sa(i[s])?t[s]=ft(t[s],i[s]):t[s]??(t[s]=i[s])}return t}function Gw(e,...t){return t&&fi(e)?e.map(i=>ft(i,...t)):e}function CL(e,t){return Object.entries(e).reduce((i,[n,s])=>(i[n]=t(s,n,e),i),{})}function FC(e,t){const i={...e};for(const n of t)delete i[n];return i}function DL(e,t){return(fi(t)?t:t.split(".")).reduce((n,s)=>n[s],e)}var LL=new Set(["__proto__","constructor","prototype"]);function EL(e,t,i){const n=fi(t)?t.slice():t.split("."),s=n.pop();if(n.some(o=>LL.has(o)))return;const a=n.reduce((o,r)=>o[r],e);return a[s]=i,a[s]}function zh(e,t,i){if(i===void 0)return t;for(const n of e){const s=i[n];s!==void 0&&(t[n]=s)}return t}var OL={};Lc(OL,{easeIn:()=>Ube,easeInOut:()=>Gbe,easeInOutQuad:()=>Ybe,easeInQuad:()=>Wbe,easeOut:()=>Jx,easeOutQuad:()=>Hbe,inverseEaseOut:()=>jW,linear:()=>OW});var OW=e=>e,Ube=e=>1-Math.cos(e*Math.PI/2),Jx=e=>Math.sin(e*Math.PI/2),Gbe=e=>-(Math.cos(e*Math.PI)-1)/2,Wbe=e=>e*e,Hbe=e=>1-(1-e)**2,Ybe=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,jW=e=>2*Math.asin(e)/Math.PI,Ww=.2,im=["initial","remove","update","add","trailing","end","none"],eb={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Ww,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Ww,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},RW=(e=>(e.Loop="loop",e.Reverse="reverse",e))(RW||{});function $be(e){return e.every(t=>t instanceof ld)}function nN(e){return $be(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function BC(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((i,n)=>BC(i,t[n])):Bw(e)&&Bw(t)?e.equals(t):Sa(e)&&Sa(t)?EW(e,t,BC):!1}var PW=class{constructor(t){var n,s,a;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=t.autoplay??!0,this.ease=t.ease??OW,this.phase=t.phase;const i=t.duration??eb[this.phase].animationDuration;this.duration=i*t.defaultDuration,this.delay=(t.delay??0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&((n=this.onUpdate)==null||n.call(this,t.to,!1,this),(s=this.onStop)==null||s.call(this,this),(a=this.onComplete)==null||a.call(this,this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,i){return BC(t.from,t.to)?0:i}play(t=!1){var i,n;this.isPlaying||this.isComplete||(this.isPlaying=!0,(i=this.onPlay)==null||i.call(this,this),this.autoplay&&(this.autoplay=!1,t&&((n=this.onUpdate)==null||n.call(this,this.from,!0,this))))}pause(){this.isPlaying=!1}stop(){var t;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(t=this.onStop)==null||t.call(this,this))}update(t){var a,o;if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);const i=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);(a=this.onUpdate)==null||a.call(this,n,!1,this);const s=this.delay+this.duration;return this.elapsed>=s?(this.stop(),this.isComplete=!0,(o=this.onComplete)==null||o.call(this,this),t-(s-i)):0}get delta(){return this.ease(lt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,i){if(typeof i!="object"||Bw(i))return this.interpolateValue(t,i);const n=[];for(const s in i){const a=this.interpolateValue(t[s],i[s]);a!=null&&n.push([s,a])}return s=>{const a={};for(const[o,r]of n)a[o]=r(s);return a}}interpolateValue(t,i){if(!(t==null||i==null)){if(Bw(t))return n=>t[XS](i,n);try{switch(typeof t){case"number":return MW(t,i);case"string":return IW(t,i);case"boolean":if(t===i)return()=>t;break}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${i}`)}}},Hs={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Si(e,t,i,n,s,a,o){const{fromFn:r,toFn:l,applyFn:c=(x,y)=>x.setProperties(y)}=s,{nodes:u,selections:h}=nN(n),f=(x,y)=>{let b,v=0,S=0;for(const N of y){const M=x[v]===N,I={last:S>=y.length-1,lastLive:v>=x.length-1,prev:y[S-1],prevFromProps:b,prevLive:x[v-1],next:y[S+1],nextLive:x[v+(M?1:0)]},C=`${e}_${t}_${N.id}`;i.stopByAnimationId(C);let L="unknown";M?a&&o&&(L=Kbe(N,N.datum,a,o)):L="removed",N.transitionOut=L==="removed";const{phase:O,start:P,finish:z,delay:V,duration:G,...H}=r(N,N.datum,L,I),{phase:B,start:$,finish:Q,delay:X,duration:Y,...q}=l(N,N.datum,L,I),Z=z==null;i.animate({id:C,groupId:e,phase:O??B??"update",duration:G??Y,delay:V??X,from:H,to:q,ease:Jx,collapsable:Z,onPlay:()=>{c(N,{...P,...$,...H})},onUpdate(W){c(N,W)},onStop:()=>{c(N,{...P,...$,...H,...q,...z,...Q})}}),M&&v++,S++,b=H}};let g=0;for(const x of h){const y=x.nodes(),b=y.filter(v=>!x.isGarbage(v));f(b,y),i.animate({id:`${e}_${t}_selection_${g}`,groupId:e,phase:"end",from:0,to:1,ease:Jx,onStop(){x.cleanup()}}),g++}f(u,u)}function Sl(e,t,i,n,s,a,o){const{nodes:r,selections:l}=nN(n),{start:c,finish:u,phase:h}=o;i.animate({id:`${e}_${t}`,groupId:e,phase:h??"update",from:s,to:a,ease:Jx,onPlay:()=>{if(c){for(const f of r)f.setProperties(c);for(const f of l)for(const g of f.nodes())g.setProperties(c)}},onUpdate(f){for(const g of r)g.setProperties(f);for(const g of l)for(const x of g.nodes())x.setProperties(f)},onStop:()=>{for(const f of r)f.setProperties({...a,...u});for(const f of l){for(const g of f.nodes())g.setProperties({...a,...u});f.cleanup()}}})}function Kbe(e,t,i,n){const s=i(e,t);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var Rn=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},Nl=class VC{constructor(t,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=VC.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=i}static is(t){return t instanceof VC}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const i=this.getDomain(),n=this.getPixelRange(),s=Math.abs(i[1]-i[0])/t+1,a=Math.floor(n),o=Math.min(s,a);return n/Math.max(1,o)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,i){const n=(i==null?void 0:i.clampMode)??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const s=this.getDomain().map(u=>this.transform(u)),[a,o]=s,{range:r}=this,[l,c]=r;if(t=this.transform(t),n==="clamped"){const[u,h]=ya(s.map(Number));if(Number(t)<u)return l;if(Number(t)>h)return c}return a===o?(l+c)/2:t===a?l:t===o?c:l+(Number(t)-Number(a))/(Number(o)-Number(a))*(c-l)}invert(t){this.refresh();const i=this.getDomain().map(f=>this.transform(f)),[n,s]=i,{range:a}=this,[o,r]=a,l=o>r,c=l?r:o,u=l?o:r;let h;return t<c?l?s:n:t>u?l?n:s:(o===r?h=this.toDomain((Number(n)+Number(s))/2):h=this.toDomain(Number(n)+(t-o)/(r-o)*(Number(s)-Number(n))),this.transformInvert(h))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ie.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[t,i]=this.range;return Math.abs(i-t)}};Nl.defaultTickCount=5;Nl.defaultMaxTickCount=6;j([Rn],Nl.prototype,"domain",2);j([Rn],Nl.prototype,"range",2);j([Rn],Nl.prototype,"nice",2);j([Rn],Nl.prototype,"interval",2);j([Rn],Nl.prototype,"tickCount",2);j([Rn],Nl.prototype,"minTickCount",2);j([Rn],Nl.prototype,"maxTickCount",2);var jt=Nl;function Ml(e){if(e.length===0)return null;let t=1/0,i=-1/0;for(let s of e)s instanceof Date&&(s=s.getTime()),typeof s=="number"&&(s<t&&(t=s),s>i&&(i=s));const n=[t,i];return n.every(isFinite)?n:null}function sN(e,t,i){let n=!1;return e.length>2&&(e=Ml(e)??[NaN,NaN]),isNaN(t)||(n||(n=t>e[0]),e=[t,e[1]]),isNaN(i)||(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}function Ku(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!Ku(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function Hw(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function aN(e){return Array.from(new Set(e))}function jL(e,t){return e.reduce((i,n)=>{const s=t(n);return i[s]??(i[s]=[]),i[s].push(n),i},{})}function UC(e,t,i=0){if(e.length===0)return[];const n=[];for(let s=0;s<t;s++)n.push(e.at((s+i)%e.length));return n}function Zbe(e,t){const i=new Map;return t.forEach((n,s)=>{i.set(n,s)}),e.sort((n,s)=>{const a=i.get(n)??1/0,o=i.get(s)??1/0;return a-o})}var J0={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function RL(e,t=new Date(e.getFullYear(),0,1)){const i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function A_(e,t){const n=new Date(e.getFullYear(),0,1).getDay(),s=(t-n+7)%7,a=new Date(e.getFullYear(),0,s+1);return a<=e?Math.floor(RL(e,a)/7)+1:0}var qbe=0,zW=1,k_=4;function _W(e,t=e.getFullYear()){const n=new Date(t,0,1).getDay(),s=(k_-n+7)%7,a=new Date(t,0,s-(k_-zW)+1);return a<=e?Math.floor(RL(e,a)/7)+1:_W(e,t-1)}function Xbe(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${Wn(Math.floor(i/60),2,"0")}${Wn(Math.floor(i%60),2,"0")}`}var Qbe={a:e=>J0.shortDays[e.getDay()],A:e=>J0.days[e.getDay()],b:e=>J0.shortMonths[e.getMonth()],B:e=>J0.months[e.getMonth()],c:"%x, %X",d:(e,t)=>Wn(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>Wn(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>Wn(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return i===0?"12":Wn(i,2,t??"0")},j:(e,t)=>Wn(RL(e)+1,3,t??"0"),m:(e,t)=>Wn(e.getMonth()+1,2,t??"0"),M:(e,t)=>Wn(e.getMinutes(),2,t??"0"),L:(e,t)=>Wn(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>Wn(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>Wn(A_(e,qbe),2,t??"0"),V:(e,t)=>Wn(_W(e),2,t??"0"),w:(e,t)=>Wn(e.getDay(),2,t??"0"),W:(e,t)=>Wn(A_(e,zW),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>Wn(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>Wn(e.getFullYear(),4,t??"0"),Z:e=>Xbe(e),"%":()=>"%"},Jbe={_:" ",0:"0","-":""};function Wn(e,t,i){const n=String(Math.floor(e));return n.length>=t?n:`${i.repeat(t-n.length)}${n}`}function zb(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(i!==0){const r=i>0?e.substring(0,i):e;t.push(r)}if(i<0)break;const n=e[i+1],s=Jbe[n];s!=null&&i++;const a=e[i+1],o=Qbe[a];if(typeof o=="function")t.push([o,s]);else if(typeof o=="string"){const r=zb(o);t.push([r,s])}else t.push(`${s??""}${a}`);e=e.substring(i+2)}return i=>{const n=typeof i=="number"?new Date(i):i;return t.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}function ha(e){return e instanceof Date?e.getTime():e}function PL(e,t,i){const n=FW(e,t,i),s=zb(n);return a=>s(a)}function FW(e=[],t=e,i=0){let n=1/0;for(let l=1;l<e.length;l++)n=Math.min(n,Math.abs(e[l]-e[l-1]));const s=new Date(t[0]).getFullYear(),o=new Date(t.at(-1)).getFullYear()-s>0,r=isFinite(n)?eve(n,e):tve(e[0]);return nve(Math.max(r-i,0),o,e)}function eve(e,t){return e<Vu?0:e<Kn?1:e<Ws?2:e<Co?3:e<dc?4:e<Co*28||e<Co*31&&ive(t)?5:e<Om?6:7}function tve(e){return rx.floor(e)<e?0:lx.floor(e)<e?1:cx.floor(e)<e?2:PC.floor(e)<e?3:em.floor(e)<e?nw.floor(e)<e?4:5:IL.floor(e)<e?6:7}function ive(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}function nve(e,t,i){const n=ha(i[0]),s=ha(i.at(-1)),a=Math.abs(s-n),o=t||e===7,r=a===0,c=[["hour",6*Ws,14*Co,3,"%I %p"],["hour",Kn,6*Ws,3,"%I:%M"],["second",1e3,6*Ws,1,":%S"],["ms",0,6*Ws,0,".%L"],["am/pm",Kn,6*Ws,3,"%p"]," ",["day",Co,dc,4,"%a"],["month",r?0:dc,52*dc,5,"%b %d"],["month",5*dc,10*Om,6,"%B"]," ",["year",o?0:Om,1/0,7,"%Y"]].filter(f=>{if(typeof f=="string")return!0;const[g,x,y,b]=f;return b>=e&&x<=a&&a<y}).reduce((f,g)=>(typeof g=="string"?f.result.push(g):f.used.has(g[0])||(f.result.push(g),f.used.add(g[0])),f),{result:[],used:new Set}).result,u=c.findIndex(f=>typeof f!="string"),h=c.findLastIndex(f=>typeof f!="string");return c.slice(u,h+1).map(f=>typeof f=="string"?f:f[4]).join("").replaceAll(/\s+/g," ").trim()}var oN=class BW{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof BW}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ie.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.index=new Map,this.invalid=!0,this._domain=[];for(const i of t){const n=ha(i);this.getIndex(n)===void 0&&this.index.set(n,this._domain.push(i)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(t){this.refresh();const i=this.getIndex(t);return i==null?NaN:this.ordinalRange[i]??NaN}invert(t){this.refresh();const i=this.ordinalRange.findIndex(n=>n===t);return this.domain[i]}invertNearest(t){this.refresh();let i=-1,n=1/0;const s=this.ordinalRange.findIndex((a,o)=>{if(a===t)return!0;const r=Math.abs(t-a);return r<n&&(n=r,i=o),!1});return this.domain[s]??this.domain[i]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=lt(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=lt(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=lt(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){const t=this._domain.length;if(t===0)return;const[i,n]=this.range;let{_paddingInner:s}=this;const{_paddingOuter:a,round:o}=this,r=n-i;let l;t===1?(s=0,l=r*(1-a*2)):l=r/Math.max(1,t-s+a*2);const c=o?Math.floor(l):l;let u=i+(r-c*(t-s))/2,h=c*(1-s);o&&(u=Math.round(u),h=Math.round(h)),this._step=c,this._inset=u,this._bandwidth=h,this._rawBandwidth=l*(1-s),this.ordinalRange=this._domain.map((f,g)=>u+c*g)}getIndex(t){return this.index.get(t instanceof Date?t.getTime():t)}};j([Rn],oN.prototype,"range",2);j([Rn],oN.prototype,"round",2);j([Rn],oN.prototype,"interval",2);var cd=oN,ht=class{set(t){const{className:i=this.constructor.name}=this.constructor;if(typeof t!="object")return Ie.warn(`unable to set ${i} - expecting a properties object`),this;const n=new Set(Object.keys(t));for(const s of xm(this))if(n.has(s)){const a=t[s],o=this;if(ul(o[s]))if(o[s]instanceof rN){const r=o[s].reset(a);r!=null?o[s]=r:Ie.warn(`unable to set [${s}] - expecting a properties array`)}else o[s].set(a);else o[s]=a;n.delete(s)}for(const s of n)Ie.warn(`unable to set [${s}] in ${i} - property is unknown`);return this}isValid(t){return xm(this).every(i=>{const{optional:n}=_be(this,i),s=n===!0||typeof this[i]<"u";return s||Ie.warnOnce(`${t??""}[${i}] is required.`),s})}toJson(){return xm(this).reduce((t,i)=>{const n=this[i];return t[i]=ul(n)?n.toJson():n,t},{})}},rN=class VW extends Array{constructor(t,...i){super(i.length);const s=(a=>{var o,r;return!!((r=(o=a==null?void 0:a.prototype)==null?void 0:o.constructor)!=null&&r.name)})(t)?a=>new t().set(a):t;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(fi(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=this.itemFactory(t[i])}return this}reset(t){if(Array.isArray(t))return new VW(this.itemFactory,...t)}toJson(){return this.map(t=>{var i;return((i=t==null?void 0:t.toJson)==null?void 0:i.call(t))??t})}};function ul(e){return e instanceof ht||e instanceof rN}function _(e,t={}){const{optional:i=!1,property:n}=t;return Tc((s,a,o)=>{const r={...t,target:s,property:a};if(i&&typeof o>"u"||e(o,r))return ul(s[a])&&!ul(o)?(s[a].set(o),s[a]):o;const l=n??String(a).replace(/^_*/,""),c=s.constructor.className??s.constructor.name.replace(/Properties$/,"");let u=kx(o);const h=50;if(u!=null&&u.length>h){const f=u.length-h;u=u.slice(0,h)+`... (+${f} characters)`}return Ie.warn(`Property [${l}] of [${c}] cannot be set to [${u}]${e.message?`; expecting ${_b(e,r)}`:""}, ignoring.`),Uw},void 0,{optional:i})}var zo=(...e)=>{const t=[];return _t((i,n)=>(t.length=0,e.every(s=>{const a=s(i,n);return a||t.push(_b(s,n)),a})),()=>t.filter(Boolean).join(" AND "))},dp=(...e)=>_t((t,i)=>e.some(n=>n(t,i)),t=>e.map(pve(t)).filter(Boolean).join(" OR ")),Be=XW(_t((e,t)=>ul(e)||Ys(e)&&ul(t.target[t.property]),"a properties object")),UW=XW(_t(e=>Ys(e),"an object")),Qe=_t(kL,"a boolean"),Ia=_t(Ec,"a function"),Ae=_t(xa,"a string"),Kt=mve(_t(yt,"a number")),GW=_t(e=>Va(e)&&!isNaN(e),"a real number"),lN=_t(e=>Va(e)&&isNaN(e),"NaN"),Ce=Kt.restrict({min:0}),Nt=Kt.restrict({min:0,max:1}),wd=Kt.restrict({min:-360,max:360}),qm=dp(Kt,lN),Xm=fve(_t(fi,"an array")),Oc=(e,t)=>_t((i,n)=>fi(i)&&i.every(s=>e(s,n)),i=>{const n=_b(Xm,i)??"";return t?`${n} of ${t}`:n}),Yw=e=>yt(e)||Pb(e),Qm=e=>_t((t,i)=>!Yw(t)||!Yw(i.target[e])||t<i.target[e],`to be less than ${e}`),Jm=e=>_t((t,i)=>!Yw(t)||!Yw(i.target[e])||t>i.target[e],`to be greater than ${e}`),zL=_t(Pb,"Date object"),_L=dp(zL,Ce),WW="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Rt=_t(e=>xa(e)&&nl.validColorString(e),`color String. ${WW}`),_o=_t(Oc(Rt),`color strings. ${WW}`),sve=Oc(Qe,"boolean values"),cN=Oc(Kt,"numbers"),HW=Oc(Ae,"strings"),ave=_t(Oc(zL),"Date objects"),YW=_t(Oc(Be),"objects"),ove=Ft(["butt","round","square"],"a line cap"),rve=Ft(["round","bevel","miter"],"a line join"),lve=Ft(["solid","dashed","dotted"],"a line style"),jc=_t(Oc(Ce),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),FL=Ft(["top","right","bottom","left"],"a position"),Sd=Ft(["normal","italic","oblique"],"a font style"),Nd=dp(Ft(["normal","bold","bolder","lighter"],"a font weight"),Kt.restrict({min:1,max:1e3})),uN=Ft(["never","always","hyphenate","on-space"],"a text wrap strategy"),$W=Ft(["left","center","right"],"a text align"),cve=Ft(["top","middle","bottom"],"a vertical align"),uve=Ft(["ellipsis","hide"],"an overflow strategy"),KW=Ft(["horizontal","vertical"],"a direction"),dve=Ft(["inside","outside"],"a placement"),dN=dp(Ft(["exact","nearest"],"interaction range"),Kt),BL=Ft(["top","bottom","left","right"]);function Ft(e,t="a"){return _t((i,n)=>{const s=e.find(a=>{const o=typeof a=="string"?a:a.value;return i===o});if(s==null)return!1;if(typeof s!="string"&&(s.deprecated===!0||s.deprecatedTo!=null)){const a=[`Property [%s] with value '${s.value}' is deprecated.`];s.deprecatedTo&&a.push(`Use ${s.deprecatedTo} instead.`),Ie.warnOnce(a.join(" "),n.property)}return!0},`${t} keyword such as ${hve(e)}`)}var ZW=dp(zo(Kt.restrict({min:1}),Qm("maxSpacing")),lN),qW=dp(zo(Kt.restrict({min:1}),Jm("minSpacing")),lN);function _t(e,t){return e.message=t,e}function hve(e){const t=e.filter(n=>typeof n=="string"||n.undocumented!==!0).map(n=>`'${typeof n=="string"?n:n.value}'`);if(t.length===1)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}function _b(e,t){return Ec(e.message)?e.message(t):e.message}function pve(e){return t=>_b(t,e)}function fve(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){let n="an array";return Va(i)&&i>0?n="a non-empty array":Va(t)&&(n=`an array of length ${t}`),_t(s=>fi(s)&&(Va(t)?s.length===t:!0)&&(Va(i)?s.length>=i:!0),n)}})}function mve(e){return Object.assign(e,{restrict({min:t,max:i}={}){const n=["a number"],s=Va(t),a=Va(i);return s&&a?n.push(`between ${t} and ${i} inclusive`):s?n.push(`greater than or equal to ${t}`):a&&n.push(`less than or equal to ${i}`),_t(o=>yt(o)&&(s?o>=t:!0)&&(a?o<=i:!0),n.join(" "))}})}function XW(e){return Object.assign(e,{restrict(t){return _t(i=>i instanceof t,i=>_b(e,i)??`an instance of ${t.name}`)}})}function kx(e){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var VL=(e=>(e.X="x",e.Y="y",e))(VL||{}),UL=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var i;const t=xa(e)?e:e.optionsKey;(i=this.moduleMap.get(t))==null||i.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){var t;return(t=this.moduleMap.get(xa(e)?e:e.optionsKey))==null?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(xa(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,i)=>e(t.moduleInstance,i))}destroy(){var e;for(const t of this.moduleMap.keys())(e=this.moduleMap.get(t))==null||e.moduleInstance.destroy();this.moduleMap.clear()}},QW={};Lc(QW,{resetMotion:()=>Ji});function Ji(e,t){const{nodes:i,selections:n}=nN(e);for(const s of n){for(const a of s.nodes()){const o=t(a,a.datum);a.setProperties(o)}s.cleanup()}for(const s of i){const a=t(s,s.datum);s.setProperties(a)}}function JW(e){let t,i;const n=yve.exec(e);n&&([,t,e,i]=n);const s=gve.exec(e);if(!s)throw new Error(`The number formatter is invalid: ${e}`);const[,a,o,r,l,c,u,h,f,g,x]=s;return{fill:a,align:o,sign:r,symbol:l,zero:c,width:parseInt(u),comma:h,precision:parseInt(f),trim:!!g,type:x,prefix:t,suffix:i}}function eH(e){const t=typeof e=="string"?JW(e):e,{fill:i,align:n,sign:s="-",symbol:a,zero:o,width:r,comma:l,type:c,prefix:u="",suffix:h="",precision:f}=t;let{trim:g}=t;const x=f==null||isNaN(f);let y;if(!c)y=So.g,g=!0;else if(c in So&&c in hm)y=x?hm[c]:So[c];else if(c in So)y=So[c];else if(c in hm)y=hm[c];else throw new Error(`The number formatter type is invalid: ${c}`);let b;return f==null||x?b=c?6:12:b=f,v=>{let S=y(v,b);return g&&(S=vve(S)),l&&(S=wve(S,l)),S=Nve(v,S,s),a&&a!=="#"&&(S=`${a}${S}`),a==="#"&&c==="x"&&(S=`0x${S}`),c==="s"&&(S=`${S}${Sve(v)}`),(c==="%"||c==="p")&&(S=`${S}%`),r!=null&&!isNaN(r)&&(S=Mve(S,r,i??o,n)),S=`${u}${S}${h}`,S}}var gve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,yve=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,hm={b:e=>e1(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>e1(e).toString(8),x:e=>e1(e).toString(16),X:e=>hm.x(e).toUpperCase(),n:e=>hm.d(e),"%":e=>`${e1(e*100).toFixed(0)}`},So={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>So.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>So.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>So.g(e,t).toUpperCase(),n:(e,t)=>So.g(e,t),p:(e,t)=>So.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),s=Math.floor(Math.log10(i))-(t-1);if(s<=0)return i.toFixed(-s);const a=10**s;return(Math.round(i/a)*a).toFixed()},s:(e,t)=>{const i=nH(e);return So.r(e/10**i,t)},"%":(e,t)=>So.f(e*100,t)},tH=-24,iH=24,xve={[tH]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[iH]:"Y"},bve="";function e1(e){return Math.floor(Math.abs(e))}function vve(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function wve(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const n=e.substring(0,i).split(""),s=e.substring(i);for(let a=n.length-3;a>0;a-=3)n.splice(a,0,t);return`${n.join("")}${s}`}function Sve(e){return xve[nH(e)]}function nH(e){return lt(tH,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,iH)}function Nve(e,t,i=""){if(i==="(")return e>=0?t:`(${t})`;const n=i==="+"?"+":"";return`${e>=0?n:bve}${t}`}function Mve(e,t,i=" ",n=">"){let s=e;if(n===">"||!n)s=s.padStart(t,i);else if(n==="<")s=s.padEnd(t,i);else if(n==="^"){const a=Math.max(0,t-s.length),o=Math.ceil(a/2),r=Math.floor(a/2);s=s.padStart(o+s.length,i),s=s.padEnd(r+s.length,i)}return s}var wi=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),ux=[wi(rx,Vu,1),wi(rx,Vu,5),wi(rx,Vu,15),wi(rx,Vu,30),wi(lx,Kn,1),wi(lx,Kn,5),wi(lx,Kn,15),wi(lx,Kn,30),wi(cx,Ws,1),wi(cx,Ws,3),wi(cx,Ws,6),wi(cx,Ws,12),wi(PC,Co,1),wi(PC,Co,2),wi(nw,dc,1),wi(nw,dc,2),wi(nw,dc,3),wi(em,_y,1),wi(em,_y,2),wi(em,_y,3),wi(em,_y,4),wi(em,_y,6),wi(IL,Om,1)],sH=[1,2,5,10];function C_(e,t){return Math.abs(Math.round(e)-e)<t}function hN(e,t,i,n,s){if(i<2)return[e,t];const a=Pm(e,t,i,n,s);return Number.isFinite(a)?(C_(e/a,1e-12)||(e=Math.ceil(e/a)*a),C_(t/a,1e-12)||(t=Math.floor(t/a)*a),pN(e,t,a)):[]}function D_(e,t,i,n,s,a){const o=Math.abs(t-e)/Math.max(i,1);let r=0;for(const f of ux){if(o<=f.duration)break;r++}if(r===0){const f=Math.max(Pm(e,t,i,n,s),1);return ebe.every(f)}else if(r===ux.length){const f=Pm(e/Om,t/Om,i,n,s);return IL.every(f)}const l=ux[r-1],c=ux[r],{timeInterval:u,step:h}=o-l.duration<c.duration-o?l:c;return u.every(h)}function Pm(e,t,i,n=0,s=1/0){if(e===t)return lt(1,n,s);if(i<1)return NaN;const a=Math.abs(t-e),o=10**Math.floor(Math.log10(a/i));let r=NaN,l=1/0,c=!1;for(const u of sH){const h=Math.ceil(a/(u*o)),f=h>=n&&h<=s;if(c&&!f)continue;const g=Math.abs(h-i);(l>g||c!==f)&&(c||(c=f),l=g,r=u)}return r*o}function L_(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function aH(e,t){const i=JW(t??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s))return 0;const[a,o]=s.toExponential((i.type?6:12)-1).split(/\.|e/g);return(a!=="1"&&a!=="-1"?1:0)+L_(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s)||s===0)return 0;const a=Math.floor(Math.log10(Math.abs(s))),o=i.type?6:12,r=s.toExponential(o-1).split(/\.|e/g)[1],l=L_(r);return Math.max(0,l-a)}))));const n=eH(i);return s=>n(Number(s))}function pN(e,t,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**Eb(i),s=Math.min(e,t),a=Math.max(e,t),o=[];for(let r=0;;r+=1){const l=Math.round((s+i*r)*n)/n;if(l<=a)o.push(l);else break}return o}function tb(e,t){return e>=t?(Ie.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function Ive(e,t){const i=Math.abs(t-e),n=10**Math.floor(Math.log10(i));let s=1/0,a=[e,t];for(const o of sH){const r=o*n,l=Math.floor(e/r)*r,c=Math.ceil(t/r)*r,u=1-i/Math.abs(c-l);s>u&&(s=u,a=[l,c])}return a}function Tve(e,t,i,n,s){s=Math.max(s,e/(n+1)),isNaN(t)&&(t=s),isNaN(i)&&(i=e),t>i&&(t===s?t=i:i=t);const a=lt(1,Math.floor(e/t),Math.min(Math.floor(e),100)),o=Math.min(a,Math.ceil(e/i)),r=lt(o,n,a);return{minTickCount:o,maxTickCount:a,tickCount:r}}var oH=class GC extends jt{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=I_,this.basePow=I_,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,Ie.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=GC.getBaseLogMethod(this.base),this.basePow=GC.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,i]=this.domain,n=t>i?Math.ceil:Math.floor,s=t>i?Math.floor:Math.ceil,a=this.pow(n(this.log(t))),o=this.pow(s(this.log(i)));this.niceDomain=[a,o]}ticks(){const t=this.tickCount??10;if(!this.domain||this.domain.length<2||t<1)return[];this.refresh();const i=this.base,[n,s]=this.getDomain(),a=Math.min(n,s),o=Math.max(n,s);let r=this.log(a),l=this.log(o);if(this.interval){const y=S=>S>=a&&S<=o,b=Math.min(Math.abs(this.interval),Math.abs(l-r)),v=pN(r,l,b).map(this.pow).filter(y);if(!tb(v.length,this.getPixelRange()))return v}const c=i%1===0,u=l-r>=t;if(!c||u)return hN(r,l,Math.min(l-r,t)).map(this.pow);const h=[],f=a>0;r=Math.floor(r)-1,l=Math.round(l)+1;const g=jm(this.range)/t;let x=1/0;for(let y=r;y<=l;y++){const b=this.convert(this.pow(y+1));for(let v=1;v<i;v++){const S=f?v:i-v+1,N=this.pow(y)*S,M=this.convert(N),I=Math.abs(x-M),C=Math.abs(M-b),L=I>=g&&C>=g;N>=a&&N<=o&&(v===1||L||h.length===0)&&(h.push(N),x=M)}}return h}tickFormat({count:t,ticks:i,specifier:n}){return t!==1/0&&i==null&&this.ticks(),n??(n=this.base===10?".0e":","),xa(n)?eH(n):n}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:return i=>Math.log(i)/Math.log(t)}}static getBasePowerMethod(t){switch(t){case 10:return i=>i>=0?10**i:1/10**-i;case Math.E:return Math.exp;default:return i=>t**i}}};j([Rn],oH.prototype,"base",2);var GL=oH,WL=class sw extends jt{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,i){return super.convert(new Date(t),i)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:t,nice:i,tickCount:n,minTickCount:s,maxTickCount:a}=this,[o,r]=ya(this.getDomain().map(ha));return t!=null?sw.getTicksForInterval({start:o,stop:r,interval:t,availableRange:this.getPixelRange()})??sw.getDefaultTicks({start:o,stop:r,tickCount:n,minTickCount:s,maxTickCount:a}):i&&n===2?this.niceDomain:i&&n===1?this.niceDomain.slice(0,1):sw.getDefaultTicks({start:o,stop:r,tickCount:n,minTickCount:s,maxTickCount:a})}static getDefaultTicks({start:t,stop:i,tickCount:n,minTickCount:s,maxTickCount:a}){const o=D_(t,i,n,s,a);return o?o.range(new Date(t),new Date(i)):[]}static getTicksForInterval({start:t,stop:i,interval:n,availableRange:s}){if(!n)return[];if(n instanceof ip){const u=n.range(new Date(t),new Date(i));return tb(u.length,s)?void 0:u}const a=Math.abs(n);if(tb((i-t)/a,s))return;const o=ux.findLast(u=>a%u.duration===0);if(o)return o.timeInterval.every(a/(o.duration/o.step)).range(new Date(t),new Date(i));let r=new Date(t);const l=new Date(i),c=[];for(;r<=l;)c.push(r),r=new Date(r),r.setMilliseconds(r.getMilliseconds()+a);return c}tickFormat({ticks:t,domain:i,specifier:n,formatOffset:s}){return n==null?PL(t,i,s):zb(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[i,n]=this.domain;for(let s=0;s<4;s++){this.updateNiceDomainIteration(i,n);const[a,o]=this.niceDomain;if(ha(i)===ha(a)&&ha(n)===ha(o))break;i=a,n=o}}updateNiceDomainIteration(t,i){const n=Math.min(ha(t),ha(i)),s=Math.max(ha(t),ha(i)),a=t>i,{interval:o}=this;let r;if(o instanceof ip)r=o;else{const l=typeof o=="number"?(s-n)/Math.max(o,1):this.tickCount;r=D_(n,s,l,this.minTickCount,this.maxTickCount)}if(r){const l=r.range(new Date(n),new Date(s),!0),c=a?[...l].reverse():l,u=c[0],h=c.at(-1);this.niceDomain=[u,h]}}};function Ave(e,t){return e-t}var Fb=class rH extends cd{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=jt.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(t){return t instanceof rH}setVisibleRange(t){this.visibleRange=t}set domain(t){if(this.invalid=!0,t.length===0){this._domain=[];return}this._domain=t,this.timestamps=aN(t.map(ha)),this.sortedTimestamps=this.timestamps.slice().sort(Ave)}get domain(){return this._domain}ticks(){this.refresh();const[t,i]=[this.timestamps[0],this.timestamps.at(-1)],n=Math.min(t,i),s=Math.max(t,i),a=t>i;let o;if(this.interval==null)o=this.getDefaultTicks(this.maxTickCount,a);else{const[l,c]=this.range,u=Math.abs(c-l);o=WL.getTicksForInterval({start:n,stop:s,interval:this.interval,availableRange:u})??[]}const r=new Set;return o.filter(l=>{const c=this.convert(l);return isNaN(c)||r.has(c)?!1:(r.add(c),!0)})}getDefaultTicks(t,i){const n=[],s=this.timestamps.length,a=Math.ceil(s*(this.visibleRange[1]-this.visibleRange[0])/t),o=Math.floor(a/2);for(const[r,l]of this.timestamps.entries())a>0&&(r+o)%a||(i?n.push(new Date(this.timestamps[s-r-1])):n.push(new Date(l)));return n}convert(t){this.refresh();const i=Number(t);if(i<this.sortedTimestamps[0])return NaN;let n=this.findInterval(i);return this.timestamps[0]!==this.sortedTimestamps[0]&&(n=this.timestamps.length-n-1),this.ordinalRange[n]??NaN}findInterval(t){const{sortedTimestamps:i}=this;let n=0,s=i.length-1;for(;n<=s;){const a=Math.floor((n+s)/2);if(i[a]===t)return a;i[a]<t?n=a+1:s=a-1}return n}tickFormat({ticks:t,domain:i,specifier:n}){return n==null?PL(t,i):zb(n)}invert(t){this.refresh();const i=this.ordinalRange.findIndex(n=>t<=n);return this.domain[i]}invertNearest(t){return new Date(super.invertNearest(t))}};j([Rn],Fb.prototype,"tickCount",2);j([Rn],Fb.prototype,"minTickCount",2);j([Rn],Fb.prototype,"maxTickCount",2);j([Rn],Fb.prototype,"interval",2);var hr=Fb;function lH(e,t){return typeof e=="number"&&typeof t=="number"?e-t:typeof e=="string"&&typeof t=="string"?e.localeCompare(t):e==null&&t==null?0:e==null?-1:t==null?1:String(e).localeCompare(String(t))}function E_(e){return typeof e=="function"?e():e}function cH(e,t,i){for(const n in e){const s=i(E_(e[n]),E_(t[n]));if(s!==0)return s}return 0}function Io(e){let t=1,i=e.visible?1:0,n=e.dirty>0?1:0;for(const s of e.children(!1)){const a=Io(s);t+=a.count,n+=a.dirtyCount,i+=a.visibleCount}return{count:t,visibleCount:i,dirtyCount:n}}var uH=Object.freeze([1,0,0,1,0,0]);function Ef(e,t,i=1e-8){return e===t||Math.abs(t-e)<i}var WC=class nm{get e(){return[...this.elements]}constructor(t=[...uH]){this.elements=t}setElements(t){const i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){const t=this.elements;return Ef(t[0],1)&&Ef(t[1],0)&&Ef(t[2],0)&&Ef(t[3],1)&&Ef(t[4],0)&&Ef(t[5],0)}AxB(t,i,n){const s=t[0]*i[0]+t[2]*i[1],a=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],r=t[1]*i[2]+t[3]*i[3],l=t[0]*i[4]+t[2]*i[5]+t[4],c=t[1]*i[4]+t[3]*i[5]+t[5];n=n??t,n[0]=s,n[1]=a,n[2]=o,n[3]=r,n[4]=l,n[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const i=new Array(6);return t instanceof nm?this.AxB(this.elements,t.elements,i):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],i),new nm(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],n=t[1],s=t[2],a=t[3];const o=t[4],r=t[5],l=1/(i*a-n*s);return i*=l,n*=l,s*=l,a*=l,new nm([a,-n,-s,i,s*r-a*o,n*o-i*r])}inverseTo(t){const i=this.elements;let n=i[0],s=i[1],a=i[2],o=i[3];const r=i[4],l=i[5],c=1/(n*o-s*a);return n*=c,s*=c,a*=c,o*=c,t.setElements([o,-s,-a,n,a*l-o*r,s*r-n*l]),this}invertSelf(){const t=this.elements;let i=t[0],n=t[1],s=t[2],a=t[3];const o=t[4],r=t[5],l=1/(i*a-n*s);return i*=l,n*=l,s*=l,a*=l,t[0]=a,t[1]=-n,t[2]=-s,t[3]=i,t[4]=s*r-a*o,t[5]=n*o-i*r,this}transformPoint(t,i){const n=this.elements;return{x:t*n[0]+i*n[2]+n[4],y:t*n[1]+i*n[3]+n[5]}}transformBBox(t,i){const n=this.elements,s=n[0],a=n[1],o=n[2],r=n[3],l=t.width*.5,c=t.height*.5,u=t.x+l,h=t.y+c,f=Math.abs(l*s)+Math.abs(c*o),g=Math.abs(l*a)+Math.abs(c*r);return i??(i=new Fe(0,0,0,0)),i.x=u*s+h*o+n[4]-f,i.y=u*a+h*r+n[5]-g,i.width=f+f,i.height=g+g,i}toContext(t){if(this.identity)return;const i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static flyweight(t){return nm.instance.setElements(t.elements)}static updateTransformMatrix(t,i,n,s,a,o,r){const l=i,c=n;let u,h;l===1&&c===1?(u=0,h=0):(u=(r==null?void 0:r.scalingCenterX)??0,h=(r==null?void 0:r.scalingCenterY)??0);const f=s,g=Math.cos(f),x=Math.sin(f);let y,b;f===0?(y=0,b=0):(y=(r==null?void 0:r.rotationCenterX)??0,b=(r==null?void 0:r.rotationCenterY)??0);const v=a,S=o,N=u*(1-l)-y,M=h*(1-c)-b;return t.setElements([g*l,x*l,-x*c,g*c,g*N-x*M+y+v,x*N+g*M+b+S]),t}static fromContext(t){const i=t.getTransform();return new nm([i.a,i.b,i.c,i.d,i.e,i.f])}};WC.instance=new WC;var yr=WC;function Nu(e){return hH(e.constructor)}var dH=Symbol("isMatrixTransform");function hH(e){return e[dH]===!0}function HL(e){var t,i;const n=e;if(hH(e))return e;const s=Symbol("matrix_combined_transform");class a extends n{constructor(){super(...arguments),this[i]=new yr,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty(3)}updateMatrix(r){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements(uH),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(r){return this.computeTransformMatrix(),this[s].identity?r.clone():this[s].transformBBox(r)}toParentPoint(r,l){return this.computeTransformMatrix(),this[s].identity?{x:r,y:l}:this[s].transformPoint(r,l)}fromParent(r){return this.computeTransformMatrix(),this[s].identity?r.clone():this[s].inverse().transformBBox(r)}fromParentPoint(r,l){return this.computeTransformMatrix(),this[s].identity?{x:r,y:l}:this[s].inverse().transformPoint(r,l)}computeBBox(){const r=super.computeBBox();return r&&this.toParent(r)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(r,l,c=!1){return c||({x:r,y:l}=this.fromParentPoint(r,l)),super.pickNode(r,l)}render(r){this._dirtyTransform&&(this.computeTransformMatrix(),r.forceRender||(r={...r,forceRender:"dirtyTransform"}));const l=this[s];let c=!1;l.identity||(r.ctx.save(),c=!0,l.toContext(r.ctx)),super.render(r),c&&r.ctx.restore()}toSVG(){const r=super.toSVG(),l=this[s];if(l.identity||r==null)return r;const c=document.createElementNS("http://www.w3.org/2000/svg","g");c.append(...r.elements);const[u,h,f,g,x,y]=l.e;return c.setAttribute("transform",`matrix(${u} ${h} ${f} ${g} ${x} ${y})`),{elements:[c],defs:r.defs}}}return t=dH,i=s,a[t]=!0,a}function hp(e){var t;const i=e,n=Symbol("matrix_rotation");class s extends HL(i){constructor(){super(...arguments),this[t]=new yr,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:r,rotationCenterX:l,rotationCenterY:c}=this;r!==0&&(yr.updateTransformMatrix(this[n],1,1,r,0,0,{rotationCenterX:l,rotationCenterY:c}),o.multiplySelf(this[n]))}}return t=n,j([Oe({type:"transform"})],s.prototype,"rotationCenterX",2),j([Oe({type:"transform"})],s.prototype,"rotationCenterY",2),j([Oe({type:"transform"})],s.prototype,"rotation",2),s}function YL(e){var t;const i=e,n=Symbol("matrix_scale");class s extends HL(i){constructor(){super(...arguments),this[t]=new yr,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);const{scalingX:r,scalingY:l,scalingCenterX:c,scalingCenterY:u}=this;r===1&&l===1||(yr.updateTransformMatrix(this[n],r,l,0,0,0,{scalingCenterX:c,scalingCenterY:u}),o.multiplySelf(this[n]))}}return t=n,j([Oe({type:"transform"})],s.prototype,"scalingX",2),j([Oe({type:"transform"})],s.prototype,"scalingY",2),j([Oe({type:"transform"})],s.prototype,"scalingCenterX",2),j([Oe({type:"transform"})],s.prototype,"scalingCenterY",2),s}function Md(e){var t;const i=e,n=Symbol("matrix_translation");class s extends HL(i){constructor(){super(...arguments),this[t]=new yr,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:r,translationY:l}=this;r===0&&l===0||(yr.updateTransformMatrix(this[n],1,1,0,r,l),o.multiplySelf(this[n]))}}return t=n,j([Oe({type:"transform"})],s.prototype,"translationX",2),j([Oe({type:"transform"})],s.prototype,"translationY",2),s}var Ii=class{static fromCanvas(e,t){const i=[];for(const n of e.traverseUp())Nu(n)&&i.unshift(n);for(const n of i)t=n.fromParent(t);return Nu(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():Nu(e)&&(t=e.toParent(t));for(const i of e.traverseUp())Nu(i)&&(t=i.toParent(t));return t}static fromCanvasPoint(e,t,i){const n=[];for(const s of e.traverseUp())Nu(s)&&n.unshift(s);for(const s of n)({x:t,y:i}=s.fromParentPoint(t,i));return Nu(e)&&({x:t,y:i}=e.fromParentPoint(t,i)),{x:t,y:i}}static toCanvasPoint(e,t,i){Nu(e)&&({x:t,y:i}=e.toParentPoint(t,i));for(const n of e.traverseUp())Nu(n)&&({x:t,y:i}=n.toParentPoint(t,i));return{x:t,y:i}}},$L=class dx extends ld{constructor(t){super(t),this.opts=t,this.opacity=1,this.isContainerNode=!0,this.zIndexSubOrder=t==null?void 0:t.zIndexSubOrder}static is(t){return t instanceof dx}static computeChildrenBBox(t,i=!0){return Fe.merge(ld.extractBBoxes(t,i))}static compareChildren(t,i){return cH([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.serialNumber],[i.zIndex,...i.zIndexSubOrder??[void 0,void 0],i.serialNumber],lH)}containsPoint(t,i){return!0}computeBBox(){return dx.computeChildrenBBox(this.children())}preRender(){const t=super.preRender();return t.groups+=1,t.nonGroups-=1,t}isDirty(t){var l,c;const{resized:i}=t,{dirty:n,dirtyZIndex:s}=this,a=n>=2||s||i;let o=a,r=!1;for(const u of this.children())if(o||(o=u.layerManager==null&&u.dirty>=1),r||(r=u.layerManager!=null&&u.dirty>=1),o)break;return(l=this.opts)!=null&&l.name&&((c=this._debug)==null||c.call(this,{name:this.opts.name,group:this,isDirty:a,isChildDirty:o,renderCtx:t})),{isDirty:a,isChildDirty:o,isChildLayerDirty:r}}debugSkip(t){var i,n;t.stats&&((i=this.opts)!=null&&i.name)&&((n=this._debug)==null||n.call(this,{name:this.opts.name,group:this,result:"skipping",counts:Io(this),renderCtx:t}))}render(t,i){if(i)return super.render(t);const{opts:{name:n}={},_debug:s}=this,{isDirty:a,isChildDirty:o,isChildLayerDirty:r}=this.isDirty(t),{ctx:l,stats:c}=t;let{forceRender:u}=t;if(!a&&!o&&!r&&!u){this.debugSkip(t),this.markClean({recursive:!1});return}u!=="dirtyTransform"&&(u||(u=this.dirtyZIndex)),l.globalAlpha*=this.opacity,this.dirtyZIndex&&this.sortChildren(dx.compareChildren);const h=this.sortedChildren(),f=this.renderClip(t)??t.clipBBox,g=u!==t.forceRender||f!==t.clipBBox;this.renderChildren(h,g?{...t,forceRender:u,clipBBox:f}:t),super.render(t),this.clipRect&&l.restore();for(const x of this.virtualChildren())x.markClean({recursive:"virtual"});n&&c&&(s==null||s({name:n,renderCtx:t,result:"rendered",skipped:c.nodesSkipped,counts:Io(this),group:this}))}sortedChildren(){let t=this.children();return this.hasVirtualChildren()&&(t=[...t].sort(dx.compareChildren)),t}renderClip(t){var r;if(!this.clipRect)return;const{x:i,y:n,width:s,height:a}=this.clipRect,{ctx:o}=t;return o.save(),o.beginPath(),o.rect(i,n,s,a),o.clip(),(r=this._debug)==null||r.call(this,()=>{var l;return{name:(l=this.opts)==null?void 0:l.name,clipRect:this.clipRect,ctxTransform:o.getTransform(),renderCtx:t,group:this}}),Ii.toCanvas(this,this.clipRect)}renderChildren(t,i){const{ctx:n,forceRender:s,stats:a}=i;for(const o of t){if(!o.visible||!this.visible){o.markClean(),a&&(a.nodesSkipped+=Io(o).count);continue}if(!s&&o.dirty===0){a&&(a.nodesSkipped+=Io(o).count);continue}n.save(),o.render(i),n.restore()}}setClipRect(t){this.clipRect=t?Ii.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}toSVG(){if(!this.visible)return;const t=[],i=[];for(const n of this.sortedChildren()){const s=n.toSVG();s!=null&&(i.push(...s.elements),s.defs!=null&&t.push(...s.defs))}return{elements:i,defs:t}}};$L.className="Group";j([Oe({redraw:3,convertor:e=>lt(0,e,1)})],$L.prototype,"opacity",2);var ut=$L,kve=class extends YL(ut){},Cve=class extends hp(ut){},yc=class extends Md(ut){},hA=class extends hp(Md(ut)){},Dve=2e3,O_=Date.now(),Lve=()=>{const e=Date.now()-O_;if(e>Dve){const t=(Math.floor(e/100)/10).toFixed(1);Ie.log(`**** ${t}s since last log message ****`)}O_=Date.now()},Qt={create(...e){return Object.assign((...i)=>{Qt.check(...e)&&(typeof i[0]=="function"&&(i=Hw(i[0]())),Lve(),Ie.log(...i))},{check:()=>Qt.check(...e)})},check(...e){return e.length===0&&e.push(!0),Hw(jn("agChartsDebug")).some(i=>e.includes(i))}},li=class Lh{constructor(t,i,n=!0){this.parentNode=t,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Qt.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(ld,i)?()=>new i:i}static select(t,i,n=!0){return new Lh(t,i,n)}static selectAll(t,i){const n=[],s=a=>{i(a)&&n.push(a);for(const o of a.children())s(o)};return s(t),n}static selectByClass(t,...i){return Lh.selectAll(t,n=>i.some(s=>n instanceof s))}static selectByTag(t,i){return Lh.selectAll(t,n=>n.tag===i)}createNode(t,i,n){const s=this.nodeFactory(t);return s.datum=t,i==null||i(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(t,i,n){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),n){const s=new Map(t.map((a,o)=>[n(a),[a,o]]));for(const[a,o]of this._nodesMap.entries())if(s.has(o)){const[r]=s.get(o);a.datum=r,this.garbageBin.delete(a),s.delete(o)}else this.garbageBin.add(a);for(const[a,[o,r]]of s.entries())this._nodesMap.set(this.createNode(o,i,r),a)}else{const s=Math.max(t.length,this.data.length);for(let a=0;a<s;a++)a>=t.length?this.garbageBin.add(this._nodes[a]):a>=this._nodes.length?this.createNode(t[a],i):(this._nodes[a].datum=t[a],this.garbageBin.delete(this._nodes[a]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){for(const i of this._nodes.entries())t(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const i=this._nodes[t];yield{node:i,datum:i.datum,index:t}}}select(t){return Lh.selectAll(this.parentNode,t)}selectByClass(t){return Lh.selectByClass(this.parentNode,t)}selectByTag(t){return Lh.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}},To=Math.PI*2;function Pt(e){return e%=To,e+=To,e%=To,e}function pH(e){return e%=To,e+=To,e!==To&&(e%=To),e}function ib(e){return e%=To,e<-Math.PI?e+=To:e>=Math.PI&&(e-=To),e}function Ao(e,t,i){const n=Pt(e),s=Pt(t),a=Pt(i);return s<a?s<=n&&n<=a:s>a?s<=n||n<=a:!0}function xs(e){return e/180*Math.PI}function Eve(e){return e/Math.PI*180}function Ove(e,t,i){i&&([e,t]=[t,e]);const n=Pt(e);return(Pt(t)+To-n)%To}function Bb(e,t){return e=Pt(e),t=Pt(t),t-e+(e>t?2*Math.PI:0)}function jve(e,t,i,n){const s=e+i*Math.cos(n),a=t+i*Math.sin(n);return{x:s,y:a}}var Rve=1e-6;function fH(e,t){return Bb(e,t)<Rve?t:Pt(e-t)+t}function Pve(e,t,i=0){const s=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Pt(t-e);return e=fH(e,i),t=e+s,{startAngle:e,endAngle:t}}function Cx(e,t,i,n){const s=e-i,a=t-n;return s*s+a*a}function Dx(e,t,i,n,s,a,o){if(i===s&&n===a)return Math.min(o,Cx(e,t,i,n));const r=s-i,l=a-n,c=Math.max(0,Math.min(1,((e-i)*r+(t-n)*l)/(r*r+l*l))),u=i+c*r,h=n+c*l;return Math.min(o,Cx(e,t,u,h))}function mH(e,t,i,n,s,a,o,r,l){r&&([o,a]=[a,o]);const c=Math.atan2(t-n,e-i);if(!Ao(c,a,o)){const h=i+Math.cos(a)*s,f=n+Math.sin(a)*s,g=i+Math.cos(a)*s,x=n+Math.sin(a)*s;return Math.min(l,Cx(e,t,h,f),Cx(e,t,g,x))}const u=s-Math.sqrt(Cx(e,t,i,n));return Math.min(l,u*u)}var j_=e=>{const t=nl.fromString(e),[i,n,s]=nl.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:s,a:t.a}},pA=1e-6,R_=e=>e.c<pA||e.l<pA||e.l>1-pA,zve=(e,t,i)=>{i=lt(0,i,1);let n;if(R_(e))n=t.h;else if(R_(t))n=e.h;else{const r=e.h;let l=t.h;const c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),n=r*(1-i)+l*i}const s=e.c*(1-i)+t.c*i,a=e.l*(1-i)+t.l*i,o=e.a*(1-i)+t.a*i;return nl.fromOKLCH(a,s,n,o)},pp=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(j_)}update(){const{domain:t,range:i}=this;t.length<2&&(Ie.warnOnce("`colorDomain` should have at least 2 values."),t.length===0?t.push(0,1):t.length===1&&t.push(t[0]+1));for(let n=1;n<t.length;n++){const s=t[n-1],a=t[n];if(s>=a){Ie.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((o,r)=>o-r);break}}if(i.length<t.length)for(let n=i.length;n<t.length;n++)i.push(i.length>0?i[0]:"black");this.parsedRange=this.range.map(j_)}convert(t){this.refresh();const{domain:i,range:n,parsedRange:s}=this,a=i[0],o=i.at(-1),r=n[0],l=n[n.length-1];if(t<=a)return r;if(t>=o)return l;let c,u;if(i.length===2){const g=(t-a)/(o-a),x=1/(n.length-1);c=n.length<=2?0:Math.min(Math.floor(g*(n.length-1)),n.length-2),u=(g-c*x)/x}else{for(c=0;c<i.length-2&&!(t<i[c+1]);c++);const g=i[c],x=i[c+1];u=(t-g)/(x-g)}const h=s[c],f=s[c+1];return zve(h,f,u).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ie.warnOnce("Expected update to not invalidate scale"))}};j([Rn],pp.prototype,"domain",2);j([Rn],pp.prototype,"range",2);var fN=class{constructor(e,t=[],i){this.colorSpace=e,this.stops=t,this.bbox=i,this._cache=void 0}createGradient(e,t){const i=this.bbox??t;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:n,colorSpace:s}=this;if(n.length===0)return;if(n.length===1)return n[0].color;let a=this.createCanvasGradient(e,i);if(a==null)return;const o=s==="oklch",r=.05;let l=n[0];a.addColorStop(l.offset,l.color);for(let c=1;c<n.length;c+=1){const u=n[c];if(o){const h=new pp;h.domain=[l.offset,u.offset],h.range=[l.color,u.color];for(let f=l.offset+r;f<u.offset;f+=r)a.addColorStop(f,h.convert(f))}a.addColorStop(u.offset,u.color),l=u}return"createPattern"in a&&(a=a.createPattern()),this._cache={ctx:e,bbox:i,gradient:a},a}},KL=class extends fN{constructor(t,i,n=0,s){super(t,i,s),this.angle=n}createCanvasGradient(t,i){const{angle:s}=this,a=Pt(xs(s+90)),o=Math.cos(a),r=Math.sin(a),l=i.width,c=i.height,u=i.x+l*.5,h=i.y+c*.5,f=Math.sqrt(c*c+l*l)/2,g=Math.atan2(c,l);let x;a<Math.PI/2?x=a:a<Math.PI?x=Math.PI-a:a<1.5*Math.PI?x=a-Math.PI:x=2*Math.PI-a;const y=f*Math.abs(Math.cos(x-g));return t.createLinearGradient(u+o*y,h+r*y,u-o*y,h-r*y)}},_ve=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,Ta=class Qr extends ld{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=Qr.defaultStyles.fill,this.stroke=Qr.defaultStyles.stroke,this.strokeWidth=Qr.defaultStyles.strokeWidth,this.lineDash=Qr.defaultStyles.lineDash,this.lineDashOffset=Qr.defaultStyles.lineDashOffset,this.lineCap=Qr.defaultStyles.lineCap,this.lineJoin=Qr.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=Qr.defaultStyles.opacity,this.fillShadow=Qr.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}onFillChange(){const{fill:t}=this;let i;if(t instanceof fN)this.gradient=t;else if(t!=null&&t.startsWith("linear-gradient")&&(i=_ve.exec(t))){const n=parseFloat(i[1]),s=[],a=i[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let r;for(;r=o.exec(a);)s.push(r[0]);this.gradient=new KL("rgb",s.map((l,c)=>({color:l,offset:c/(s.length-1)})),n)}else this.gradient=void 0}align(t,i){var a,o;const n=((o=(a=this.layerManager)==null?void 0:a.canvas)==null?void 0:o.pixelRatio)??1,s=Math.round(t*n)/n;return i==null?s:i===0?0:i<1?Math.ceil(i*n)/n:Math.round((i+t)*n)/n-s}fillStroke(t,i){this.renderFill(t,i),this.renderStroke(t,i)}renderFill(t,i){if(this.fill){const{globalAlpha:n}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,i),t.globalAlpha=n}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,i){i?t.fill(i):t.fill()}applyFill(t){var i;t.fillStyle=((i=this.gradient)==null?void 0:i.createGradient(t,this.getBBox()))??(typeof this.fill=="string"?this.fill:void 0)??"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){var s;const i=((s=this.layerManager)==null?void 0:s.canvas.pixelRatio)??1,n=this.fillShadow;n!=null&&n.enabled&&(t.shadowColor=n.color,t.shadowOffsetX=n.xOffset*i,t.shadowOffsetY=n.yOffset*i,t.shadowBlur=n.blur*i)}renderStroke(t,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:n}=t;t.strokeStyle=this.stroke,t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.miterLimit!=null&&(t.miterLimit=this.miterLimit),this.executeStroke(t,i),t.globalAlpha=n}}executeStroke(t,i){i?t.stroke(i):t.stroke()}containsPoint(t,i){return this.isPointInPath(t,i)}};Ta.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};j([Oe({redraw:2})],Ta.prototype,"fillOpacity",2);j([Oe({redraw:2})],Ta.prototype,"strokeOpacity",2);j([Oe({redraw:2,changeCb:e=>e.onFillChange()})],Ta.prototype,"fill",2);j([Oe({redraw:2})],Ta.prototype,"stroke",2);j([Oe({redraw:2})],Ta.prototype,"strokeWidth",2);j([Oe({redraw:2})],Ta.prototype,"lineDash",2);j([Oe({redraw:2})],Ta.prototype,"lineDashOffset",2);j([Oe({redraw:2})],Ta.prototype,"lineCap",2);j([Oe({redraw:2})],Ta.prototype,"lineJoin",2);j([Oe({redraw:2})],Ta.prototype,"miterLimit",2);j([Oe({redraw:2,convertor:e=>lt(0,e,1)})],Ta.prototype,"opacity",2);j([Oe({redraw:2,checkDirtyOnAssignment:!0})],Ta.prototype,"fillShadow",2);var Mr=Ta,ba=class extends Mr{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Fe(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,i){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(t,i):!1}distanceSquared(t,i){const{x1:n,y1:s,x2:a,y2:o}=this;return Dx(t,i,n,s,a,o,1/0)}render(t){var u;const{ctx:i,forceRender:n,stats:s,devicePixelRatio:a}=t;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=Io(this).count);return}let{x1:o,y1:r,x2:l,y2:c}=this;if(o===l){const{strokeWidth:h}=this,f=Math.round(o*a)/a+Math.trunc(h*a)%2/(a*2);o=f,l=f}else if(r===c){const{strokeWidth:h}=this,f=Math.round(r*a)/a+Math.trunc(h*a)%2/(a*2);r=f,c=f}i.beginPath(),i.moveTo(o,r),i.lineTo(l,c),this.fillStroke(i),(u=this.fillShadow)==null||u.markClean(),super.render(t)}toSVG(){if(!this.visible)return;const t=document.createElementNS("http://www.w3.org/2000/svg","line");return t.setAttribute("x1",String(this.x1)),t.setAttribute("y1",String(this.y1)),t.setAttribute("x2",String(this.x2)),t.setAttribute("y2",String(this.y2)),t.setAttribute("stroke",this.stroke??"none"),t.setAttribute("stroke-opacity",String(this.strokeOpacity)),t.setAttribute("stroke-width",String(this.strokeWidth)),{elements:[t]}}};ba.className="Line";ba.defaultStyles={...Mr.defaultStyles,fill:void 0,strokeWidth:1};j([Oe({redraw:3})],ba.prototype,"x1",2);j([Oe({redraw:3})],ba.prototype,"y1",2);j([Oe({redraw:3})],ba.prototype,"x2",2);j([Oe({redraw:3})],ba.prototype,"y2",2);function Fve(e=0,t=0){const i=kt("canvas");return i.style.display="block",i.style.width=e+"px",i.style.height=t+"px",i.getContext("2d")}var ZL=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const i=this.store.keys();let n=this.store.size-this.maxCacheSize;for(;n>0;){const s=i.next();s.done||this.store.delete(s.value),n--}}return t}clear(){this.store.clear()}},Rc=class{static measureText(t,i){return this.getMeasurer(i).measureText(t)}static measureLines(t,i){return this.getMeasurer(i).measureLines(t)}static getMeasurer(t){const i=typeof t.font=="string"?t.font:di.toFontString(t.font),n=`${i}-${t.textAlign??"start"}-${t.textBaseline??"alphabetic"}`;return this.instanceMap.get(n)??this.createFontMeasurer(i,t,n)}static createFontMeasurer(t,i,n){const s=Fve();s.font=t,s.textAlign=i.textAlign??"start",s.textBaseline=i.textBaseline??"alphabetic";const a=new gH(s,i);return this.instanceMap.set(n,a),a}};Rc.instanceMap=new ZL(10);var gH=class{constructor(e,t){this.ctx=e,this.measureMap=new ZL(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=typeof t.font=="string"?t.font:di.toFontString(t.font),this.textMeasurer=new qL(i=>this.cachedCtxMeasureText(i),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},di=class{static toFontString({fontSize:t=10,fontStyle:i,fontWeight:n,fontFamily:s,lineHeight:a}){let o="";return i&&(o+=`${i} `),n&&(o+=`${n} `),o+=`${t}px`,a&&(o+=`/${a}px`),o+=` ${s}`,o.trim()}static getLineHeight(t){return Math.ceil(t*this.defaultLineHeight)}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};di.EllipsisChar="";di.defaultLineHeight=1.15;di.lineSplitter=/\r?\n/g;var qL=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,n=0,s=0,a=0;const o=di.getVerticalModifier(this.textBaseline),r=[];let l=0;const c=e.length;for(const u of e){const h=this.measureTextFn(u);h.fontBoundingBoxAscent??(h.fontBoundingBoxAscent=h.emHeightAscent),h.fontBoundingBoxDescent??(h.fontBoundingBoxDescent=h.emHeightDescent),t<h.width&&(t=h.width),s<h.actualBoundingBoxLeft&&(s=h.actualBoundingBoxLeft),l===0?(i+=h.actualBoundingBoxAscent,n+=h.actualBoundingBoxAscent):a+=h.fontBoundingBoxAscent,l===c-1?i+=h.actualBoundingBoxDescent:a+=h.fontBoundingBoxDescent,r.push({text:u,width:h.width,height:h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,lineHeight:h.fontBoundingBoxAscent+h.fontBoundingBoxDescent,offsetTop:h.actualBoundingBoxAscent,offsetLeft:h.actualBoundingBoxLeft}),l++}return i+=a,n+=a*o,{width:t,height:i,offsetTop:n,offsetLeft:s,lineMetrics:r}}textWidth(e,t){if(t){let i=0;for(let n=0;n<e.length;n++)i+=this.textWidth(e.charAt(n));return i}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t=typeof e=="string"?e.split(di.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}},qa=class aw extends Mr{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=aw.defaultStyles.textAlign,this.textBaseline=aw.defaultStyles.textBaseline}onTextChange(){var t;this.lines=((t=this.text)==null?void 0:t.split(`
`).map(i=>i.trim()))??[]}static computeBBox(t,i,n,s){const{offsetTop:a,offsetLeft:o,width:r,height:l}=Rc.measureLines(t,s);return new Fe(i-o,n-a,r,l)}computeBBox(){const{x:t,y:i,lines:n,textBaseline:s,textAlign:a}=this;return aw.computeBBox(n,t,i,{font:this,textBaseline:s,textAlign:a})}isPointInPath(t,i){const n=this.getBBox();return n?n.containsPoint(t,i):!1}render(t){const{ctx:i,forceRender:n,stats:s}=t;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=Io(this).count);return}if(!this.lines.length||!this.layerManager){s&&(s.nodesSkipped+=Io(this).count);return}const{fill:a,stroke:o,strokeWidth:r}=this,{pixelRatio:l}=this.layerManager.canvas;if(i.font=di.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,a){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:c}=this;c!=null&&c.enabled&&(i.shadowColor=c.color,i.shadowOffsetX=c.xOffset*l,i.shadowOffsetY=c.yOffset*l,i.shadowBlur=c.blur*l),this.renderLines((u,h,f)=>i.fillText(u,h,f))}if(o&&r){i.strokeStyle=o,i.lineWidth=r,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:c,lineDashOffset:u,lineCap:h,lineJoin:f}=this;c&&i.setLineDash(c),u&&(i.lineDashOffset=u),h&&(i.lineCap=h),f&&(i.lineJoin=f),this.renderLines((g,x,y)=>i.strokeText(g,x,y))}super.render(t)}renderLines(t){const{lines:i,x:n,y:s}=this,a=this.lineHeight??di.getLineHeight(this.fontSize);let o=(a-a*i.length)*di.getVerticalModifier(this.textBaseline);for(const r of i)t(r,n,s+o),o+=a}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){var i;if(!this.visible||!this.text)return;const t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.setAttribute("font-family",((i=this.fontFamily)==null?void 0:i.split(",")[0])??""),t.setAttribute("font-size",String(this.fontSize)),t.setAttribute("font-style",this.fontStyle??""),t.setAttribute("font-weight",String(this.fontWeight??"")),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text??"",{elements:[t]}}};qa.className="Text";qa.defaultStyles={...Mr.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"};j([Oe({redraw:3})],qa.prototype,"x",2);j([Oe({redraw:3})],qa.prototype,"y",2);j([Oe({redraw:3,changeCb:e=>e.onTextChange()})],qa.prototype,"text",2);j([Oe()],qa.prototype,"fontStyle",2);j([Oe()],qa.prototype,"fontWeight",2);j([Oe()],qa.prototype,"fontSize",2);j([Oe()],qa.prototype,"fontFamily",2);j([Oe({redraw:3})],qa.prototype,"textAlign",2);j([Oe({redraw:3})],qa.prototype,"textBaseline",2);j([Oe({redraw:3})],qa.prototype,"lineHeight",2);var fn=qa,yH=class extends hp(fn){},np=class extends hp(Md(fn)){};function Bve(e,t,i,n,s,a){if(e.size===0)return!1;let o=e.x,r=e.y;t!=null&&(o-=(t.x-.5)*e.size,r-=(t.y-.5)*e.size);let l=o;o<i?l=i:o>i+s&&(l=i+s);let c=r;r<n?c=n:r>n+a&&(c=n+a);const u=o-l,h=r-c;return Math.sqrt(u*u+h*h)<=e.size*.5}function xH(e,t,i,n,s){const a=e.x+e.width>t&&e.x<t+n,o=e.y+e.height>i&&e.y<i+s;return a&&o}function Vve(e,t,i,n,s){return t+n<e.x+e.width&&t>e.x&&i>e.y&&i+s<e.y+e.height}function Uve(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var Gve={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function Wve(e,t,i=5){const n=[];e=e.map(s=>s.slice().sort((a,o)=>o.point.size-a.point.size));for(let s=0;s<e.length;s++){const a=n[s]=[],o=e[s];if(o!=null&&o.length&&o[0].label)for(let r=0,l=o.length;r<l;r++){const c=o[r],{point:u,label:h,marker:f}=c,{text:g,width:x,height:y}=h,b=u.size*.5;let v=0,S=0;if(b>0&&c.placement!=null){const O=Gve[c.placement];v=(x*.5+b+i)*O.x,S=(y*.5+b+i)*O.y}const N=u.x-x*.5+v-(((f==null?void 0:f.center.x)??.5)-.5)*u.size,M=u.y-y*.5+S-(((f==null?void 0:f.center.y)??.5)-.5)*u.size;!(!t||Vve(t,N,M,x,y))||e.some(O=>O.some(P=>{var z;return Bve(P.point,(z=P.marker)==null?void 0:z.center,N,M,x,y)}))||n.some(O=>O.some(P=>xH(P,N,M,x,y)))||a.push({index:r,text:g,x:N,y:M,width:x,height:y,datum:c})}}return n}function Hve(e,t=0){const i=[];for(let n=0;n<e.length;n++){const s=e[n],{point:{x:a,y:o},label:{text:r}}=s;let{width:l,height:c}=s.label;if(l+=t,c+=t,i.some(u=>xH(u,a,o,l,c)))return!0;i.push({index:n,text:r,x:a,y:o,width:l,height:c,datum:s})}return!1}function bH(e,t){return e.length===t.length&&e.every((i,n)=>Number(i)===Number(t[n]))}var HC="class-instance";function jo(e,t,i){if(fi(t)){if(!fi(e)||e.length!==t.length||t.some((n,s)=>jo(e[s],n)!=null))return t}else if(Sa(t)){if(!Sa(e))return t;const n={},s=new Set([...Object.keys(e),...Object.keys(t)]);for(const a of s)if(!(e[a]===t[a]||i!=null&&i.includes(a)))if(typeof e[a]==typeof t[a]){const o=jo(e[a],t[a]);o!==null&&(n[a]=o)}else n[a]=t[a];return Object.keys(n).length?n:null}else if(e!==t)return t;return null}function Dn(e,t){return fi(e)?e.map(i=>Dn(i,t)):Sa(e)?CL(e,(i,n)=>{var s;return(s=t==null?void 0:t.shallow)!=null&&s.includes(n)?$w(i):Dn(i,t)}):e instanceof Map?new Map(Dn(Array.from(e))):$w(e)}function $w(e){return fi(e)?[...e]:Sa(e)?{...e}:Rb(e)?new Date(e):AW(e)?new RegExp(e.source,e.flags):e}function al(e,t,i,...n){var s;if(fi(e))t(e,...n),e.forEach((a,o)=>{al(a,t,i,...P_(n,o))});else if(Sa(e)){t(e,...n);for(const a of Object.keys(e)){if((s=i==null?void 0:i.skip)!=null&&s.includes(a))continue;const o=e[a];(fi(o)||Sa(o))&&al(o,t,i,...P_(n,a))}}}function bm(e,t,i={}){const{path:n,matcherPath:s=n==null?void 0:n.replace(/(\[[0-9+]+])/i,"[]"),skip:a=[]}=i;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(t==null)return e;if(ul(e))return e.set(t);const o=e,r=fA(e);for(const l in t){if(LL.has(l))continue;const c=`${s?s+".":""}${l}`;if(a.includes(c))continue;const u=t[l],h=`${n?n+".":""}${l}`,f=o.constructor,g=o[l];try{const x=fA(g),y=fA(u);if(r===HC&&!(l in e)){Ie.warn(`unable to set [${h}] in ${f==null?void 0:f.name} - property is unknown`);continue}if(x!=null&&y!=null&&y!==x&&(x!==HC||y!=="object")){Ie.warn(`unable to set [${h}] in ${f==null?void 0:f.name} - can't apply type of [${y}], allowed types are: [${x}]`);continue}ul(g)?o[l].set(u):y==="object"?(g==null&&(o[l]={}),bm(g??o[l],u,{...i,path:h,matcherPath:c})):o[l]=u}catch(x){Ie.warn(`unable to set [${h}] in [${f==null?void 0:f.name}]; nested error is: ${x.message}`)}}return e}function P_(e,t){return e.map(i=>i==null?void 0:i[t])}function fA(e){return e==null?null:kW(e)||Rb(e)?"primitive":fi(e)?"array":Ys(e)?Sa(e)?"object":HC:Ec(e)?"function":"primitive"}function ji(e,t){const i=fi(e)?e:e.split(".");if(i.length===1){const[n]=i;return Tc((s,a,o)=>s[n]=o,s=>s[n],t)}return Tc((n,s,a)=>EL(n,i,a),n=>DL(n,i),t)}function Yve(e){return Tc((t,i,n)=>t[e]=n)}function Pn(e,t){return Tc((i,n,s)=>i[e][t??n]=s)}function Zs(e){const{newValue:t,oldValue:i,changeValue:n}=e;return Tc((s,a,o,r)=>(o!==r&&(r!==void 0&&(i==null||i.call(s,r)),o!==void 0&&(t==null||t.call(s,o)),n==null||n.call(s,o,r)),o))}function ws(e){return Pbe(e)}var mA="color: green",gA="color: grey",XL=class ua{constructor(t,i,n){this.defaultState=t,this.states=i,this.enterEach=n,this.debug=Qt.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,mA)}transition(t,i){var u,h,f,g;if(!this.transitionChild(t,i)||this.state===ua.child||this.state===ua.parent)return;const s=this.state,a=this.states[this.state];let o=a[t];const r=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(x=>{if(!x.guard)return!0;const y=x.guard(i);return y||this.debug(`${r} ${x.target} (guarded)`,gA),y});else if(typeof o=="object"&&!(o instanceof ua)&&o.guard&&!o.guard(i)){this.debug(`${r} ${o.target} (guarded)`,gA);return}if(!o){this.debug(`${r} ${this.state}`,gA);return}const l=this.getDestinationState(o),c=l===this.state?void 0:a.onExit;this.debug(`${r} ${l}`,mA),this.state=l,typeof o=="function"?o(i):typeof o=="object"&&!(o instanceof ua)&&((u=o.action)==null||u.call(o,i)),c==null||c(),(h=this.enterEach)==null||h.call(this,s,l),l!==s&&l!==ua.child&&l!==ua.parent&&((g=(f=this.states[l]).onEnter)==null||g.call(f,s,i))}transitionAsync(t,i){setTimeout(()=>{this.transition(t,i)},0)}is(t){return this.state===ua.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,i){var n,s;return this.state!==ua.child||!this.childState||(this.childState.transition(t,i),!this.childState.is(ua.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,mA),this.state=this.defaultState,(s=(n=this.states[this.state]).onEnter)==null||s.call(n),this.childState.resetHierarchy(),!1)}getDestinationState(t){let i=this.state;return typeof t=="string"?i=t:t instanceof ua?(this.childState=t,i=ua.child):typeof t=="object"&&(t.target instanceof ua?(this.childState=t.target,i=ua.child):t.target!=null&&(i=t.target)),i}};XL.child="__child";XL.parent="__parent";var Vb=XL,QL=class{static wrapText(t,i){return this.wrapLines(t,i).join(`
`)}static wrapLines(t,i){const n=this.textWrap(t,i);return i.overflow==="hide"&&n.some(s=>s.endsWith(di.EllipsisChar))?[]:n}static appendEllipsis(t){return t.replace(/[.,]{1,5}$/,"")+di.EllipsisChar}static truncateLine(t,i,n,s){const a=i.textWidth(di.EllipsisChar);let o=0,r=0;for(;r<t.length;r++){const l=i.textWidth(t.charAt(r));if(o+l>n)break;o+=l}if(t.length===r&&(!s||o+a<=n))return s?t+di.EllipsisChar:t;for(t=t.slice(0,r).trimEnd();t.length&&i.textWidth(t)+a>n;)t=t.slice(0,-1).trimEnd();return t+di.EllipsisChar}static textWrap(t,i){const n=t.split(di.lineSplitter),s=Rc.getMeasurer(i);if(i.textWrap==="never")return n.map(l=>this.truncateLine(l.trimEnd(),s,i.maxWidth));const a=[],o=i.textWrap==="hyphenate",r=i.textWrap==null||i.textWrap==="on-space";for(let l of n){if(l=l.trimEnd(),l===""){a.push(l);continue}for(let c=0,u=0,h=0;c<l.length;c++){const f=l.charAt(c);if(u+=s.textWidth(f),f===" "&&(h=c),u>i.maxWidth){if(c===0)break;const g=s.textWidth(l.slice(0,c+1));if(g<=i.maxWidth){u=g;continue}if(h){const b=this.getWordAt(l,h+1),v=s.textWidth(b);if(v<=i.maxWidth){a.push(l.slice(0,h).trimEnd()),l=l.slice(h).trimStart(),c=-1,u=0,h=0;continue}else r&&v>i.maxWidth&&a.push(l.slice(0,h).trimEnd(),this.truncateLine(l.slice(h).trimStart(),s,i.maxWidth,!0))}else r&&a.push(this.truncateLine(l,s,i.maxWidth,!0));if(r){l="";break}const x=o?"-":"";let y=l.slice(0,c).trim();for(;y.length&&s.textWidth(y+x)>i.maxWidth;)y=y.slice(0,-1).trimEnd();if(a.push(y+x),!y.length){l="";break}l=l.slice(y.length).trimStart(),c=-1,u=0,h=0}}l&&a.push(l)}return this.avoidOrphans(a,s,i),this.clipLines(a,s,i)}static getWordAt(t,i){const n=t.indexOf(" ",i);return n===-1?t.slice(i):t.slice(i,n)}static clipLines(t,i,n){if(!n.maxHeight)return t;const{height:s,lineMetrics:a}=i.measureLines(t);if(s<=n.maxHeight)return t;for(let o=0,r=0;o<a.length;o++){const{lineHeight:l}=a[o];if(r+=l,r>n.maxHeight){if(n.overflow==="hide")return[];const c=t.slice(0,o||1),u=c.pop();return c.concat(this.truncateLine(u,i,n.maxWidth,!0))}}return t}static avoidOrphans(t,i,n){if(n.avoidOrphans===!1||t.length<2)return;const{length:s}=t,a=t[s-1],o=t[s-2];if(o.length<a.length)return;const r=o.lastIndexOf(" ");if(r===-1||r===o.indexOf(" ")||a.includes(" "))return;const l=o.slice(r+1);i.textWidth(a+l)<=n.maxWidth&&(t[s-2]=o.slice(0,r),t[s-1]=l+" "+a)}},us={isEnterprise:!1};function Na(e,t,i){i===void 0||i===""?e==null||e.removeAttribute(t):e==null||e.setAttribute(t,i.toString())}function sp(e,t){if(t==null)return;let i;for(i in t)i!=="class"&&Na(e,i,t[i])}function vH(e,t,i){if(!(e instanceof HTMLElement))return;const n=e.getAttribute(t);if(n===null)return i;const s=typeof{}[t];if(s==="boolean")return n==="true";if(s==="number")return Number(n);if(s==="string")return n}function Ou(e,t,i){e!=null&&(i==null?e.style.removeProperty(t):e.style.setProperty(t,i))}function wH(e,t,i,n){let{top:s,right:a,bottom:o,left:r,width:l,height:c}=n;return r!=null?l!=null?a=i.width-r+l:a!=null&&(l=i.width-r-a):a!=null&&l!=null&&(r=i.width-a-l),s!=null?c!=null?o=i.height-s-c:o!=null&&(c=i.height-o-s):o!=null&&c!=null&&(s=i.height-o-c),l==null?c==null?(l=e,c=t):l=Math.ceil(e*c/t):c==null&&(c=Math.ceil(t*l/e)),r==null&&(a==null?r=Math.floor((i.width-l)/2):r=i.width-a-l),s==null&&(o==null?s=Math.floor((i.height-c)/2):s=i.height-c-o),{x:r,y:s,width:l,height:c}}var il="ag-chart-tooltip",SH="ag-chart-dark-tooltip",Pc={html:"",ariaLabel:""};function $ve(e){const t=(i,n,s)=>n===0||s[n-1]!=="."?". ":" ";return e.replace(/<br\s*\/?>/g,t).replace(/<\/p\s+>/g,t).replace(/<\/li\s*>/g,t).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function zm(e,t){if(typeof e=="string")return{html:e,ariaLabel:e};const{content:i=(t==null?void 0:t.content)??"",title:n=t==null?void 0:t.title,color:s=(t==null?void 0:t.color)??"white",backgroundColor:a=(t==null?void 0:t.backgroundColor)??"#888"}=e,o=n?`<div class="${il}-title"
        style="color: ${s}; background-color: ${a}">${n}</div>`:"",r=n?`${n}: `:"",l=i?`<div class="${il}-content">${i}</div>`:"";return{html:`${o}${l}`,ariaLabel:$ve(`${r}${i}`)}}var eg=class extends ht{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};j([_(Ft(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0}],"a position type"))],eg.prototype,"type",2);j([_(Kt)],eg.prototype,"xOffset",2);j([_(Kt)],eg.prototype,"yOffset",2);var Fo=class extends ht{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new eg,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(e){this.element=e.addChild("canvas-overlay",il),this.element.classList.add(il)}destroy(e){e.removeChild("canvas-overlay",il)}isVisible(){var e;return!((e=this.element)!=null&&e.classList.contains(il+"-hidden"))}show(e,t,i,n,s=!1){var L,O,P;const{element:a}=this,o=a==null?void 0:a.getBoundingClientRect();if(n!=null&&a!=null)a.innerHTML=n.html;else if(!(a!=null&&a.innerHTML)){this.toggle(!1);return}const r=((L=i.position)==null?void 0:L.type)??this.position.type,l=((O=i.position)==null?void 0:O.xOffset)??0,c=((P=i.position)==null?void 0:P.yOffset)??0,u=this.getTooltipBounds({positionType:r,meta:i,yOffset:c,xOffset:l,canvasRect:t}),h={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height},f=wH(a.clientWidth,a.clientHeight,h,u),g=h.x,x=h.y,y=h.width-a.clientWidth-1+g,b=h.height-a.clientHeight+x,v=lt(g,f.x,y),S=lt(x,f.y,b);let N=!1;if(o!=null){const z=h.width-o.width-1+g,V=h.height-o.height+x;N=z>y||V>b}const M=v!==f.x||S!==f.y,I=(r==="node"||r==="pointer"||r==="sparkline")&&!M&&!l&&!c,C=i.showArrow??this.showArrow??I;this.updateShowArrow(C),N&&(a.style.transition="none"),a.style.transform=`translate(${Math.round(v)}px, ${Math.round(S)}px)`,N&&(a.style.transition=""),i.enableInteraction?(this.enableInteraction=!0,a.style.pointerEvents="auto",Na(a,"aria-hidden",void 0)):(this.enableInteraction=!1,a.style.pointerEvents="none",Na(a,"aria-hidden",!0)),this.delay>0&&!s?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}toggle(e){if(!this.element)return;const{classList:t}=this.element,i=(l,c)=>t.toggle(`${il}-${l}`,c),n=this.isVisible();let s=1/0;if(e||clearTimeout(this.showTimeout),n!==e){const l=Date.now();s=l-this.lastVisibilityChange,this.lastVisibilityChange=l}const a=100,o=5,r=!n&&e&&s>a;s>o&&i("no-animation",r),i("no-interaction",!this.enableInteraction),i("hidden",!e),i("arrow",this._showArrow),t.toggle(SH,this.darkTheme);for(const l of this.wrapTypes)t.toggle(`${il}-wrap-${l}`,l===this.wrapping)}updateShowArrow(e){this._showArrow=e}getTooltipBounds(e){if(!this.element)return{};const{positionType:t,meta:i,yOffset:n,xOffset:s,canvasRect:a}=e,{clientWidth:o,clientHeight:r}=this.element,l={width:o,height:r};switch(t){case"node":case"pointer":return l.top=i.offsetY+n-r-8,l.left=i.offsetX+s-o/2,l;case"top":return l.top=n,l.left=a.width/2-o/2+s,l;case"right":return l.top=a.height/2-r/2+n,l.left=a.width-o/2+s,l;case"left":return l.top=a.height/2-r/2+n,l.left=s,l;case"bottom":return l.top=a.height-r+n,l.left=a.width/2-o/2+s,l;case"top-left":return l.top=n,l.left=s,l;case"top-right":return l.top=n,l.left=a.width-o+s,l;case"bottom-right":return l.top=a.height-r+n,l.left=a.width-o+s,l;case"bottom-left":return l.top=a.height-r+n,l.left=s,l;case"sparkline":return us.isEnterprise?l.top=n-r-8:l.top=i.offsetY+n-r-8,l.left=i.offsetX+s-o/2,l}}};j([_(Qe)],Fo.prototype,"enabled",2);j([_(Qe,{optional:!0})],Fo.prototype,"showArrow",2);j([ws((e,t,i)=>{var n,s;t&&((n=e.element)==null||n.classList.add(t)),i&&((s=e.element)==null||s.classList.remove(i))}),_(Ae,{optional:!0})],Fo.prototype,"class",2);j([_(Ce)],Fo.prototype,"delay",2);j([_(dN,{optional:!0})],Fo.prototype,"range",2);j([_(uN)],Fo.prototype,"wrapping",2);j([_(Be)],Fo.prototype,"position",2);j([_(Qe)],Fo.prototype,"darkTheme",2);j([_(Ft(["extended","canvas"]))],Fo.prototype,"bounds",2);var Xt=class extends ht{constructor(){super(...arguments),this.id=Po(this),this.node=new yH({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(t,i){const{regionManager:n,proxyInteractionService:s,layoutManager:a}=t,o=n.getRegion("root"),r=[a.addListener("layout:complete",()=>this.updateA11yText(s,i)),o.addListener("hover",l=>this.handleMouseMove(t,l)),o.addListener("leave",l=>this.handleMouseLeave(t,l))];return Xxe(...r)}computeTextWrap(t,i){const{text:n,padding:s,wrapping:a}=this,o=Math.min(this.maxWidth??1/0,t)-s*2,r=this.maxHeight??i-s*2;if(!isFinite(o)&&!isFinite(r)){this.node.text=n;return}const l=QL.wrapText(n??"",{maxWidth:o,maxHeight:r,font:this,textWrap:a});this.node.text=l,this.truncated=l.includes(di.EllipsisChar)}updateA11yText(t,i){var n;if(this.enabled&&this.text){const s=Ii.toCanvas(this.node);if(s){const{id:a}=this;this.proxyText??(this.proxyText=t.createProxyElement({type:"text",id:a,parent:i})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(s)}}else(n=this.proxyText)==null||n.remove(),this.proxyText=void 0}handleMouseMove(t,i){if(i!==void 0&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:n,offsetY:s}=i;t.tooltipManager.updateTooltip(this.id,{offsetX:n,offsetY:s,lastPointerEvent:i,showArrow:!1},zm({content:this.text}))}}handleMouseLeave(t,i){t.tooltipManager.removeTooltip(this.id)}};Xt.SMALL_PADDING=10;Xt.LARGE_PADDING=20;j([_(Qe),Pn("node","visible")],Xt.prototype,"enabled",2);j([_(Ae,{optional:!0}),Pn("node")],Xt.prototype,"text",2);j([_($W,{optional:!0}),Pn("node")],Xt.prototype,"textAlign",2);j([_(Sd,{optional:!0}),Pn("node")],Xt.prototype,"fontStyle",2);j([_(Nd,{optional:!0}),Pn("node")],Xt.prototype,"fontWeight",2);j([_(Ce),Pn("node")],Xt.prototype,"fontSize",2);j([_(Ae),Pn("node")],Xt.prototype,"fontFamily",2);j([_(Rt,{optional:!0}),Pn("node","fill")],Xt.prototype,"color",2);j([_(Ce,{optional:!0})],Xt.prototype,"spacing",2);j([_(Ce,{optional:!0})],Xt.prototype,"maxWidth",2);j([_(Ce,{optional:!0})],Xt.prototype,"maxHeight",2);j([_(uN)],Xt.prototype,"wrapping",2);j([_(Ce)],Xt.prototype,"padding",2);j([_(Ae)],Xt.prototype,"layoutStyle",2);var NH=class MH extends ut{constructor(t){super(t),this.opts=t,this.lastBBox=void 0}static is(t){return t instanceof MH}markDirty(t=1){super.markDirty(t,1)}preRender(){var i,n;const t=super.preRender();return t.nonGroups>0&&(this.layer??(this.layer=(i=this._layerManager)==null?void 0:i.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})),(n=this.opts)!=null&&n.deriveZIndexFromChildren&&this.deriveZIndexFromChildren()),t}debugSkip(t){super.debugSkip(t);const{stats:i}=t;i&&(i.layersSkipped++,i.nodesSkipped+=Io(this).count)}render(t){var y,b;if(!this.layer)return super.render(t);const{opts:{name:i}={},_debug:n,clipRect:s}=this,{isDirty:a,isChildDirty:o,isChildLayerDirty:r}=this.isDirty(t),{stats:l}=t;let{forceRender:c,clipBBox:u}=t;const h=this.getBBox();if((y=this.lastBBox)!=null&&y.equals(h)||(c="dirtyTransform",this.lastBBox=h),!a&&!o&&!r&&!c){this.debugSkip(t),this.markClean({recursive:!1});return}c!=="dirtyTransform"&&(c=o||this.dirtyZIndex),c&&this.layer.clear(),this.dirtyZIndex&&this.sortChildren(ut.compareChildren);const f=this.sortedChildren(),g=t.ctx.getTransform(),{context:x}=this.layer;if(x.save(),u){const{width:v,height:S,x:N,y:M}=u;x.beginPath(),x.rect(N,M,v,S),x.clip(),n==null||n(()=>({name:i,clipBBox:u,renderCtx:t,group:this,ctxTransform:x.getTransform()}))}x.setTransform(g),this.clipRect&&(u=this.renderClip({...t,ctx:x})),this.renderChildren(f,{...t,ctx:x,forceRender:c,clipBBox:u}),super.render(t,!0),s&&x.restore();for(const v of this.virtualChildren())v.markClean({recursive:"virtual"});l&&l.layersRendered++,x.restore(),(b=x.verifyDepthZero)==null||b.call(x),i&&l&&(n==null||n({name:i,renderCtx:t,result:"rendered",skipped:l.nodesSkipped,counts:Io(this),group:this}))}deriveZIndexFromChildren(){let t;for(const i of this.children())i.childNodeCounts.nonGroups&&(!t||ut.compareChildren(t,i)<0)&&(t=i);this.zIndex=(t==null?void 0:t.zIndex)??-1/0,this.zIndexSubOrder=t==null?void 0:t.zIndexSubOrder}_setLayerManager(t){var i;this.layer&&((i=this._layerManager)==null||i.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(t)}getComputedOpacity(){let t=1;for(const i of this.traverseUp(!0))i instanceof ut&&(t*=i.opacity);return t}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}onZIndexChange(){var t;super.onZIndexChange(),this.layer&&((t=this._layerManager)==null||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}};NH.className="Layer";var dl=NH,_m=class extends Md(dl){},Il=class extends Mr{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Fe(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var v;const{ctx:t,forceRender:i,stats:n}=e;if(this.dirty===0&&!i){n&&(n.nodesSkipped+=Io(this).count);return}let{x1:s,y1:a,x2:o,y2:r}=this;s=this.align(s),a=this.align(a),o=this.align(o),r=this.align(r);const{fill:l,opacity:c,isRange:u}=this;if(!!(u&&l)){const{fillOpacity:S}=this;this.applyFill(t),t.globalAlpha=c*S,t.beginPath(),t.moveTo(s,a),t.lineTo(o,a),t.lineTo(o,r),t.lineTo(s,r),t.closePath(),t.fill()}const{stroke:f,strokeWidth:g,startLine:x,endLine:y}=this;if(!!((x||y)&&f&&g)){const{strokeOpacity:S,lineDash:N,lineDashOffset:M,lineCap:I,lineJoin:C}=this;t.strokeStyle=f,t.globalAlpha=c*S,t.lineWidth=g,N&&t.setLineDash(N),M&&(t.lineDashOffset=M),I&&(t.lineCap=I),C&&(t.lineJoin=C),t.beginPath(),x&&(t.moveTo(s,a),t.lineTo(o,a)),y&&(t.moveTo(o,r),t.lineTo(s,r)),t.stroke()}(v=this.fillShadow)==null||v.markClean(),super.render(e)}};Il.className="Range";Il.defaultStyles={...Mr.defaultStyles,strokeWidth:1};j([Oe({redraw:2})],Il.prototype,"x1",2);j([Oe({redraw:2})],Il.prototype,"y1",2);j([Oe({redraw:2})],Il.prototype,"x2",2);j([Oe({redraw:2})],Il.prototype,"y2",2);j([Oe({redraw:2})],Il.prototype,"startLine",2);j([Oe({redraw:2})],Il.prototype,"endLine",2);j([Oe({redraw:2})],Il.prototype,"isRange",2);var xn=class extends ht{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return di.toFontString(this)}};j([_(Qe)],xn.prototype,"enabled",2);j([_(Rt,{optional:!0})],xn.prototype,"color",2);j([_(Sd,{optional:!0})],xn.prototype,"fontStyle",2);j([_(Nd,{optional:!0})],xn.prototype,"fontWeight",2);j([_(Ce)],xn.prototype,"fontSize",2);j([_(Ae)],xn.prototype,"fontFamily",2);j([_(Ia,{optional:!0})],xn.prototype,"formatter",2);function Kw(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?Pt(xs(e.rotation)):0,s=!n&&t>=0&&t<=Math.PI?-1:1,a=!n&&i>=0&&i<=Math.PI?-1:1;let o=0;return e.parallel?o=s*Math.PI/2:a===-1&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:s,regularFlipFlag:a}}function Kve(e,t){return isNaN(e)?t?0:10:e}function Zve(e,t,i,n){return e&&!t?i*n===-1?"hanging":"bottom":"middle"}function yA(e,t,i,n,s){const a=t>0&&t<=Math.PI,o=i>0&&i<=Math.PI,r=a||o?-1:1;if(e)if(t||i){if(n*r===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function qve(e,t,i){const{x:n,y:s,width:a,height:o}=t,r=new Fe(n,s,0,0);i.transformBBox(r,t);const{x:l,y:c}=t;return{point:{x:l,y:c},label:{text:e,width:a,height:o}}}var IH=(e=>(e[e.SERIES_BACKGROUND=0]="SERIES_BACKGROUND",e[e.AXIS_GRID=1]="AXIS_GRID",e[e.AXIS=2]="AXIS",e[e.SERIES_CROSSLINE_RANGE=3]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=4]="SERIES_LAYER",e[e.SERIES_HIGHLIGHT=5]="SERIES_HIGHLIGHT",e[e.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",e[e.CHART_OVERLAY=8]="CHART_OVERLAY",e[e.SERIES_CROSSLINE_LINE=9]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=10]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=11]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=12]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=13]="STATUS_BAR",e[e.SERIES_LABEL=14]="SERIES_LABEL",e[e.LEGEND=15]="LEGEND",e[e.NAVIGATOR=16]="NAVIGATOR",e[e.FOREGROUND=17]="FOREGROUND",e))(IH||{});function TH(e){return e!=null&&Object.hasOwn(e,"toString")&&xa(e.toString())}function AH(e){return e!=null&&Object.hasOwn(e,"valueOf")&&yt(e.valueOf())}function mN(e){return yt(e)||Pb(e)||AH(e)}function YC(e,t){return e!=null&&(!t||mN(e))}function Yh(e){return TH(e)&&Object.hasOwn(e,"id")?e.id:e}var JL=e=>e==="value"?_t((t,i)=>i.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):_t((t,i)=>i.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),kH=(e,t,i,n,s)=>{const a=e==="line"&&t!==void 0,o=e==="range"&&i!==void 0;if(!a&&!o)return!0;const[r,l]=i??[t,void 0],c=jt.is(n)||hr.is(n),u=YC(r,c)&&!isNaN(n.convert(r)),h=YC(l,c)&&!isNaN(n.convert(l));if(a&&u||o&&u&&h)return(s==null?void 0:s())??!0;const f=["Expecting crossLine"];return o?(u||f.push(`range start ${kx(r)}`),h||f.push(`${u?"":"and "}range end ${kx(l)}`)):f.push(`value ${kx(r)}`),f.push("to match the axis scale domain."),Ie.warnOnce(f.join(" ")),!1},Xve={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},Qve={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function $C({yDirection:e,padding:t=0,position:i="top",bbox:n}){const s=e?Xve:Qve,{xTranslationDirection:a,yTranslationDirection:o}=s[i],r=a*(t+n.width/2),l=o*(t+n.height/2);return{xTranslation:r,yTranslation:l}}function CH({yDirection:e,bbox:t,padding:i=0,position:n="top"}){const s={};return n.startsWith("inside")||(n==="top"&&!e?s.top=i+t.height:n==="bottom"&&!e?s.bottom=i+t.height:n==="left"&&e?s.left=i+t.width:n==="right"&&e&&(s.right=i+t.width)),s}var Zw=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t/2,y:i}:{x:t,y:isNaN(n)?i:(i+n)/2},z_=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:t,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},__=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?i:(i+n)/2}:{x:t/2,y:isNaN(n)?i:n},F_=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:i/2,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:(n+s)/2},Jve=({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2}),B_=({direction:e,xStart:t,xEnd:i,yStart:n})=>e==="y"?{x:t/2,y:n}:{x:i,y:n},V_=({direction:e,xStart:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?i:n}:{x:t,y:i},U_=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:i}:{x:t,y:isNaN(n)?i:n},G_=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:i,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:s},DH={top:{c:Zw},bottom:{c:F_},left:{c:z_},right:{c:__},topLeft:{c:B_},topRight:{c:U_},bottomLeft:{c:V_},bottomRight:{c:G_},inside:{c:Jve},insideLeft:{c:z_},insideRight:{c:__},insideTop:{c:Zw},insideBottom:{c:F_},insideTopLeft:{c:B_},insideBottomLeft:{c:V_},insideTopRight:{c:U_},insideBottomRight:{c:G_}},e0e=Ft(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Bo=class extends ht{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};j([_(Qe,{optional:!0})],Bo.prototype,"enabled",2);j([_(Ae,{optional:!0})],Bo.prototype,"text",2);j([_(Sd,{optional:!0})],Bo.prototype,"fontStyle",2);j([_(Nd,{optional:!0})],Bo.prototype,"fontWeight",2);j([_(Ce)],Bo.prototype,"fontSize",2);j([_(Ae)],Bo.prototype,"fontFamily",2);j([_(Kt)],Bo.prototype,"padding",2);j([_(Rt,{optional:!0})],Bo.prototype,"color",2);j([_(e0e,{optional:!0})],Bo.prototype,"position",2);j([_(wd,{optional:!0})],Bo.prototype,"rotation",2);j([_(Qe,{optional:!0})],Bo.prototype,"parallel",2);var Ss=class hx extends ht{constructor(){super(),this.id=Po(this),this.label=new Bo,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new dl({name:this.id,zIndex:hx.LINE_LAYER_ZINDEX}),this.labelGroup=new dl({name:this.id,zIndex:hx.LABEL_LAYER_ZINDEX}),this.crossLineRange=new Il,this.crossLineLabel=new np,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){const{enabled:i,data:n,type:s,value:a,range:o,scale:r}=this;if(!s||!r||!i||!t||!kH(s,a,o,r)||n.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,i){if(!t)return;const{scale:n,gridLength:s,sideFlag:a,direction:o,label:{position:r="top"},clippedRange:l,strokeWidth:c=0}=this;if(this.data=[],!n)return;const u=n.bandwidth??0,h=n.step??0,f=(i?-1:1)*(n instanceof cd?(h-u)/2:0),[g,x]=[0,a*s];let[y,b]=this.getRange();const v=b===void 0&&hr.is(n)?u/2+f:0;let[S,N]=[Number(n.convert(y,{clampMode:"clamped"}))-f+v,n.convert(b,{clampMode:"clamped"})+u+f];S=Vw(S,l),N=Vw(N,l),[y,b]=[Number(n.convert(y))+v,n.convert(b)+u];const M=(y===S||b===N||S!==N)&&Math.abs(N-S)>0;if(M&&S>N&&([S,N]=[N,S],[y,b]=[b,y]),y-f>=S&&(y-=f),b+f<=N&&(b+=f),this.isRange=M,this.startLine=c>0&&y>=S&&y<=S+f,this.endLine=c>0&&b>=N-u-f&&b<=N,!M&&!this.startLine&&!this.endLine||(this.data=[S,N],!this.label.enabled))return;const{c:I=Zw}=DH[r]??{},{x:C,y:L}=I({direction:o,xStart:g,xEnd:x,yStart:S,yEnd:N});this.labelPoint={x:C,y:L}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:t,sideFlag:i,gridLength:n,data:s,startLine:a,endLine:o,isRange:r,fill:l,fillOpacity:c,stroke:u,strokeWidth:h,lineDash:f}=this;t.x1=0,t.x2=i*n,t.y1=s[0],t.y2=s[1],t.startLine=a,t.endLine=o,t.isRange=r,t.fill=l,t.fillOpacity=c??1,t.stroke=u,t.strokeWidth=h??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=f}updateLabel(){const{crossLineLabel:t,label:i}=this;i.text&&(t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.text=i.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:s,rotation:a,position:o="top",padding:r=0},direction:l,parallelFlipRotation:c,regularFlipRotation:u}=this;if(i===void 0||n===void 0)return;const{defaultRotation:h,configuredRotation:f}=Kw({rotation:a,parallel:s,regularFlipRotation:u,parallelFlipRotation:c});t.rotation=h+f,t.textBaseline="middle",t.textAlign="center";const g=t.getBBox();if(!g)return;const x=l==="y",{xTranslation:y,yTranslation:b}=$C({yDirection:x,padding:r,position:o,bbox:g});t.translationX=i+y,t.translationY=n+b}getZIndex(t=!1){return t?hx.RANGE_LAYER_ZINDEX:hx.LINE_LAYER_ZINDEX}getRange(){const{value:t,range:i,scale:n}=this,s=jt.is(n)||hr.is(n),a=(i==null?void 0:i[0])??t;let o=i==null?void 0:i[1];return!s&&o===void 0&&(o=a),s&&a===o&&(o=void 0),[a,o]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const i=new np;i.fontFamily=t.fontFamily,i.fontSize=t.fontSize,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.text=t.text;const{labelPoint:{x:n=void 0,y:s=void 0}={},label:{parallel:a,rotation:o,position:r="top",padding:l=0},direction:c,parallelFlipRotation:u,regularFlipRotation:h}=this;if(n===void 0||s===void 0)return;const{configuredRotation:f}=Kw({rotation:o,parallel:a,regularFlipRotation:h,parallelFlipRotation:u});i.rotation=f,i.textBaseline="middle",i.textAlign="center";const g=i.getBBox();if(!g)return;const x=c==="y",{xTranslation:y,yTranslation:b}=$C({yDirection:x,padding:l,position:r,bbox:g});return i.x=n+y,i.y=s+b,i.getBBox()}calculatePadding(t){const{isRange:i,startLine:n,endLine:s,direction:a,label:{padding:o=0,position:r="top"}}=this;if(!i&&!n&&!s)return;const l=this.computeLabelBBox();if((l==null?void 0:l.x)==null||(l==null?void 0:l.y)==null)return;const c=CH({yDirection:a==="y",padding:o,position:r,bbox:l});t.left=Math.max(t.left??0,c.left??0),t.right=Math.max(t.right??0,c.right??0),t.top=Math.max(t.top??0,c.top??0),t.bottom=Math.max(t.bottom??0,c.bottom??0)}};Ss.LINE_LAYER_ZINDEX=9;Ss.RANGE_LAYER_ZINDEX=3;Ss.LABEL_LAYER_ZINDEX=14;Ss.className="CrossLine";j([_(Qe,{optional:!0})],Ss.prototype,"enabled",2);j([_(Ft(["range","line"],"a crossLine type"),{optional:!0})],Ss.prototype,"type",2);j([_(zo(JL("range"),Xm.restrict({length:2})),{optional:!0})],Ss.prototype,"range",2);j([_(JL("value"),{optional:!0})],Ss.prototype,"value",2);j([_(Rt,{optional:!0})],Ss.prototype,"fill",2);j([_(Nt,{optional:!0})],Ss.prototype,"fillOpacity",2);j([_(Rt,{optional:!0})],Ss.prototype,"stroke",2);j([_(Kt,{optional:!0})],Ss.prototype,"strokeWidth",2);j([_(Nt,{optional:!0})],Ss.prototype,"strokeOpacity",2);j([_(jc,{optional:!0})],Ss.prototype,"lineDash",2);j([_(Be)],Ss.prototype,"label",2);var KC=Ss,t0e=["stroke","lineDash"],i0e=Oc(e=>Ys(e)&&Object.keys(e).every(t=>t0e.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),gN=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};j([_(Qe)],gN.prototype,"enabled",2);j([_(Ce)],gN.prototype,"width",2);j([_(i0e)],gN.prototype,"style",2);function Id(e,t=[void 0]){return Tc((i,n,s)=>t.includes(s)?Ec(e)?e(s):e:s)}var LH=_t(e=>yt(e)&&e>0||e instanceof ip,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),fp=class extends ht{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};j([_(LH,{optional:!0})],fp.prototype,"step",2);j([_(Xm,{optional:!0})],fp.prototype,"values",2);j([_(ZW),Id(NaN)],fp.prototype,"minSpacing",2);j([_(qW),Id(NaN)],fp.prototype,"maxSpacing",2);var bn=class extends ht{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};j([_(Qe)],bn.prototype,"enabled",2);j([_(Sd,{optional:!0})],bn.prototype,"fontStyle",2);j([_(Nd,{optional:!0})],bn.prototype,"fontWeight",2);j([_(Kt.restrict({min:1}))],bn.prototype,"fontSize",2);j([_(Ae)],bn.prototype,"fontFamily",2);j([_(Ce)],bn.prototype,"padding",2);j([_(qm),Id(NaN)],bn.prototype,"minSpacing",2);j([_(Rt,{optional:!0})],bn.prototype,"color",2);j([_(wd,{optional:!0})],bn.prototype,"rotation",2);j([_(Qe)],bn.prototype,"avoidCollisions",2);j([_(Qe)],bn.prototype,"mirrored",2);j([_(Qe)],bn.prototype,"parallel",2);j([_(Ia,{optional:!0})],bn.prototype,"formatter",2);j([_(Ae,{optional:!0})],bn.prototype,"format",2);var Ub=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};j([_(Qe)],Ub.prototype,"enabled",2);j([_(Ce)],Ub.prototype,"width",2);j([_(Rt,{optional:!0})],Ub.prototype,"stroke",2);var tg=class extends ht{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};j([_(Qe)],tg.prototype,"enabled",2);j([_(Ce)],tg.prototype,"width",2);j([_(Ce)],tg.prototype,"size",2);j([_(Rt,{optional:!0})],tg.prototype,"stroke",2);var Ar=class extends ht{constructor(){super(...arguments),this.caption=new Xt,this.enabled=!1,this.spacing=Xt.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};j([_(Qe)],Ar.prototype,"enabled",2);j([_(Ae,{optional:!0})],Ar.prototype,"text",2);j([_(Ce,{optional:!0})],Ar.prototype,"spacing",2);j([_(Sd,{optional:!0})],Ar.prototype,"fontStyle",2);j([_(Nd,{optional:!0})],Ar.prototype,"fontWeight",2);j([_(Ce)],Ar.prototype,"fontSize",2);j([_(Ae)],Ar.prototype,"fontFamily",2);j([_(Rt,{optional:!0})],Ar.prototype,"color",2);j([_(uN)],Ar.prototype,"wrapping",2);j([_(Ia,{optional:!0})],Ar.prototype,"formatter",2);function ZC(e){const[t,i]=ya(e.range),n=Math.floor(t),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var qC=Math.PI*2,n0e=qC/2;function s0e(e,t){return Math.abs(t-e)<n0e?t:e>t?t+qC:t-qC}function EH(e){const t=(o,r)=>{const[l=e.min,c=e.max]=ya(r??[]);return o<l||o>c};return{tick:{fromFn(o,r,l){let c=o.y1+o.translationY,u=o.opacity;return(l==="added"||t(o.datum.translationY,o.datum.range))&&(c=r.translationY,u=0),{y:0,translationY:c,opacity:u,phase:Hs[l]}},toFn(o,r,l){const c=r.translationY;let u=1;return l==="removed"&&(u=0),{y:0,translationY:c,opacity:u,finish:{y:c,translationY:0}}},applyFn(o,r){o.setProperties(r),o.visible=!t(o.y)}},line:{fromFn(o,r){return{...o.previousDatum??r,phase:Hs.updated}},toFn(o,r){return{...r}}},label:{fromFn(o,r,l){const c=o.previousDatum??r,u=c.x,h=c.y,f=c.rotationCenterX;let g=Math.round(o.translationY),x=c.rotation,y=o.opacity;return l==="removed"||t(c.y,c.range)?x=r.rotation:(l==="added"||t(o.datum.y,o.datum.range))&&(g=Math.round(c.translationY),y=0,x=r.rotation),{x:u,y:h,rotationCenterX:f,translationY:g,rotation:x,opacity:y,phase:Hs[l]}},toFn(o,r,l){var y;const c=r.x,u=r.y,h=r.rotationCenterX,f=Math.round(r.translationY);let g=0,x=1;return l==="added"?(x=1,g=r.rotation):l==="removed"?(x=0,g=r.rotation):g=s0e(((y=o.previousDatum)==null?void 0:y.rotation)??r.rotation,r.rotation),{x:c,y:u,rotationCenterX:h,translationY:f,rotation:g,opacity:x,finish:{rotation:r.rotation}}}},group:{fromFn(o,r){const{rotation:l,translationX:c,translationY:u}=o;return{rotation:l,translationX:c,translationY:u,phase:Hs.updated}},toFn(o,r){const{rotation:l,translationX:c,translationY:u}=r;return{rotation:l,translationX:c,translationY:u}}}}}function OH(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function jH(e){const{visible:t,min:i,max:n}=e;return(s,a)=>{const o=a.translationY,r=t&&o>=i&&o<=n;return{y:o,translationY:0,opacity:1,visible:r}}}function RH(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function PH(){return(e,t)=>({...t})}var xA=class extends Md(ba){},zc=class zH{constructor(t,i){this.moduleCtx=t,this.scale=i,this.id=Po(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new fp,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new hA({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new xA({name:`${this.id}-Axis-line`})),this.tickLineGroup=this.axisGroup.appendChild(new ut({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new ut({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new hA({name:`${this.id}-CrossLines`}),this.labelGroup=new ut({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new hA({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new ut({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=li.select(this.tickLineGroup,xA,!1),this.tickLabelGroupSelection=li.select(this.tickLabelGroup,np,!1),this.gridLineGroupSelection=li.select(this.gridLineGroup,xA,!1),this._crossLines=[],this.line=new Ub,this.tick=new tg,this.gridLine=new gN,this.label=this.createLabel(),this.defaultTickMinSpacing=zH.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Ar,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.moduleMap=new UL,this.range=this.scale.range.slice(),this.crossLines.forEach(s=>this.initCrossLine(s)),this.axisGroup.appendChild(this.title.caption.node),this.animationManager=t.animationManager,this.animationState=new Vb("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}});let n;this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"),t.layoutManager.addListener("layout:complete",s=>{n!=null&&jo(s.chart,n)!=null&&this.animationState.transition("resize"),n={...s.chart}}))}get type(){return this.constructor.type??""}set crossLines(t){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(n=>this.detachCrossLine(n)),this._crossLines=t.map(n=>{const s=new i;return s.set(n),s}),this._crossLines.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateRange(){var r;const{range:t,visibleRange:i,scale:n}=this,s=(t[1]-t[0])/(i[1]-i[0]),a=s*i[0],o=t[0]-a;(r=n.setVisibleRange)==null||r.call(n,i),n.range=[o,o+s],this.crossLines.forEach(l=>{l.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,i){i.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup),t.appendChild(this.labelGroup)}attachLabel(t){this.labelGroup.append(t)}detachAxis(t,i){i.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup),t.removeChild(this.labelGroup)}inRange(t,i=0){const[n,s]=ya(this.range);return t>=n-i&&t<=s+i}onFormatChange(t,i,n,s){const{scale:a}=this,o=a instanceof GL,r=l=>o?String:c=>typeof c=="number"?c.toFixed(i+l):String(c);if(s&&a&&a.tickFormat)try{const l=a.tickFormat({ticks:t,specifier:s});this.labelFormatter=l,this.datumFormatter=l}catch{this.labelFormatter=r(0),this.datumFormatter=r(1),Ie.warnOnce(`the axis label format string ${s} is invalid. No formatting will be applied`)}else this.labelFormatter=r(0),this.datumFormatter=r(1)}onGridLengthChange(t,i){i^t&&this.onGridVisibilityChange(),this.crossLines.forEach(n=>this.initCrossLine(n))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new bn}update(t=!0){if(!this.tickGenerationResult)return;const{rotation:i,parallelFlipRotation:n,regularFlipRotation:s}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const o=this.getAxisLineCoordinates(),{tickData:r,combinedRotation:l,textBaseline:c,textAlign:u,primaryTickCount:h}=this.tickGenerationResult,f=this.tickLabelGroupSelection.nodes().map(g=>g.datum.tickId);if(this.updateSelections(o,r.ticks,{combinedRotation:l,textAlign:u,textBaseline:c,range:this.scale.range}),!t||this.animationManager.isSkipped())this.resetSelectionNodes();else{const g=this.calculateUpdateDiff(f,r);this.animationState.transition("update",g)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:r.ticks.length>0}),this.updateCrossLines({rotation:i,parallelFlipRotation:n,regularFlipRotation:s}),this.updateLayoutState(r.fractionDigits),h}getAxisLineCoordinates(){const[t,i]=ya(this.range);return{x:0,y1:t,y2:i}}getTickLineCoordinates(t){const n=this.label.getSideFlag()*this.getTickSize(),s=Math.min(0,n),a=s+Math.abs(n),o=t.translationY;return{x1:s,x2:a,y:o}}getTickLabelProps(t,i){const{label:n}=this,{combinedRotation:s,textBaseline:a,textAlign:o,range:r}=i,l=t.tickLabel,u=n.getSideFlag()*(this.getTickSize()+n.padding+this.seriesAreaPadding),h=l!==""&&l!=null;return{tickId:t.tickId,translationY:t.translationY,fill:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,rotation:s,rotationCenterX:u,text:l,textAlign:o,textBaseline:a,visible:h,x:u,y:0,range:r}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(t,i){const{title:n}=this;if(!n.enabled){t.enabled=!1,t.node.visible=!1;return}t.color=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.enabled=n.enabled,t.wrapping=n.wrapping;const s=t.node,a=(n.spacing??0)+i.spacing,o=this.label.getSideFlag(),r=Pt(this.rotation),l=o===-1&&r>Math.PI&&r<Math.PI*2?-1:1,c=l*o*Math.PI/2,u=l===1?"bottom":"top",{range:h}=this,f=Math.floor(l*o*(h[0]+h[1])/2),g=Math.floor(o===-1?l*-a:-a),{callbackCache:x}=this.moduleCtx,{formatter:y=v=>v.defaultValue}=n,b=x.call(y,this.getTitleFormatterParams());t.text=b,s.setProperties({visible:!0,text:b,textBaseline:u,x:f,y:g,rotation:c})}calculateLayout(t,i){var I;const{rotation:n,parallelFlipRotation:s,regularFlipRotation:a}=this.calculateRotations(),o=this.label.getSideFlag(),r=o*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(t),this.tickGenerationResult=this.generateTicks({primaryTickCount:i,parallelFlipRotation:s,regularFlipRotation:a,labelX:r,sideFlag:o});const{tickData:l,combinedRotation:c,textBaseline:u,textAlign:h,...f}=this.tickGenerationResult;this.updateLayoutState(l.fractionDigits);const g=[],{x,y1:y,y2:b}=this.getAxisLineCoordinates(),v=new Fe(x+Math.min(o*this.seriesAreaPadding,0),y,this.seriesAreaPadding,b-y);if(g.push(v),this.tick.enabled&&l.ticks.forEach(C=>{const{x1:L,x2:O,y:P}=this.getTickLineCoordinates(C),z=new Fe(L,P,O-L,0);g.push(z)}),this.label.enabled){const C=new np;l.ticks.forEach(L=>{const O=this.getTickLabelProps(L,{combinedRotation:c,textAlign:h,textBaseline:u,range:this.scale.range});if(!O.visible)return;C.setProperties({...O,translationY:Math.round(L.translationY)});const P=C.getBBox();P&&g.push(P)})}if((I=this.title)!=null&&I.enabled){const C=new Xt,L=Fe.merge(g).width;this.setTitleProps(C,{spacing:L});const O=C.node.getBBox();O&&g.push(O)}const S=Fe.merge(g),N=this.getTransformBox(S),M=this.isAnySeriesActive();return this.crossLines.forEach(C=>{var O;var L;C.sideFlag=-o,C.direction=n===-Math.PI/2?"x":"y",C instanceof KC&&((L=C.label).parallel??(L.parallel=this.label.parallel)),C.parallelFlipRotation=s,C.regularFlipRotation=a,(O=C.calculateLayout)==null||O.call(C,M,this.reverse)}),{primaryTickCount:f.primaryTickCount,bbox:N}}updateLayoutState(t){this.layout.label={fractionDigits:t,padding:this.label.padding,format:this.label.format}}getTransformBox(t){const i=new yr,{rotation:n,translationX:s,translationY:a}=this.getAxisTransform();return yr.updateTransformMatrix(i,1,1,n,s,a),i.transformBBox(t)}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(t){t?this.setDomain(t):this.calculateDomain(),this.updateRange(),this.scale.interval=this.interval.step,jt.is(this.scale)&&(this.scale.nice=this.nice,this.scale.update())}calculateRotations(){const t=xs(this.rotation),i=Pt(t),n=Pt(t-Math.PI/2);return{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}}generateTicks({primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:n,labelX:s,sideFlag:a}){const{scale:o,interval:{minSpacing:r,maxSpacing:l},label:{parallel:c,rotation:u,fontFamily:h,fontSize:f,fontStyle:g,fontWeight:x}}=this,y=t!==void 0,{defaultRotation:b,configuredRotation:v,parallelFlipFlag:S,regularFlipFlag:N}=Kw({rotation:u,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),M=v+b,I=new yr,{maxTickCount:C}=this.estimateTickCount({minSpacing:r,maxSpacing:l}),O=!(jt.is(o)||hr.is(o))||isNaN(C)?10:C;let P=yA(c,v,0,a,N);const z=Zve(c,v,a,S),V=di.toFontString({fontFamily:h,fontSize:f,fontStyle:g,fontWeight:x}),G=Rc.getMeasurer({font:V}),H={fontFamily:h,fontSize:f,fontStyle:g,fontWeight:x,textBaseline:z,textAlign:P};let B={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},$=0,Q=0,X=!0,Y=[],q=!1;for(;X&&$<=O&&!q;){Q=0,P=yA(c,v,0,a,N);const W=this.getTickStrategies({secondaryAxis:y,index:$});for(const ee of W){({tickData:B,index:$,autoRotation:Q,terminate:q}=ee({index:$,tickData:B,textProps:H,labelOverlap:X,terminate:q,primaryTickCount:t}));const oe=v!==0||Q!==0,fe=M+Q,ue=Kve(this.label.minSpacing,oe);yr.updateTransformMatrix(I,1,1,fe,0,0),P=yA(c,v,Q,a,N),Y=this.createLabelData(B.ticks,s,I,G),X=this.label.avoidCollisions?Hve(Y,ue):!1}}const Z=b+v+Q;return!y&&B.rawTicks.length>0&&(t=B.rawTicks.length),{tickData:B,primaryTickCount:t,combinedRotation:Z,textBaseline:z,textAlign:P,labelData:Y}}getTickStrategies({index:t,secondaryAxis:i}){const{scale:n,label:s}=this,{minSpacing:a}=this.interval,o=jt.is(n)||hr.is(n),r=s.enabled&&s.avoidCollisions,l=!o&&t!==0&&r,c=s.autoRotate===!0&&s.rotation===void 0,u=[];let h;this.interval.values?h=3:i?h=1:l?h=2:h=0;const f=({index:g,tickData:x,primaryTickCount:y,terminate:b})=>this.createTickData(h,g,x,b,y);if(u.push(f),!o&&!isNaN(a)){const g=({index:x,tickData:y,primaryTickCount:b,terminate:v})=>this.createTickData(2,x,y,v,b);u.push(g)}if(!r)return u;if(c){const g=({index:x,tickData:y,labelOverlap:b,terminate:v})=>({index:x,tickData:y,autoRotation:this.getAutoRotation(b),terminate:v});u.push(g)}return u}createTickData(t,i,n,s,a){const{scale:o}=this,{step:r,values:l,minSpacing:c,maxSpacing:u}=this.interval,{maxTickCount:h,minTickCount:f,defaultTickCount:g}=this.estimateTickCount({minSpacing:c,maxSpacing:u}),x=jt.is(o)||hr.is(o),y=!x||isNaN(h)?10:h;let b=x?Math.max(g-i,f):h;const v=r===void 0&&l===void 0&&b>f&&(x||t===2);let S=!0;for(;S&&i<=y;){const M=n.rawTicks;b=x?Math.max(g-i,f):h;const{rawTicks:I,fractionDigits:C,ticks:L,labelCount:O}=this.getTicks({tickGenerationType:t,previousTicks:M,tickCount:b,minTickCount:f,maxTickCount:h,primaryTickCount:a});n.rawTicks=I,n.fractionDigits=C,n.ticks=L,n.labelCount=O,S=v?bH(I,M):!1,i++}return s||(s=r!==void 0||l!==void 0),{tickData:n,index:i,autoRotation:0,terminate:s}}createLabelData(t,i,n,s){const a=[];for(const{tickLabel:o,translationY:r}of t){if(!o)continue;const{width:l,height:c}=s.measureLines(o),u=new Fe(i,r,l,c),h=qve(o,u,n);a.push(h)}return a}getAutoRotation(t){return t?Pt(xs(this.label.autoRotateAngle??0)):0}getTicks({tickGenerationType:t,previousTicks:i,tickCount:n,minTickCount:s,maxTickCount:a,primaryTickCount:o}){const{range:r,scale:l,visibleRange:c}=this;let u;switch(t){case 3:if(u=this.interval.values,jt.is(l)){const[N,M]=ya(l.getDomain().map(Number));u=u.filter(I=>I>=N&&I<=M).sort((I,C)=>I-C)}break;case 1:jt.is(l)?u=this.updateSecondaryAxisTicks(o):u=this.createTicks(n,s,a);break;case 2:u=this.filterTicks(i,n);break;default:u=this.createTicks(n,s,a);break}const h=u.reduce((N,M)=>Math.max(N,typeof M=="number"?Eb(M):0),0),f=(l.bandwidth??0)/2,g=[];let x=0;const y=new Map,b=Math.max(0,Math.floor(c[0]*u.length)),v=Math.min(u.length,Math.ceil(c[1]*u.length)),S=u.slice(b,v);this.onFormatChange(S,h,u,this.label.format);for(let N=0;N<S.length;N++){const M=S[N],I=l.convert(M)+f;if(r.length>0&&!this.inRange(I,.001))continue;const C=this.formatTick(M,h,b+N);let L=C;if(y.has(L)){const O=y.get(L);y.set(L,O+1),L=`${L}_${O}`}else y.set(L,1);g.push({tick:M,tickId:L,tickLabel:C,translationY:Math.floor(I)}),!(C===""||C==null)&&x++}return{rawTicks:u,fractionDigits:h,ticks:g,labelCount:x}}filterTicks(t,i){const{minSpacing:n,maxSpacing:s}=this.interval,o=!isNaN(n)||!isNaN(s)?Math.ceil(t.length/i):2;return t.filter((r,l)=>l%o===0)}createTicks(t,i,n){var a;const{scale:s}=this;return t&&(jt.is(s)||hr.is(s))&&(s.tickCount=t,s.minTickCount=i??0,s.maxTickCount=n??1/0),((a=s.ticks)==null?void 0:a.call(s))??[]}estimateTickCount({minSpacing:t,maxSpacing:i}){if(!this.label.avoidCollisions)return{minTickCount:jt.defaultMaxTickCount,maxTickCount:jt.defaultMaxTickCount,defaultTickCount:jt.defaultMaxTickCount};const n=this.calculateRangeWithBleed(),s=Math.max(this.defaultTickMinSpacing,n/jt.defaultMaxTickCount);let a=!isNaN(i);isNaN(t)&&(t=s),isNaN(i)&&(i=n),t>i&&(t===s?t=i:i=t);const o=2;a&&(a=o<s);const r=lt(1,Math.floor(n/t),a?Math.min(Math.floor(n/o),100):100),l=Math.min(r,Math.ceil(n/i)),c=lt(l,jt.defaultTickCount,r);return{minTickCount:l,maxTickCount:r,defaultTickCount:c}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:i,regularFlipRotation:n}){const s=this.label.getSideFlag(),a=this.isAnySeriesActive();this.crossLines.forEach(o=>{var r;o.sideFlag=-s,o.direction=t===-Math.PI/2?"x":"y",o instanceof KC&&((r=o.label).parallel??(r.parallel=this.label.parallel)),o.parallelFlipRotation=i,o.regularFlipRotation=n,o.update(a)})}updateTickLines(){const{tick:t,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each(s=>{s.strokeWidth=t.width,s.stroke=t.stroke,s.x1=n*this.getTickSize(),s.x2=0})}calculateAvailableRange(){return jm(this.range)}calculateRangeWithBleed(){const t=1/jm(this.visibleRange);return JS(this.calculateAvailableRange()*t,2)}calculateDomain(){const i=this.boundSeries.filter(n=>this.includeInvisibleDomains||n.isEnabled()).flatMap(n=>n.getDomain(this.direction));this.setDomain(i)}getAxisTransform(){return{rotation:xs(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:i,gridGroup:n,translation:s}=this,{rotation:a}=this.calculateRotations(),o=Math.floor(s.x),r=Math.floor(s.y);t.setProperties({rotation:a,translationX:o,translationY:r}),n.setProperties({rotation:a,translationX:o,translationY:r}),i.datum=this.getAxisTransform()}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,i,n){const s=o=>o.tickId,a=i.map(o=>this.getTickLabelProps(o,n));this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,s),this.tickLineGroupSelection.update(i,void 0,s),this.tickLabelGroupSelection.update(a,void 0,s)}updateAxisLine(){const{enabled:t,stroke:i,width:n}=this.line;this.lineNode.setProperties({stroke:i,strokeWidth:t?n:0})}updateGridLines(t){const{gridLine:{style:i,width:n},gridPadding:s,gridLength:a}=this;a===0||i.length===0||this.gridLineGroupSelection.each((o,r,l)=>{const{stroke:c,lineDash:u}=i[l%i.length];o.setProperties({x1:s,x2:-t*a+s,stroke:c,strokeWidth:n,lineDash:u})})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,i)=>{t.setProperties(i,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}updateTitle(t){const{title:i,lineNode:n,tickLineGroup:s,tickLabelGroup:a}=this;let o=0;if(i.enabled&&t.anyTickVisible){const r=ut.computeChildrenBBox([s,a,n]);o+=r.width+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(i.caption,{spacing:o})}formatTick(t,i,n){return String(this.getFormatter(n,!0)(t,i))}formatDatum(t){return String(this.getFormatter()(t))}getFormatter(t=0,i){const{label:n,labelFormatter:s,datumFormatter:a,moduleCtx:{callbackCache:o}}=this;return n.formatter?(r,l)=>o.call(n.formatter,{value:r,index:t,fractionDigits:l})??r:!i&&a?r=>o.call(a,r)??String(r):s?r=>o.call(s,r)??String(r):r=>String(r)}getBBox(){return this.axisGroup.getBBox()}getRegionNode(){}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,i,n,s){this.tickLineGroup.setClipRect(new Fe(t,i,n,s))}clipGrid(t,i,n,s){this.gridGroup.setClipRect(new Fe(t,i,n,s))}getTitleFormatterParams(){var n;const{direction:t}=this,i=[];for(const s of this.boundSeries){const a=s.getKeys(t),o=s.getNames(t);for(let r=0;r<a.length;r++)i.push({key:a[r],name:o[r]})}return{direction:t,boundSeries:i,defaultValue:(n=this.title)==null?void 0:n.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:jt.is(t)||hr.is(t),keys:()=>this.boundSeries.flatMap(i=>i.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((i,n)=>(n.getKeyProperties(this.direction).forEach(a=>{i.indexOf(a)<0&&i.push(a)}),i),[]),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleBandwidth:()=>t.bandwidth??0,scaleDomain:()=>{var i;return(i=t.getDomain)==null?void 0:i.call(t)},scaleConvert:i=>t.convert(i),scaleInvert:hr.is(t)?i=>{var n;return(n=t.invertNearest)==null?void 0:n.call(t,i)}:i=>{var n;return(n=t.invert)==null?void 0:n.call(t,i)},scaleInvertNearest:i=>{var n;return(n=t.invertNearest)==null?void 0:n.call(t,i)},scaleStep:()=>t.step??0,attachLabel:i=>this.attachLabel(i),inRange:(i,n)=>this.inRange(i,n)}}getScaleValueFormatter(t){const{scale:i}=this;if(t&&i&&i.tickFormat)try{return i.tickFormat({specifier:t})}catch{Ie.warnOnce(`the format string ${t} is invalid, ignoring.`)}return this.getFormatter()}animateReadyUpdate(t){const{animationManager:i}=this.moduleCtx,n=ZC(this),s=EH(n);Si(this.id,"axis-group",i,[this.axisGroup],s.group),Si(this.id,"line",i,[this.lineNode],s.line),Si(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(a,o)=>o.tickId,t),Si(this.id,"tick-labels",i,[this.tickLabelGroupSelection],s.label,(a,o)=>o.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:i,tickLabelGroupSelection:n,lineNode:s}=this,a=ZC(this);Ji([this.axisGroup],OH()),Ji([t,i],jH(a)),Ji([n],RH()),Ji([s],PH())}calculateUpdateDiff(t,i){const n=new Set,s=new Set,a=Math.max(t.length,i.ticks.length);for(let o=0;o<a;o++){const r=i.ticks[o],l=t[o],c=r==null?void 0:r.tickId;l!==c&&(s.has(c)?s.delete(c):c&&n.add(c),n.has(l)?n.delete(l):l&&s.add(l))}return{changed:n.size>0||s.size>0,added:n,removed:s}}isReversed(){return this.reverse}};zc.defaultTickMinSpacing=50;zc.CrossLineConstructor=KC;j([_(Qe)],zc.prototype,"nice",2);j([_(Qe)],zc.prototype,"reverse",2);j([_(HW)],zc.prototype,"keys",2);j([_(Be)],zc.prototype,"interval",2);j([_(Be)],zc.prototype,"title",2);j([ws((e,t,i)=>e.onGridLengthChange(t,i))],zc.prototype,"gridLength",2);var eE=zc,tE=class extends bn{constructor(){super(...arguments),this.autoRotateAngle=335}};j([_(Qe,{optional:!0})],tE.prototype,"autoRotate",2);j([_(wd)],tE.prototype,"autoRotateAngle",2);var iE=class _H extends eE{constructor(){super(...arguments),this.thickness=0}static is(t){return t instanceof _H}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t){return this.updateDirection(),super.update(t)}calculateLayout(t,i){return this.updateDirection(),super.calculateLayout(t,i)}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new tE}getRegionNode(){return this.axisGroup}};j([_(Ce)],iE.prototype,"thickness",2);j([_(FL)],iE.prototype,"position",2);var ud=iE,ig=class FH extends ud{constructor(t,i=new cd){super(t,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(t){return t instanceof FH}normaliseDataDomain(t){const i=[],n=new Set;for(const s of t){const a=s instanceof Date?s.getTime():s;n.has(a)||(n.add(a),i.push(s))}return{domain:i,clipped:!1}}updateScale(t){let{paddingInner:i,paddingOuter:n}=this;if(!yt(i)||!yt(n)){const s=this.reduceBandScalePadding();i??(i=s.inner),n??(n=s.outer)}this.scale.paddingInner=i??0,this.scale.paddingOuter=n??0,super.updateScale(t)}reduceBandScalePadding(){return this.boundSeries.reduce((t,i)=>{var s;const n=(s=i.getBandScalePadding)==null?void 0:s.call(i);return n&&(t.inner>n.inner&&(t.inner=n.inner),t.outer<n.outer&&(t.outer=n.outer)),t},{inner:1/0,outer:-1/0})}};ig.className="CategoryAxis";ig.type="category";j([_(Nt)],ig.prototype,"groupPaddingInner",2);j([_(Nt,{optional:!0})],ig.prototype,"paddingInner",2);j([_(Nt,{optional:!0})],ig.prototype,"paddingOuter",2);var Gb=ig,BH=class{constructor(e="",t,i=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((e,t)=>t!==this.number):[]}};function a0e(e,t=!0){const i=new BH;let n=0;return t&&e.forEach(s=>n=Math.max(n,s.labels.length)),e.forEach(s=>{if(t)for(;s.labels.length<n;)s.labels.unshift("");o0e(i,s)}),i}function o0e(e,t){const i=t.labels.slice().reverse(),n=i.length-1;i.forEach((s,a)=>{const o=e.children,r=o.find(c=>c.label===s),l=a!==n;if(r&&l)e=r;else{const c=new BH(s,e);c.number=o.length,o.push(c),l&&(e=c)}})}function r0e(e,t,i){const n=t.number-e.number,s=i/n;t.change-=s,t.shift+=i,e.change+=s,t.prelim+=i,t.mod+=i}function l0e(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function c0e(e){const t=e.children;if(t){let i=0,n=0;for(let s=t.length-1;s>=0;s--){const a=t[s];a.prelim+=i,a.mod+=i,n+=a.change,i+=a.shift+n}}}function u0e(e,t,i){const n=e.getLeftSibling();if(n){let s=e,a=e,o=n,r=a.getLeftmostSibling(),l=a.mod,c=s.mod,u=o.mod,h=r.mod;for(;o.nextRight()&&a.nextLeft();){o=o.nextRight(),a=a.nextLeft(),r=r.nextLeft(),s=s.nextRight(),s.ancestor=e;const f=o.prelim+u-(a.prelim+l)+i;f>0&&(r0e(l0e(o,e,t),e,f),l+=f,c+=f),u+=o.mod,l+=a.mod,h+=r.mod,c+=s.mod}o.nextRight()&&!s.nextRight()?(s.thread=o.nextRight(),s.mod+=u-c):(a.nextLeft()&&!r.nextLeft()&&(r.thread=a.nextLeft(),r.mod+=l-h),t=e)}return t}function VH(e,t){const i=e.children;if(i.length){let n=i[0];i.forEach(o=>{VH(o,t),n=u0e(o,n,t)}),c0e(e);const s=(i[0].prelim+i.at(-1).prelim)/2,a=e.getLeftSibling();a?(e.prelim=a.prelim+t,e.mod=e.prelim-s):e.prelim=s}else{const n=e.getLeftSibling();e.prelim=n?n.prelim+t:0}}var W_=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){const{x:i,y:n}=t(e);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function UH(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.update(e),e.children.forEach(n=>UH(n,t+e.mod,i))}function GH(e){const t=e.children;let i=0;t.forEach(n=>{GH(n),n.children.length?i+=n.leafCount:i++}),e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function d0e(e){const t=new h0e;return VH(e,1),UH(e,-e.prelim,t),GH(e),t}var h0e=class{constructor(){this.dimensions=new W_,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,t=>({x:t.x,y:t.y})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t,i=0,n=0,s=!1){const a=this.leafCount-1,o=this.depth,r=this.dimensions;let l=1,c=1;if(e>0&&a){const g=(r.right-r.left)/a;l=e/a/g,s&&(l=-l)}if(t>0&&o){const g=(r.bottom-r.top)/o;c=t/o/g}const u=new W_;this.nodes.forEach(g=>{g.screenX=g.x*l,g.screenY=g.y*c,u.update(g,x=>({x:x.screenX,y:x.screenY}))});const h=-u.left,f=-u.top;this.nodes.forEach(g=>{g.screenX+=h+i,g.screenY+=f+n})}},WH=class extends bn{constructor(){super(...arguments),this.grid=!1}};j([_(Qe)],WH.prototype,"grid",2);var dd=class extends ud{constructor(t){const i=new cd;i.paddingOuter=.1,i.paddingInner=i.paddingOuter*2,super(t,i),this.tickScale=new cd,this.line=new Ub,this.label=new WH,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:n,tickLabelGroup:s,gridLineGroup:a,tickScale:o}=this;o.paddingInner=1,o.paddingOuter=0,this.gridLineSelection=li.select(a,ba),this.axisLineSelection=li.select(n,ba),this.separatorSelection=li.select(n,ba),this.labelSelection=li.select(s,np),this.lineNode.visible=!1}updateRange(){const{range:t,visibleRange:i,scale:n}=this,s=(t[1]-t[0])/(i[1]-i[0]),a=s*i[0],o=t[0]-a;this.tickScale.range=n.range=[o,o+s],this.resizeTickTree()}resizeTickTree(){const t=this.scale,i=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,n=this.tickTreeLayout,s=this.lineHeight;n&&n.resize(Math.abs(i[1]-i[0]),n.depth*s,(Math.min(i[0],i[1])||0)+(t.bandwidth??0)/2,-n.depth*s,i[1]-i[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){const{direction:t}=this;let i=null;const n=this.boundSeries.filter(a=>a.visible).flatMap(a=>{if(t==="y"||i)return a.getDomain(t);if(i===null){const o=a.getDomain(t);return i=Va(o[0]),o}return[]});this.setDomain(Ml(n)??aN(n));const{domain:s}=this.dataDomain;this.tickTreeLayout=d0e(a0e(s)),this.tickScale.domain=s.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){this.title.caption.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:t}=this.computedLayout;this.labelSelection.update(t).each((n,s)=>{n.setProperties(s)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:t}=this.computedLayout,{range:i}=this,n=1e-7;this.separatorSelection.update(t).each((a,o)=>{a.x1=o.x1,a.x2=o.x2,a.y1=o.y,a.y2=o.y,a.visible=this.tick.enabled&&o.y>=i[0]-n&&o.y<=i[1]+n,a.stroke=this.tick.stroke,a.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:t}=this.computedLayout;this.axisLineSelection.update(t).each((n,s)=>{n.setProperties(s),n.stroke=this.line.stroke,n.strokeWidth=this.line.width})}updateCategoryGridLines(){const{gridLength:t,gridLine:i,label:n,range:s,tickScale:a}=this,o=a.ticks(),r=n.getSideFlag(),l=this.gridLineSelection.update(t?o:[]);if(t){const{width:c,style:u}=i,h=u.length;l.each((f,g,x)=>{const y=Math.round(a.convert(g)),{stroke:b,lineDash:v}=u[x%h];f.visible=i.enabled&&y>=s[0]&&y<=s[1],f.x1=0,f.x2=-r*t,f.y1=y,f.y2=y,f.stroke=b,f.strokeWidth=c,f.lineDash=v})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:t,label:i,label:{parallel:n},moduleCtx:{callbackCache:s},range:a,title:o,title:{formatter:r=te=>te.defaultValue}={}}=this,l=t.range[0],c=t.range[1],h=Math.abs(c-l)/t.domain.length||0,f=Math.ceil(i.fontSize/h),g=xs(this.rotation),x=Math.abs(Math.cos(g))<1e-8,y=i.getSideFlag(),b=this.lineHeight,v=this.tickTreeLayout,S=t.ticks(),N=v?v.nodes:[],M=v?v.depth>1:!1,I=(o==null?void 0:o.enabled)&&S.length>0,{defaultRotation:C,configuredRotation:L,parallelFlipFlag:O}=Kw({rotation:i.rotation,parallel:n,regularFlipRotation:Pt(g-Math.PI/2),parallelFlipRotation:Pt(g)}),P=[],z=te=>({fill:te.fill,fontFamily:te.fontFamily,fontSize:te.fontSize,fontStyle:te.fontStyle,fontWeight:te.fontWeight,rotation:te.rotation,rotationCenterX:te.rotationCenterX,rotationCenterY:te.rotationCenterY,text:te.text,textAlign:te.textAlign,textBaseline:te.textBaseline,translationX:te.translationX,translationY:te.translationY,visible:te.visible,x:te.x,y:te.y}),V=new Map;let G=0;const H=new np,B=(te,he)=>{if(he===0){if(I){const ge=s.call(r,this.getTitleFormatterParams());return H.setProperties({text:ge,fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,textAlign:"center",textBaseline:"hanging",translationX:te.screenY-o.fontSize*.25,translationY:te.screenX}),!0}return!1}return H.setProperties({fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,textAlign:"center",textBaseline:O===-1?"bottom":"hanging",translationX:te.screenY-i.fontSize*.25,translationY:te.screenX}),he%f!==0||te.screenX<a[0]||te.screenX>a[1]?!1:(i.formatter?H.text=s.call(i.formatter,{value:String(te.label),index:he})??String(te.label):H.text=String(te.label),!0)};N.forEach((te,he)=>{if(!B(te,he))return;const xe=H.getBBox();if(!xe)return;V.set(he,xe),!te.children.length&&xe.width>G&&(G=xe.width)});const $=y*i.padding,Q=this.label.grid,X=[];N.forEach((te,he)=>{const ge=!te.children.length;let xe=B(te,he);if(H.x=$,H.y=he===0&&I?o.spacing??0:0,H.rotationCenterX=$,ge)H.rotation=L,H.textAlign="end",H.textBaseline="middle";else{const ye=te.leafCount*h,we=V.get(he);H.translationX-=G-b+this.label.padding,we&&we.width>ye?(xe=!1,V.delete(he)):H.rotation=x?C:-Math.PI/2}if(te.parent&&M){const ye=ge?te.screenX-h/2:te.screenX-te.leafCount*h/2;if(ge)(te.number!==te.children.length-1||Q)&&X.push({y:ye,x1:0,x2:-G-this.label.padding*2});else{const we=-G-this.label.padding*2+te.screenY;X.push({y:ye,x1:we+b,x2:we})}}let be;if(xe){const ye=Ii.toCanvas(H);ye&&V.set(he,ye),be={...z(H),visible:xe}}else V.delete(he),be={visible:xe};P.push(be)});let Y=0;X.forEach(te=>Y=Math.min(Y,te.x2)),X.push({y:Math.max(l,c),x1:0,x2:Y});const q=[],Z=[],W=1e-7;X.forEach(te=>{if(te.y>=a[0]-W&&te.y<=a[1]+W){const{x1:he,x2:ge,y:xe}=te,be=new Fe(Math.min(he,ge),xe,Math.abs(he-ge),0);Z.push(be),q.push({x1:he,x2:ge,y:xe})}});const ee=[],oe=[],fe=v?v.depth+1:1;for(let te=0;te<fe;te++){const he=S.length>0&&(te===0||Q&&M),ge=te>0?-G-this.label.padding*2-(te-1)*b:0,xe=new Fe(ge,Math.min(...a),0,Math.abs(a[1]-a[0]));oe.push(xe),ee.push({x:ge,y1:a[0],y2:a[1],visible:he})}const ue=Fe.merge(Uu(V.values(),Z,oe));return{bbox:this.getTransformBox(ue),tickLabelLayout:P,separatorLayout:q,axisLineLayout:ee}}calculateLayout(){const{axisLineLayout:t,separatorLayout:i,tickLabelLayout:n,bbox:s}=this.computeLayout();return this.computedLayout={axisLineLayout:t,separatorLayout:i,tickLabelLayout:n},{bbox:s,primaryTickCount:void 0}}};dd.className="GroupedCategoryAxis";dd.type="grouped-category";j([_(Rt,{optional:!0})],dd.prototype,"labelColor",2);var Wb=class{constructor(){this.destroyFns=[]}destroy(){for(const t of this.destroyFns)t()}},HH=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(...e){for(const t of e){this.registerDependencies(t);const i=this.modules.find(n=>t.type===n.type&&t.optionsKey===n.optionsKey&&t.identifier===n.identifier);if(i){if(t.packageType==="enterprise"&&i.packageType==="community"){const n=this.modules.indexOf(i);this.modules.splice(n,1,t)}}else this.modules.push(t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const{dependents:t}=this,i=new Set;let n=0;const s=3,a=this.modules.filter(o=>e.includes(o.type));do{for(const o of a)if(!(i.has(o.optionsKey)||t.has(o.optionsKey))){yield o,i.add(o.optionsKey);for(const[r,l]of t.entries())l.delete(o.optionsKey),l.size===0&&t.delete(r)}n++}while(i.size<a.length&&n<s);if(t.size>0)throw new Error(`Could not resolve module dependencies: [${[...t.keys()]}]`)}registerDependencies(e){if(!(e.dependencies==null||e.dependencies.length===0)){for(const t of e.dependencies){const i=this.dependencies.get(t)??new Set;i.add(e.optionsKey),this.dependencies.set(t,i)}this.dependents.set(e.optionsKey,new Set(e.dependencies))}}},Zu=new HH;function p0e(e){return new Promise(t=>{setTimeout(()=>t(void 0),e)})}var f0e=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(i=>Ie.errorOnce(i))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(async()=>{})}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t==null||t()}catch(i){Ie.error("mutex callback error",i),t==null||t()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},YH=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){var i;(i=this.eventListeners.get(e))==null||i.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(i=>i(e))}},Td=class extends ht{constructor(t=0,i=t,n=t,s=i){super(),this.top=t,this.right=i,this.bottom=n,this.left=s}};j([_(Ce)],Td.prototype,"top",2);j([_(Ce)],Td.prototype,"right",2);j([_(Ce)],Td.prototype,"bottom",2);j([_(Ce)],Td.prototype,"left",2);function m0e(e){return $H((t,i)=>jn().requestAnimationFrame(t),e)}function g0e(e){return $H((t,i=0)=>setTimeout(t,i),e)}function $H(e,t){let i=0,n=!1,s,a;const o=()=>n,r=()=>{n=!1,a==null||a(),a=void 0,s=void 0,i>0&&e(l)},l=()=>{const c=i;i=0,n=!0;const u=t({count:c});if(!u){r();return}u.then(r,r)};return{schedule(c){i===0&&!o()&&e(l,c),i++},async await(){if(o())for(s==null&&(s=new Promise(c=>{a=c}));o();)await s}}}var KH=class{constructor(){this.events=new Map}on(e,t){var i;return this.events.has(e)||this.events.set(e,new Set),(i=this.events.get(e))==null||i.add(t),()=>this.off(e,t)}off(e,t){const i=this.events.get(e);i&&(i.delete(t),i.size===0&&this.events.delete(e))}emit(e,t){var i;(i=this.events.get(e))==null||i.forEach(n=>n(t))}clear(e){e?this.events.delete(e):this.events.clear()}},nE=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.Toolbar=2]="Toolbar",e[e.Navigator=3]="Navigator",e[e.Overlay=4]="Overlay",e))(nE||{}),ZH=class{constructor(){this.events=new KH,this.elements=new Map}addListener(e,t){return this.events.on(e,t)}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>{var i;return(i=this.elements.get(e))==null?void 0:i.delete(t)}}createContext(e,t){var n;const i=new y0e(e,t);for(const s of Object.values(nE))typeof s=="number"&&((n=this.elements.get(s))==null||n.forEach(a=>a(i)));return i}emitLayoutComplete(e,t){const i="layout:complete",{width:n,height:s}=e;this.events.emit(i,{type:i,axes:t.axes??[],chart:{width:n,height:s},clipSeries:t.clipSeries??!1,series:t.series})}},y0e=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new Fe(0,0,e,t)}},yN=class{constructor(){this.title=new Xt,this.subtitle=new Xt,this.footnote=new Xt}positionCaptions(e){const{title:t,subtitle:i,footnote:n}=this,s=e.layoutBox.height/10;if(t.enabled){const{spacing:a=i.enabled?Xt.SMALL_PADDING:Xt.LARGE_PADDING}=t;this.positionCaption("top",t,e.layoutBox,s),this.shrinkLayoutByCaption("top",t,e.layoutBox,a)}i.enabled&&(this.positionCaption("top",i,e.layoutBox,s),this.shrinkLayoutByCaption("top",i,e.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,e.layoutBox,s),this.shrinkLayoutByCaption("bottom",n,e.layoutBox,n.spacing))}positionAbsoluteCaptions(e){const{title:t,subtitle:i,footnote:n}=this,{rect:s}=e.series;for(const a of[t,i,n])if(a.layoutStyle==="overlay"){if(a.textAlign==="left")a.node.x=s.x+a.padding;else if(a.textAlign==="right"){const o=a.node.getBBox();a.node.x=s.x+s.width-o.width-a.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,i,n){const s=Math.max(di.getLineHeight(t.fontSize),n);t.node.x=this.computeX(t.textAlign,i)+t.padding,t.node.y=i.y+(e==="top"?0:i.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(i.width,s)}shrinkLayoutByCaption(e,t,i,n=0){if(t.layoutStyle==="block"){const s=t.node.getBBox();i.shrink(Math.ceil(e==="top"?s.y-i.y+s.height+n:i.y+i.height-s.y+n),e)}}};j([_(Be)],yN.prototype,"title",2);j([_(Be)],yN.prototype,"subtitle",2);j([_(Be)],yN.prototype,"footnote",2);var mp=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const n=i.findIndex(s=>s.symbol===e);if(n>=0){i.splice(n,1),i.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const i of this.getListenersByType(e))try{i.handler(...t)}catch(n){Ie.errorOnce(n)}}dispatchWrapHandlers(e,t,...i){for(const n of this.getListenersByType(e))try{t(n.handler,...i)}catch(s){Ie.errorOnce(s)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Tl=class{constructor(){this.listeners=new mp,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e())}},xN=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.All=63]="All",e))(xN||{}),qH=class extends Tl{addListener(e,t,i=32){return super.addListener(e,n=>{this.getState()&i&&t(n)})}},XH=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0}setFns(e){this.destroy(),this.destroyFns=e}},qw="10.3.3",H_=Symbol("previous-memento-not-found"),x0e=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=Qt.create(!0,"history"),this.destroyFns=new XH,this.destroyFns.setFns([e.addListener("undo",this.undo.bind(this),63),e.addListener("redo",this.redo.bind(this),63)])}destroy(){this.destroyFns.destroy()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const n of t){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:e,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const i=this.findPreviousMemento(t);if(i===H_)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,i]of e.mementos.entries())this.restoreMemento(t,i);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):H_}restoreMemento(e,t){var i;(i=this.originators.get(e))==null||i.restoreMemento(qw,qw,t)}debugEvent(...e){this.debug(...e,this.history.map((t,i)=>i===this.historyIndex?`** ${t.label} **`:t.label))}},QH=class{constructor(e){this.version=e.split("-")[0]}save(...e){const t={version:this.version};for(const i of Object.values(e))t[i.mementoOriginatorKey]=this.encode(i,i.createMemento());return t}restore(e,...t){if(typeof e!="object"){Ie.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`);return}if(e==null){Ie.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in e)||typeof e.version!="string"){Ie.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const i of t){if(!(i.mementoOriginatorKey in e))continue;const n=this.decode(i,e[i.mementoOriginatorKey]);if(!i.guardMemento(n)){Ie.warnOnce(`Could not restore [${i.mementoOriginatorKey}] data, value was invalid, ignoring.`,n);return}i.restoreMemento(this.version,e.version,n)}}encode(e,t){try{return JSON.parse(JSON.stringify(t,this.encodeTypes))}catch(i){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(e,t){try{return JSON.parse(JSON.stringify(t),this.decodeTypes)}catch(i){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}encodeTypes(e,t){return Rb(this[e])?{__type:"date",value:String(this[e])}:t}decodeTypes(e,t){return Ys(this[e])&&"__type"in this[e]&&this[e].__type==="date"?new Date(this[e].value):t}},b0e=class{constructor(){this.caretaker=new QH(qw),this.state=new Map}setState(e,t){jo(this.state.get(e.mementoOriginatorKey),t)!=null&&(this.state.set(e.mementoOriginatorKey,t),this.restoreState(e))}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}},v0e=`.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative;user-select:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{opacity:0;pointer-events:auto;position:absolute}.ag-charts-series-area:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-border-radius: var(--ag-border-radius, 4px);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size: 14px;--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-dialog-input-group-label-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-dialog-tab-color--inactive: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-focus-box-shadow: var(--box-shadow), 0 0 0 2px #fff8, var(--ag-charts-focus-border-shadow);--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-input-background-color: var(--ag-charts-background-color);--ag-charts-input-background-color--hover: var(--ag-charts-hover-color);--ag-charts-input-background-color--active: var(--ag-charts-hover-color);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-color--active: var(--ag-charts-active-color);--ag-charts-input-border-radius: var(--ag-border-radius, 4px);--ag-charts-input-color--active: var(--ag-charts-active-color);--ag-charts-input-focus-outline: var(--ag-charts-focus-border);--ag-charts-input-focus-box-shadow: var(--ag-charts-focus-border-shadow);--ag-charts-input-font-family: var(--ag-charts-font-family);--ag-charts-input-font-size: var(--ag-charts-font-size);--ag-charts-input-padding: 8px;--ag-charts-input-padding-large: 10px;--ag-charts-input-placeholder-color: #888888;--ag-charts-input-spacing: 8px;--ag-charts-input-transition-duration: .25s;--ag-charts-input-transition-duration--fast: .1s;--ag-charts-input-transition-timing-function: ease-out;--ag-charts-input-checkbox-background-color: #babbbc;--ag-charts-input-checkbox-background-color--checked: var(--ag-charts-active-color)}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18%);--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-dialog-input-group-label-text-color: #ffffff;--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-input-placeholder-color: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;color:inherit;font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);transition-duration:var(--ag-charts-input-transition-duration);transition-property:none;transition-timing-function:var(--ag-charts-input-transition-timing-function)}.ag-charts-input:focus-visible{outline:var(--ag-charts-input-focus-outline);box-shadow:var(--ag-charts-input-focus-box-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);cursor:pointer;padding:var(--ag-charts-input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-input-background-color--hover)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{appearance:none;background:var(--ag-charts-input-checkbox-background-color);border-radius:9px;cursor:pointer;height:18px;margin:0;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:7px;content:" ";height:14px;margin:2px;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-input-checkbox-background-color--checked)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--line-height);font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);padding:var(--ag-charts-input-padding-large) var(--ag-charts-input-padding)}.ag-charts-textarea[placeholder]:empty:before{color:var(--ag-charts-input-placeholder);content:attr(placeholder)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:none;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;white-space:nowrap;--stroke-width-color: var(--ag-charts-toolbar-foreground-color)}.ag-charts-toolbar__no-pointer-events{pointer-events:none}.ag-charts-toolbar__button--drag-handle{min-width:24px;padding-left:0;padding-right:0}.ag-charts-toolbar__button--with-transition{transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover:not([aria-disabled=true],.ag-charts-toolbar__button--drag-handle){background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2;--stroke-width-color: var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button.ag-charts-toolbar__button--drag-handle{cursor:grab}.ag-charts-toolbar__button.ag-charts-toolbar__button--dragging{cursor:grabbing}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__button--stroke-width-visible:before{content:"";height:min(var(--strokeWidth),20px);width:12px;background:var(--stroke-width-color);margin-right:var(--ag-charts-toolbar-button-padding)}.ag-charts-toolbar__button--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}
`;function xc(e,t,i,n){t.addEventListener(i,n);const s=()=>t.removeEventListener(i,n);return e.push(s),s}function JH(e,t,i){xc(e,t,"keydown",n=>{n.key==="Escape"&&i(n)})}function w0e(e,t,i){const n=xc(e,window,"mousedown",s=>{[0,2].includes(s.button)&&!S0e(t,s)&&(i(),n())});return n}function S0e(e,t){if(t.target instanceof Element){const{x:i,y:n,width:s,height:a}=e.getBoundingClientRect(),{clientX:o,clientY:r}=t;return o>=i&&r>=n&&o<=i+s&&r<=n+a}return!1}function eY(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function sE(e,t,...i){return eY(e)&&(e.key===t||i.some(n=>e.key===n))}function Y_(e,t,i,n){i&&xc(e,t,"keydown",s=>{sE(s,n)&&i.focus()})}function N0e(e,t,i,n,s,a){Y_(e,t,s,a),Y_(e,t,i,n),xc(e,t,"keydown",o=>{sE(o,n,a)&&o.preventDefault()})}var tY={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function aE(e){return e.toolbar.role="toolbar",e.toolbar.ariaOrientation=e.orientation,e.toolbar.ariaHidden=(e.buttons.length===0).toString(),nb(e)}function nb(e){const{orientation:t,buttons:i,wrapAround:n=!1,onEscape:s,onFocus:a,onBlur:o}=e,{nextKey:r,prevKey:l}=tY[t],c=g=>{g.target&&"tabIndex"in g.target&&(i.forEach(x=>x.tabIndex=-1),g.target.tabIndex=0)},[u,h]=n?[i.length,i.length]:[0,1/0],f=[];for(let g=0;g<i.length;g++){const x=i[(u+g-1)%h],y=i[g],b=i[(u+g+1)%h];xc(f,y,"focus",c),a&&xc(f,y,"focus",a),o&&xc(f,y,"blur",o),s&&JH(f,y,s),N0e(f,y,x,l,b,r),y.tabIndex=g===0?0:-1}return f}var M0e=class{constructor(e,t,i){this.lastFocus=t,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(w0e(this.destroyFns,e,()=>this.close()))}close(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing()}finishClosing(){var e;this.destroyFns.forEach(t=>t()),this.destroyFns.length=0,Na(this.lastFocus,"aria-expanded",!1),(e=this.lastFocus)==null||e.focus(),this.lastFocus=void 0}};function I0e(e){var g;const{sourceEvent:t,orientation:i,menu:n,buttons:s,closeCallback:a,autoCloseOnBlur:o=!1}=e,{nextKey:r,prevKey:l}=tY[i],c=nY(t);Na(c,"aria-expanded",!0);const u=new M0e(n,c,a),h=()=>u.close(),{destroyFns:f}=u;if(n.role="menu",n.ariaOrientation=i,f.push(...nb({orientation:i,buttons:s,onEscape:h,wrapAround:!0})),n.tabIndex=-1,JH(f,n,h),xc(f,n,"keydown",x=>{var y;x.target===n&&(x.key===r||x.key===l)&&(x.preventDefault(),(y=s[0])==null||y.focus())}),o){const x=y=>{!s.includes(y.relatedTarget)&&h()};for(const y of s)xc(f,y,"blur",x)}return(g=s[0])==null||g.focus(),u}function XC(e,t){return i=>{if(e.ariaDisabled==="true")return i.preventDefault();t(i)}}function iY(e){return"button"in e?e.button===0:eY(e)&&(e.code==="Space"||e.key==="Enter")}function nY(e){if((e==null?void 0:e.target)instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function sY(e){const t=i=>{if(i.defaultPrevented)return;vH(i.target,"data-preventdefault",!0)&&sE(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}var T0e=class{constructor(){var e;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([t,i])=>this.observe(t,i)),this.queuedObserveRequests=[]},!(typeof ResizeObserver>"u")&&(this.resizeObserver=new ResizeObserver(t=>{for(const{target:i,contentRect:{width:n,height:s}}of t){const a=this.elements.get(i);this.checkSize(a,i,n,s)}}),this.documentReady=br("readyState")==="complete",this.documentReady||(e=jn())==null||e.addEventListener("load",this.onLoad))}destroy(){var e,t;(e=jn())==null||e.removeEventListener("load",this.onLoad),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=null}checkSize(e,t,i,n){var s,a;e&&(i!==((s=e.size)==null?void 0:s.width)||n!==((a=e.size)==null?void 0:a.height))&&(e.size={width:i,height:n},e.cb(e.size,t))}observe(e,t){var n;if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):(n=this.resizeObserver)==null||n.observe(e);const i={cb:t};this.elements.set(e,i)}unobserve(e){var t;(t=this.resizeObserver)==null||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},A0e='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="img" class="ag-charts-series-area" tabindex="-1"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',k0e=["styles","canvas","canvas-center","canvas-overlay","canvas-proxy","series-area"],C0e=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);function D0e(e,t){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(n=>{for(const s of n)s.target===e&&t(s.intersectionRatio)},{root:e});return i.observe(e),i}var aY={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return aY}},oY=class extends Tl{constructor(e,t){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new T0e;const i=kt("div");i.innerHTML=A0e,this.element=i.children.item(0),this.styleRootElement=t,this.rootElements=k0e.reduce((s,a)=>{const o=`ag-charts-${a}`,r=this.element.classList.contains(o)?this.element:this.element.querySelector(`.${o}`);if(!r)throw new Error(`AG Charts - unable to find DOM element ${o}`);return s[a]={element:r,children:new Map,listeners:[]},s},{});let n=!1;this.observer=D0e(this.element,s=>{s===0&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=s===0}),this.setSizeOptions(),this.addStyles("ag-charts-community",v0e),e&&this.setContainer(e),this.destroyFns.push(sY(this.element))}destroy(){var e;super.destroy(),(e=this.observer)==null||e.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(t=>{t.children.forEach(i=>i.remove()),t.element.remove()}),this.element.remove()}setSizeOptions(e=300,t=300,i,n){const{style:s}=this.element;s.width=`${i??e}px`,s.height=`${n??t}px`}updateContainerSize(){var t,i;const{style:e}=this.rootElements["canvas-center"].element;e.width=`${((t=this.containerSize)==null?void 0:t.width)??0}px`,e.height=`${((i=this.containerSize)==null?void 0:i.height)??0}px`}setContainer(e){if(e===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getShadowDocumentRoot(e)!=null))for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=e;for(const[i,n]of this.styles)this.addStyles(i,n);e.appendChild(this.element),this.sizeMonitor.observe(e,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(e){const t="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(t)&&i!==e&&this.element.classList.remove(i)}),this.element.classList.add(e)}setTabIndex(e){this.rootElements["series-area"].element.tabIndex=e}updateCanvasLabel(e){Na(this.rootElements["canvas-proxy"].element,"aria-label",e)}getEventElement(e,t){return["focus","blur","keydown","keyup"].includes(t)?this.rootElements["series-area"].element:e}addEventListener(e,t,i){this.getEventElement(this.element,e).addEventListener(e,t,i)}removeEventListener(e,t,i){this.getEventElement(this.element,e).removeEventListener(e,t,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var s;const e=jn(),t=new Fe(0,0,e.innerWidth,e.innerHeight),i=this.getRawOverlayClientRect(),n=Fe.fromDOMRect(i??this.getBoundingClientRect());return((s=t.intersection(n))==null?void 0:s.toDOMRect())??aY}getRawOverlayClientRect(){var i,n,s;let e=this.element;for(;e!=null;){const a=(i=e.computedStyleMap)==null?void 0:i.call(e),o=(n=a==null?void 0:a.get("overflow-x"))==null?void 0:n.toString(),r=(s=a==null?void 0:a.get("overflow-y"))==null?void 0:s.toString();if(o!=null&&o!=="visible"||r&&r!=="visible")return e.getBoundingClientRect();e=e.parentElement}const t=this.getShadowDocumentRoot();if(t)return t.getBoundingClientRect()}getShadowDocumentRoot(e=this.container){var i;const t=((i=e==null?void 0:e.ownerDocument)==null?void 0:i.body)??br("body");for(;e!=null;){if(e===t)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}return this.container}getChildBoundingClientRect(e){const{children:t}=this.rootElements[e],i=[];for(const n of t.values())i.push(Fe.fromDOMRect(n.getBoundingClientRect()));return Fe.merge(i)}calculateCanvasPosition(e){let t=0,i=0;const{x:n=0,y:s=0}=this.getChildBoundingClientRect("canvas")??{},a=e.getBoundingClientRect();return t=a.x-n,i=a.y-s,{x:t,y:i}}isManagedChildDOMElement(e,t,i){const{children:n}=this.rootElements[t],s=n==null?void 0:n.get(i);return s!=null&&e.contains(s)}isEventOverElement(e){const t=e.target;return t!=null&&this.element.contains(t)}addStyles(e,t){const i="data-ag-charts";if(this.styles.set(e,t),this.container==null)return;const n=o=>o.getAttribute(i)===e,s=o=>{for(const l of o.children)if(n(l))return;const r=kt("style");return o.appendChild(r),r};let a;this.styleRootElement?a=s(this.styleRootElement):this.getShadowDocumentRoot(this.container)!=null?a=this.addChild("styles",e):a=s(br("head")),!(a==null||n(a))&&(a.setAttribute(i,e),a.innerHTML=t)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e){this.element.style.cursor=e}getCursor(){return this.element.style.cursor}addChild(e,t,i,n){const{element:s,children:a,listeners:o}=this.rootElements[e];if(!a)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(a.has(t))return a.get(t);const{childElementType:r="div"}=C0e.get(e)??{};if(i&&i.tagName.toLowerCase()!==r.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=i??kt(r);for(const[c,u,h]of o)l.addEventListener(c,u,h);if(a.set(t,l),n){const c=s.querySelector(n.query);if(c==null)throw new Error(`AG Charts - addChild query failed ${n.query}`);c.insertAdjacentElement(n.where,l)}else s==null||s.appendChild(l);return l}removeChild(e,t){var n;const{children:i}=this.rootElements[e];i&&((n=i.get(t))==null||n.remove(),i.delete(t))}incrementDataCounter(e){const{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}setDataBoolean(e,t){this.element.dataset[e]=String(t)}getIconClassNames(e){return`ag-charts-icon ag-charts-icon-${e}`}};function L0e(e,t){const i=-t/e;return e!==0&&i>=0&&i<=1?[i]:[]}function E0e(e,t,i){if(e===0)return L0e(t,i);const n=t*t-4*e*i,s=[];if(n===0){const a=-t/(2*e);a>=0&&a<=1&&s.push(a)}else if(n>0){const a=Math.sqrt(n),o=(-t-a)/(2*e),r=(-t+a)/(2*e);o>=0&&o<=1&&s.push(o),r>=0&&r<=1&&s.push(r)}return s}function O0e(e,t,i,n){if(e===0)return E0e(t,i,n);const s=t/e,a=i/e,o=n/e,r=(3*a-s*s)/9,l=(9*s*a-27*o-2*s*s*s)/54,c=r*r*r+l*l,u=1/3,h=[];if(c>=0){const f=Math.sqrt(c),g=Math.sign(l+f)*Math.pow(Math.abs(l+f),u),x=Math.sign(l-f)*Math.pow(Math.abs(l-f),u),y=Math.abs(Math.sqrt(3)*(g-x)/2),b=-.3333333333333333*s+(g+x);if(b>=0&&b<=1&&h.push(b),y===0){const v=-.3333333333333333*s-(g+x)/2;v>=0&&v<=1&&h.push(v)}}else{const f=Math.acos(l/Math.sqrt(-r*r*r)),g=u*s,x=2*Math.sqrt(-r),y=x*Math.cos(u*f)-g,b=x*Math.cos(u*(f+2*Math.PI))-g,v=x*Math.cos(u*(f+4*Math.PI))-g;y>=0&&y<=1&&h.push(y),b>=0&&b<=1&&h.push(b),v>=0&&v<=1&&h.push(v)}return h}function pm(e,t,i,n,s,a,o,r){const l=(i-e)*(r-a)-(n-t)*(o-s);if(l===0)return 0;const c=((o-s)*(t-a)-(e-s)*(r-a))/l,u=((i-e)*(t-a)-(n-t)*(e-s))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function j0e(e,t,i,n,s,a,o,r,l,c,u,h){let f=0;const g=c-h,x=u-l,y=l*(h-c)-c*(u-l),b=$_(e,i,s,o),v=$_(t,n,a,r),S=g*b[0]+x*v[0],N=g*b[1]+x*v[1],M=g*b[2]+x*v[2],I=g*b[3]+x*v[3]+y,C=O0e(S,N,M,I);for(const L of C){const O=L*L,P=L*O,z=b[0]*P+b[1]*O+b[2]*L+b[3],V=v[0]*P+v[1]*O+v[2]*L+v[3];let G;l===u?G=(V-c)/(h-c):G=(z-l)/(u-l),G>=0&&G<=1&&f++}return f}function $_(e,t,i,n){return[-e+3*t-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function rY(e,t,i,n,s,a,o,r,l,c){if(isNaN(e)||isNaN(t))return 0;a&&([s,n]=[n,s]);const u=(c-r)/(l-o),h=r-u*o,f=Math.pow(u,2)+1,g=2*(u*(h-t)-e),x=Math.pow(e,2)+Math.pow(h-t,2)-Math.pow(i,2),y=Math.pow(g,2)-4*f*x;if(y<0)return 0;const b=(-g+Math.sqrt(y))/2/f,v=(-g-Math.sqrt(y))/2/f;let S=0;return[b,v].forEach(N=>{if(!(N>=Math.min(o,l)&&N<=Math.max(o,l)))return;const I=u*N+h,C=N-e,L=I-t,O=Math.atan2(L,C);Ao(O,n,s)&&S++}),S}function Xw(e,t,i,n,s){return(1-s)**3*e+3*(1-s)**2*s*t+3*(1-s)*s**2*i+s**3*n}function Qw(e,t,i,n,s){if(s<=Math.min(e,n))return e<n?0:1;if(s>=Math.max(e,n))return e<n?1:0;let a=0,o=1,r=NaN;for(let l=0;l<12;l+=1)r=(a+o)/2,Xw(e,t,i,n,r)<s?a=r:o=r;return r}function Jw(e,t,i,n,s,a,o,r,l){const c=(1-l)*e+l*i,u=(1-l)*t+l*n,h=(1-l)*i+l*s,f=(1-l)*n+l*a,g=(1-l)*s+l*o,x=(1-l)*a+l*r,y=(1-l)*c+l*h,b=(1-l)*u+l*f,v=(1-l)*h+l*g,S=(1-l)*f+l*x,N=(1-l)*y+l*v,M=(1-l)*b+l*S;return[[{x:e,y:t},{x:c,y:u},{x:y,y:b},{x:N,y:M}],[{x:N,y:M},{x:v,y:S},{x:g,y:x},{x:o,y:r}]]}function QC(e,t,i,n){const s=-e+3*t-3*i+n,a=3*e-6*t+3*i,o=-3*e+3*t;if(s===0){if(a!==0){const l=-o/a;if(l>0&&l<1)return[l]}return[]}const r=a*a-4*s*o;if(r>=0){const l=Math.sqrt(r),c=(-a+l)/(2*s),u=(-a-l)/(2*s);return[c,u].filter(h=>h>0&&h<1)}return[]}function lY(e,t,i,n,s,a,o,r){const l=QC(e,i,s,o),c=QC(t,n,a,r);return[...l,...c]}var sb=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(t,i){this.openedPath=!0,this.path2d.moveTo(t,i),this.commands.push(0),this.params.push(t,i)}lineTo(t,i){this.openedPath?(this.path2d.lineTo(t,i),this.commands.push(1),this.params.push(t,i)):this.moveTo(t,i)}rect(t,i,n,s){this.moveTo(t,i),this.lineTo(t+n,i),this.lineTo(t+n,i+s),this.lineTo(t,i+s),this.closePath()}roundRect(t,i,n,s,a){a=Math.min(a,n/2,s/2),this.moveTo(t,i+a),this.arc(t+a,i+a,a,Math.PI,1.5*Math.PI),this.lineTo(t+a,i),this.lineTo(t+n-a,i),this.arc(t+n-a,i+a,a,1.5*Math.PI,2*Math.PI),this.lineTo(t+n,i+a),this.lineTo(t+n,i+s-a),this.arc(t+n-a,i+s-a,a,0,Math.PI/2),this.lineTo(t+n-a,i+s),this.lineTo(t+a,i+s),this.arc(t+ +a,i+s-a,a,Math.PI/2,Math.PI),this.lineTo(t,i+s-a),this.closePath()}arc(t,i,n,s,a,o){this.openedPath=!0,this.path2d.arc(t,i,n,s,a,o),this.commands.push(2),this.params.push(t,i,n,s,a,o?1:0)}cubicCurveTo(t,i,n,s,a,o){this.openedPath||this.moveTo(t,i),this.path2d.bezierCurveTo(t,i,n,s,a,o),this.commands.push(3),this.params.push(t,i,n,s,a,o)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(t){t&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(t,i){const n=this.commands,s=this.params,a=n.length,o=-1e4,r=-1e4;let l=NaN,c=NaN,u=0,h=0,f=0;for(let g=0,x=0;g<a;g++)switch(n[g]){case 0:f+=pm(l,c,u,h,o,r,t,i),u=s[x++],l=u,h=s[x++],c=h;break;case 1:f+=pm(u,h,s[x++],s[x++],o,r,t,i),u=s[x-2],h=s[x-1];break;case 3:f+=j0e(u,h,s[x++],s[x++],s[x++],s[x++],s[x++],s[x++],o,r,t,i),u=s[x-2],h=s[x-1];break;case 2:{const y=s[x++],b=s[x++],v=s[x++],S=s[x++],N=s[x++],M=!!s[x++];if(f+=rY(y,b,v,S,N,M,o,r,t,i),!isNaN(l)){const I=y+Math.cos(S)*v,C=b+Math.sin(S)*v;f+=pm(u,h,I,C,o,r,t,i)}u=y+Math.cos(N)*v,h=b+Math.sin(N)*v;break}case 4:f+=pm(l,c,u,h,o,r,t,i);break}return f%2===1}distanceSquared(t,i){let n=1/0;const s=this.commands,a=this.params,o=s.length;let r=NaN,l=NaN,c=0,u=0;for(let h=0,f=0;h<o;h++)switch(s[h]){case 0:c=r=a[f++],u=l=a[f++];break;case 1:{const g=a[f++],x=a[f++];n=Dx(t,i,c,u,g,x,n);break}case 3:Ie.error("Command.Curve distanceSquare not implemented");break;case 2:{const g=a[f++],x=a[f++],y=a[f++],b=a[f++],v=a[f++],S=g+Math.cos(b)*y,N=x+Math.sin(b)*y,M=!!a[f++];n=Dx(t,i,c,u,S,N,n),n=mH(t,i,g,x,y,b,v,M,n),c=g+Math.cos(v)*y,u=x+Math.sin(v)*y;break}case 4:n=Dx(t,i,c,u,r,l,n);break}return n}getPoints(){const{commands:t,params:i}=this,n=[];let s=0;for(const a of t)switch(a){case 0:case 1:n.push({x:i[s++],y:i[s++]});break;case 3:s+=4,n.push({x:i[s++],y:i[s++]});break;case 2:n.push({x:i[s++],y:i[s++]}),s+=4;break}return n}toSVG(t=(i,n)=>({x:i,y:n})){const i=[],{commands:n,params:s}=this,a=(r,...l)=>{i.push(r);for(let c=0;c<l.length;c+=2){const{x:u,y:h}=t(l[c],l[c+1]);i.push(u,h)}};let o=0;for(const r of n)switch(r){case 0:a("M",s[o++],s[o++]);break;case 1:a("L",s[o++],s[o++]);break;case 3:a("C",s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case 2:{const l=s[o++],c=s[o++],u=s[o++],h=s[o++],f=s[o++],g=s[o++];let x=g?h-f:f-h;x<0&&(x+=Math.ceil(-x/(2*Math.PI))*2*Math.PI),g&&(x=-x);const y=Math.max(Math.ceil(Math.abs(x)/(Math.PI/2)),1),b=x/y,v=4/3*Math.tan(b/4),S=i.length===0?"M":"L";a(S,l+Math.cos(h)*u,c+Math.sin(h)*u);for(let N=0;N<y;N+=1){const M=h+b*(N+0),I=h+b*(N+1),C=u*Math.sin(M),L=u*Math.cos(M),O=u*Math.sin(I),P=u*Math.cos(I);a("C",l+L-v*C,c+C+v*L,l+P+v*O,c+O-v*P,l+P,c+O)}break}case 4:i.push("Z");break}return i.join(" ")}computeBBox(){const{commands:t,params:i}=this;let[n,s,a,o]=[1/0,1/0,-1/0,-1/0],[r,l]=[NaN,NaN],[c,u]=[NaN,NaN];const h=(g,x,y)=>{n=Math.min(x,n),s=Math.min(g,s),a=Math.max(g,a),o=Math.max(x,o),y&&([r,l]=[g,x])};let f=0;for(const g of t)switch(g){case 0:h(i[f++],i[f++],!0),[c,u]=[r,l];break;case 1:h(i[f++],i[f++],!0);break;case 3:{const x=i[f++],y=i[f++],b=i[f++],v=i[f++],S=i[f++],N=i[f++];h(S,N,!0),lY(r,l,x,y,b,v,S,N).forEach(I=>{const C=Xw(r,x,b,S,I),L=Xw(l,y,v,N,I);h(C,L)});break}case 2:{const x=i[f++],y=i[f++],b=i[f++];let v=Pt(i[f++]),S=Pt(i[f++]);i[f++]&&([v,S]=[S,v]);const M=(C,L)=>{const O=x+b*Math.cos(C),P=y+b*Math.sin(C);h(O,P,L)};M(v),M(S,!0);const I=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const C of I)(v<S&&v<=C&&C<=S||v>S&&(v<=C||C<=S))&&M(C);break}case 4:[r,l]=[c,u];break}return new Fe(s,n,a-s,o-n)}};function st(e){const{redraw:t=3,changeCb:i,convertor:n}=e??{};return Oe({redraw:t,type:"path",convertor:n,changeCb:i})}var Ns=class extends Mr{constructor(){super(...arguments),this.path=new sb,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var t,i;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((t=this.fillShadow)==null?void 0:t.isDirty())??!1)||(((i=this._clipPath)==null?void 0:i.isDirty())??!1))}isPointInPath(t,i){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,i)}distanceSquared(t,i){return this.distanceSquaredTransformedPoint(t,i)}svgPathData(t){return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.toSVG(t)}distanceSquaredTransformedPoint(t,i){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,i)?0:this.path.distanceSquared(t,i)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(){return this.updatePathIfDirty(),super.preRender()}render(t){var a,o;const{ctx:i,forceRender:n,stats:s}=t;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=Io(this).count);return}if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){i.save();const r=this.strokeWidth/2;this._clipPath??(this._clipPath=new sb),this._clipPath.clear(),this._clipPath.rect(-r,-r,this._clipX+r,this._clipY+r+r),i.clip((a=this._clipPath)==null?void 0:a.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(i),i.restore()}else this._clipPath=void 0,this.drawPath(i);(o=this.fillShadow)==null||o.markClean(),super.render(t)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}toSVG(){if(!this.visible)return;const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",this.svgPathData()),t.setAttribute("fill",typeof this.fill=="string"?this.fill:"none"),t.setAttribute("fill-opacity",String(this.fillOpacity)),this.stroke!=null&&(t.setAttribute("stroke",this.stroke),t.setAttribute("stroke-opacity",String(this.strokeOpacity)),t.setAttribute("stroke-width",String(this.strokeWidth))),{elements:[t]}}};Ns.className="Path";j([st()],Ns.prototype,"clip",2);j([st()],Ns.prototype,"clipX",1);j([st()],Ns.prototype,"clipY",1);var t1="ag-charts-focus-indicator",R0e=class{constructor(e){this.domManager=e,this.div=br().createElement("div"),this.svg=br().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=br().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=e.addChild("series-area",t1),this.element.classList.add(t1),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(t1),this.domManager.removeChild("series-area",t1)}updateBounds(e){if(e!==void 0)if(e instanceof Ns){const t=(i,n)=>Ii.toCanvasPoint(e,i,n);this.path.setAttribute("d",e.svgPathData(t)),this.show(this.svg)}else Yu(this.div,e),this.show(this.div)}show(e){this.element.innerHTML="",this.element.append(e)}getFocusableElement(){const e=this.element.parentElement;if(e==null||e.tabIndex!==0&&e.tabIndex!==-1)throw new Error("AG Charts - the focus indicator must be a child of a focusable element");return e}overrideFocusVisible(e){const t={true:"1",false:"0",undefined:""};this.getFocusableElement().style.setProperty("opacity",t[`${e}`])}isFocusVisible(){const e=this.getFocusableElement();return e!=null&&jn().getComputedStyle(e).opacity==="1"}},P0e=class{set textContent(e){var n;this.textElement.textContent=e;const t=this.textElement,i=(n=t.getBBox)==null?void 0:n.call(t);i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}constructor(){this.textElement=_C("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=_C("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=kt("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(e){Yu(this.boundedContainer,e)}};function i1(e,t){var i;return((i=t.params)==null?void 0:i.type)===e}function z0e(e){if(e==="button")return kt("button");if(e==="slider")return kt("input");if(["toolbar","group","list"].includes(e))return kt("div");if(e==="text")return new P0e;if(e==="listswitch")return{button:kt("button"),listitem:kt("div")};throw Error("AG Charts - error allocating meta")}function K_(e){const t={params:e,result:void 0};return t.result=z0e(t.params.type),t}var _0e=class{constructor(e,t){this.localeManager=e,this.domManager=t,this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=K_(e),{params:i,result:n}=t;return this.domManager.addChild("canvas-proxy",i.id,n),n.classList.add(...i.classList,"ag-charts-proxy-container"),n.role=i.type,"ariaOrientation"in i&&(n.ariaOrientation=i.ariaOrientation),typeof i.ariaHidden=="boolean"&&(n.ariaHidden=i.ariaHidden.toString()),this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(e){const t=K_(e);if(i1("button",t)){const{params:i,result:n}=t;if(this.initInteract(i,n),n.style.pointerEvents="auto",typeof i.textContent=="string")n.textContent=i.textContent;else{const{textContent:s}=i;this.addLocalisation(()=>{n.textContent=this.localeManager.t(s.id,s.params)})}this.setParent(i,n)}if(i1("slider",t)){const{params:i,result:n}=t;this.initInteract(i,n),n.type="range",n.role="presentation",n.style.margin="0px",n.ariaOrientation=i.ariaOrientation,this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(i,n)}if(i1("text",t)){const{params:i,result:n}=t;this.initElement(i,n.getContainer()),this.setParent(i,n.getContainer())}if(i1("listswitch",t)){const{params:i,result:{button:n,listitem:s}}=t;this.initInteract(i,n),n.style.width="100%",n.style.height="100%",n.textContent=i.textContent,n.role="switch",n.ariaChecked=i.ariaChecked.toString(),n.style.pointerEvents="auto",n.setAttribute("aria-describedby",i.ariaDescribedBy),s.role="listitem",s.style.position="absolute",s.replaceChildren(n),this.setParent(i,s)}return t.result}initElement(e,t){const{id:i}=e;t.id=i,t.classList.toggle("ag-charts-proxy-elem",!0)}initInteract(e,t){const{onclick:i,ondblclick:n,onmouseenter:s,onmouseleave:a,oncontextmenu:o,onchange:r,onfocus:l,onblur:c,tabIndex:u}=e;this.initElement(e,t),u!==void 0&&(t.tabIndex=u),i&&t.addEventListener("click",i),n&&t.addEventListener("dblclick",n),s&&t.addEventListener("mouseenter",s),a&&t.addEventListener("mouseleave",a),o&&t.addEventListener("contextmenu",o),l&&t.addEventListener("focus",l),c&&t.addEventListener("blur",c),r&&t.addEventListener("change",r)}setParent(e,t){const{id:i,parent:n}=e;if(typeof n=="string"){const s={where:n,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",i,t,s)}else n.appendChild(t)}},F0e=/\$\{(\w+)}(?:\[(\w+)])?/gi,bA={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},B0e=({defaultValue:e,variables:t})=>e==null?void 0:e.replaceAll(F0e,(i,n,s)=>{const a=t[n],o=s!=null?bA[s]:null;return s!=null&&o==null&&Ie.warnOnce(`Format style [${s}] is not supported`),o!=null?o.format(a):typeof a=="number"?bA.number.format(a):a instanceof Date?bA.datetime.format(a):String(a)}),V0e=class extends mp{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){const{localeText:i=Kxe,getLocaleText:n}=this,s=i[e];return(n==null?void 0:n({key:e,defaultValue:s,variables:t}))??B0e({defaultValue:s,variables:t})??e}};function U0e(){if(typeof navigator>"u")return!1;const e=/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/.exec(navigator.userAgent);if(e==null)return!1;const[t,i]=e[1].split("_").map(Number);return t<16||t===16&&i<6}var cY=class JC{constructor(t){this.enabled=!0,this.width=600,this.height=300;const{width:i,height:n,pixelRatio:s,canvasElement:a,willReadFrequently:o=!1}=t;this.pixelRatio=U0e()?1:s??jn("devicePixelRatio"),this.element=a??kt("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:o}),this.onEnabledChange(),this.resize(i??0,n??0),JC.debugContext(this.context)}static is(t){return t instanceof JC}drawImage(t,i=0,n=0){return t.drawImage(this.context.canvas,i,n)}toDataURL(t){return this.element.toDataURL(t)}resize(t,i){if(!(t>0&&i>0))return;const{element:n,context:s,pixelRatio:a}=this;n.width=Math.round(t*a),n.height=Math.round(i*a),s.setTransform(a,0,0,a,0,0),n.style.width=t+"px",n.style.height=i+"px",this.width=t,this.height=i}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(t){if(Qt.check("canvas")){const i=t.save.bind(t),n=t.restore.bind(t);let s=0;Object.assign(t,{save(){i(),s++},restore(){if(s===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),s--},verifyDepthZero(){if(s!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${s}`)}})}}};j([ws(e=>e.onEnabledChange())],cY.prototype,"enabled",2);var oE=cY,G0e=class uY{constructor(t,i){this.canvas=t,this.markDirty=i,this.debug=Qt.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(t,i){return cH([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],[i.zIndex,...i.zIndexSubOrder??[void 0,void 0],i.id],lH)}get size(){return this.layersMap.size}forEach(t){Array.from(this.layersMap.values()).sort(uY.sortLayers).forEach(t)}resize(t,i){this.canvas.resize(t,i),this.layersMap.forEach(({canvas:n})=>n.resize(t,i))}addLayer(t){const{width:i,height:n,pixelRatio:s}=this.canvas,{zIndex:a=this.nextZIndex++,name:o,zIndexSubOrder:r,getComputedOpacity:l,getVisibility:c}=t,u=new oE({width:i,height:n,pixelRatio:s});return a>=this.nextZIndex&&(this.nextZIndex=a+1),this.layersMap.set(u,{id:this.nextLayerId++,name:o,canvas:u,zIndex:a,zIndexSubOrder:r,getComputedOpacity:l,getVisibility:c}),this.debug("Scene.addLayer() - layers",this.layersMap),u}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(t,i,n){const s=this.layersMap.get(t);s&&(s.zIndex=i,s.zIndexSubOrder=n,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}},dY=class hY{constructor(){this.offscreenCanvas=typeof OffscreenCanvas<"u"?new OffscreenCanvas(0,0):kt("canvas"),hY.offscreenCanvasCount++;const t=this.offscreenCanvas.getContext("2d");if(t==null)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:t,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize({spritePixelRatio:t,spriteWidth:i,spriteHeight:n}){this.offscreenCanvas.width=Math.max(i,0)*t,this.offscreenCanvas.height=Math.max(n,0)*t}renderSprite(t,i){var u;t=yW(t);const{renderCtx:n,renderCtx:{ctx:s},offscreenCanvas:a}=this,{scale:o=1,translateX:r=0,translateY:l=0}=i??{};s.resetTransform(),s.clearRect(0,0,a.width,a.height),s.save(),s.beginPath(),s.setTransform(o,0,0,o,r,l);for(const h of t)h.preRender(),h.render(n);if(s.closePath(),s.restore(),"transferToImageBitmap"in this.offscreenCanvas)return this.offscreenCanvas.transferToImageBitmap();const c=kt("canvas");return c.style.display="block",c.style.width=a.width+"px",c.style.height=a.height+"px",(u=c.getContext("2d"))==null||u.putImageData(s.getImageData(0,0,a.width,a.height),0,0),c}};dY.offscreenCanvasCount=0;var pY=dY;function Z_(e,t,i,n,s={},a=Fe.zero){if(!Qt.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:r=0,nodesRendered:l=0,nodesSkipped:c=0}=n??{},u=performance.now(),{start:h,...f}=t,g=Object.entries(f).map(([L,O])=>X_(L,O)).filter(L=>L!=null).join(" + "),x=Object.entries(s).map(([L,O])=>`${L}: ${O}`).join(" ; "),y=Qt.check("scene:stats:verbose"),b=[`${X_("",h,u)} (${g})`,`${x}`,`Layers: ${y?q_(o,r):e.size}; Sprites: ${pY.offscreenCanvasCount}`,y?`Nodes: ${q_(l,c)}`:null].filter(xa),v=new qL(L=>i.measureText(L)),S=new Map(b.map(L=>[L,v.measureLines(L)])),N=Math.max(...Array.from(S.values(),L=>L.width)),M=Z0e(S.values(),L=>L.height),I=2+a.x;i.save(),i.fillStyle="white",i.fillRect(I,0,N,M),i.fillStyle="black";let C=0;for(const[L,O]of S.entries())C+=O.height,i.fillText(L,I,C);i.restore()}function W0e(e){const t=Hw(jn("agChartsSceneDebug")),i=[];for(const n of t)n==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);e.debugNodeSearch=i}function H0e(e,t){e.save();for(const[i,n]of Object.entries(t)){const s=Ii.toCanvas(n);if(!s){Ie.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(s.x,s.y,s.width,s.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,s.x,s.y,s.width),e.fillText(i,s.x,s.y,s.width)}e.restore()}var Y0e=new Set,$0e=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function K0e(e){const{...t}=e;for(const i in t)$0e.has(i)||typeof t[i]!="number"&&typeof t[i]!="string"&&typeof t[i]!="boolean"&&(Y0e.add(i),delete t[i]);return t}function ow(e,t){if(!Qt.check(!0,"scene"))return{};const{parentNode:i}=e;let n=0;return{node:t==="json"?K0e(e):e,name:e.name??e.id,dirty:$u[e.dirty],...i!=null&&i.isVirtual?{virtualParentDirty:$u[i.dirty],virtualParent:i}:{},...Array.from(e.children(!1),s=>ow(s,t)).reduce((s,a)=>{let{name:o}=a;const{node:{visible:r,opacity:l,zIndex:c,zIndexSubOrder:u,translationX:h,translationY:f,rotation:g,scalingX:x,scalingY:y},node:b,virtualParent:v}=a;(!r||l<=0)&&(o=`(${o})`),dl.is(b)&&(o=`*${o}*`);const S=u==null?void 0:u.map(C=>typeof C=="function"?`${C()} (fn)`:C).join(" / "),N=[`${(n++).toString().padStart(3,"0")}|`,`${o??"<unknown>"}`,`z: ${c}`,S&&`zo: ${S}`,v&&"(virtual parent)",h&&`x: ${h}`,f&&`y: ${f}`,g&&`r: ${g}`,x!=null&&x!==1&&`sx: ${x}`,y!=null&&y!==1&&`sy: ${y}`].filter(C=>!!C).join(" ");let M=N,I=1;for(;s[M]!=null&&I<100;)M=`${N} (${I++})`;return s[M]=a,s},{})}}function fY(e){if(e.dirty===0)return{dirtyTree:{},paths:[]};const t=Array.from(e.children(),s=>fY(s)).filter(s=>s.paths.length>0),i=ut.is(e)?e.name??e.id:e.id,n=t.length?t.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:{name:i,node:e,dirty:$u[e.dirty],...t.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,a)=>(s[a.name??"<unknown>"]=a,s),{})},paths:n}}function q_(e,t){const i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function X_(e,t,i){const n=i!=null?i-t:t;return`${e}: ${Math.round(n*100)/100}ms`}function Z0e(e,t){let i=0;for(const n of e)i+=t(n);return i}var rE=class{constructor(e){this.debug=Qt.create(!0,"scene"),this.id=Po(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new oE(e),this.layersManager=new G0e(this.canvas,()=>{this.isDirty=!0})}get width(){var e;return((e=this.pendingSize)==null?void 0:e[0])??this.canvas.width}get height(){var e;return((e=this.pendingSize)==null?void 0:e[1])??this.canvas.height}setContainer(e){var i;const{element:t}=this.canvas;return(i=t.parentElement)==null||i.removeChild(t),e.appendChild(t),this}setRoot(e){var t;return this.root===e?this:(this.isDirty=!0,(t=this.root)==null||t._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager)),this)}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){var t;return(t=this.root)==null||t.appendChild(e),this}removeChild(e){var t;return(t=this.root)==null||t.removeChild(e),this}download(e,t){xW(this.canvas.toDataURL(t),(e==null?void 0:e.trim())??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t){return e=Math.round(e),t=Math.round(t),e>0&&t>0&&(e!==this.width||t!==this.height)?(this.pendingSize=[e,t],this.isDirty=!0,!0):!1}async render(e){var h;const{debugSplitTimes:t={start:performance.now()},extraDebugStats:i,seriesRect:n}=e??{},{canvas:s,canvas:{context:a}={},root:o,pendingSize:r}=this;if(!a)return;const l=performance.now();if(r&&(this.layersManager.resize(...r),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}if(o&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:$u[o.dirty],tree:ow(o,"console")}),Z_(this.layersManager,t,a,void 0,i,n);return}const c={ctx:a,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:!!r,debugNodes:{}};Qt.check("scene:stats:verbose")&&(c.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),W0e(c);let u=!1;if((!o||o.dirty>=1)&&(u=!0,s.clear()),o&&Qt.check("scene:dirtyTree")){const{dirtyTree:f,paths:g}=fY(o);Qt.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:f,paths:g})}if(o&&u){if(o.visible&&o.preRender(),this.debug.check()){const f=ow(o,"console");this.debug("Scene.render() - before",{redrawType:$u[o.dirty],canvasCleared:u,tree:f})}o.visible&&(a.save(),o.render(c),a.restore())}if(t[""]=performance.now()-l,this.layersManager.size&&u){const f=performance.now();a.save(),a.resetTransform(),this.layersManager.forEach(g=>{g.canvas.enabled&&g.getVisibility()&&(a.globalAlpha=g.getComputedOpacity(),g.canvas.drawImage(a))}),a.restore(),t[""]=performance.now()-f}(h=a.verifyDepthZero)==null||h.call(a),this.isDirty=!1,Z_(this.layersManager,t,a,c.stats,i,n),H0e(a,c.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:$u[o.dirty],tree:ow(o,"console"),canvasCleared:u})}toSVG(){var i;const e=(i=this.root)==null?void 0:i.toSVG();if(e==null)return;const t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.setAttribute("width",String(this.width)),t.setAttribute("height",String(this.height)),e.defs!=null){const n=document.createElementNS("http://www.w3.org/2000/svg","defs");n.append(...e.defs),t.append(n)}return t.append(...e.elements),t.outerHTML}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};rE.className="Scene";var q0e=class{constructor(){this.cache=new WeakMap}call(e,...t){let i,n=this.cache.get(e);try{i=JSON.stringify(t)}catch{return this.invoke(e,t,n)}return n==null&&(n=new Map,this.cache.set(e,n)),n.has(i)?n.get(i):this.invoke(e,t,n,i)}invoke(e,t,i,n){try{const s=e(...t);return i&&n!=null&&i.set(n,s),s}catch(s){Ie.warnOnce("User callback errored, ignoring",s);return}}invalidateCache(){this.cache=new WeakMap}},X0e=class extends Tl{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return fi(e)}restoreMemento(e,t,i){this.annotations=this.cleanData(i).map(n=>{const s=this.getAnnotationTypeStyles(n.type);return ft(n,s)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return(t=this.annotationRoot)==null||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return(t=this.styles)==null?void 0:t[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},Q0e=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new dl({name:"Axes-Grids",zIndex:1}),this.axisGroup=new dl({name:"Axes",zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(e,t){var i;for(const n of e)t.includes(n)||(n.detachAxis(this.axisGroup,this.axisGridGroup),n.destroy());for(const n of t)e!=null&&e.includes(n)||n.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const n of t){const s=n.createAxisContext();this.axes.has(s.direction)?(i=this.axes.get(s.direction))==null||i.push(s):this.axes.set(s.direction,[s])}}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},bN=class extends mp{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=Qt.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return T_(t=>this.fetch(t),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return T_((t,i)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:i})},e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(a){this.debug(`DataService - request failed | ${i}`),Ie.errorOnce(`DataService - request failed | [${a}]`)}this.isLoadingInitialData=!1;const s=this.freshRequests.findIndex(a=>a===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")}};j([Zs({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],bN.prototype,"dispatchThrottle",2);j([Zs({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],bN.prototype,"requestThrottle",2);var Q_=class{constructor(e){this.maxAnimationTime=e,this.debug=Qt.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(im.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(im[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var i;if(e.isComplete)return;if(im.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(i=this.phases.get(e.phase))==null||i.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=t==null?void 0:t.indexOf(e);i!=null&&i>=0&&(t==null||t.splice(i,1))}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const i=()=>{const c=im[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:eb[c]}};let{phase:n,phaseControllers:s,phaseMeta:a}=i();const o=()=>im[this.currentPhase]==null,r=()=>{for({phase:n,phaseControllers:s,phaseMeta:a}=i();!o()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:a}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:t},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${n} with ${s==null?void 0:s.length} of ${l}`);do{const c=t,u=a.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let h=0;for(const f of s)u?f.stop():t=Math.min(f.update(c),t),f.isComplete&&(h++,this.removeAnimation(f));this.animationTimeConsumed+=c-t,this.debug(`AnimationBatch - updated ${s.length} controllers; ${h} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),r()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&eb[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}pause(){for(const e of this.controllers.values())e.pause()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){Ie.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function Hb(e){const t={...e,preventDefault(){var i;(i=t.sourceEvent)==null||i.preventDefault()}};return t}function mY(e,t){e.dispatchWrapHandlers(t.type,(i,n)=>i(n),Hb(t))}var lE=["drag-start","drag","drag-end"],cE=[...lE,"click","dblclick","contextmenu","hover","leave","enter","page-left","wheel"],J0e=["blur","focus"],e1e=["keydown","keyup"],vA=["mousemove","mouseup"],J_=["pagehide","mousemove","mouseup"],eF=["dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"];function t1e(e){return cE.includes(e)}function i1e(e){return J0e.includes(e)}function n1e(e){return e1e.includes(e)}var gY=class eD extends qH{constructor(t,i){super(),this.keyboardOptions=t,this.domManager=i,this.debug=Qt.create(!0,"interaction"),this.eventHandler=n=>this.processEvent(n),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=34,this.rootElement=this.domManager.getShadowDocumentRoot();for(const n of eF)n.startsWith("touch")||n==="wheel"?this.domManager.addEventListener(n,this.eventHandler,{passive:!1}):this.domManager.addEventListener(n,this.eventHandler);for(const n of J_)jn().addEventListener(n,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",()=>this.containerChanged())}containerChanged(t=!1){var n,s;const i=this.domManager.getShadowDocumentRoot();if(!(!t&&i===this.rootElement)){for(const a of vA)(n=this.rootElement)==null||n.removeEventListener(a,this.eventHandler);this.rootElement=i,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const a of vA)(s=this.rootElement)==null||s.addEventListener(a,this.eventHandler)}}destroy(){var t;super.destroy();for(const i of J_)jn().removeEventListener(i,this.eventHandler);for(const i of vA)(t=this.rootElement)==null||t.removeEventListener(i,this.eventHandler);for(const i of eF)this.domManager.removeEventListener(i,this.eventHandler);this.domManager.removeStyles("interactionManager")}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){this.debug("Received raw event",t);let i=this.decideInteractionEventTypes(t);i!=null&&!Array.isArray(i)&&(i=[i]);for(const n of i??[])this.dispatchEvent(t,n).catch(s=>Ie.errorOnce(s))}async dispatchEvent(t,i){if(t1e(i)){this.dispatchPointerEvent(t,i);return}const{relatedElement:n,targetElement:s}=this.extractElements(t);if(i1e(i)){const a=t;this.dispatchTypedEvent(this.listeners,{type:i,sourceEvent:a,relatedElement:n,targetElement:s})}else if(n1e(i)){const a=t;this.dispatchTypedEvent(this.listeners,{type:i,sourceEvent:a,relatedElement:n,targetElement:s})}}dispatchTypedEvent(t,i){const n=Hb(i);this.debug("Dispatching typed event",n,this.getState()),t.dispatchWrapHandlers(i.type,(s,a)=>s(a),n)}extractElements(t){let i,n;return"relatedTarget"in t&&t.relatedTarget instanceof HTMLElement&&(i=t.relatedTarget),"target"in t&&t.target instanceof HTMLElement&&(n=t.target),{relatedElement:i,targetElement:n}}dispatchPointerEvent(t,i){const n=this.calculateCoordinates(t);if(n==null)return;const s=this.buildPointerEvent({type:i,event:t,...n});this.debug("Dispatching pointer event",s,this.getState()),mY(this.listeners,s)}getEventHTMLTarget(t){if(t.target instanceof HTMLElement)return t.target;if(t.currentTarget instanceof HTMLElement)return t.currentTarget}recordDown(t){t instanceof MouseEvent&&(zh(["offsetX","offsetY"],this.clickHistory[0],t),zh(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),zh(["offsetX","offsetY"],this.dblclickHistory[0],t)),this.dragPreStartElement=this.getEventHTMLTarget(t)}recordUp(t){return t instanceof MouseEvent&&zh(["offsetX","offsetY"],this.dblclickHistory[1],t),this.dragPreStartElement=void 0,this.dragStartElement?(this.dragStartElement=void 0,!0):!1}decideInteractionEventTypes(t){const i="drag-start";switch(t.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?t.type:void 0;case"dblclick":return t.type;case"contextmenu":case"wheel":return t.type;case"mousedown":if(!this.isEventOverElement(t))return;this.mouseDown=!0,this.recordDown(t);return;case"touchstart":if(!this.isEventOverElement(t))return;this.touchDown=!0,this.recordDown(t);return;case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?void 0:!this.mouseDown&&!this.touchDown?"hover":this.dragStartElement?"drag":(this.dragStartElement=this.dragPreStartElement,this.dragPreStartElement=void 0,[i,"drag"]);case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?void 0:(this.mouseDown=!1,this.recordUp(t)?"drag-end":"click");case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?void 0:(this.touchDown=!1,this.recordUp(t)?"drag-end":"click");case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(t){return this.domManager.isEventOverElement(t)}calculateCoordinates(t){if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const i=t.touches[0]??t.changedTouches[0],{clientX:n,clientY:s,pageX:a,pageY:o}=i;return{...eD.NULL_COORDS,clientX:n,clientY:s,pageX:a,pageY:o}}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:eD.NULL_COORDS}getMouseEventCoords(t){const{clientX:i,clientY:n,pageX:s,pageY:a}=t;let{offsetX:o,offsetY:r}=t;const l=this.getEventHTMLTarget(t),{x:c=0,y:u=0}=l?this.domManager.calculateCanvasPosition(l):{};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){const h=this.domManager.calculateCanvasPosition(this.dragStartElement);o-=h.x-c,r-=h.y-u}else o+=c,r+=u;return{clientX:i,clientY:n,pageX:s,pageY:a,offsetX:o,offsetY:r}}isWheelEvent(t){return t.type==="wheel"}buildPointerEvent(t){var v;const{type:i,event:n,clientX:s,clientY:a}=t;let{offsetX:o,offsetY:r,pageX:l,pageY:c}=t;if(!yt(o)||!yt(r)){const S=this.domManager.getBoundingClientRect();o=s-S.left,r=a-S.top}if(!yt(l)||!yt(c)){const S=(v=this.rootElement)==null?void 0:v.getBoundingClientRect();l=s-((S==null?void 0:S.left)??0),c=a-((S==null?void 0:S.top)??0)}let[u,h]=[NaN,NaN];if(this.isWheelEvent(n)){const S=n.deltaMode===0?.01:1;u=n.deltaX*S,h=n.deltaY*S}let f=[];n.type==="click"?f=this.clickHistory:n.type==="dblclick"&&(f=this.dblclickHistory);const{relatedElement:g,targetElement:x}=this.extractElements(n),y="button"in n?Number(n.button):0,b={type:i,offsetX:o,offsetY:r,pageX:l,pageY:c,deltaX:u,deltaY:h,button:y,pointerHistory:f,sourceEvent:n,relatedElement:g,targetElement:x};return this.debug("InteractionManager - builtEvent: ",b,this.getState()),b}};gY.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var yY=gY;function tF(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var xY=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new Q_(this.defaultDuration*1.5),this.debug=Qt.create(!0,"animation"),this.events=new KH,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(r){this.failsafeOnError(r);return}let{id:i}=e;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||e.phase==="none";n&&this.debug("AnimationManager - skipping animation");const{delay:s,duration:a}=e;if(!tF(s))throw new Error(`Animation delay of ${s} is unsupported (${i})`);if(!tF(a))throw new Error(`Animation duration of ${a} is unsupported (${i})`);const o=new PW({...e,id:i,skip:n,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=jn().requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async i=>{const n=async()=>{const s=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(a){this.failsafeOnError(a)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){Ie.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new Q_(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},bY=class extends Tl{legendItemClick(e,t,i,n){const s={type:"legend-item-click",series:e,itemId:t,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",s)}legendItemDoubleClick(e,t,i,n,s){const a={type:"legend-item-double-click",series:e,itemId:t,enabled:i,legendItemName:s,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",a)}axisHover(e,t){const i={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",i)}},vY=class wY{constructor(t){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new mp;const{Default:i,ContextMenu:n}=xN;this.destroyFns=[t.listenAll("contextmenu",s=>this.onContextMenu(s),i|n)]}destroy(){this.destroyFns.forEach(t=>t())}onContextMenu(t){wY.toContextType(t.region)==="all"&&this.dispatchContext("all",t,{})}static toContextType(t){return t==="legend"||t==="series"?t:"all"}static check(t,i){return i.type===t}static checkCallback(t,i,n){return t===i}dispatchContext(t,i,n,s){const{sourceEvent:a}=i,o=(s==null?void 0:s.x)??i.offsetX,r=(s==null?void 0:s.y)??i.offsetY;a.stopPropagation(),this.listeners.dispatch("",Hb({type:t,x:o,y:r,context:n,sourceEvent:a}))}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter(i=>i.id&&!this.hiddenActions.has(i.id)&&["all",t].includes(i.type))}registerDefaultAction(t){const i=t.id!=null&&!this.defaultActions.some(({id:n})=>n===t.id);return i&&this.defaultActions.push(t),()=>{const n=i?this.defaultActions.findIndex(({id:s})=>s===t.id):-1;n!==-1&&this.defaultActions.splice(n,1)}}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}showAction(t){this.hiddenActions.add(t)}hideAction(t){this.hiddenActions.delete(t)}isDisabled(t){return this.disabledActions.has(t)}},Fm=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},SY=(e=>(e.Auto="auto",e.Default="default",e.Grab="grab",e.Grabbing="grabbing",e.Move="move",e.NotAllowed="not-allowed",e.Pointer="pointer",e.EWResize="ew-resize",e.NSResize="ns-resize",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out",e))(SY||{}),NY=class{constructor(e){this.domManager=e,this.stateTracker=new Fm("default")}updateCursor(e,t){this.stateTracker.set(e,t),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function s1e(e,t){const i=e.screenX-t.screenX,n=e.screenY-t.screenY;return i*i+n*n}function iF(e,t){return Math.sqrt(s1e(e,t))}var a1e=1,MY=class extends Tl{constructor(e){super(),this.domManager=e,this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){const{touches:t}=e,{finger1:i,finger2:n}=this.pinch;if(this.pinch.status!==0&&t.length===2){if(t[0].identifier===i.identifier&&t[1].identifier===n.identifier)return[t[0],t[1]];if(t[0].identifier===n.identifier&&t[1].identifier===i.identifier)return[t[1],t[0]]}}copyTouchData(e){const t=["identifier","screenX","screenY"];zh(t,this.pinch.finger1,e.touches[0]),zh(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=iF(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t,i){const{finger1:n,finger2:s,origin:a}=this.pinch;this.listeners.dispatch(e,Hb({sourceEvent:i,type:e,finger1:n,finger2:s,deltaDistance:t,origin:a}))}onTouchStart(e){this.stopPinchTracking(e);const{pinch:t}=this;e.touches.length===2&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){const t=this.findPinchTouches(e);if(t!==void 0){const[i,n]=t,{pinch:s}=this,a=iF(i,n),o=a-s.distance;s.status===1?Math.abs(o)>a1e&&(s.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0,e)):s.status===2?(s.distance=a,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",o,e)):Ie.error(`unexpected pinch.status: ${s.status}`)}}onTouchEnd(e){this.stopPinchTracking(e)}onTouchCancel(e){this.stopPinchTracking(e)}stopPinchTracking(e){const{pinch:t}=this;t.status===2&&this.dispatchPinchEvent("pinch-end",0,e),this.pinch.status=0}},IY=class extends Tl{constructor(){super(...arguments),this.highlightStates=new Fm}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||e!=null&&t!=null&&(e==null?void 0:e.series)===(t==null?void 0:t.series)&&(e==null?void 0:e.itemId)===(t==null?void 0:t.itemId)&&(e==null?void 0:e.datum)===(t==null?void 0:t.datum)}},TY=class extends qH{constructor(e,t,i){super(),this.focusIndicator=e,this.interactionManager=t,this.previousInputDevice="keyboard";const n=41;this.destroyFns.push(t.addListener("click",()=>this.onClick(),n),t.addListener("hover",()=>this.onMouse(),n),t.addListener("drag-start",()=>this.onMouse(),n),t.addListener("blur",s=>this.onBlur(s),63),t.addListener("focus",s=>this.onFocus(s),63),t.addListener("keydown",s=>this.onKeyDown(s),63)),this.focusIndicator.overrideFocusVisible(i==="integrated"?!1:void 0)}getState(){return this.interactionManager.getState()}destroy(){super.destroy()}onClick(){this.focusIndicator.overrideFocusVisible(!1),this.previousInputDevice="mouse"}onMouse(){this.previousInputDevice="mouse"}onBlur(e){this.focusIndicator.overrideFocusVisible(void 0),this.dispatch("blur",0,e)}onFocus(e){this.dispatch("focus",0,e)}onKeyDown(e){const t=this.getState(),{key:i,code:n,altKey:s,shiftKey:a,metaKey:o,ctrlKey:r}=e.sourceEvent;if(r||o){if(i==="y"||i==="z"&&a)return this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),this.dispatch("redo",0,e);if(i==="z")return this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),this.dispatch("undo",0,e)}if(t&9){this.focusIndicator.overrideFocusVisible(!1);return}switch(i){case"+":return this.dispatch("nav-zoom",1,e);case"-":return this.dispatch("nav-zoom",-1,e)}if(!(s||a||o||r))switch(this.focusIndicator.overrideFocusVisible(!0),n){case"ArrowDown":return this.dispatch("nav-vert",1,e);case"ArrowUp":return this.dispatch("nav-vert",-1,e);case"ArrowLeft":return this.dispatch("nav-hori",-1,e);case"ArrowRight":return this.dispatch("nav-hori",1,e);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,e);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,e);case"Space":case"Enter":return this.dispatch("submit",0,e)}}dispatch(e,t,i){const{previousInputDevice:n}=this;mY(this.listeners,{type:e,delta:t,sourceEvent:i,previousInputDevice:n});const s=["redo","undo","nav-zoom"];i.type==="keydown"&&!s.includes(e)&&(this.previousInputDevice="keyboard")}},AY=(e=>(e.NAVIGATOR="navigator",e.ROOT="root",e.SERIES="series",e.HORIZONTAL_AXES="horizontal-axes",e.VERTICAL_AXES="vertical-axes",e))(AY||{}),Lx=class{constructor(e,t){this.node=e,this.overrideId=t}get id(){return this.overrideId??this.node.id}get visible(){return this.node.visible}toCanvasBBox(){return Ii.toCanvas(this.node)}fromCanvasPoint(e,t){return Ii.fromCanvasPoint(this.node,e,t)}},kY=class extends Lx{constructor(e,t,i){super(e,i),this.bboxFn=t}toCanvasBBox(){return this.bboxFn()}},nF=class extends mp{};function sF(e,t,i,n,s=32){return(e==null?void 0:e.addListener(i,a=>{t.getState()&s&&n(a)}))??(()=>{})}function aF(e){return e instanceof ld?new Lx(e):e instanceof Lx?e:new Lx(e.node,e.id)}function o1e(e){if(e==null||!(e instanceof HTMLElement))return;let t=e;for(;t!=null&&!(t!=null&&t.classList.contains("ag-charts-wrapper"));){if(t.classList.contains("ag-chart-tooltip"))return t;t=t.parentElement}}function r1e(e){const{type:t,sourceEvent:i}=e,{id:n,className:s,classList:a,ariaHidden:o}=(i==null?void 0:i.target)??{};if(!(a instanceof DOMTokenList))return"leave";const r=lE;return a.contains("ag-charts-annotations__axis-button-icon")&&!r.includes(t)||s==="ag-charts-series-area"||s==="ag-charts-canvas-proxy"||s==="ag-charts-proxy-elem"&&!(n!=null&&n.toString().startsWith("ag-charts-legend-item-"))||(i==null?void 0:i.target)instanceof HTMLCanvasElement?"none":o1e(i.target)&&o!=="true"?"wait":"leave"}var CY=class{constructor(e){this.interactionManager=e,this.debug=Qt.create(!0,"region"),this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new nF,this.destroyFns.push(...cE.map(t=>e.addListener(t,this.processPointerEvent.bind(this),63)))}destroy(){this.destroyFns.forEach(e=>e()),this.current=void 0;for(const e of this.regions.values())e.listeners.destroy();this.regions.clear()}addRegion(e,...t){if(this.regions.has(e))throw new Error(`AG Charts - Region: ${e} already exists`);const i={properties:{name:e,bboxproviders:t.map(aF)},listeners:new nF};return this.regions.set(e,i),this.makeObserver(i)}updateRegion(e,...t){const i=this.regions.get(e);if(i)i.properties.bboxproviders=t.map(aF);else throw new Error("AG Charts - unknown region: "+e)}getRegion(e){return this.makeObserver(this.regions.get(e))}listenAll(e,t,i=32){return sF(this.allRegionsListeners,this.interactionManager,e,t,i)}makeObserver(e){const{interactionManager:t}=this;class i{addListener(s,a,o=32){return sF(e==null?void 0:e.listeners,t,s,a,o)}}return new i}checkPointerHistory(e,t){for(const i of t.pointerHistory){const{region:n}=this.pickRegion(i.offsetX,i.offsetY)??{};if(e.properties.name!==(n==null?void 0:n.properties.name))return!1}return!0}dispatch(e,t){var o;if(e==null)return;const i=e.region.properties.bboxproviders[0];let n=0,s=0;if("offsetX"in t&&"offsetY"in t)({x:n,y:s}=i.fromCanvasPoint(t.offsetX,t.offsetY));else{const r=i.toCanvasBBox();n=r.width/2,s=r.height/2}const a=Hb({...t,region:e.region.properties.name,bboxProviderId:(o=e.bboxProvider)==null?void 0:o.id,regionOffsetX:n,regionOffsetY:s});this.debug("Dispatching region event: ",a),this.allRegionsListeners.dispatch(a.type,a),e.region.listeners.dispatch(a.type,a)}handleDragging(e){const{current:t}=this;switch(e.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(t,e),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(t,e),this.leftCanvas&&this.dispatch(t,{...e,type:"leave"}),!0;break}return!1}processPointerEvent(e){if(this.handleDragging(e))return;const{current:t}=this,i=r1e(e);let n;switch(i){case"wait":return;case"none":n=this.pickRegion(e.offsetX,e.offsetY);break;case"leave":n=void 0;break}const s=n==null?void 0:n.region;t!==void 0&&(s==null?void 0:s.properties.name)!==t.region.properties.name&&this.dispatch(t,{...e,type:"leave"}),s!==void 0&&s.properties.name!==(t==null?void 0:t.region.properties.name)&&this.dispatch(n,{...e,type:"enter"}),s!==void 0&&this.checkPointerHistory(s,e)&&this.dispatch(n,e),this.current=n}pickRegion(e,t){let i=1/0,n,s;for(const a of this.regions.values())for(const o of a.properties.bboxproviders){if(o.visible===!1)continue;const r=o.toCanvasBBox(),l=r.width*r.height;l<i&&r.containsPoint(e,t)&&(i=l,n=a,s=o)}return n?{region:n,bboxProvider:s}:void 0}},uE=["start","center","end"],rw=["seriesType","annotations","annotationOptions","ranges","zoom"],tD={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},vm=(e=>(e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e.Floating="floating",e.FloatingTop="floating-top",e.FloatingBottom="floating-bottom",e))(vm||{}),_h=Object.values(vm);function iD(e){return["floating-top","floating-bottom"].includes(e)}var DY=class extends Tl{static isGroup(t,i){return i.group===t}static isChildElement(t,i){for(const n of _h)if(t.isManagedChildDOMElement(i,"canvas-overlay",`toolbar-${n}`))return!0;return!1}pressButton(t,i,n,s,a){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:t,id:i,value:n,rect:s,sourceEvent:a})}cancel(t){this.listeners.dispatch("cancelled",{type:"cancelled",group:t})}toggleButton(t,i,n){const{active:s=!1,enabled:a=!0,visible:o=!0,checked:r=!1}=n;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:t,id:i,active:s,enabled:a,visible:o,checked:r})}updateButton(t,i,n){this.listeners.dispatch("button-updated",{type:"button-updated",group:t,id:i,...n})}toggleGroup(t,i,n){const{active:s,visible:a}=n;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:t,group:i,active:s,visible:a})}updateGroup(t){this.listeners.dispatch("group-updated",{type:"group-updated",group:t})}groupMoved(t){this.listeners.dispatch("group-moved",{type:"group-moved",group:t})}changeFloatingAnchor(t,i){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:t,anchor:i})}buttonMoved(t,i,n,s){this.listeners.dispatch("button-moved",{type:"button-moved",group:t,value:i,rect:n,groupRect:s})}proxyGroupOptions(t,i,n){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:t,group:i,options:n})}},eS=class{constructor(t,i){this.domManager=t,this.tooltip=i,this.stateTracker=new Fm,this.suppressState=new Fm(!1),this.appliedState=null,i.setup(t),t.addListener("hidden",()=>this.tooltip.toggle(!1))}updateTooltip(t,i,n){var s;this.tooltip.enabled&&(n??(n=(s=this.stateTracker.get(t))==null?void 0:s.content),this.stateTracker.set(t,{content:n,meta:i}),this.applyStates())}removeTooltip(t){this.tooltip.enabled&&(this.stateTracker.delete(t),this.applyStates())}suppressTooltip(t){this.suppressState.set(t,!0)}unsuppressTooltip(t){this.suppressState.delete(t)}getTooltipMeta(t){var i;return(i=this.stateTracker.get(t))==null?void 0:i.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var a;const t=this.stateTracker.stateId(),i=t?this.stateTracker.get(t):null;if(this.suppressState.stateValue()||(i==null?void 0:i.meta)==null||(i==null?void 0:i.content)==null){this.appliedState=null,this.tooltip.toggle(!1);return}const n=this.domManager.getBoundingClientRect(),s=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():n;if(((a=this.appliedState)==null?void 0:a.content)===(i==null?void 0:i.content)){const o=this.tooltip.isVisible();this.tooltip.show(s,n,i==null?void 0:i.meta,null,o)}else this.tooltip.show(s,n,i==null?void 0:i.meta,i==null?void 0:i.content);this.appliedState=i}static makeTooltipMeta(t,i){var l,c,u,h;const{offsetX:n,offsetY:s}=t,a=i.series.properties.tooltip,o={offsetX:n,offsetY:s,enableInteraction:((l=a.interaction)==null?void 0:l.enabled)??!1,lastPointerEvent:{type:t.type,offsetX:n,offsetY:s},showArrow:a.showArrow,position:{type:a.position.type,xOffset:a.position.xOffset,yOffset:a.position.yOffset}},r=((c=i.yBar)==null?void 0:c.upperPoint)??i.midPoint??((h=(u=i.series).datumMidPoint)==null?void 0:h.call(u,i));if((a.position.type==="node"||a.position.type==="sparkline")&&r){const{x:f,y:g}=r,x=Ii.toCanvasPoint(i.series.contentGroup,f,g);return{...o,offsetX:Math.round(x.x),offsetY:Math.round(x.y)}}return o}},LY=class extends Tl{constructor(){super(...arguments),this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Fm(void 0,"initial"),this.rejectCallbacks=new Map}addLayoutListeners(e){this.destroyFns.push(e.addListener("layout:complete",t=>{this.axes=t.axes}))}createMemento(){const e=this.getDefinedZoom();return{rangeX:this.getRangeDirection(e,"x"),rangeY:this.getRangeDirection(e,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max}}}guardMemento(e){return Ys(e)&&(e.ratioX!=null||e.ratioY!=null||e.rangeX!=null||e.rangeY!=null)}restoreMemento(e,t,i){this.listeners.dispatch("restore-zoom",{...i,type:"restore-zoom"})}updateAxes(e){const t=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new l1e(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(e,t,i=!0,n){var s;if(n&&this.rejectCallbacks.set(e,n),this.axisZoomManagers.size===0){const a=this.state.stateId();a==="initial"||a===e||i?(this.state.set(e,t),a!==e&&((s=this.rejectCallbacks.get(a))==null||s(e))):n==null||n(a);return}this.state.set(e,t),this.axisZoomManagers.forEach(a=>{a.updateZoom(e,t==null?void 0:t[a.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,i){var n;(n=this.axisZoomManagers.get(t))==null||n.updateZoom(e,i),this.applyChanges(e)}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?e??(e=i.getZoom()):i.getDirection()==="y"&&(t??(t=i.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return((t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}applyChanges(e){if(!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).some(Boolean))return;const i={};for(const[n,s]of this.axisZoomManagers.entries())i[n]=s.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:e})}getRangeDirection(e,t){var i,n,s,a,o,r,l,c,u,h,f,g,x,y;for(const b of this.axes??[]){if(b.direction!==t)continue;const v=(n=(i=b.scale).getDomain)==null?void 0:n.call(i),S=(a=(s=b.scale).convert)==null?void 0:a.call(s,v==null?void 0:v.at(0)),N=(r=(o=b.scale).convert)==null?void 0:r.call(o,v==null?void 0:v.at(-1));if(!yt(S)||!yt(N))return;let M,I;if(S<=N){const C=N-S;M=(c=(l=b.scale).invert)==null?void 0:c.call(l,0),I=(h=(u=b.scale).invert)==null?void 0:h.call(u,S+C*e[t].max)}else{const C=S-N;M=(g=(f=b.scale).invert)==null?void 0:g.call(f,S-C*e[t].min),I=(y=(x=b.scale).invert)==null?void 0:y.call(x,0)}return{start:M,end:I}}}getDefinedZoom(){var t,i,n,s;const e=this.getZoom();return{x:{min:((t=e==null?void 0:e.x)==null?void 0:t.min)??0,max:((i=e==null?void 0:e.x)==null?void 0:i.max)??1},y:{min:((n=e==null?void 0:e.y)==null?void 0:n.min)??0,max:((s=e==null?void 0:e.y)==null?void 0:s.max)??1}}}},l1e=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new Fm({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return Dn(this.state.stateValue())}applyChanges(){const e=this.currentZoom;return this.currentZoom=this.state.stateValue(),e.min!==this.currentZoom.min||e.max!==this.currentZoom.max}},c1e=class{constructor(){this.groups={}}registerSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){var s;t&&((s=this.groups)[n]??(s[n]={}),this.groups[n][e]={grouping:t,visible:i})}updateSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){var a;if(!t)return;const s=(a=this.groups[n])==null?void 0:a[e];s&&(s.grouping=t,s.visible=i)}deregisterSeries({internalId:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:i}){if(!t)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const n=new Set,s=new Set;for(const o of Object.values(this.groups[e]??{}))o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&s.add(o.grouping.stackIndex));const a=Array.from(n);return a.sort((o,r)=>o-r),{visibleGroupCount:a.length,visibleSameStackCount:s.size,index:a.indexOf(t.groupIndex)}}},Ex=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(Ex||{}),EY=class extends mp{constructor(e){super(),this.updateCallback=e}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:e==null?void 0:e.minRect,minVisibleRect:e==null?void 0:e.minVisibleRect})}dispatchPreDomUpdate(){this.dispatch("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(e){this.dispatch("pre-scene-render",{type:"pre-scene-render",...e})}},u1e=class{constructor(e,t){this.callbackCache=new q0e,this.chartEventManager=new bY,this.highlightManager=new IY,this.layoutManager=new ZH,this.localeManager=new V0e,this.seriesStateManager=new c1e,this.stateManager=new b0e,this.toolbarManager=new DY,this.zoomManager=new LY;const{scene:i,root:n,syncManager:s,container:a,updateCallback:o,updateMutex:r,pixelRatio:l,styleContainer:c}=t;this.chartService=e,this.syncManager=s,this.domManager=new oY(a,c);const u=this.domManager.addChild("canvas","scene-canvas",i==null?void 0:i.canvas.element);this.scene=i??new rE({pixelRatio:l,canvasElement:u}),this.scene.setRoot(n),this.axisManager=new Q0e(n),this.annotationManager=new X0e(e.annotationRoot),this.cursorManager=new NY(this.domManager),this.interactionManager=new yY(e.keyboard,this.domManager),this.focusIndicator=new R0e(this.domManager),this.keyNavManager=new TY(this.focusIndicator,this.interactionManager,e.mode),this.regionManager=new CY(this.interactionManager),this.contextMenuRegistry=new vY(this.regionManager),this.gestureDetector=new MY(this.domManager),this.updateService=new EY(o),this.proxyInteractionService=new _0e(this.localeManager,this.domManager),this.historyManager=new x0e(this.keyNavManager),this.animationManager=new xY(this.interactionManager,r),this.dataService=new bN(this.animationManager),this.tooltipManager=new eS(this.domManager,e.tooltip),this.zoomManager.addLayoutListeners(this.layoutManager)}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.contextMenuRegistry.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.interactionManager.destroy(),this.keyNavManager.destroy(),this.focusIndicator.destroy(),this.proxyInteractionService.destroy(),this.regionManager.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy()}},OY=class extends ht{constructor(){super(...arguments),this.range="tooltip"}};j([_(Ft(["tooltip","node"],"a range"))],OY.prototype,"range",2);var oF=class jY{constructor(){this.domain=new Set}static is(t){return t instanceof jY}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},sm=class RY{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof RY}static extendDomain(t,i=[1/0,-1/0]){for(const n of t)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}};function d1e(e){return e.map(t=>Ys(t)?JSON.stringify(t):t).join("-")}function h1e(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(e*1e4)/1e4}function va(e){if(e==null)return[];const[t,i]=e.map(Number);return t===0&&i===0?[0,1]:yt(t)&&yt(i)?[t,i]:[]}function dE(e,t){return(t==null?void 0:t.get(e.id))??0}var ch=Symbol("invalid");function PY(e){const t=[];let i=0,n;const s=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;n=s.exec(e);){if(n.index!==i)return;i=n.index+n[0].length;const a=n[1].trim();if(a.startsWith("."))t.push(a.slice(1).trim());else if(a.startsWith("[")){const o=a.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(/\\'/g,"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(/\\"/g,'"')):t.push(o)}else t.push(a)}if(i===e.length)return t}function p1e(e){return t=>{let i=t;for(const n of e)i=i[n];return i}}var zY=class{constructor(e,t="standalone"){this.opts=e,this.mode=t,this.debug=Qt.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(const s of e.props){if(s.type==="key"&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");s.type==="value"&&i&&(i=!1)}const n=({matchGroupIds:s=[]})=>{for(const a of s)if(this.values.every(o=>o.groupId!==a))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${a}).`)};for(const s of e.props)switch(s.type){case"key":this.keys.push({...s,index:this.keys.length,missing:new Map});break;case"value":if(s.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(s)}`);this.values.push({...s,index:this.values.length,missing:new Map});break;case"aggregate":n(s),this.aggregates.push({...s,index:this.aggregates.length});break;case"group-value-processor":n(s),this.groupProcessors.push({...s,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...s,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...s,index:this.reducers.length});break;case"processor":this.processors.push({...s,index:this.processors.length});break}}resolveProcessedDataDefById(e,t){var n;const i=(n=this.scopeCache.get(e.id))==null?void 0:n.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveProcessedDataDefsByIds(e,t){return t.map(i=>[i,this.resolveProcessedDataDefById(e,i)])}resolveProcessedDataDefsValues(e,{keys:t,values:i}){const n={};for(const[s,{index:a,def:o}]of e){const r=o.type==="key"?t:i;n[s]=r[a]}return n}getDomain(e,t,i="value",n){const s=this.getDomainsByType(i,n);return(s==null?void 0:s[this.resolveProcessedDataIndexById(e,t)])??[]}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e,t){var f;const{opts:{groupByKeys:i,groupByFn:n},aggregates:s,groupProcessors:a,reducers:o,processors:r,propertyProcessors:l}=this,c=performance.now();if(i&&this.keys.length===0)return;let u=this.extractData(e,t);if(i?u=this.groupData(u):n&&(u=this.groupData(u,n(u))),a.length>0&&this.postProcessGroups(u),s.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),o.length>0&&this.reduceData(u),r.length>0&&this.postProcessData(u),e.length>0){for(const g of Uu(this.keys,this.values))for(const[x,y]of g.missing)if(y>=e.length){const b=x==null?"":` for ${x}`;Ie.warnOnce(`the key '${g.property}' was not found in any data element${b}.`)}}const h=performance.now();u.time=h-c,this.debug.check()&&f1e(u),this.scopeCache.clear();for(const g of Uu(this.keys,this.values,this.aggregates))if(g.idsMap)for(const[x,y]of g.idsMap)for(const b of y)if(!this.scopeCache.has(x))this.scopeCache.set(x,new Map([[b,g]]));else{if((f=this.scopeCache.get(x))!=null&&f.has(b))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(x).set(b,g)}return u}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[i,n]of this.values.entries())(!e||n.groupId&&e.includes(n.groupId))&&t.push(i);return t}valueIdxLookup(e,t){const i=e==null||e.length===0,n=typeof t=="string"?t:t.id,s=o=>{if(o.idsMap){for(const[r,l]of o.idsMap)if(e!=null&&e.includes(r)&&l.has(n))return!0}return!1},a=this.values.findIndex(o=>(o.scopes==null||i&&!o.scopes.length||o.scopes.some(l=>e==null?void 0:e.includes(l)))&&(o.property===n||o.id===n||s(o)));if(a===-1)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return a}extractData(e,t){const{dataDomain:i,processValue:n,scopes:s,allScopesHaveSameDefs:a}=this.initDataDomainProcessor(),o=new Map(t==null?void 0:t.map(g=>[g.id,g])),{keys:r,values:l}=this,c=new Array(e.length);let u=0,h=0;for(const[g,x]of e.entries()){const y={},b=s.size>0?new Set(s):void 0,v=new Array(r.length);let S=0,N;for(const L of r){if(N=n(L,x,N),N===ch)break;v&&(v[S++]=N)}if(N===ch)continue;const M=l.length>0?new Array(l.length):void 0;let I;for(const[L,O]of l.entries()){for(const P of O.scopes??s){const z=o.get(P),V=(z==null?void 0:z.data[g])??x;if(I=n(O,V,I,P),!(I===ch||!M)){if(z!=null&&O.includeProperty!==!1){const G=O.includeProperty&&O.id!=null?O.id:O.property;y[P]??(y[P]={}),y[P][G]=I}M[L]=I}}if(I===ch){if(a)break;for(const P of O.scopes??s)b==null||b.delete(P);if((b==null?void 0:b.size)===0)break}}if(I===ch&&a||(b==null?void 0:b.size)===0)continue;const C={datum:{...x,...y},keys:v,values:M};!a&&b&&b.size<s.size&&(h++,C.validScopes=new Set(b)),c[u++]=C}c.length=u;const f=g=>{const x=i.get(g),y=x.getDomain();return sm.is(x)&&y[0]>y[1]?[]:y};return{type:"ungrouped",input:{count:e.length},data:c,domain:{keys:r.map(f),values:l.map(f)},defs:{allScopesHaveSameDefs:a,keys:r,values:l},partialValidDataCount:h,time:0}}groupData(e,t){const i=new Map;for(const o of e.data){const{keys:r,values:l,datum:c,validScopes:u}=o,h=(t==null?void 0:t(o))??r,f=d1e(h);if(i.has(f)){const g=i.get(f);if(g.values.push(l),g.datum.push(c),u!=null&&g.validScopes!=null)for(const x of g.validScopes)u.has(x)||g.validScopes.delete(x)}else i.set(f,{keys:h,values:[l],datum:[c],validScopes:u})}const n=new Array(i.size),s=new Array(i.size);let a=0;for(const{keys:o,values:r,datum:l,validScopes:c}of i.values())(c==null?void 0:c.size)!==0&&(s[a]=o,n[a++]={keys:o,values:r,datum:l,validScopes:c});return{...e,type:"grouped",data:n,domain:{...e.domain,groups:s}}}aggregateData(e){var i,n,s;const t=e.type==="ungrouped";e.domain.aggValues=[];for(const[a,o]of this.aggregates.entries()){const r=this.valueGroupIdxLookup(o),l=[1/0,-1/0];for(const c of e.data){if(c.aggValues??(c.aggValues=new Array(this.aggregates.length)),c.validScopes)continue;const u=t?[c.values]:c.values;let h=((i=o.groupAggregateFunction)==null?void 0:i.call(o))??[1/0,-1/0];for(const g of u){const x=r.map(b=>g[b]),y=o.aggregateFunction(x,c.keys);y&&(h=((n=o.groupAggregateFunction)==null?void 0:n.call(o,y,h))??sm.extendDomain(y,h))}const f=(((s=o.finalFunction)==null?void 0:s.call(o,h))??h).map(g=>h1e(g));c.aggValues[a]=f,sm.extendDomain(f,l)}e.domain.aggValues.push(l)}}postProcessGroups(e){var r;const{groupProcessors:t}=this,i=new Set,n=new Map,s=new Map,a=new Map;for(const l of t){const c=this.valueGroupIdxLookup(l);s.set(l,c),a.set(l,l.adjust());for(const u of c){const f=this.values[u].valueType==="category";i.add(u),n.set(u,f?new oF:new sm)}}const o=l=>{var c;for(const u of i)(c=n.get(u))==null||c.extend(l[u])};for(const l of e.data){for(const c of t){if(l.validScopes)continue;const u=s.get(c)??[],h=(r=a.get(c))==null?void 0:r();if(h)if(e.type==="grouped")for(const f of l.values)f&&h(f,u);else l.values&&h(l.values,u)}if(e.type==="grouped")for(const c of l.values)o(c);else o(l.values)}for(const[l,c]of n)e.domain.values[l]=c.getDomain()}postProcessProperties(e){for(const{adjust:t,property:i,scopes:n}of this.propertyProcessors)t()(e,this.valueIdxLookup(n,i))}reduceData(e){var t;e.reduced??(e.reduced={});for(const i of this.reducers){const n=i.reducer();let s=i.initialValue;for(const a of e.data)(!a.validScopes||(t=i.scopes)!=null&&t.some(o=>{var r;return(r=a.validScopes)==null?void 0:r.has(o)}))&&(s=n(s,a));e.reduced[i.property]=s}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e)}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const c of t)if(c.scopes)for(const u of c.scopes)i.add(u);const n=new Map,s=new Map;let a=!0;const o=()=>{for(const c of Uu(e,t))c.valueType==="category"?n.set(c,new oF):(n.set(c,new sm),a&&(a=(c.scopes??[]).length===i.size))};o();const r=this.buildAccessors(Uu(e,t));return{dataDomain:n,processValue:(c,u,h,f)=>{var b,v,S;let g,x;if(r.has(c.property)){try{x=r.get(c.property)(u)}catch{}g=x!=null}else g=c.property in u,x=g?u[c.property]:c.missingValue;c.forceValue!=null&&(x=g&&Lb(x)?-1*c.forceValue:c.forceValue,g=!0);const y="missingValue"in c;if(!g&&!y){const N=c.missing.get(f)??0;c.missing.set(f,N+1)}if(n.has(c)||o(),g&&((b=c.validation)==null?void 0:b.call(c,x,u))===!1)if("invalidValue"in c)x=c.invalidValue;else return this.mode!=="integrated"&&Ie.warnOnce(`invalid value of type [${typeof x}] for [${c.scopes} / ${c.id}] ignored:`,`[${x}]`),ch;return c.processor&&(s.has(c)||s.set(c,c.processor()),x=(v=s.get(c))==null?void 0:v(x,h===ch?void 0:h)),(S=n.get(c))==null||S.extend(x),x},initDataDomain:o,scopes:i,allScopesHaveSameDefs:a}}buildAccessors(e){const t=new Map;if(this.mode==="integrated")return t;for(const i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;const s=PY(i.property);if(s==null){Ie.warnOnce("Invalid property path [%s]",i.property);continue}const a=p1e(s);t.set(i.property,a)}return t}};function f1e(e){const t=(i,n)=>{n.length>0&&(Ie.log(`DataModel.processData() - ${i}`),Ie.table(n))};if(Ie.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[]),e.type==="grouped"){const i=e.data.reduce((n,s)=>{const a=s.keys??[],o=s.aggValues??[],r=s.keys.map(()=>{}),l=o==null?void 0:o.map(()=>{});return n.push(...s.values.map((c,u)=>[...u===0?a:r,...c??[],...u==0?o:l])),n},[]);t("Values",i)}else{const i=e.data.reduce((n,s)=>{const a=s.aggValues??[];return n.push([...s.keys,...s.values,...a]),n},[]);t("Values",i)}}var _Y=class sc{constructor(t){this.mode=t,this.debug=Qt.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,i,n){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,a)=>{this.requested.push({id:t,opts:n,data:i,resolve:s,reject:a})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);const i=this.mergeRequested(t);this.debug("DataController.execute() - merged",i),this.debug.check()&&(jn().processedData=[]);const n=this.requested.map(({id:a})=>a),s=this.hasMultipleDataSources(t);for(const{opts:a,data:o,resolves:r,rejects:l,ids:c}of i)try{const u=new zY(a,this.mode),h=u.processData(o,t);this.debug.check()&&jn("processedData").push(h),(h==null?void 0:h.partialValidDataCount)===0?r.forEach((f,g)=>f({dataModel:u,processedData:this.processScopedData(c[g],h,n,s)})):h?this.splitResult(u,h,c,r):l.forEach(f=>f(new Error("AG Charts - no processed data generated")))}catch(u){l.forEach(h=>h(u))}}hasMultipleDataSources(t){if(t.length){const[{data:i},...n]=t;return n.some(s=>i!==s.data)}return!1}processScopedData(t,i,n,s){const a=r=>{if(Array.isArray(r))return r.map(a);const l=s?{...r,...r[t]}:r;for(const c of n)delete l[c];return l},o=r=>Array.isArray(r)?r.map(o):(r==null?void 0:r[t])??r;return{...i,data:i.data.map(r=>{var l;return{...r,datum:a(r.datum),values:s?(l=r.values)==null?void 0:l.map(o):r.values}})}}validateRequests(t){const i=[];for(const[n,s]of t.entries())n>0&&s.data.length!==t[0].data.length&&s.opts.groupByData===!1?s.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(s);return i}mergeRequested(t){const i=[];for(const n of t){const s=i.find(sc.groupMatch(n));s?s.push(n):i.push([n])}return i.map(sc.mergeRequests)}splitResult(t,i,n,s){for(let a=0;a<n.length;a++){const o=n[a],r=s[a];r({dataModel:t,processedData:{...i,data:i.data.filter(({validScopes:l})=>(l==null?void 0:l.has(o))??!0)}})}}static groupMatch({data:t,opts:i}){function n(s){return s.filter(a=>a.type==="key").map(a=>a.property).join(";")}return([s])=>(i.groupByData===!1||s.data===t)&&s.opts.groupByKeys===i.groupByKeys&&s.opts.groupByFn===i.groupByFn&&n(s.opts.props)===n(i.props)}static mergeRequests(t){return t.reduce((i,{id:n,data:s,resolve:a,reject:o,opts:{props:r,...l}})=>{var c;i.ids.push(n),i.rejects.push(o),i.resolves.push(a),i.data??(i.data=s),i.opts??(i.opts={...l,props:[]});for(const u of r){const h={...u,scopes:[n]};sc.createIdsMap(n,h);const f=i.opts.props.find(g=>g.type===h.type&&sc.deepEqual(g,h));if(!f){i.opts.props.push(h);continue}f.scopes??(f.scopes=[]),f.scopes.push(...h.scopes??[]),(f.type==="key"||f.type==="value")&&((c=h.idsMap)!=null&&c.size)&&sc.mergeIdsMap(h.idsMap,f.idsMap)}return i},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,i){for(const[n,s]of t){const a=i.get(n);if(a!=null)for(const o of s)a.add(o);else i.set(n,new Set(s))}}static createIdsMap(t,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(t)?i.idsMap.get(t).add(i.id):i.idsMap.set(t,new Set([i.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){if(t.constructor!==i.constructor)return!1;let n,s;if(Array.isArray(t)){if(s=t.length,s!==i.length)return!1;for(n=s-1;n>=0;n--)if(!sc.deepEqual(t[n],i[n]))return!1;return!0}const a=Object.keys(t);if(s=a.length,s!==Object.keys(i).length)return!1;for(n=s-1;n>=0;n--){const o=a[n];if(!sc.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!sc.deepEqual(t[o],i[o])))return!1}return!0}return!1}};_Y.skipKeys=new Set(["id","idsMap","type","scopes"]);var FY=_Y,m1e=class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate),t.hidden&&this.hidden.add(e)}create(e,t){const i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(e=>!this.hidden.has(e))}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},bc=new m1e,ng=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function g1e(e){return ng.some(t=>t.type==="series"&&t.identifier===e)}function gp(e){var t;return(t=ng.find(i=>i.type==="series"&&i.identifier===e))==null?void 0:t.chartTypes}function y1e(e){var i;return((i=gp(e))==null?void 0:i.find(n=>n==="cartesian"))==="cartesian"}function x1e(e){var i;return((i=gp(e))==null?void 0:i.find(n=>n==="polar"))==="polar"}function b1e(e){var i;return((i=gp(e))==null?void 0:i.find(n=>n==="hierarchy"))==="hierarchy"}function v1e(e){var i;return((i=gp(e))==null?void 0:i.find(n=>n==="topology"))==="topology"}function w1e(e){var i;return((i=gp(e))==null?void 0:i.find(n=>n==="flow-proportion"))==="flow-proportion"}function S1e(e){var i;return((i=gp(e))==null?void 0:i.find(n=>n==="standalone"))==="standalone"}function N1e(e){var i;return((i=gp(e))==null?void 0:i.find(n=>n==="gauge"))==="gauge"}function M1e(e){return e.packageType==="enterprise"}function I1e(e){if(!M1e(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=ng.find(i=>i.type===e.type&&i.optionsKey===e.optionsKey&&i.identifier===e.identifier&&e.chartTypes.every(n=>i.chartTypes.includes(n)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function T1e(){return ng.filter(({useCount:e})=>e==null||e===0)}var A1e=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:i,themeTemplate:n}){this.legendMap.set(e,{optionsKey:t,moduleFactory:i}),this.themeTemplates.set(t,n)}create(e,t){var n;const i=(n=this.legendMap.get(e))==null?void 0:n.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,i])=>(e[t]=i.optionsKey,e),{})}},hE=new A1e,BY=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}isStandalone(e){return this.get(e)==="standalone"}isGauge(e){return this.get(e)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}get gaugeTypes(){return this.seriesTypes.filter(e=>this.isGauge(e))}},k1e=class extends Map{set(e,t){return super.set(e,ft(t,this.get(e)))}},oi=new BY,VY=new BY,nD=new k1e,C1e=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:i,tooltipDefaults:n,defaultAxes:s,themeTemplate:a,paletteFactory:o,solo:r,stackable:l,groupable:c,stackedByDefault:u,hidden:h}){this.setThemeTemplate(e,a),this.seriesMap.set(e,{moduleFactory:i,tooltipDefaults:n,defaultAxes:s,paletteFactory:o,solo:r,stackable:l,groupable:c,stackedByDefault:u}),oi.set(e,t),h||VY.set(e,t)}create(e,t){var n;const i=(n=this.seriesMap.get(e))==null?void 0:n.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e,t){var s;const i=(s=this.seriesMap.get(e))==null?void 0:s.defaultAxes;if(i==null)return null;const n=typeof i=="function"?i(t):i;return{axes:Dn(n)}}setThemeTemplate(e,t){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,ft(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getPaletteFactory(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.paletteFactory}getTooltipDefauls(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.tooltipDefaults}isSolo(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.solo)??!1}isGroupable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.groupable)??!1}isStackable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackable)??!1}isStackedByDefault(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackedByDefault)??!1}},za=new C1e,pE=class Eh extends Tl{constructor(t){super(),this.chart=t}subscribe(t=Eh.DEFAULT_GROUP){let i=this.get(t);return i||(i=new Set,Eh.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(t=Eh.DEFAULT_GROUP){var i;return(i=this.get(t))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(t=Eh.DEFAULT_GROUP){const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(t=Eh.DEFAULT_GROUP){return this.getGroup(t).filter(i=>i!==this.chart)}get(t){return Eh.chartsGroups.get(t)}};pE.chartsGroups=new Map;pE.DEFAULT_GROUP=Symbol("sync-group-default");var D1e=pE,fE=class extends ht{constructor(){super(...arguments),this.enabled=!1}};j([_(Qe)],fE.prototype,"enabled",2);j([_(Kt)],fE.prototype,"tabIndex",2);var UY=["top","right","bottom","left"];function L1e(e){return typeof e=="string"&&UY.includes(e)}function E1e(e){const t=[],i=[],n=[...UY];for(const s of e)s instanceof ud&&(L1e(s.position)?i.push(s.position):t.push(s));for(const s of t){let a;do a=n.pop();while(a&&i.includes(a));if(a==null)break;s.position=a}}var O1e=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function j1e(e,t,i){var u,h;const n=(f,g,x)=>{const y=[f];for(const b of O1e)b in g&&g[b]!=null&&y.push(`${b}=${g[b]}`);return x!=null&&x.seriesGrouping&&y.push(`seriesGrouping.groupId=${x==null?void 0:x.seriesGrouping.groupId}`),y.join(";")},s=new Map;let a=0;for(const f of e){const g=n(f.type,f.properties,i==null?void 0:i[a]);s.has(g)||s.set(g,[]),(u=s.get(g))==null||u.push([f,a++])}const o=new Map;for(const f of t){const g=n(f.type,f,f);o.has(g)||o.set(g,[]),(h=o.get(g))==null||h.push(f)}if(![...s.keys()].some(f=>o.has(f)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:o.keys()};const l=[];let c=-1;for(const[f,g]of o.entries())for(const x of g){c++;const y=s.get(f);if(y==null||y.length<1){l.push({opts:x,idx:c,status:"add"}),s.delete(f);continue}const[b,v]=y.shift(),S=(i==null?void 0:i[v])??{},N=jo(S,x??{}),{groupIndex:M,stackIndex:I}=(N==null?void 0:N.seriesGrouping)??{};M!=null||I!=null?l.push({opts:x,series:b,diff:N,idx:v,status:"series-grouping"}):N?l.push({opts:x,series:b,diff:N,idx:v,status:"update"}):l.push({opts:x,series:b,idx:v,status:"no-op"}),y.length===0&&s.delete(f)}for(const f of s.values())for(const[g,x]of f)l.push({series:g,idx:x,status:"remove"});return{status:"overlap",changes:l}}function _c(e){var i;const{series:t}=e;if(t)return((i=t[0])==null?void 0:i.type)??"line"}function Bm(e){const t=_c(e);return t==null?!1:oi.isCartesian(t)||y1e(t)}function vN(e){const t=_c(e);return t==null?!1:t==="polar"?(Ie.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oi.isPolar(t)||x1e(t)}function mE(e){const t=_c(e);return t==null?!1:t==="hierarchy"?(Ie.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oi.isHierarchy(t)||b1e(t)}function gE(e){const t=_c(e);return t==null?!1:t==="topology"?(Ie.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oi.isTopology(t)||v1e(t)}function yE(e){const t=_c(e);return t==null?!1:t==="flow-proportion"?(Ie.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oi.isFlowProportion(t)||w1e(t)}function xE(e){const t=_c(e);return t==null?!1:t==="standalone"?(Ie.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oi.isStandalone(t)||S1e(t)}function wN(e){const t=_c(e);return t==null?!1:t==="gauge"?(Ie.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):oi.isGauge(t)||N1e(t)}function R1e(e){const t=_c(e);return vN(e)&&t!=="pie"&&t!=="donut"}function P1e(e){return e==null?!1:oi.has(e)}function z1e(e){return e==null?!1:bc.has(e)}var _1e=class extends UL{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&ul(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},sD="ag-chart-overlay",rF="ag-chart-dark-overlay",Ox=class extends ht{constructor(e,t){super(),this.className=e,this.defaultMessageId=t}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){var n;if((n=this.content)==null||n.remove(),this.focusBox=i,this.renderer){const s=this.renderer();if(s instanceof HTMLElement)this.content=s;else{const a=kt("div");a.innerHTML=s,this.content=a.firstElementChild}}else{const s=kt("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});s.innerText=this.getText(t),this.content=s,e==null||e.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(a){s.style.opacity=String(a)},onStop(){s.style.opacity="1"}})}return this.content}removeElement(e=()=>{var i;return(i=this.content)==null?void 0:i.remove()},t){if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){e==null||e()}})}else e==null||e();this.content=void 0,this.focusBox=void 0}}};j([_(Ae,{optional:!0})],Ox.prototype,"text",2);j([_(Ia,{optional:!0})],Ox.prototype,"renderer",2);var Yb=class extends ht{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Ox("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new Ox("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Ox("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};j([_(Qe)],Yb.prototype,"darkTheme",2);j([_(Be)],Yb.prototype,"loading",2);j([_(Be)],Yb.prototype,"noData",2);j([_(Be)],Yb.prototype,"noVisibleSeries",2);function F1e(e,t){const{animationDuration:i}=eb.add,n=i*t,s=kt("div",`${sD}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),a=kt("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=kt("p",{marginTop:"1em"});o.innerText=e;const r=kt("div",`${sD}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=kt("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,a,o,r),s}var GY=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(GY||{}),B1e=.25,V1e=.125,$b=class{constructor(e,t,{datum:i},n){this.type=e,this.event=t,this.datum=i,this.seriesId=n.id}},bE=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},sg=class extends YH{constructor(t){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=$b,this.internalId=Po(this),this.rootGroup=new ut({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new UL,this._declarationOrder=-1,this.seriesListeners=new mp,this._pickNodeCache=new ZL;const{moduleCtx:i,pickModes:n,directionKeys:s={},directionNames:a={},contentGroupVirtual:o=!0,canHaveAxes:r=!1}=t;this.ctx=i,this.directionKeys=s,this.directionNames=a,this.canHaveAxes=r,this.contentGroup=this.rootGroup.appendChild(new yc({name:`${this.internalId}-content`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new yc({name:`${this.internalId}-highlight`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new ut({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new ut({name:"highlightLabel",zIndex:10})),this.pickModes=n,this.labelGroup=this.rootGroup.appendChild(new yc({name:`${this.internalId}-series-labels`,zIndex:14})),this.annotationGroup=new ut({name:`${this.id}-annotation`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get pickModeAxis(){return"main"}get id(){var t;return((t=this.properties)==null?void 0:t.id)??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(t){this.properties.visible=t,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var t;return((t=this.properties.tooltip)==null?void 0:t.enabled)??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,i){const{internalId:n,type:s,visible:a}=this;t&&this.ctx.seriesStateManager.deregisterSeries(this),i&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:s,visible:a,seriesGrouping:i}),this.fireEvent(new bE(this,i,t))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t,i=0){let n=0;switch(t){case"data":case"paths":break;case"labels":n+=2e4;break;case"marker":n+=1e4;break;case"highlight":i+=15e3;break;case"annotation":n+=15e3;break}return[()=>this._declarationOrder+n,i]}addListener(t,i){return this.seriesListeners.addListener(t,i)}dispatch(t,i){this.seriesListeners.dispatch(t,i)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,i){const n=this.resolveKeyDirection(t),s=i==null?void 0:i[n],a=[];if(!s)return a;const o=(...r)=>{for(const l of r)Array.isArray(l)?o(...l):typeof l=="object"?o(...Object.values(l)):a.push(l)};return o(...s.map(r=>this.properties[r])),a}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){return this.directionKeys[this.resolveKeyDirection(t)]??[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){const i=this.getSeriesDomain(t),n=this.moduleMap.mapModules(s=>s.getDomain(t));return i.concat(n.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:i=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||i===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return i}}getStrokeWidth(t){const{strokeWidth:i,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||i===void 0)return t;switch(this.isItemIdHighlighted()){case 1:return i;case 0:case 2:return t}}isItemIdHighlighted(){var i,n;const t=(n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())==null?void 0:n.series;return t==null?0:t!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(t=>t.getTooltipParams()).reduce((t,i)=>Object.assign(t,i),{})}pickNode(t,i,n=!1){const{pickModes:s,pickModeAxis:a,visible:o,rootGroup:r}=this;if(!o||!r.visible||i==="highlight"&&!this.properties.highlight.enabled||i==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let l=1/0;if(i==="tooltip"||i==="highlight-tooltip"){const{tooltip:g}=this.properties;l=typeof g.range=="number"?g.range:1/0,n||(n=g.range==="exact")}else if(i==="event"||i==="context-menu"){const{nodeClickRange:g}=this.properties;l=typeof g=="number"?g:1/0,n||(n=g==="exact")}const c=s.filter(g=>!n||g===0),{x:u,y:h}=t,f=JSON.stringify({x:u,y:h,maxDistance:l,selectedPickModes:c});if(this._pickNodeCache.has(f))return this._pickNodeCache.get(f);for(const g of c){let x;switch(g){case 0:x=this.pickNodeExactShape(t);break;case 1:x=this.pickNodeClosestDatum(t);break;case 2:x=g!=null?this.pickNodeMainAxisFirst(t,a==="main-category"):void 0;break}if(x&&x.distance<=l)return this._pickNodeCache.set(f,{pickMode:g,match:x.datum,distance:x.distance})}return this._pickNodeCache.set(f,void 0)}pickNodeExactShape(t){const i=this.contentGroup.pickNode(t.x,t.y);if(i&&i.datum.missing!==!0)return{datum:i.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,i){const n=QS(t.x,t.y,i);if(n.nearest!==void 0&&n.nearest.datum.missing!==!0)return{datum:n.nearest.datum,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(t,i){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,i){this.fireEvent(new this.NodeEvent("nodeClick",t,i,this))}fireNodeDoubleClickEvent(t,i){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,i,this))}createNodeContextMenuActionEvent(t,i){return new this.NodeEvent("nodeContextMenuAction",t,i,this)}toggleSeriesItem(t,i){this.visible=i,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:t,enabled:i})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(t,i,n=String){return t.formatter?this.ctx.callbackCache.call(t.formatter,{seriesId:this.id,...i})??n(i.value):n(i.value)}getMarkerStyle(t,i,n=t.getStyle()){var o;const s={size:((o=i.datum.point)==null?void 0:o.size)??0},a=ft(s,n);if(t.itemStyler){const r=this.ctx.callbackCache.call(t.itemStyler,{seriesId:this.id,...a,...i,datum:i.datum.datum});return ft(r,a)}return a}updateMarkerStyle(t,i,n,s=i.getStyle(),{applyTranslation:a=!0,selected:o=!0}={}){const{point:r}=n.datum,l=this.getMarkerStyle(i,n,s),c=this.visible&&l.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);if(a?t.setProperties({visible:c,...l,translationX:r==null?void 0:r.x,translationY:r==null?void 0:r.y}):t.setProperties({visible:c,...l}),o||(t.fillOpacity*=B1e,t.strokeOpacity*=V1e),typeof i.shape=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const u=t.getBBox();if(r!==void 0&&u.isFinite()){const h=u.computeCenter(),[f,g]=["x","y"].map(y=>(l.strokeWidth??0)+Math.abs(h[y]-r[y])),x=Math.max(u.width+f,u.height+g);r.focusSize=x}}}getMinRects(t,i){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){const{width:i,height:n}=t??{width:NaN,height:NaN},s=t?{seriesRectWidth:i,seriesRectHeight:n}:void 0,a=jo(this.nodeDataDependencies,s)!=null;return a&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),a}pickFocus(t){}};sg.highlightedZIndex=1e12;j([Zs({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],sg.prototype,"seriesGrouping",2);function U1e(e){if(e!=null)return e instanceof Fe?e.computeCenter():Ii.toCanvas(e).computeCenter()}function G1e(e,t){const{bounds:i,showFocusBox:n}=t;n&&(e==null||e.updateBounds(i))}function W1e(e,t){G1e(e,t);const{x:i,y:n}=U1e(t.bounds)??{};if(i!==void 0&&n!==void 0)return{type:"keyboard",offsetX:i,offsetY:n}}function H1e({defs:e,values:t,xAxis:i,yAxis:n}){if(!(i&&n))throw new Error("Axes must be defined");const s={};for(const[a,{def:o}]of e)if(Object.hasOwn(t,a)){const{scale:r}=o.type==="key"?i:n;s[a]=Math.round(r.convert(t[a]))}return s}function am(e,t,i,n){const s=[...e].reverse();let a;for(const o of s){if(!o.visible||!o.rootGroup.visible)continue;const{match:r,distance:l}=o.pickNode(t,i,n)??{};if(!(!r||l==null)&&((!a||a.distance>l)&&(a={series:o,distance:l,datum:r}),l===0))break}return a}var Y1e=class{constructor(e,t){this.element=e,this.id=t,e.id=t,e.style.display="none",Na(e.parentElement,"aria-labelledby",t)}layoutComplete(e){this.element.parentElement.style.width=`${e.chart.width}px`,this.element.parentElement.style.height=`${e.chart.height}px`}set text(e){this.element.textContent=e}},$1e=class extends Tl{constructor(e){super(),this.chart=e,this.id=Po(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="mouse",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=m0e(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}});const t=e.ctx.regionManager.getRegion("series"),i=e.ctx.regionManager.getRegion("horizontal-axes"),n=e.ctx.regionManager.getRegion("vertical-axes"),s=41,a=34,o=e.ctx.domManager.addChild("series-area","series-area-aria-label");this.ariaLabel=new Y1e(o,`${this.id}-aria-label`),this.destroyFns.push(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label"),t.addListener("contextmenu",r=>this.onContextMenu(r),63),t.addListener("drag",r=>this.onHoverLikeEvent(r),s),t.addListener("hover",r=>this.onHover(r),s),t.addListener("leave",()=>this.onLeave(),s),i.addListener("hover",r=>this.onHover(r),s),i.addListener("leave",()=>this.onLeave()),n.addListener("hover",r=>this.onHover(r),s),n.addListener("leave",()=>this.onLeave()),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.domManager.addListener("resize",()=>this.clearAll()),e.ctx.highlightManager.addListener("highlight-change",r=>this.changeHighlightDatum(r)),e.ctx.keyNavManager.addListener("blur",()=>this.onBlur()),e.ctx.keyNavManager.addListener("focus",r=>this.onFocus(r),a),e.ctx.keyNavManager.addListener("nav-hori",r=>this.onNavHori(r),a),e.ctx.keyNavManager.addListener("nav-vert",r=>this.onNavVert(r),a),e.ctx.keyNavManager.addListener("submit",r=>this.onSubmit(r),a),e.ctx.layoutManager.addListener("layout:complete",r=>this.layoutComplete(r)),e.ctx.regionManager.listenAll("click",r=>this.onClick(r)),e.ctx.regionManager.listenAll("dblclick",r=>this.onClick(r)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),e.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}dataChanged(){var e;(e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.focusIndicator.updateBounds(void 0),this.clearHighlight()}preSceneRender(){this.refreshFocus(),this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,i)=>{let n=t.properties.focusPriority??1/0,s=i.properties.focusPriority??1/0;return n===s&&([n,s]=[t._declarationOrder,i._declarationOrder]),n<s?-1:n>s?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.paddedRect,this.ariaLabel.layoutComplete(e)}onContextMenu(e){const{Default:t,ContextMenu:i}=xN;let n,s;if(this.chart.ctx.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(s=Ii.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.chart.ctx.interactionManager.getState()&(t|i)){const a=am(this.series,{x:e.regionOffsetX,y:e.regionOffsetY},"context-menu");a&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=a.datum)}this.clearAll(),this.chart.ctx.contextMenuRegistry.dispatchContext("series",e,{pickedNode:n},s)}onLeave(){this.chart.ctx.cursorManager.updateCursor(this.id),this.chart.ctx.focusIndicator.isFocusVisible()||this.clearAll()}onHover(e){this.hoverDevice="mouse",this.onHoverLikeEvent(e)}onHoverLikeEvent(e){if(LW(e,"drag")&&(this.tooltip.lastHover=e),this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.chart.ctx.interactionManager.getState()===32){const{regionOffsetX:t,regionOffsetY:i}=e,n=am(this.series,{x:t,y:i},"event");n!=null&&n.series.hasEventListener("nodeClick")||n!=null&&n.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.cursorManager.updateCursor(this.id,"pointer"):this.chart.ctx.cursorManager.updateCursor(this.id)}}onClick(e){var i;if(this.hoverDevice="mouse",this.onHoverLikeEvent(e),(i=this.seriesRect)!=null&&i.containsPoint(e.offsetX,e.offsetY)&&this.checkSeriesNodeClick(e)){this.update(4),e.preventDefault();return}const t={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(t)}onFocus(e){this.hoverDevice=this.chart.ctx.focusIndicator.isFocusVisible()?"keyboard":"mouse",this.handleFocus(0,0),e.preventDefault()}onBlur(){this.hoverDevice="mouse",this.clearAll()}onNavVert(e){this.hoverDevice="keyboard",this.focus.seriesIndex+=e.delta,this.handleFocus(e.delta,0),e.preventDefault()}onNavHori(e){this.hoverDevice="keyboard",this.focus.datumIndex+=e.delta,this.handleFocus(0,e.delta),e.preventDefault()}onSubmit(e){const{series:t,datum:i}=this.focus,n=e.sourceEvent.sourceEvent;t!==void 0&&i!==void 0?t.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),e.preventDefault()}checkSeriesNodeClick(e){let t={x:e.regionOffsetX,y:e.regionOffsetY};e.region!=="series"&&(t=Ii.fromCanvasPoint(this.chart.seriesRoot,e.offsetX,e.offsetY));const i=am(this.series,t,"event");return i==null?!1:e.type==="click"?(i.series.fireNodeClickEvent(e.sourceEvent,i.datum),!0):e.type==="dblclick"?(e.preventZoomDblClick=i.distance===0,i.series.fireNodeDoubleClickEvent(e.sourceEvent,i.datum),!0):!1}refreshFocus(){this.chart.ctx.focusIndicator.isFocusVisible()&&this.handleSeriesFocus(0,0)}handleFocus(e,t){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(e,t):this.chart.ctx.focusIndicator.updateBounds(i.rect)}handleSeriesFocus(e,t){if(this.chart.chartType==="hierarchy"){this.handleHierarchySeriesFocus(e,t);return}const{focus:i,seriesRect:n}=this,s=i.sortedSeries.filter(l=>l.visible);if(s.length===0)return;i.seriesIndex=lt(0,i.seriesIndex,s.length-1),i.series=s[i.seriesIndex];const{datumIndex:a,seriesIndex:o}=i,r=i.series.pickFocus({datumIndex:a,datumIndexDelta:t,otherIndex:o,otherIndexDelta:e,seriesRect:n});this.updatePickedFocus(r)}handleHierarchySeriesFocus(e,t){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:i,seriesIndex:n,datumIndex:s},seriesRect:a}=this;if(i===void 0)return;const o=i.pickFocus({datumIndex:s,datumIndexDelta:t,otherIndex:n,otherIndexDelta:e,seriesRect:a});this.updatePickedFocus(o)}updatePickedFocus(e){const{focus:t}=this;if(e===void 0||t.series===void 0)return;const{datum:i,datumIndex:n}=e;t.datumIndex=n,t.datum=i,this.chart.ctx.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset();const s=W1e(this.chart.ctx.focusIndicator,e);if(s!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const a=t.series.getTooltipHtml(i),o=eS.makeTooltipMeta(s,i);this.chart.ctx.highlightManager.updateHighlight(this.id,i),this.chart.ctx.tooltipManager.updateTooltip(this.id,o,a),this.ariaLabel.text=this.getDatumAriaText(i,a)}}getDatumAriaText(e,t){var n,s;const i=t.ariaLabel;return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((s=(n=e.series).getDatumAriaText)==null?void 0:s.call(n,e,i))??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.chart.ctx.focusIndicator.updateBounds(void 0)}handleHoverHighlight(e){var c;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t)return;const i=this.chart.ctx.interactionManager.getState();if(i!==32&&i!==8&&i!==1)return;const{offsetX:n,offsetY:s}=t;if(e?this.chart.ctx.animationManager.isActive():!((c=this.hoverRect)!=null&&c.containsPoint(n,s))){this.clearHighlight();return}let a={x:t.regionOffsetX,y:t.regionOffsetY};t.region!=="series"&&(a=Ii.fromCanvasPoint(this.chart.seriesRoot,n,s));const{range:o}=this.chart.highlight,r=o==="tooltip"?"highlight-tooltip":"highlight",l=am(this.series,a,r);if(l){this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),this.hoverDevice="mouse";return}this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(e,t){var g;const i=this.chart.ctx.interactionManager.getState();if(i!==32&&i!==8&&i!==1)return;const{offsetX:n,offsetY:s,targetElement:a,regionOffsetX:o,regionOffsetY:r}=e;if(t?this.chart.ctx.animationManager.isActive():!((g=this.hoverRect)!=null&&g.containsPoint(n,s))){this.hoverDevice=="mouse"&&this.clearTooltip();return}if(a&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(a,"canvas-overlay",il))return;let l={x:o,y:r};e.region!=="series"&&(l=Ii.fromCanvasPoint(this.chart.seriesRoot,n,s));const c=am(this.series,l,"tooltip");if(!c){this.hoverDevice=="mouse"&&this.clearTooltip();return}this.hoverDevice="mouse";const u=c.series.getTooltipHtml(c.datum);if(this.chart.tooltip.enabled&&c.series.tooltipEnabled&&u!=null){const x=eS.makeTooltipMeta(e,c.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,x,u)}}changeHighlightDatum(e){const t=new Set,{series:i=void 0,datum:n}=e.currentHighlight??{},{series:s=void 0,datum:a}=e.previousHighlight??{};s&&t.add(s),i&&t.add(i),s!=null&&s.properties.cursor&&a&&this.chart.ctx.cursorManager.updateCursor(s.id),i!=null&&i.properties.cursor&&(i==null?void 0:i.properties.cursor)!=="default"&&n&&this.chart.ctx.cursorManager.updateCursor(i.id,i.properties.cursor),i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:t})}},lF=30,K1e=class{constructor(e,t,i){this.seriesRoot=e,this.highlightRoot=t,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,i;const{internalId:n,type:s,rootGroup:a,highlightGroup:o,annotationGroup:r,seriesGrouping:l}=e,{groupIndex:c=n}=l??{};if(this.series[n]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[n]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=lF?"aggressive-grouping":"normal"),(t=this.groups)[s]??(t[s]={});const u=this.lookupIdx(c),h=(i=this.groups[s])[u]??(i[u]={type:s,id:u,seriesIds:[],group:this.seriesRoot.appendChild(new dl({name:`${s}-content`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new ut({name:`${s}-highlight`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new ut({name:`${s}-annotation`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))});return this.series[n]={layerState:h,seriesConfig:e},h.seriesIds.push(n),h.group.appendChild(a),h.highlight.appendChild(o),h.annotation.appendChild(r),h.group}changeGroup(e){var c,u;const{internalId:t,seriesGrouping:i,type:n,rootGroup:s,highlightGroup:a,annotationGroup:o,oldGrouping:r}=e,{groupIndex:l=t}=i??{};(u=(c=this.groups[n])==null?void 0:c[l])!=null&&u.seriesIds.includes(t)||(this.series[t]!=null&&this.releaseGroup({internalId:t,seriesGrouping:r,type:n,rootGroup:s,highlightGroup:a,annotationGroup:o}),this.requestGroup(e))}releaseGroup(e){var r,l,c;const{internalId:t,rootGroup:i,highlightGroup:n,annotationGroup:s,type:a}=e;if(this.series[t]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const o=(r=this.series[t])==null?void 0:r.layerState;if(o&&(o.seriesIds=o.seriesIds.filter(u=>u!==t),o.group.removeChild(i),o.highlight.removeChild(n),o.annotation.removeChild(s)),(o==null?void 0:o.seriesIds.length)===0)this.seriesRoot.removeChild(o.group),this.highlightRoot.removeChild(o.highlight),this.annotationRoot.removeChild(o.annotation),delete this.groups[o.type][o.id],delete this.groups[a][t];else if((o==null?void 0:o.seriesIds.length)>0){const u=(c=this.series[(l=o==null?void 0:o.seriesIds)==null?void 0:l[0]])==null?void 0:c.seriesConfig;o.group.zIndexSubOrder=u==null?void 0:u.getGroupZIndexSubOrder("data"),o.highlight.zIndexSubOrder=u==null?void 0:u.getGroupZIndexSubOrder("highlight"),o.annotation.zIndexSubOrder=u==null?void 0:u.getGroupZIndexSubOrder("annotation")}delete this.series[t]}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(lt(0,e/this.expectedSeriesCount,1)*lF)}destroy(){for(const e of Object.values(this.groups))for(const t of Object.values(e))this.seriesRoot.removeChild(t.group),this.highlightRoot.removeChild(t.highlight),this.annotationRoot.removeChild(t.annotation);this.groups={},this.series={}}},Z1e=class{constructor(e,t,i,n){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(e=>Ie.errorOnce(e))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){if(!this.dataService.isLazy())return;const e=this.getValidAxis();let t,i=!0;if(e){const n=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,n),i=this.shouldRefresh(e,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return i&&t.min===i.min&&t.max===i.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){var o,r;const i=(r=(o=e.scale).getDomain)==null?void 0:r.call(o);if(!t||!i||i.length===0||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]),s=new Date(Number(i[0])+n*t.min),a=new Date(Number(i[0])+n*t.max);return{min:s,max:a}}},q1e=class{constructor(e,t,i,n,s,a,o){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutManager=n,this.localeManager=s,this.animationManager=a,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(sD),this.destroyFns.push(this.layoutManager.addListener("layout:complete",r=>this.onLayoutComplete(r)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),i=this.chartLike.series.some(l=>l.hasData),n=this.chartLike.series.some(l=>l.visible);this.overlays.darkTheme?this.overlayElem.classList.add(rF):this.overlayElem.classList.remove(rF),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const s=t,a=!t&&!i,o=i&&!n;s?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),a?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries);const r=s||a||o;Na(this.overlayElem,"aria-hidden",!r)}showOverlay(e,t){const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText=""},this.animationManager)}},tr=Qt.create(!0,"opts"),vE=class extends ht{constructor(){super(...arguments),this.padding=new Td(0)}};j([_(Qe,{optional:!0})],vE.prototype,"clip",2);j([_(Be)],vE.prototype,"padding",2);var On=class WY extends YH{constructor(t,i){var n;super(),this.id=Po(this),this.seriesRoot=new yc({name:`${this.id}-series-root`}),this.highlightRoot=new _m({name:`${this.id}-highlight-root`,zIndex:5,deriveZIndexFromChildren:!0}),this.annotationRoot=new _m({name:`${this.id}-annotation-root`,zIndex:10}),this.debug=Qt.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Td(20),this.seriesArea=new vE,this.keyboard=new fE,this.mode="standalone",this.chartCaptions=new yN,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new _1e,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new f0e,this.updateRequestors={},this.performUpdateTrigger=g0e(async({count:h})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(h)}catch(f){Ie.error("update error",f)}}).catch(f=>Ie.errorOnce(f))}),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=h=>{this.fireEvent({...h,type:"seriesNodeClick"})},this.onSeriesNodeDoubleClick=h=>{this.fireEvent({...h,type:"seriesNodeDoubleClick"})},this.seriesGroupingChanged=h=>{if(!(h instanceof bE))return;const{series:f,seriesGrouping:g,oldGrouping:x}=h;f.rootGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:f.internalId,type:f.type,rootGroup:f.rootGroup,highlightGroup:f.highlightGroup,annotationGroup:f.annotationGroup,getGroupZIndexSubOrder:y=>f.getGroupZIndexSubOrder(y),seriesGrouping:g,oldGrouping:x})},this.chartOptions=t;const s=i==null?void 0:i.scene,a=(i==null?void 0:i.container)??t.processedOptions.container??void 0,o=(i==null?void 0:i.styleContainer)??t.specialOverrides.styleContainer,r=new ut({name:"root"}),l=new dl({name:"titles",zIndex:14});r.visible=!1,r.append(l),r.append(this.seriesRoot),r.append(this.highlightRoot),r.append(this.annotationRoot),l.append(this.title.node),l.append(this.subtitle.node),l.append(this.footnote.node),this.tooltip=new Fo,this.seriesLayerManager=new K1e(this.seriesRoot,this.highlightRoot,this.annotationRoot),this.mode=t.userOptions.mode??this.mode;const c=this.ctx=new u1e(this,{scene:s,root:r,container:a,styleContainer:o,syncManager:new D1e(this),pixelRatio:t.specialOverrides.overrideDevicePixelRatio,updateCallback:(h=0,f)=>this.update(h,f),updateMutex:this.updateMutex});this._destroyFns.push(c.domManager.addListener("resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new Yb,(n=this.overlays.loading).renderer??(n.renderer=()=>F1e(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new Z1e(this,c.dataService,c.updateService,c.zoomManager),new q1e(this,this.overlays,c.dataService,c.layoutManager,c.localeManager,c.animationManager,c.domManager)],this.highlight=new OY,this.container=a;const u=this.getModuleContext();c.regionManager.addRegion("series",this.seriesRoot,new kY(this.seriesRoot,()=>this.seriesRect??Fe.zero),this.ctx.axisManager.axisGridGroup),c.regionManager.addRegion("horizontal-axes"),c.regionManager.addRegion("vertical-axes"),c.regionManager.addRegion("root",r),c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new $1e(this.initSeriesAreaDependencies()),this._destroyFns.push(c.layoutManager.registerElement(0,h=>{h.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(h)}),c.layoutManager.addListener("layout:complete",h=>this.chartCaptions.positionAbsoluteCaptions(h)),c.dataService.addListener("data-load",h=>{this.data=h.data}),this.title.registerInteraction(u,"beforebegin"),this.subtitle.registerInteraction(u,"beforebegin"),this.footnote.registerInteraction(u,"afterend"),c.interactionManager.addListener("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(6)}),c.animationManager.addListener("animation-start",()=>c.domManager.setDataBoolean("animating",!0)),c.animationManager.addListener("animation-stop",()=>c.domManager.setDataBoolean("animating",!1)),c.zoomManager.addListener("zoom-change",()=>{this.series.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.transition("updateData")});const h=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:h})})),this.parentResize(c.domManager.containerSize)}static getInstance(t){return WY.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,i){this.ctx.scene.download(t,i)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}initSeriesAreaDependencies(){const{ctx:t,tooltip:i,highlight:n,overlays:s,seriesRoot:a}=this,o=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:o,ctx:t,tooltip:i,highlight:n,overlays:s,seriesRoot:a}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const i=t==null?void 0:t.keepTransferableResources;let n;return this.performUpdateType=7,this._destroyFns.forEach(s=>s()),this.processors.forEach(s=>s.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{this.destroyed||(await t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)}).catch(i=>Ie.errorOnce(i)))}update(t=0,i){const{forceNodeDataRefresh:n=!1,skipAnimations:s,seriesToUpdate:a=this.series,newAnimationBatch:o}=i??{};n&&this.series.forEach(r=>r.markNodeDataDirty());for(const r of a)this.seriesToUpdate.add(r);if(s&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=(i==null?void 0:i.skipSync)??!1,this.debug.check()){let r=new Error().stack??"<unknown>";r=r.replace(/\([^)]*/g,""),this.updateRequestors[r]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}async performUpdate(t){const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:s,ctx:a}=this,o=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&i<6&&(a.animationManager.startBatch(this._performUpdateSkipAnimations),a.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",Ex[i]);let r=performance.now();s.start??(s.start=r);const l=h=>{s[h]??(s[h]=0),s[h]+=performance.now()-r,r=performance.now()};let c=!1;switch(i){case 0:this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:await this.updateData(),l("");case 2:await this.processData(),this.seriesAreaManager.dataChanged(),l("");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(o)){c=!0;break}await this.processLayout(),l("");case 4:{if(this.checkUpdateShortcut(4))break;const{seriesRect:h}=this;await Promise.all(o.map(f=>f.update({seriesRect:h}))),l(""),this.updateAriaLabels()}case 5:if(this.checkUpdateShortcut(5))break;a.updateService.dispatchPreSceneRender(this.getMinRects()),l("");case 6:if(this.checkUpdateShortcut(6))break;a.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,await a.scene.render({debugSplitTimes:s,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const h in s)delete s[h];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,a.animationManager.endBatch()}c||(a.updateService.dispatchUpdateComplete(this.getMinRects()),this.ctx.domManager.setDataBoolean("updatePending",!1));const u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((u-s.start)*100)/100,count:t,performUpdateType:Ex[i]})}updateThemeClassName(){const{theme:t}=this.chartOptions.processedOptions,i="ag-charts-theme-",n=[`${i}default`,`${i}default-dark`];let s=n[0],a=!1;typeof t=="string"?(s=t.replace("ag-",i),a=t.includes("-dark")):typeof(t==null?void 0:t.baseTheme)=="string"&&(s=t.baseTheme.replace("ag-",i),a=t.baseTheme.includes("-dark")),n.includes(s)||(s=a?n[1]:n[0]),this.ctx.domManager.setThemeClass(s)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabIndex(t?i??0:-1)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.updateShortcutCount>3?(Ie.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(t){if(!(this.width!=null&&this.height!=null)){if(!this._lastAutoSize){const i=this._performUpdateNoRenderCount++,n=(i+1)**2*40;if(i<8)return this.update(3,{seriesToUpdate:t,backOffMs:n}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",n),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}}return this._performUpdateNoRenderCount=0,!0}onAxisChange(t,i){i==null&&t.length===0||this.ctx.axisManager.updateAxes(i??[],t)}onSeriesChange(t,i){var s,a;const n=(i==null?void 0:i.filter(o=>!t.includes(o)))??[];this.destroySeries(n),(s=this.seriesLayerManager)==null||s.setSeriesCount(t.length);for(const o of t){if(i!=null&&i.includes(o))continue;o.rootGroup.isRoot()&&this.seriesLayerManager.requestGroup(o);const r=this;o.chart={get mode(){return r.mode},get isMiniChart(){return!1},get seriesRect(){return r.seriesRect},placeLabels(l){return r.placeLabels(l)}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(a=this.seriesAreaManager)==null||a.seriesChanged(t)}destroySeries(t){t==null||t.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(i=>i.axes[t.direction]===t)}assignAxesToSeries(){const t=jL(this.axes,i=>i.direction);this.series.forEach(i=>{i.directions.forEach(n=>{const s=t[n];if(!s){Ie.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);return}const a=i.getKeys(n),o=s.find(r=>!r.keys.length||a.some(l=>r.keys.includes(l)));if(!o){Ie.warnOnce(`no matching axis for direction [${n}] and keys [${a}]; check series and axes configuration.`);return}i.axes[n]=o})})}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:i,height:n}=t;if(i=Math.floor(i),n=Math.floor(n),i===0&&n===0)return;const[s=0,a=0]=this._lastAutoSize??[];s===i&&a===n||(this._lastAutoSize=[i,n],this.resize("SizeMonitor",{}))}resize(t,i){var h,f;const{scene:n,animationManager:s}=this.ctx,{inWidth:a,inHeight:o,inMinWidth:r,inMinHeight:l}=i;this.ctx.domManager.setSizeOptions(r??this.minWidth,l??this.minHeight,a??this.width,o??this.height);const c=a??this.width??((h=this._lastAutoSize)==null?void 0:h[0]),u=o??this.height??((f=this._lastAutoSize)==null?void 0:f[1]);if(this.debug(`Chart.resize() from ${t}`,{width:c,height:u,stack:new Error().stack}),!(c==null||u==null||!yt(c)||!yt(u))&&n.resize(c,u)){s.reset();let g=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(g=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:g})}}async updateData(){this.series.forEach(i=>i.setChartData(this.data));const t=this.modulesManager.mapModules(i=>{var n;return(n=i.updateData)==null?void 0:n.call(i,this.data)});await Promise.all(t)}async processData(){this.series.some(s=>s.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new FY(this.mode),i=this.series.map(s=>s.processData(t)),n=this.modulesManager.mapModules(s=>{var a;return(a=s.processData)==null?void 0:a.call(s,t)});t.execute(),await Promise.all([...i,...n]);for(const{legendType:s,legend:a}of this.modulesManager.legends())a.data=this.getLegendData(s,this.mode!=="integrated")}placeLabels(t){const i=[],n=[];for(const u of this.series){if(!u.visible)continue;const h=u.getLabelData();Uve(h==null?void 0:h[0])&&(n.push(h),i.push(u))}const{seriesRect:s}=this,{top:a,right:o,bottom:r,left:l}=this.seriesArea.padding,c=s&&n.length>0?Wve(n,{x:-l,y:-a,width:s.width+l+o,height:s.height+a+r},t):[];return new Map(c.map((u,h)=>[i[h],u]))}getLegendData(t,i){var n;const s=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(t));if(i&&(o=>o.every(r=>r.legendType==="category"))(s)){const o={},r=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbols:[{marker:c}],label:u}of s){if(c.fill==null)continue;const h=r.get(l),f=o[h]??(o[h]={});f[n=u.text]??(f[n]=c.fill),f[u.text]!==c.fill&&Ie.warnOnce(`legend item '${u.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return s}async processLayout(){var a;const t=this.animationRect,{width:i,height:n}=this.ctx.scene,s=this.ctx.layoutManager.createContext(i,n);await this.performLayout(s),t&&!((a=this.animationRect)!=null&&a.equals(t))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async waitForUpdate(t=1e4,i=!1){const n=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();this.performUpdateType!==7;){if(performance.now()-n>t){const s=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(i)throw new Error(s);Ie.warnOnce(s)}await p0e(50)}await this.updateMutex.waitForClearAcquireQueue()}getMinRects(){const{width:t,height:i}=this.ctx.scene,n=this.series.map(u=>u.getMinRects(t,i)).filter(Rm);if(n.length===0)return;let s=0,a=0,o=0,r=0;for(const{minRect:u,minVisibleRect:h}of n)s=Math.max(s,u.width),a=Math.max(a,u.height),o=Math.max(o,h.width),r=Math.max(r,h.height);const l=new Fe(0,0,s,a);let c=l.clone();return o>0&&r>0&&(c=new Fe(0,0,o,r)),{minRect:l,minVisibleRect:c}}filterMiniChartSeries(t){return t==null?void 0:t.filter(i=>i.showInMiniChart!==!1)}applyOptions(t){var b,v,S,N,M;const n=t!==this.chartOptions?this.chartOptions.processedOptions:{},s=t.processedOptions,a=t.diffOptions(n);if(a==null)return;tr("Chart.applyOptions() - applying delta",a);const o=this.applyModules(s),r=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];a.listeners&&this.registerListeners(this,a.listeners),bm(this,a,{skip:r});let l=!1,c="no-op";a.series!=null&&(c=this.applySeries(this,a.series,n==null?void 0:n.series),l=!0),c==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,n,c,[],!0)&&(l=!0),a.data&&(this.data=a.data),(b=a.legend)!=null&&b.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,a.legend.listeners),(v=a.locale)!=null&&v.localeText&&(this.modulesManager.getModule("locale").localeText=(S=a.locale)==null?void 0:S.localeText),this.chartOptions=t;const u=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!(u!=null&&u.enabled)&&!(h!=null&&h.enabled)&&this.ctx.zoomManager.updateZoom("chart");const f=u==null?void 0:u.miniChart,g=((M=(N=s.navigator)==null?void 0:N.miniChart)==null?void 0:M.series)??s.series;(f==null?void 0:f.enabled)===!0&&g!=null?this.applyMiniChartOptions(f,g,s,n):(f==null?void 0:f.enabled)===!1&&(f.series=[],f.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),l||(l=this.shouldForceNodeDataRefresh(a,c));const y=l||o?0:3;this.maybeResetAnimations(c),tr("Chart.applyOptions() - update type",Ex[y],{seriesStatus:c,forceNodeDataRefresh:l}),this.update(y,{forceNodeDataRefresh:l,newAnimationBatch:!0}),(a.initialState||a.theme)&&this.applyInitialState(t.userOptions.initialState)}applyInitialState(t){const{ctx:{annotationManager:i,historyManager:n,stateManager:s}}=this;if((t==null?void 0:t.annotations)!=null){const a=t.annotations.map(o=>{const r=i.getAnnotationTypeStyles(o.type);return ft(o,r)});s.setState(i,a)}t!=null&&n.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,i){const n=!!t.data||i==="data-change"||i==="replaced",s=hE.getKeys(),a=Object.values(s).some(r=>t[r]!=null),o=t.title!=null&&t.subtitle!=null;return n||a||o}applyMiniChartOptions(t,i,n,s){var u,h,f,g;const a=((h=(u=s==null?void 0:s.navigator)==null?void 0:u.miniChart)==null?void 0:h.series)??(s==null?void 0:s.series),o=this.applySeries(t,this.filterMiniChartSeries(i),this.filterMiniChartSeries(a));this.applyAxes(t,n,s,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const r=t.series;for(const x of r)x.properties.id=void 0;const l=t.axes,c=l.find(x=>x.direction==="x");for(const x of l)x.gridLine.enabled=!1,x.label.enabled=x===c,x.tick.enabled=!1,x.interactionEnabled=!1;if(c!=null){const x=(f=n.navigator)==null?void 0:f.miniChart,y=x==null?void 0:x.label,b=(g=x==null?void 0:x.label)==null?void 0:g.interval;c.line.enabled=!1,c.label.set(FC(y,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),c.tick.set(FC(b,["enabled","width","size","color","interval","step"]));const v=b==null?void 0:b.step;v!=null&&(c.interval.step=v)}}applyModules(t){var s;const{type:i}=this.constructor;let n=!1;for(const a of Zu.byType("root","legend")){const r=t[a.optionsKey]!=null&&a.chartTypes.includes(i);r!==this.modulesManager.isEnabled(a)&&(r?(this.modulesManager.addModule(a,l=>l.moduleFactory(this.getModuleContext())),a.type==="legend"&&((s=this.modulesManager.getModule(a))==null||s.attachLegend(this.ctx.scene)),this[a.optionsKey]=this.modulesManager.getModule(a)):(this.modulesManager.removeModule(a),delete this[a.optionsKey]),n=!0)}return n}initSeriesDeclarationOrder(t){for(let i=0;i<t.length;i++)t[i]._declarationOrder=i}applySeries(t,i,n){var c;if(!i)return"no-change";const s=j1e(t.series,i,n);if(s.status==="no-overlap")return tr(`Chart.applySeries() - creating new series instances, status: ${s.status}`,s),t.series=i.map(u=>this.createSeries(u)),this.initSeriesDeclarationOrder(t.series),"replaced";tr("Chart.applySeries() - matchResult",s);const a=[];let o=!1,r=!1,l=!1;for(const u of s.changes)switch(r||(r=u.status==="series-grouping"),o||(o=((c=u.diff)==null?void 0:c.data)!=null),l||(l=u.status!=="no-op"),u.status){case"add":{const h=this.createSeries(u.opts);a.push(h),tr("Chart.applySeries() - created new series",h);break}case"remove":tr(`Chart.applySeries() - removing series at previous idx ${u.idx}`,u.series);break;case"no-op":a.push(u.series),tr(`Chart.applySeries() - no change to series at previous idx ${u.idx}`,u.series);break;case"series-grouping":case"update":default:{const{series:h,diff:f,idx:g}=u;tr(`Chart.applySeries() - applying series diff previous idx ${g}`,f,h),this.applySeriesValues(h,f),h.markNodeDataDirty(),a.push(h)}}return this.initSeriesDeclarationOrder(a),tr("Chart.applySeries() - final series instances",a),t.series=a,r?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(t,i,n,s,a=[],o=!1){if(!("axes"in i)||!i.axes)return!1;a=["axes[].type",...a];const{axes:r}=i;if(!(s==="replaced")&&t.axes.length===r.length&&t.axes.every((h,f)=>h.type===r[f].type)&&Bm(n))return t.axes.forEach((h,f)=>{var b;const g=((b=n.axes)==null?void 0:b[f])??{},x=jo(g,r[f]);tr(`Chart.applyAxes() - applying axis diff idx ${f}`,x);const y=`axes[${f}]`;bm(h,x,{path:y,skip:a})}),!0;tr(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${s}`),t.axes=this.createAxis(r,a);const u={x:[],y:[]};return t.axes.forEach(h=>{const{id:f}=h,g=h.getRegionNode();g!=null&&u[h.direction].push({id:f,node:g})}),o&&(this.ctx.regionManager.updateRegion("horizontal-axes",...u.x),this.ctx.regionManager.updateRegion("vertical-axes",...u.y)),!0}createSeries(t){const i=za.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(i,t),this.applySeriesValues(i,t),i}applySeriesOptionModules(t,i){const n=t.createModuleContext(),s=t.getModuleMap();for(const a of Zu.byType("series-option"))a.optionsKey in i&&a.seriesTypes.includes(t.type)&&s.addModule(a,o=>o.moduleFactory(n))}applySeriesValues(t,i){const n=t.getModuleMap(),{type:s,data:a,listeners:o,seriesGrouping:r,showInMiniChart:l,...c}=i;for(const u of ng)if(u.type==="series-option"&&u.optionsKey in c){const h=n.getModule(u.optionsKey);if(h){const f=c[u.optionsKey];delete c[u.optionsKey],h.properties.set(f)}}t.properties.set(c),"data"in i&&t.setOptionsData(a),o&&this.registerListeners(t,o),"seriesGrouping"in i&&(r==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...r})}createAxis(t,i){const n=[],s=this.getModuleContext();for(let a=0;a<t.length;a++){const o=t[a],r=bc.create(o.type,s);this.applyAxisModules(r,o),bm(r,o,{path:`axes[${a}]`,skip:i}),n.push(r)}return E1e(n),n}applyAxisModules(t,i){const n=t.createModuleContext(),s=t.getModuleMap();for(const a of Zu.byType("axis-option")){const o=i[a.optionsKey]!=null;o!==s.isEnabled(a)&&(o?(s.addModule(a,r=>r.moduleFactory(n)),t[a.optionsKey]=s.getModule(a)):(s.removeModule(a),delete t[a.optionsKey]))}}registerListeners(t,i){t.clearEventListeners();for(const[n,s]of Object.entries(i))Ec(s)&&t.addEventListener(n,s)}};On.chartsInstances=new WeakMap;j([Zs({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),On.chartsInstances.set(e,this))},oldValue(e){On.chartsInstances.delete(e)}})],On.prototype,"container",2);j([Zs({newValue(e){this.resize("width option",{inWidth:e})}})],On.prototype,"width",2);j([Zs({newValue(e){this.resize("height option",{inHeight:e})}})],On.prototype,"height",2);j([Zs({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],On.prototype,"minWidth",2);j([Zs({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],On.prototype,"minHeight",2);j([_(Be)],On.prototype,"padding",2);j([_(Be)],On.prototype,"seriesArea",2);j([_(Be)],On.prototype,"keyboard",2);j([_(Ft(["standalone","integrated"],"a chart mode"))],On.prototype,"mode",2);j([ji("chartCaptions.title")],On.prototype,"title",2);j([ji("chartCaptions.subtitle")],On.prototype,"subtitle",2);j([ji("chartCaptions.footnote")],On.prototype,"footnote",2);j([Zs({changeValue(e,t){this.onAxisChange(e,t)}})],On.prototype,"axes",2);j([Zs({changeValue(e,t){this.onSeriesChange(e,t)}})],On.prototype,"series",2);var Ad=On,X1e=class{constructor(e,t,i){this.root=new ewe(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){const i={hitTester:e,value:t,distanceSquared:(n,s)=>e.distanceSquared(n,s)};this.root.addElem(i)}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},Q1e=class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},J1e=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??Fe.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(this.subdivisions===void 0?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:n}=this.boundary,{capacity:s}=this,a=this.maxdepth-1,o=i/2,r=n/2,l=new Fe(e,t,o,r),c=new Fe(e+o,t,o,r),u=new Fe(e,t+r,o,r),h=new Fe(e+o,t+r,o,r);return new Q1e(this.child(s,a,l),this.child(s,a,c),this.child(s,a,u),this.child(s,a,h))}},ewe=class HY extends J1e{addCondition(t){const{x:i,y:n}=t.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(t,i,n){const{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(t,i)<s.distanceSquared}findAction(t,i,n){const s=QS(t,i,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(t,i,n){return new HY(t,i,n)}},twe=["ArrowDown","ArrowUp","Circle","Cross","Diamond","Heart","MapPin","Plus","Square","Star","Triangle"],iwe=Object.freeze({x:.5,y:.5}),SN=class extends Ns{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}isBuiltIn(){return twe.includes(this.constructor.className??"")}computeBBox(){if(!this.isBuiltIn())return this.path.computeBBox();const{x:e,y:t,size:i}=this,{center:n}=this.constructor;return new Fe(e-i*n.x,t-i*n.y,i,i)}applyPath(e,t){const{path:i}=this;let{x:n,y:s}=this;i.clear();for(const{x:a,y:o,t:r}of t)n+=a*e,s+=o*e,r==="move"?i.moveTo(n,s):i.lineTo(n,s);i.closePath()}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};j([st()],SN.prototype,"x",2);j([st()],SN.prototype,"y",2);j([st({convertor:Math.abs})],SN.prototype,"size",2);var qs=class extends hp(YL(Md(SN))){};qs.center=iwe;var qu=class extends qs{updatePath(){const{x:t,y:i,path:n,size:s}=this,a=s/2;n.clear(),n.arc(t,i,a,0,Math.PI*2),n.closePath()}};qu.className="Circle";var wE=class YY extends qs{updatePath(){const t=this.size/4.2;super.applyPath(t,YY.moves)}};wE.className="Cross";wE.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var nwe=wE,SE=class $Y extends qs{updatePath(){const t=this.size/2;super.applyPath(t,$Y.moves)}};SE.className="Diamond";SE.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var KY=SE,ZY=class extends qs{rad(e){return e/180*Math.PI}updatePath(){const{x:e,path:t,size:i,rad:n}=this,s=i/4,a=this.y+s/2;t.clear(),t.arc(e-s,a-s,s,n(130),n(330)),t.arc(e+s,a-s,s,n(220),n(50)),t.lineTo(e,a+s),t.closePath()}};ZY.className="Heart";var NE=class extends qs{updatePath(){const{path:e,x:t,y:i}=this,n=this.size,s=.5,a=1;e.clear(),e.moveTo(t+(.15625-s)*n,i+(.34375-a)*n),e.cubicCurveTo(t+(.15625-s)*n,i+(.151491-a)*n,t+(.307741-s)*n,i+(0-a)*n,t+(.5-s)*n,i+(0-a)*n),e.cubicCurveTo(t+(.692259-s)*n,i+(0-a)*n,t+(.84375-s)*n,i+(.151491-a)*n,t+(.84375-s)*n,i+(.34375-a)*n),e.cubicCurveTo(t+(.84375-s)*n,i+(.493824-a)*n,t+(.784625-s)*n,i+(.600181-a)*n,t+(.716461-s)*n,i+(.695393-a)*n),e.cubicCurveTo(t+(.699009-s)*n,i+(.719769-a)*n,t+(.681271-s)*n,i+(.743104-a)*n,t+(.663785-s)*n,i+(.766105-a)*n),e.cubicCurveTo(t+(.611893-s)*n,i+(.834367-a)*n,t+(.562228-s)*n,i+(.899699-a)*n,t+(.528896-s)*n,i+(.980648-a)*n),e.cubicCurveTo(t+(.524075-s)*n,i+(.992358-a)*n,t+(.512663-s)*n,i+(1-a)*n,t+(.5-s)*n,i+(1-a)*n),e.cubicCurveTo(t+(.487337-s)*n,i+(1-a)*n,t+(.475925-s)*n,i+(.992358-a)*n,t+(.471104-s)*n,i+(.980648-a)*n),e.cubicCurveTo(t+(.487337-s)*n,i+(1-a)*n,t+(.475925-s)*n,i+(.992358-a)*n,t+(.471104-s)*n,i+(.980648-a)*n),e.cubicCurveTo(t+(.437772-s)*n,i+(.899699-a)*n,t+(.388107-s)*n,i+(.834367-a)*n,t+(.336215-s)*n,i+(.766105-a)*n),e.cubicCurveTo(t+(.318729-s)*n,i+(.743104-a)*n,t+(.300991-s)*n,i+(.719769-a)*n,t+(.283539-s)*n,i+(.695393-a)*n),e.cubicCurveTo(t+(.215375-s)*n,i+(.600181-a)*n,t+(.15625-s)*n,i+(.493824-a)*n,t+(.15625-s)*n,i+(.34375-a)*n),e.closePath()}};NE.className="MapPin";NE.center={x:.5,y:1};var ME=class qY extends qs{updatePath(){const t=this.size/3;super.applyPath(t,qY.moves)}};ME.className="Plus";ME.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var swe=ME,ab=class extends qs{updatePath(){const{path:e,x:t,y:i}=this,n=this.size/2;e.clear(),e.moveTo(this.align(t-n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i+n)),e.lineTo(this.align(t-n),this.align(i+n)),e.closePath()}};ab.className="Square";var XY=class extends qs{updatePath(){const{x:e,y:t,path:i,size:n}=this,s=5,a=n/2,o=Math.PI/2;i.clear();for(let r=0;r<s*2;r++){const l=r%2===0?n:a,c=r*Math.PI/s-o,u=e+Math.cos(c)*l,h=t+Math.sin(c)*l;i.lineTo(u,h)}i.closePath()}};XY.className="Star";var IE=class QY extends qs{updatePath(){const t=this.size*1.1;super.applyPath(t,QY.moves)}};IE.className="Triangle";IE.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var wm=IE,JY={circle:qu,cross:nwe,diamond:KY,heart:ZY,pin:NE,plus:swe,square:ab,star:XY,triangle:wm},awe=Object.keys(JY);function e$(e){return typeof e=="string"&&awe.includes(e)}function hl(e=ab){return e$(e)?JY[e]:typeof e=="function"?e:ab}var TE=class extends sg{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation({xScale:t,yScale:i}){const n=jt.is(t),s=jt.is(i);return{isContinuousX:n,isContinuousY:s,xScaleType:t==null?void 0:t.type,yScaleType:i==null?void 0:i.type}}getModulePropertyDefinitions(){var n,s;const t=(n=this.axes.x)==null?void 0:n.scale,i=(s=this.axes.y)==null?void 0:s.scale;return this.moduleMap.mapModules(a=>a.getPropertyDefinitions(this.getScaleInformation({xScale:t,yScale:i}))).flat()}async requestDataModel(t,i,n){n.props.push(...this.getModulePropertyDefinitions());const{dataModel:s,processedData:a}=await t.request(this.id,i??[],n);return this.dataModel=s,this.processedData=a,this.dispatch("data-processed",{dataModel:s,processedData:a}),{dataModel:s,processedData:a}}isProcessedDataAnimatable(){var s,a;const t=(a=(s=this.processedData)==null?void 0:s.reduced)==null?void 0:a.animationValidation;if(!t)return!0;const{orderedKeys:i,uniqueKeys:n}=t;return i&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){const i=this.getNodeData();if(i===void 0||i.length===0)return;const n=this.computeFocusDatumIndex(t,i);if(n===void 0)return;const{showFocusBox:s}=this,a=i[n],o={...t,datumIndex:n},r=this.computeFocusBounds(o);if(r!==void 0)return{bounds:r,showFocusBox:s,datum:a,datumIndex:n}}computeFocusDatumIndex(t,i){const n=l=>{const{missing:c=!1,enabled:u=!0,focusable:h=!0}=i[l];return!c&&u&&h},s=l=>{for(;l>=0&&!n(l);)l--;return l===-1?void 0:l},a=l=>{for(;l<i.length&&!n(l);)l++;return l===i.length?void 0:l};let o;const r=lt(0,t.datumIndex,i.length-1);return t.datumIndexDelta<0?o=s(r):t.datumIndexDelta>0?o=a(r):o=a(r)??s(r),o===void 0?t.datumIndexDelta===0?void 0:t.datumIndex-t.datumIndexDelta:o}},Fc=class extends ht{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};j([_(Rt,{optional:!0})],Fc.prototype,"fill",2);j([_(Nt,{optional:!0})],Fc.prototype,"fillOpacity",2);j([_(Rt,{optional:!0})],Fc.prototype,"stroke",2);j([_(Ce,{optional:!0})],Fc.prototype,"strokeWidth",2);j([_(Nt,{optional:!0})],Fc.prototype,"strokeOpacity",2);j([_(jc,{optional:!0})],Fc.prototype,"lineDash",2);j([_(Ce,{optional:!0})],Fc.prototype,"lineDashOffset",2);var NN=class extends ht{};j([_(Ce,{optional:!0})],NN.prototype,"strokeWidth",2);j([_(Nt,{optional:!0})],NN.prototype,"dimOpacity",2);j([_(Qe,{optional:!0})],NN.prototype,"enabled",2);var t$=class extends ht{constructor(){super(...arguments),this.color="black"}};j([_(Rt,{optional:!0})],t$.prototype,"color",2);var AE=class extends ht{constructor(){super(...arguments),this.enabled=!0}};j([_(Qe,{optional:!0})],AE.prototype,"enabled",2);var Kb=class extends ht{constructor(){super(...arguments),this.item=new Fc,this.series=new NN,this.text=new t$}};j([_(Be)],Kb.prototype,"item",2);j([_(Be)],Kb.prototype,"series",2);j([_(Be)],Kb.prototype,"text",2);var Xa=class extends ht{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new AE,this.highlightStyle=new Kb}};j([_(Ae,{optional:!0})],Xa.prototype,"id",2);j([_(Qe)],Xa.prototype,"visible",2);j([_(GW,{optional:!0})],Xa.prototype,"focusPriority",2);j([_(Qe)],Xa.prototype,"showInLegend",2);j([_(Ae)],Xa.prototype,"cursor",2);j([_(dN)],Xa.prototype,"nodeClickRange",2);j([_(Be)],Xa.prototype,"highlight",2);j([_(Be)],Xa.prototype,"highlightStyle",2);var yp={x:["xKey"],y:["yKey"]},xp={x:["xName"],y:["yName"]},kE=class extends $b{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Bc=class extends Xa{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};j([_(Ae,{optional:!0})],Bc.prototype,"legendItemName",2);j([_(Qe,{optional:!0})],Bc.prototype,"pickOutsideVisibleMinorAxis",2);var kd=class extends TE{constructor({pathsPerSeries:e=["path"],hasMarkers:t=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:a=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:r,directionKeys:l,directionNames:c,...u}){if(super({directionKeys:l,directionNames:c,canHaveAxes:!0,...u}),this.NodeEvent=kE,this.dataNodeGroup=this.contentGroup.appendChild(new ut({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new ut({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new yc({name:`${this.id}-series-labels`,zIndex:14,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=li.select(this.labelGroup,fn),this.highlightSelection=li.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=li.select(this.highlightLabel,fn),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=Qt.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:c,animationResetFns:r,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:a},this.paths=[];for(let h=0;h<e.length;h++)this.paths[h]=new Ns({name:`${this.id}-${e[h]}`}),this.paths[h].zIndex=4,this.paths[h].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",h),this.contentGroup.appendChild(this.paths[h]);this.datumSelection=li.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=li.select(this.markerGroup,()=>this.markerFactory(),a),this.animationState=new Vb("empty",{empty:{update:{target:"ready",action:h=>this.animateEmptyUpdateReady(h)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:h=>this.animateReadyHighlight(h),highlightMarkers:h=>this.animateReadyHighlightMarkers(h),resize:h=>this.animateReadyResize(h),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:h=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(h):this.animateWaitingUpdateReady(h)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:h=>this.resetAllAnimation(h),reset:"empty"},clearing:{update:{target:"empty",action:h=>this.animateClearingUpdateEmpty(h)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}async update({seriesRect:e}){var l,c;const{visible:t,_contextNodeData:i}=this,s=((c=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight())==null?void 0:c.series)===this,a=this.checkResize(e),o=await this.updateHighlightSelection(s);await this.updateSelections(t),await this.updateNodes(o,s,t);const r=this.getAnimationData(e,i);r&&(a&&this.animationState.transition("resize",r),this.animationState.transition("update",r))}async updateSelections(e){var t;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();const n=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=n)),this.minRectsCache.dirtyNodeData=!0;const{dataModel:s,processedData:a}=this;s!==void 0&&a!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:a})}await this.updateSeriesSelections()}}async updateSeriesSelections(e){const{datumSelection:t,labelSelection:i,markerSelection:n,paths:s}=this,a=this._contextNodeData;if(!a)return;const{nodeData:o,labelData:r,itemId:l}=a;await this.updatePaths({seriesHighlighted:e,itemId:l,contextData:a,paths:s}),this.datumSelection=await this.updateDatumSelection({nodeData:o,datumSelection:t}),this.labelSelection=await this.updateLabelSelection({labelData:r,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:o,markerSelection:n}))}markerFactory(){const e=hl();return new e}getGroupZIndexSubOrder(e,t=0){const i=super.getGroupZIndexSubOrder(e,t);if(e==="paths"){const[n]=i,s=this.opts.pathsZIndexSubOrderOffset[t]??0;i[0]=Ec(n)?()=>Number(n())+s:Number(n)+s}return i}async updateNodes(e,t,i){const{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:a,hasHighlightedLabels:o}}=this,r=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.rootGroup.visible=r||l,this.contentGroup.visible=r||l,this.highlightGroup.visible=(r||l)&&t;const c=this.getOpacity();a?(await this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(await this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),o&&await this.updateLabelNodes({labelSelection:s});const{dataNodeGroup:u,markerGroup:h,datumSelection:f,labelSelection:g,markerSelection:x,paths:y,labelGroup:b}=this,{itemId:v}=this.contextNodeData??{};u.opacity=c,u.visible=r||l,b.visible=l,a&&(h.opacity=c,h.zIndex=u.zIndex>=4?u.zIndex:u.zIndex+1,h.visible=l),b&&(b.opacity=c),await this.updatePathNodes({seriesHighlighted:t,itemId:v,paths:y,opacity:c,visible:l,animationEnabled:r}),u.visible&&(await this.updateDatumNodes({datumSelection:f,highlightedItems:e,isHighlight:!1}),await this.updateLabelNodes({labelSelection:g}),a&&await this.updateMarkerNodes({markerSelection:x,isHighlight:!1}))}getHighlightLabelData(e,t){const i=e.filter(n=>n.datum===t.datum&&n.itemId===t.itemId);return i.length===0?void 0:i}getHighlightData(e,t){return t?[t]:void 0}async updateHighlightSelection(e){var l;const{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const s=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight(),a=e&&(s!=null&&s.datum)?s:void 0;let o,r;if(a!=null){const c=this.isLabelEnabled(),{labelData:u,nodeData:h}=n;r=this.getHighlightData(h,a),o=c?this.getHighlightLabelData(u,a):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:r,highlightSelection:t}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:i}),r}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,i=new Fe(0,0,e,t);this.quadtree=new X1e(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){const t=super.pickNodeExactShape(e);if(t)return t;const{x:i,y:n}=e,{opts:{hasMarkers:s}}=this;let a;const{dataNodeGroup:o,markerGroup:r}=this;if(a=o.pickNode(i,n),!a&&s&&(a=r==null?void 0:r.pickNode(i,n)),a&&a.datum.missing!==!0)return{datum:a.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:c}=l.pickNodeExact(e)??{};if(c!=null&&(c==null?void 0:c.missing)!==!0)return{datum:c,distance:0}}}pickNodeClosestDatum(e){var u;const{x:t,y:i}=e,{axes:n,_contextNodeData:s}=this;if(!s)return;const a=n.x,o=n.y,r={x:t,y:i};let l=1/0,c;for(const h of s.nodeData){const{point:{x:f=NaN,y:g=NaN}={}}=h;if(isNaN(f)||isNaN(g)||!((a==null?void 0:a.inRange(f))&&(o==null?void 0:o.inRange(g))))continue;const y=Math.max((r.x-f)**2+(r.y-g)**2,0);y<l&&(l=y,c=h)}for(const h of this.moduleMap.modules()){const f=h.pickNodeNearest(e);if(f!==void 0&&f.distanceSquared<l){l=f.distanceSquared,c=f.datum;break}}if(c){const h=Math.max(Math.sqrt(l)-(((u=c.point)==null?void 0:u.size)??0),0);return{datum:c,distance:h}}}pickNodeMainAxisFirst(e,t){var x;const{x:i,y:n}=e,{axes:s,_contextNodeData:a}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!a)return;const r=s.x,l=s.y,c=[r,l].filter(Gb.is).map(y=>y.direction);if(t&&c.length===0)return;const[u="x"]=c,h=[i,n];u!=="x"&&h.reverse();const f=[1/0,1/0];let g;for(const y of a.nodeData){const{x:b=NaN,y:v=NaN}=y.point??y.midPoint??{};if(isNaN(b)||isNaN(v)||y.missing===!0)continue;const S=[r==null?void 0:r.inRange(b),l==null?void 0:l.inRange(v)];if(u!=="x"&&S.reverse(),!S[0]||!o&&!S[1])continue;const N=[b,v];u!=="x"&&N.reverse();let M=!0;for(let I=0;I<N.length;I++){const C=Math.abs(N[I]-h[I]);if(C>f[I]){M=!1;break}else C<f[I]&&(f[I]=C,f.fill(1/0,I+1,f.length))}M&&(g=y)}if(g){let y=Math.max(f[0]**2+f[1]**2-(((x=g.point)==null?void 0:x.size)??0),0);for(const b of this.moduleMap.modules()){const v=b.pickNodeMainAxisFirst(e);if(v!==void 0&&v.distanceSquared<y){g=v.datum,y=v.distanceSquared;break}}return{datum:g,distance:Math.sqrt(y)}}}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:s}=e,a=t!=null&&t===e.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s}=e,{legendItemName:a}=this.properties,o=a!=null&&a===e.legendItemName;n.id===this.id||o?this.toggleSeriesItem(i,!0):t&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(e,t){const{dirtyNodeData:i,sizeCache:n,minRect:s,minVisibleRect:a}=this.minRectsCache,o=JSON.stringify({width:e,height:t});if(!(o!==n)&&!i&&s&&a)return{minRect:s,minVisibleRect:a};const l=this.computeMinRects(e,t);return this.minRectsCache={dirtyNodeData:!1,sizeCache:o,minRect:l==null?void 0:l.minRect,minVisibleRect:l==null?void 0:l.minVisibleRect},l}computeMinRects(e,t){const i=this._contextNodeData;if(!(i!=null&&i.nodeData.length))return;const{nodeData:n}=i,s=Array(n.length),a=Array(n.length);for(const[S,{midPoint:N}]of n.entries())s[S]=(N==null?void 0:N.x)??0,a[S]=(N==null?void 0:N.y)??0;s.sort((S,N)=>S-N),a.sort((S,N)=>S-N);let o,r,l,c,u=0,h=0;for(let S=1;S<n.length;S++)s[S]>=0&&(o??(o=S)),s[S]>e&&(r??(r=S)),a[S]>=0&&(l??(l=S)),a[S]>t&&(c??(c=S)),u=Math.max(u,s[S]-s[S-1]),h=Math.max(h,a[S]-a[S-1]);r??(r=n.length),c??(c=n.length);const f=o!=null&&r!=null?s.slice(o,r):[],g=l!=null&&c!=null?a.slice(l,c):[];let x=0,y=0;for(let S=1;S<Math.max(f.length,g.length);S++){const N=f[S],M=f[S-1],I=g[S],C=g[S-1];N!=null&&M!=null&&(x=Math.max(x,N-M)),I!=null&&C!=null&&(y=Math.max(y,I-C))}const b=new Fe(0,0,u,h),v=new Fe(0,0,x,y);return{minRect:b,minVisibleRect:v}}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,s=i??[];if(t){const a=n;return this.updateMarkerSelection({nodeData:s,markerSelection:a})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}async updateDatumSelection(e){return e.datumSelection}async updateDatumNodes(e){}async updateMarkerSelection(e){return e.markerSelection}async updateMarkerNodes(e){}async updatePaths(e){e.paths.forEach(t=>t.visible=!1)}async updatePathNodes(e){const{paths:t,opacity:i,visible:n}=e;for(const s of t)s.opacity=i,s.visible=n}resetPathAnimation(e){var i;const{path:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&e.paths.forEach(n=>{Ji([n],t)})}resetDatumAnimation(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Ji([e.datumSelection],t)}resetLabelAnimation(e){var i;const{label:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Ji([e.labelSelection],t)}resetMarkerAnimation(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&this.opts.hasMarkers&&Ji([e.markerSelection],t)}resetAllAnimation(e){var t;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),((t=e.contextData)==null?void 0:t.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Ji([e],t)}animateReadyHighlightMarkers(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Ji([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){const e=this.getAnimationData();e&&this.animationState.transition("clear",e)}getAnimationData(e,t){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}calculateScaling(){const e={};for(const t of Object.values(VL)){const i=this.axes[t];if(i){if(i.scale instanceof GL){const{range:n,domain:s}=i.scale;e[t]={type:"log",convert:a=>i.scale.convert(a),domain:[s[0],s[1]],range:[n[0],n[1]]}}else if(i.scale instanceof jt){const{range:n}=i.scale,s=i.scale.getDomain();e[t]={type:"continuous",domain:[s[0],s[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;e[t]={type:"category",domain:n,range:n.map(s=>i.scale.convert(s))}}}}return e}},owe=["top","right","bottom","left"],CE=class extends Ad{constructor(e,t){super(e,t),this.paired=!0,this.firstSeriesTranslation=!0,this.lastUpdateClipRect=void 0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(e,t){var i;super.onAxisChange(e,t),(i=this.ctx)==null||i.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}setRootClipRects(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this;t.setClipRect(e),n.setClipRect(e),i.setClipRect(e)}performLayout(e){const{firstSeriesTranslation:t,seriesRoot:i,annotationRoot:n,highlightRoot:s}=this,{seriesRect:a,visibility:o,clipSeries:r}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=o.series,this.seriesRect=a,this.animationRect=e.layoutBox;const{x:l,y:c}=a;if(t){for(const g of[i,n,s])g.translationX=Math.floor(l),g.translationY=Math.floor(c);this.firstSeriesTranslation=!1}else{const{translationX:g,translationY:x}=i;Sl(this.id,"seriesRect",this.ctx.animationManager,[i,s,n],{translationX:g,translationY:x},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}const u=a.clone().grow(this.seriesArea.padding),h=this.seriesArea.clip||r?u:void 0,{lastUpdateClipRect:f}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&f!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:f,to:u,onUpdate:g=>this.setRootClipRects(g),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(g=>g.getLayoutState()),series:{rect:a,paddedRect:u,visible:o.series,shouldFlipXY:this.shouldFlipXY()},clipSeries:r})}updateAxes(e){var y;const t=this.axes.flatMap(b=>b.crossLines??[]).map(b=>b.id),i=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===t.length&&this._lastCrossLineIds.every((b,v)=>t[v]===b);let n,s,a;i?(n=new Map(this._lastAxisAreaWidths.entries()),s=this._lastClipSeries,a={...this._lastVisibility}):(n=new Map,s=!1,a={crossLines:!0,series:!0},this._lastCrossLineIds=t);const o=new Set(this.axes.map(b=>b.position));for(const b of n.keys())o.has(b)||n.delete(b);const r=(b,v,S)=>{if([...b.keys()].some(N=>!n.has(N))||a.crossLines!==S.crossLines||a.series!==S.series||s!==v)return!1;for(const[N,M]of n.entries()){const I=b.get(N);if((M!=null||I!=null)&&M!==I)return!1}return!0},l=b=>{for(const[v,S]of b.entries()){if(S&&Math.abs(S)===1/0){b.set(v,0);continue}b.set(v,S!=null?Math.ceil(S):S)}return b};let c=new Map,u={},h=!1,f=(y=this.seriesRect)==null?void 0:y.clone(),g=0;do{n=new Map(c.entries()),s=h,Object.assign(a,u);const b=this.updateAxesPass(n,e.clone(),f);if(c=l(b.axisAreaWidths),u=b.visibility,h=b.clipSeries,{seriesRect:f}=b,g++>10){Ie.warn("unable to find stable axis layout.");break}}while(!r(c,h,u));this.axes.forEach(b=>{b.update()});const x=5;return this.axes.forEach(b=>{if(b.setCrossLinesVisible(a.crossLines),!!f)switch(b.clipGrid(f.x,f.y,f.width+x,f.height+x),b.position){case"left":case"right":b.clipTickLines(e.x,f.y,e.width+x,f.height+x);break;case"top":case"bottom":b.clipTickLines(f.x,e.y,f.width+x,e.height+x);break}}),this._lastAxisAreaWidths=n,this._lastVisibility=a,this._lastClipSeries=s,{seriesRect:f,visibility:a,clipSeries:s}}updateAxesPass(e,t,i){var x;const n=new Map,s=new Map,a={series:!0,crossLines:!0};let o=!1;const r={},l=this.applySeriesPadding(t),c=i?this.buildCrossLinePadding(e):{},u=this.buildAxisBound(l,e,c,a),h=this.buildSeriesRect(u,e);for(const y of this.axes){const{position:b="left"}=y,{clipSeries:v,axisThickness:S}=this.calculateAxisDimensions({axis:y,seriesRect:h,primaryTickCounts:r,clipSeries:o});n.set(y.id,S),s.has(b)||s.set(b,[]),(x=s.get(b))==null||x.push(y),o=o||v}const f=new Map,g=new Map;for(const[y,b]of s.entries()){const v=y==="left"||y==="right";f.set(y,this.calculateAxisArea(b,n,g,v))}for(const[y,b]of s.entries())this.positionAxes({axes:b,position:y,axisWidths:n,axisOffsets:g,axisAreaWidths:f,axisBound:u,seriesRect:h});return{clipSeries:o,seriesRect:h,axisAreaWidths:f,visibility:a}}buildCrossLinePadding(e){const t={};this.axes.forEach(i=>{var n;(n=i.crossLines)==null||n.forEach(s=>{var a;(a=s.calculatePadding)==null||a.call(s,t)})});for(const[i,n=0]of Object.entries(t))t[i]=Math.max(n-(e.get(i)??0),0);return t}applySeriesPadding(e){const t=e.clone();return owe.forEach(i=>{const n=this.seriesArea.padding[i],s=this.axes.findLast(a=>a.position===i);s?s.seriesAreaPadding=n:t.shrink(n,i)}),t}buildAxisBound(e,t,i,n){const s=e.clone(),{top:a=0,right:o=0,bottom:r=0,left:l=0}=i,c=l+o,u=a+r,h=(t.get("left")??0)+(t.get("right")??0)+c,f=(t.get("top")??0)+(t.get("bottom")??0)+u;return s.width<=h||s.height<=f?(n.crossLines=!1,n.series=!1,s):(s.x+=l,s.y+=a,s.width-=c,s.height-=u,s)}buildSeriesRect(e,t){const i=e.clone();return i.x+=t.get("left")??0,i.y+=t.get("top")??0,i.width-=(t.get("left")??0)+(t.get("right")??0),i.height-=(t.get("top")??0)+(t.get("bottom")??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(e,t,i,n){const{x:s,y:a,width:o,height:r}=e,c=[s,a,s+o,a+r][(i==="x"?0:1)+(n===1?0:2)];return(n===1?Math.min:Math.max)(t,c)}calculateAxisDimensions(e){const{axis:t,seriesRect:i,primaryTickCounts:n}=e;let{clipSeries:s}=e;const{position:a="left",direction:o}=t;this.sizeAxis(t,i,a);const r=this.getSyncedDomain(t),l=t.calculateLayout(r,t.nice?n[o]:void 0),c=o==="y";n[o]??(n[o]=l.primaryTickCount),s||(s=t.dataDomain.clipped||t.visibleRange[0]>0||t.visibleRange[1]<1);let u;return t.thickness!=null&&t.thickness>0?u=t.thickness:u=c?l.bbox.width:l.bbox.height,u=Math.ceil(u),{clipSeries:s,axisThickness:u}}getSyncedDomain(e){const t=this.modulesManager.getModule("sync");if(!(t!=null&&t.enabled))return;const i=t.getSyncedDomain(e);if(i&&e.dataDomain.domain.length){let n;const{domain:s}=e.scale;if(jt.is(e.scale)){const[a,o]=ya(i);n=a!==s[0]||o!==s[1]}else n=!Ku(i,s);n&&!this.skipSync&&t.updateSiblings()}return i}sizeAxis(e,t,i){const n=e instanceof Gb||e instanceof dd,s=i==="left"||i==="right";let{min:a,max:o}=this.ctx.zoomManager.getAxisZoom(e.id);const{width:r,height:l}=t,c=0,u=s?l:r;let h=c,f=u;const{width:g,unit:x,align:y}=e.layoutConstraints;x==="px"?f=h+g:f=f*g/100,y==="end"&&(h=u-(f-h),f=u),n&&s?[a,o]=[1-o,1-a]:s&&([h,f]=[f,h]),e.range=[h,f],e.visibleRange=[a,o],e.gridLength=s?r:l}calculateAxisArea(e,t,i,n){const{width:s,height:a,canvas:o}=this.ctx.scene;let r=n?a%o.pixelRatio:s%o.pixelRatio,l=0;for(const c of e){i.set(c.id,r);const u=t.get(c.id)??0;l=Math.max(l,r+u),c.layoutConstraints.stacked&&(r+=u+15)}return l}positionAxes(e){const{axes:t,axisBound:i,axisWidths:n,axisOffsets:s,axisAreaWidths:a,seriesRect:o,position:r}=e,l=a.get(r)??0;let c="x",u="y",h=1,f=0;(r==="top"||r==="bottom")&&(c="y",u="x",f+=1),f+=i[c],(r==="right"||r==="bottom")&&(h=-1,f+=c==="x"?i.width:i.height);for(const g of t){const x=a.get(u==="x"?"left":"top")??0;g.translation[u]=i[u]+x;const y=n.get(g.id)??0,b=s.get(g.id)??0;g.translation[c]=this.clampToOutsideSeriesRect(o,f+h*(b+y),c,h),g.gridPadding=l-b-y,g.updatePosition()}}shouldFlipXY(){return this.series.every(e=>e instanceof kd&&e.shouldFlipXY())}};CE.className="CartesianChart";CE.type="cartesian";var jx=class i${constructor(t,i,n){this.factoryApi=i,this.licenseManager=n,this.chart=t}static isInstance(t){var i;return t instanceof i$||((i=t.constructor)==null?void 0:i.name)==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){const i=["getOptions","destroy"],n=Object.keys(Object.getPrototypeOf(t)??{});return i.every(s=>n.includes(s))}async update(t){this.factoryApi.update(t,this),await this.chart.waitForUpdate()}async updateDelta(t){this.factoryApi.updateUserDelta(this,t),await this.chart.waitForUpdate()}getOptions(){const t=Dn(this.chart.getOptions());for(const i in t)i.startsWith("_")&&delete t[i];return t}waitForUpdate(){return this.chart.waitForUpdate()}async download(t){const i=await this.prepareResizedChart(this,t);try{i.chart.download(t==null?void 0:t.fileName,t==null?void 0:t.fileFormat)}finally{i.destroy()}}async __toSVG(t){const i=await this.prepareResizedChart(this,{width:600,height:300,...t});try{return i.chart.toSVG()}finally{i.destroy()}}async getImageDataURL(t){const i=await this.prepareResizedChart(this,t);try{return i.chart.getCanvasDataURL(t==null?void 0:t.fileFormat)}finally{i.destroy()}}getState(){const{factoryApi:{caretaker:t},chart:{ctx:{annotationManager:i}}}=this;return t.save(i)}async setState(t){const{factoryApi:{caretaker:i},chart:{ctx:{annotationManager:n}}}=this;i.restore(t,n),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}async prepareResizedChart(t,i={}){var g;const{chart:n}=t,s=i.width??n.width??n.ctx.scene.canvas.width,a=i.height??n.height??n.ctx.scene.canvas.height,o=t.getState(),r=Zu.hasEnterpriseModules(),l={...n.chartOptions.processedOverrides,container:document.createElement("div"),width:s,height:a},c=n.getOptions();r&&(l.animation={enabled:!1},Bm(c)&&(l.toolbar={enabled:!1}),(g=this.licenseManager)!=null&&g.isDisplayWatermark()&&(l.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const u={...n.chartOptions.specialOverrides},h={...n.chartOptions.optionMetadata};i.width!=null&&i.height!=null&&(u.overrideDevicePixelRatio=1);const f=await this.factoryApi.create(c,l,u,h);return await f.setState(o),f.chart.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),n.series.forEach((x,y)=>{x.visible||(f.chart.series[y].visible=!1)}),f.chart.update(0,{forceNodeDataRefresh:!0}),await f.waitForUpdate(),f}};jx.chartInstances=new WeakMap;j([Zs({oldValue(e){e.destroyed||(e.publicApi=void 0),jx.chartInstances.delete(e)},newValue(e){e.publicApi=this,jx.chartInstances.set(e,this)}})],jx.prototype,"chart",2);var cF=jx,DE=class extends Wb{constructor(e){super(),this.ctx=e,this.localeText=void 0}};j([ws(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),_(UW,{optional:!0})],DE.prototype,"localeText",2);j([ws(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),_(Ia,{optional:!0})],DE.prototype,"getLocaleText",2);var rwe={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new DE(e)},Do=class extends jt{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(t){return t}ticks(){const t=this.tickCount??jt.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||!this.domain.every(isFinite))return[];this.refresh();const[i,n]=this.getDomain();if(this.interval){const s=Math.abs(this.interval);if(!tb((n-i)/s,this.getPixelRange()))return pN(i,n,s)}return hN(i,n,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(t,i){return this.interval??Pm(t,i,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const t=this.tickCount;if(t<1){this.niceDomain=[...this.domain];return}let[i,n]=this.domain;if(t===1)[i,n]=Ive(i,n);else{const s=i>n?Math.ceil:Math.floor,a=n<i?Math.floor:Math.ceil,o=4;for(let r=0;r<o;r++){const l=i,c=n,u=this.getTickStep(i,n),[h,f]=this.domain;if(u>=1)i=s(h/u)*u,n=a(f/u)*u;else{const g=1/u;i=s(h*g)/g,n=a(f*g)/g}if(i===l&&n===c)break}}this.niceDomain=[i,n]}tickFormat({ticks:t,specifier:i}){return aH(t??this.ticks(),i)}};function lwe(e,t,i){let[n,s]=ya(e);n=cwe(Math.floor(n),s,t);const a=dwe(n,s,t),o=t-1;s=n+o*a;const r=i?[s,n]:[n,s],l=uwe(n,a,t);return{domain:r,ticks:l}}function cwe(e,t,i){const n=Math.abs(t-e)/(i-1),s=Math.floor(Math.log10(n)),a=Math.pow(10,s);return Math.floor(e/a)*a}function uwe(e,t,i){const n=Math.floor(Math.log10(t)),s=t>0&&t<1?Math.abs(n):0,a=Math.pow(10,s),o=[];for(let r=0;r<i;r++){const l=e+t*r;o[r]=Math.round(l*a)/a}return o}function dwe(e,t,i){const n=i-1,s=(t-e)/n;return hwe(s)}function hwe(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}var hd=class extends ud{constructor(e,t=new Do){super(e,t),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:s}=sN(e,t,i);return{domain:n,clipped:s}}updateSecondaryAxisTicks(e){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];const{domain:t,ticks:i}=lwe(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),i}};hd.className="NumberAxis";hd.type="number";j([_(zo(qm,Qm("max"))),Id(NaN)],hd.prototype,"min",2);j([_(zo(qm,Jm("min"))),Id(NaN)],hd.prototype,"max",2);var n$=_t(e=>Va(e)&&e!==0,"a non-zero number"),bp=class extends hd{constructor(e){super(e,new GL),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:s}=sN(e,t,i),a=n[0]>n[1],o=n[0]<0&&n[1]>0,r=n[0]===0&&n[1]===0;return(a||o||r)&&(o?Ie.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):r&&Ie.warn("the data domain has 0 extent, no data is rendered.")),n[0]===0&&(n[0]=1),n[1]===0&&(n[1]=-1),{domain:n,clipped:s}}set base(e){this.scale.base=e}get base(){return this.scale.base}};bp.className="LogAxis";bp.type="log";j([_(zo(qm,n$,Qm("max"))),Id(NaN)],bp.prototype,"min",2);j([_(zo(qm,n$,Jm("min"))),Id(NaN)],bp.prototype,"max",2);var ag=class extends ud{constructor(e){super(e,new WL),this.min=void 0,this.max=void 0}normaliseDataDomain(e){var s;let{min:t,max:i}=this,n=!1;return typeof t=="number"&&(t=new Date(t)),typeof i=="number"&&(i=new Date(i)),e.length>2&&(e=((s=Ml(e))==null?void 0:s.map(a=>new Date(a)))??[]),t instanceof Date&&(n||(n=t>e[0]),e=[t,e[1]]),i instanceof Date&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:n}}onFormatChange(e,t,i,n){n?super.onFormatChange(e,t,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:e,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:e,domain:i,formatOffset:1}))}};ag.className="TimeAxis";ag.type="time";j([_(zo(_L,Qm("max")),{optional:!0})],ag.prototype,"min",2);j([_(zo(_L,Jm("min")),{optional:!0})],ag.prototype,"max",2);var px=(e,{x0:t,y0:i,x1:n,y1:s,cx:a,cy:o},r,l)=>{if(l&&e.moveTo(t,i),t!==n||i!==s){const c=Math.atan2(i-o,t-a),u=Math.atan2(s-o,n-a);e.arc(a,o,r,c,u)}else e.lineTo(t,i)},uF=1e-6,n1=(e,t,i,n,s)=>{let a=!1,o=!1,r=n-Math.sqrt(Math.max(s**2-i**2,0)),l=0,c=0,u=i-Math.sqrt(Math.max(s**2-n**2,0));return r>e?(a=!0,r=e,l=i-Math.sqrt(Math.max(s**2-(n-e)**2))):r<uF&&(r=0),u>t?(o=!0,c=n-Math.sqrt(Math.max(s**2-(i-t)**2)),u=t):u<uF&&(u=0),{leading0:r,leading1:l,trailing0:c,trailing1:u,leadingClipped:a,trailingClipped:o}},wA=(e,t,i,n,s,a,o)=>{let{topLeft:r,topRight:l,bottomRight:c,bottomLeft:u}=a;const h=Math.max(r+u,l+c),f=Math.max(r+l,u+c);if(h<=0&&f<=0){o==null?e.rect(t,i,n,s):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&r===l&&r===c&&r===u){e.roundRect(t,i,n,s,r);return}if(n<0&&(t+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),n<=0||s<=0)return;if(o==null)o=new Fe(t,i,n,s);else{const L=Math.max(t,o.x),O=Math.min(t+n,o.x+o.width),P=Math.max(i,o.y),z=Math.min(i+s,o.y+o.height);o=new Fe(L,P,O-L,z-P)}const g=Math.max(h/s,f/n,1);g>1&&(r/=g,l/=g,c/=g,u/=g);let x=!0,y=!0,b=!0,v=!0,S,N,M,I;if(x){const L=n1(o.height,o.width,Math.max(t+r-o.x,0),Math.max(i+r-o.y,0),r);L.leadingClipped&&(v=!1),L.trailingClipped&&(y=!1);const O=Math.max(o.x+L.leading1,o.x),P=Math.max(o.y+L.leading0,o.y),z=Math.max(o.x+L.trailing1,o.x),V=Math.max(o.y+L.trailing0,o.y),G=t+r,H=i+r;S={x0:O,y0:P,x1:z,y1:V,cx:G,cy:H}}if(y){const L=n1(o.width,o.height,Math.max(i+l-o.y,0),Math.max(o.x+o.width-(t+n-l),0),l);L.leadingClipped&&(x=!1),L.trailingClipped&&(b=!1);const O=Math.min(o.x+o.width-L.leading0,o.x+o.width),P=Math.max(o.y+L.leading1,o.y),z=Math.min(o.x+o.width-L.trailing0,o.x+o.width),V=Math.max(o.y+L.trailing1,o.y),G=t+n-l,H=i+l;N={x0:O,y0:P,x1:z,y1:V,cx:G,cy:H}}if(b){const L=n1(o.height,o.width,Math.max(o.x+o.width-(t+n-c),0),Math.max(o.y+o.height-(i+s-c),0),c);L.leadingClipped&&(y=!1),L.trailingClipped&&(v=!1);const O=Math.min(o.x+o.width-L.leading1,o.x+o.width),P=Math.min(o.y+o.height-L.leading0,o.y+o.height),z=Math.min(o.x+o.width-L.trailing1,o.x+o.width),V=Math.min(o.y+o.height-L.trailing0,o.y+o.height),G=t+n-c,H=i+s-c;M={x0:O,y0:P,x1:z,y1:V,cx:G,cy:H}}if(v){const L=n1(o.width,o.height,Math.max(o.y+o.height-(i+s-u),0),Math.max(t+u-o.x,0),u);L.leadingClipped&&(b=!1),L.trailingClipped&&(x=!1);const O=Math.max(o.x+L.leading0,o.x),P=Math.min(o.y+o.height-L.leading1,o.y+o.height),z=Math.max(o.x+L.trailing0,o.x),V=Math.min(o.y+o.height-L.trailing1,o.y+o.height),G=t+u,H=i+s-u;I={x0:O,y0:P,x1:z,y1:V,cx:G,cy:H}}let C=!1;x&&S!=null&&(px(e,S,r,!C),C||(C=!0)),y&&N!=null&&(px(e,N,l,!C),C||(C=!0)),b&&M!=null&&(px(e,M,c,!C),C||(C=!0)),v&&I!=null&&(px(e,I,u,!C),C||(C=!0)),e.closePath()},Xs=class extends Ns{constructor(){super(...arguments),this.borderPath=new sb,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Mr.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Mr.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var v;const{path:t,borderPath:i,crisp:n,topLeftCornerRadius:s,topRightCornerRadius:a,bottomRightCornerRadius:o,bottomLeftCornerRadius:r}=this;let{x:l,y:c,width:u,height:h,strokeWidth:f,clipBBox:g}=this;const y=1/(((v=this.layerManager)==null?void 0:v.canvas.pixelRatio)??1);let b=1;if(t.clear(!0),i.clear(!0),n&&(u<=y&&(b*=u/y),h<=y&&(b*=h/y),u=this.align(l,u),h=this.align(c,h),l=this.align(l),c=this.align(c),g=g!=null?new Fe(this.align(g.x),this.align(g.y),this.align(g.x,g.width),this.align(g.y,g.height)):void 0),f)if(u<y){const S=l+y/2;i.moveTo(S,c),i.lineTo(S,c+h),f=y,this.borderClipPath=void 0}else if(h<y){const S=c+y/2;i.moveTo(l,S),i.lineTo(l+u,S),f=y,this.borderClipPath=void 0}else if(f<u&&f<h){const S=f/2;l+=S,c+=S,u-=f,h-=f;const N=g==null?void 0:g.clone().shrink(S),M={topLeft:s>0?s-f:0,topRight:a>0?a-f:0,bottomRight:o>0?o-f:0,bottomLeft:r>0?r-f:0};this.borderClipPath=void 0,u>0&&h>0&&(N==null||(N==null?void 0:N.width)>0&&(N==null?void 0:N.height)>0)&&(wA(t,l,c,u,h,M,N),wA(i,l,c,u,h,M,N))}else this.borderClipPath=this.borderClipPath??new sb,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,u,h),i.rect(l,c,u,h);else{const S={topLeft:s,topRight:a,bottomRight:o,bottomLeft:r};this.borderClipPath=void 0,wA(t,l,c,u,h,S,g)}if([s,a,o,r].every(S=>S===0)){const S=this.getBBox();this.hittester=S.containsPoint.bind(S),this.distanceSquared=(N,M)=>this.getBBox().distanceSquared(N,M)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=b}computeBBox(){const{x:t,y:i,width:n,height:s,clipBBox:a}=this;return(a==null?void 0:a.clone())??new Fe(t,i,n,s)}isPointInPath(t,i){return this.hittester(t,i)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,i){return this.distanceCalculator(t,i)}applyFillAlpha(t){const{fillOpacity:i,microPixelEffectOpacity:n,opacity:s}=this;t.globalAlpha*=s*i*n}renderStroke(t){const{stroke:i,effectiveStrokeWidth:n}=this;if(i&&n){const{globalAlpha:s}=t,{strokeOpacity:a,lineDash:o,lineDashOffset:r,lineCap:l,lineJoin:c,borderPath:u,borderClipPath:h,opacity:f,microPixelEffectOpacity:g}=this;h&&t.clip(h.getPath2D()),t.strokeStyle=i,t.globalAlpha*=f*a*g,t.lineWidth=n,o&&t.setLineDash(o),r&&(t.lineDashOffset=r),l&&(t.lineCap=l),c&&(t.lineJoin=c),t.stroke(u.getPath2D()),t.globalAlpha=s}}};Xs.className="Rect";j([st()],Xs.prototype,"x",2);j([st()],Xs.prototype,"y",2);j([st()],Xs.prototype,"width",2);j([st()],Xs.prototype,"height",2);j([st()],Xs.prototype,"topLeftCornerRadius",2);j([st()],Xs.prototype,"topRightCornerRadius",2);j([st()],Xs.prototype,"bottomRightCornerRadius",2);j([st()],Xs.prototype,"bottomLeftCornerRadius",2);j([st()],Xs.prototype,"clipBBox",2);j([st()],Xs.prototype,"crisp",2);var og=class extends Wb{constructor(t){super(),this.ctx=t,this.rectNode=new Xs,this.textNode=new fn,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(t.scene.attachNode(this.node),t.layoutManager.addListener("layout:complete",i=>this.onLayoutComplete(i)))}createNode(){return new ut({name:"background",zIndex:0})}onLayoutComplete(t){const{width:i,height:n}=t.chart;this.rectNode.width=i,this.rectNode.height=n}};j([_(Qe),Pn("node","visible")],og.prototype,"visible",2);j([_(Rt,{optional:!0}),Pn("rectNode","fill")],og.prototype,"fill",2);j([_(Be,{optional:!0})],og.prototype,"image",2);j([_(Ae,{optional:!0}),Pn("textNode")],og.prototype,"text",2);var s$={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new og(e)};function pwe({orientation:e,bboxes:t,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:a=0,forceResult:o=!1}){const r=e==="horizontal",l={max:r?n:i,fn:r?f=>f.width:f=>f.height,padding:r?a:s},c={max:r?i:n,fn:r?f=>f.height:f=>f.width,padding:r?s:a};let u=0;const h=[];for(;u<t.length;){const f=t.slice(u),g=fwe(f,u,l,c,o);if(!g)return;u+=g.processedBBoxCount,h.push(g.pageIndices)}return gwe(h,e,t,s,a)}function fwe(e,t,i,n,s){let o=xwe(e,i);if(o<1){if(!s)return;o=1}let r=o;for(;r>=1;){const l=mwe(e,t,r,i,n,s);if(l==null&&r<=1)return;if(l==null){r--;continue}if(typeof l=="number"){if(l<=1)return;r=l<r&&l>1?l:r,r--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function mwe(e,t,i,n,s,a){const o=[];let r=0,l=0,c=[];const u=[];for(let h=0;h<e.length;h++){const f=(h+i)%i;f===0&&(r+=l,l=0,c.length>0&&o.push(c),c=[]);const g=n.fn(e[h])+n.padding;u[f]=Math.max(u[f]??0,g),l=Math.max(l,s.fn(e[h])+s.padding);const x=r+l,y=!a||o.length>0;if(x>s.max&&y){c=[];break}if(u.reduce((v,S)=>v+S,0)>n.max&&!a)return u.length<i?u.length:void 0;c.push(h+t)}return c.length>0&&o.push(c),o.length>0?o:void 0}function gwe(e,t,i,n,s){let a=0,o=0;return{pages:e.map(l=>{t==="horizontal"&&(l=ywe(l));let c=0;const u=l.map(g=>{const x=g.map(v=>(c=Math.max(v,c),i[v]));let y=0,b=0;return x.forEach(v=>{y+=v.height+n,b=Math.max(b,v.width+s)}),{indices:g,bboxes:x,columnHeight:Math.ceil(y),columnWidth:Math.ceil(b)}});let h=0,f=0;return u.forEach(g=>{h+=g.columnWidth,f=Math.max(f,g.columnHeight)}),a=Math.max(h,a),o=Math.max(f,o),{columns:u,startIndex:l[0][0],endIndex:c,pageWidth:h,pageHeight:f}}),maxPageWidth:a,maxPageHeight:o}}function ywe(e){const t=[];for(const i of e[0])t.push([]);return e.forEach((i,n)=>{i.forEach((s,a)=>{t[a][n]=s})}),t}function xwe(e,t){const i=e.length;let n=0;for(let s=0;s<i;s++)if(n+=t.fn(e[s])+t.padding,n>t.max)return i/s<2?Math.ceil(i/2):s;return i}var vp=class extends ld{constructor(t){super(),this.sourceImage=t,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(t,i,n,s){this.sourceImage=t,this.width=t.width/i,this.height=t.height/i,this.x=n/i,this.y=s/i,this.markDirty(3)}render(t){const{ctx:i,forceRender:n,stats:s}=t;if(this.dirty===0&&!n){s&&s.nodesSkipped++;return}const a=this.sourceImage;a&&(i.globalAlpha=this.opacity,i.drawImage(a,0,0,a.width,a.height,this.x,this.y,this.width,this.height),super.render(t))}};j([Oe({redraw:3})],vp.prototype,"x",2);j([Oe({redraw:3})],vp.prototype,"y",2);j([Oe({redraw:3})],vp.prototype,"width",2);j([Oe({redraw:3})],vp.prototype,"height",2);j([Oe({redraw:3})],vp.prototype,"opacity",2);var Cd=class extends Md(ut){constructor(){super({name:"markerLabelGroup"}),this.label=new fn,this.symbolsGroup=new ut({name:"legend-markerLabel-symbols"}),this.bitmap=new vp,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:e,label:t,lines:i}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1,this.updateSymbols(e,i),this.append([this.symbolsGroup,t])}destroy(){super.destroy(),this.destroyProxyButton()}destroyProxyButton(){var e,t;(e=this.proxyButton)==null||e.button.remove(),(t=this.proxyButton)==null||t.listitem.remove(),this.proxyButton=void 0}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(e,t){Ku(this._markers,e)&&Ku(this._lines,t)||(this.bitmapDirty=!0,this._markers=e,this._lines=t,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...t,...e]))}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e,this.bitmap.opacity=e,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(e){const{lines:t,markers:i}=this;[t,i].forEach(n=>n.forEach(s=>s.visible=!e)),this.bitmap.visible=e}update(e,{spriteAAPadding:t,spritePixelRatio:i},n){const{markers:s,lines:a}=this;let o=0,r=0,l=0;for(let v=0;v<Math.max(s.length,a.length);v++){const{length:S,spacing:N,isCustomMarker:M}=n[v]??0,I=s[v],C=a[v],L=(I==null?void 0:I.size)??0;let O=1/0,P=1/0,z=1/0,V=1/0,G=1/0;if(I){const H=I.constructor.center,B=(L+I.strokeWidth)/2;M?(I.x=0,I.y=0,I.translationX=(H.x-.5)*L+S/2+l,I.translationY=(H.y-.5)*L,V=I.translationY-B,G=I.translationX-B):(I.x=(H.x-.5)*L+S/2+l,I.y=(H.y-.5)*L,V=I.y-B,G=I.x-B)}C&&(C.x1=l,C.x2=l+S,C.y1=0,C.y2=0,C.markDirty(3),O=-C.strokeWidth/2,P=C.x1,z=C.x2),l+=N+Math.max(S,L),o=Math.min(o,P,z,G),r=Math.min(r,O,V)}const c=n.at(-1),u=this.lines.at(-1),h=this.markers.at(-1),f=u?u.x2:-1/0,g=((h==null?void 0:h.x)??0)+((h==null?void 0:h.size)??0)/2;if(this.label.x=Math.max(f,g)+((c==null?void 0:c.spacing)??0),this.bitmapDirty){this.setBitmapVisibility(!1);const v=(t+o)*i,S=(t-r)*i,N=e.renderSprite(this.symbolsGroup,{scale:i,translateX:Math.floor(v),translateY:Math.floor(S)});this.bitmap.updateBitmap(N,i,Math.ceil(-v),Math.ceil(-S)),this.bitmapDirty=!1,this.refreshVisibilities()}if(n.length<2)return;const x=this.symbolsGroup.getBBox(),y=Math.max((h==null?void 0:h.size)??0,(c==null?void 0:c.length)??0),b=new Fe(x.x+y/2,x.y,y,x.height);this.symbolsGroup.setClipRect(b)}computeBBox(){const{label:e,lines:t,markers:i}=this;return this.toParent(ut.computeChildrenBBox(Uu([e],t,i),!1))}};Cd.className="MarkerLabel";j([Pn("label")],Cd.prototype,"text",2);j([Pn("label")],Cd.prototype,"fontStyle",2);j([Pn("label")],Cd.prototype,"fontWeight",2);j([Pn("label")],Cd.prototype,"fontSize",2);j([Pn("label")],Cd.prototype,"fontFamily",2);j([Pn("label","fill")],Cd.prototype,"color",2);var rg=class extends ht{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};j([_(Rt)],rg.prototype,"color",2);j([_(Sd,{optional:!0})],rg.prototype,"fontStyle",2);j([_(Nd,{optional:!0})],rg.prototype,"fontWeight",2);j([_(Ce)],rg.prototype,"fontSize",2);j([_(Ae)],rg.prototype,"fontFamily",2);var vc=class extends ht{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};j([_(Ce)],vc.prototype,"size",2);j([_(Rt,{optional:!0})],vc.prototype,"fill",2);j([_(Nt,{optional:!0})],vc.prototype,"fillOpacity",2);j([_(Rt,{optional:!0})],vc.prototype,"stroke",2);j([_(Ce)],vc.prototype,"strokeWidth",2);j([_(Nt)],vc.prototype,"strokeOpacity",2);var MN=class extends ht{constructor(e){super(),this.parent=e,this.shape=wm,this.size=15,this.padding=8}};j([Zs({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],MN.prototype,"shape",2);j([_(Ce)],MN.prototype,"size",2);j([_(Ce)],MN.prototype,"padding",2);var wp=class extends ht{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=Po(this),this.marker=new MN(this),this.activeStyle=new vc,this.inactiveStyle=new vc,this.highlightStyle=new vc,this.label=new rg,this.group=new yc({name:"pagination"}),this.labelNode=new fn,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new wm,this._previousButton=new wm,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(e=>e())}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:n,fontStyle:s,fontWeight:a,fontSize:o,fontFamily:r}}=this;i.text=`${e+1} / ${t}`,i.fill=n,i.fontStyle=s,i.fontWeight=a,i.fontSize=o,i.fontFamily=r}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:s,inactiveStyle:a,highlightStyle:o,highlightActive:r}=this,l=(c,u)=>u?a:c===r?o:s;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",n))}updateMarker(e,t){const{size:i}=this.marker;e.size=i,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=t===0,n=e===t-1,s=e===0;this.nextButtonDisabled=n||i,this.previousButtonDisabled=s||i}setPage(e){e=lt(0,e,this.totalPages-1),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const e=hp(hl(this.marker.shape||wm));this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const e=Ii.toCanvas(this.previousButton),t=Ii.toCanvas(this.nextButton);return{prev:e,next:t}}};wp.className="Pagination";j([_(Be)],wp.prototype,"marker",2);j([_(Be)],wp.prototype,"activeStyle",2);j([_(Be)],wp.prototype,"inactiveStyle",2);j([_(Be)],wp.prototype,"highlightStyle",2);j([_(Be)],wp.prototype,"label",2);var Dd=class extends ht{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};j([_(Ce,{optional:!0})],Dd.prototype,"maxLength",2);j([_(Rt)],Dd.prototype,"color",2);j([_(Sd,{optional:!0})],Dd.prototype,"fontStyle",2);j([_(Nd,{optional:!0})],Dd.prototype,"fontWeight",2);j([_(Ce)],Dd.prototype,"fontSize",2);j([_(Ae)],Dd.prototype,"fontFamily",2);j([_(Ia,{optional:!0})],Dd.prototype,"formatter",2);var lg=class extends ht{constructor(){super(...arguments),this.size=15,this.padding=8}};j([ws(e=>{var t;return(t=e.parent)==null?void 0:t.onMarkerShapeChange()})],lg.prototype,"shape",2);j([_(Ce)],lg.prototype,"size",2);j([_(Ce)],lg.prototype,"padding",2);j([_(Ce,{optional:!0})],lg.prototype,"strokeWidth",2);j([_(Qe)],lg.prototype,"enabled",2);var LE=class extends ht{};j([_(Ce,{optional:!0})],LE.prototype,"strokeWidth",2);j([_(Ce,{optional:!0})],LE.prototype,"length",2);var Ld=class extends ht{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new lg,this.label=new Dd,this.line=new LE}};j([_(Ce,{optional:!0})],Ld.prototype,"maxWidth",2);j([_(Ce)],Ld.prototype,"paddingX",2);j([_(Ce)],Ld.prototype,"paddingY",2);j([_(Qe)],Ld.prototype,"showSeriesStroke",2);j([_(Be)],Ld.prototype,"marker",2);j([_(Be)],Ld.prototype,"label",2);j([_(Be)],Ld.prototype,"line",2);var EE=class extends ht{};j([_(Ia,{optional:!0})],EE.prototype,"legendItemClick",2);j([_(Ia,{optional:!0})],EE.prototype,"legendItemDoubleClick",2);var Fy="legend-visibility",SA="legend-other-series",dF=class{constructor(e,t,i,n,s){this.type=e,this.enabled=t,this.itemId=i,this.seriesId=n,this.event=s,this.defaultPrevented=!1}preventDefault(){this.defaultPrevented=!0}},Aa=class extends ht{constructor(e){super(),this.ctx=e,this.id=Po(this),this.group=new _m({name:"legend",zIndex:15}),this.itemSelection=li.select(this.group,Cd),this.spriteRenderer=void 0,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this._symbolsDirty=!0,this.toggleSeries=!0,this.item=new Ld,this.listeners=new EE,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.proxyLegendDirty=!0,this.proxyLegendToolbarDestroyFns=new XH,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new wp(t=>e.updateService.update(t),t=>this.updatePageNumber(t)),this.pagination.attachPagination(this.group),this.destroyFns.push(e.contextMenuRegistry.registerDefaultAction({id:Fy,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),e.contextMenuRegistry.registerDefaultAction({id:SA,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)})),this.destroyFns.push(e.layoutManager.registerElement(1,t=>this.positionLegend(t)),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"list",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendItemDescription=kt("p"),this.proxyLegendItemDescription.style.display="none",this.proxyLegendItemDescription.id=`${this.id}-ariaDescription`,this.proxyLegendItemDescription.textContent=this.getItemAriaDescription(),this.proxyLegendToolbar.append(this.proxyLegendItemDescription)}set data(e){this.onDataUpdate(this._data,e),this._data=e,this._symbolsDirty=!0,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.pagination.destroy(),this.itemSelection.clear(),this.proxyLegendToolbarDestroyFns.destroy()}initLegendItemToolbar(){if(!this.proxyLegendDirty)return;this.itemSelection.each((t,i,n)=>{t.destroyProxyButton(),t.proxyButton??(t.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"listswitch",id:`ag-charts-legend-item-${n}`,textContent:this.getItemAriaText(n),ariaChecked:!!t.datum.enabled,ariaDescribedBy:this.proxyLegendItemDescription.id,parent:this.proxyLegendToolbar,onclick:s=>this.onClick(s,t.datum,t.proxyButton.button),ondblclick:s=>this.onDoubleClick(s,t.datum),onmouseenter:s=>this.onHover(s,t),onmouseleave:()=>this.onLeave(),oncontextmenu:s=>this.onContextClick(s,t),onblur:()=>this.onLeave(),onfocus:s=>this.onHover(s,t)}))});const e=this.itemSelection.nodes().map(t=>{var i;return(i=t.proxyButton)==null?void 0:i.button}).filter(Rm);this.proxyLegendToolbarDestroyFns.setFns([...nb({orientation:"horizontal",buttons:e}),...nb({orientation:"vertical",buttons:e})]),this.proxyLegendToolbar.ariaHidden=(e.length===0).toString(),this.proxyLegendDirty=!1}onDataUpdate(e,t){this.proxyLegendDirty=e.length!==t.length||e.some((i,n,s)=>{const[a,o]=[t[n],e[n]];return a.id!==o.id})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;return i?t.call(i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:n,label:s,maxWidth:a,label:{maxLength:o=1/0,fontStyle:r,fontWeight:l,fontSize:c,fontFamily:u}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse(),this.itemSelection.update(h),this.initLegendItemToolbar();const f=[],g=di.toFontString(s),y=a??e*.8,b=this.calculateSpriteDimensions();if(this.spriteRenderer??(this.spriteRenderer=new pY),this.spriteRenderer.resize(b),this.itemSelection.each((P,z)=>{P.fontStyle=r,P.fontWeight=l,P.fontSize=c,P.fontFamily=u;const V=this.updateMarkerLabel(this.spriteRenderer,P,z,b),G=z.itemId??z.id,B=(this.getItemLabel(z)??"<unknown>").replace(/\r?\n/g," ");P.text=this.truncate(B,o,y,V,g,G),f.push(P.getBBox())}),this._symbolsDirty=!1,e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const v=this.size,S=this.oldSize;v[0]=e,v[1]=t,(v[0]!==S[0]||v[1]!==S[1])&&(S[0]=v[0],S[1]=v[1]);const{pages:N,maxPageHeight:M,maxPageWidth:I}=this.updatePagination(f,e,t),C=this.pages;this.pages=N,this.maxPageSize=[I-i,M-n];const L=this.pagination.currentPage,O=this.pages[L];return this.pages.length<1||!O?(this.visible=!1,{oldPages:C}):(this.visible=!0,this.updatePositions(L),this.update(),{oldPages:C})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:i}=this.item,n=!!i.enabled||!t||(e.marker.enabled??!0),s=!!(e.line&&t),a=this.isCustomMarker(n,e.marker.shape);return{markerEnabled:n,lineEnabled:s,isCustomMarker:a}}calcSymbolsLengths(e){const{marker:t,line:i}=this.item,{markerEnabled:n,lineEnabled:s}=this.calcSymbolsEnabled(e),{strokeWidth:a}=this.getMarkerStyles(e),{strokeWidth:o}=s?this.getLineStyles(e):{strokeWidth:0};let r;const{shape:l}=e.marker;if(this.isCustomMarker(n,l)){const h=new l;h.updatePath();const f=h.getBBox();r=Math.max(f.width,f.height)}const c=n?t.size:0,u=s?i.length??25:0;return{markerLength:c,markerStrokeWidth:a,lineLength:u,lineStrokeWidth:o,customMarkerSize:r}}calculateSpriteDimensions(){let e=0,t=0,i=0,n=0;return this.itemSelection.each((a,o)=>{o.symbols.forEach(r=>{const{markerLength:l,markerStrokeWidth:c,lineLength:u,lineStrokeWidth:h,customMarkerSize:f=-1/0}=this.calcSymbolsLengths(r),g=l+c;n=Math.max(n,u,f,l),t=Math.max(t,u,f,g),i=Math.max(i,h,g),e=Math.max(e,c+.5)})}),t+=e*2,i+=e*2,{spritePixelRatio:jn().devicePixelRatio,spriteAAPadding:e,spriteWidth:t,spriteHeight:i,markerWidth:n}}updateMarkerLabel(e,t,i,n){const{marker:s,paddingX:a}=this.item,{markerWidth:o}=n,r=[];let l=a;if(this._symbolsDirty){const c=[],u=[];i.symbols.forEach(h=>{const{shape:f=h.marker.shape}=s,g=hl(f);u.push(new ba({zIndex:0})),c.push(new g({zIndex:1}))}),t.updateSymbols(c,u)}return i.symbols.forEach((c,u)=>{const h=c.marker.padding??s.padding,{markerEnabled:f,lineEnabled:g,isCustomMarker:x}=this.calcSymbolsEnabled(c);t.markers[u].size=f||!g?s.size:0,r.push({length:o,spacing:h,isCustomMarker:x}),(f||g)&&(l+=h+o);const y=t.markers[u],b=t.lines[u];if(y){const{strokeWidth:v,fill:S,stroke:N,fillOpacity:M,strokeOpacity:I}=this.getMarkerStyles(c);y.fill=S,y.stroke=N,y.strokeWidth=v,y.fillOpacity=M,y.strokeOpacity=I}if(b){const v=this.getLineStyles(c);b.stroke=v.stroke,b.strokeOpacity=v.strokeOpacity,b.strokeWidth=v.strokeWidth,b.lineDash=v.lineDash}}),t.update(e,n,r),l}truncate(e,t,i,n,s,a){let o=!1;e.length>t&&(e=e.substring(0,t),o=!0);const r=Rc.getMeasurer({font:s}),l=QL.truncateLine(e,r,i-n,o);return l.endsWith(di.EllipsisChar)?this.truncatedItems.add(a):this.truncatedItems.delete(a),l}updatePagination(e,t,i){const n=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:a,maxPageHeight:o,maxPageWidth:r,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,i),u=a.findIndex(N=>N.endIndex>=s);this.pagination.currentPage=lt(0,u,a.length-1);const{paddingX:h,paddingY:f}=this.item,g=8,x=r-h,y=o-f;let b=0,v=-l.y-this.item.marker.size/2;c?v+=y+g:(b+=-l.x+x+g,v+=(y-l.height)/2),this.pagination.translationX=b,this.pagination.translationY=v,this.pagination.update(),this.pagination.updateMarkers();let S=0;return this.itemSelection.each((N,M,I)=>{var C;I>(((C=a[S])==null?void 0:C.endIndex)??1/0)&&S++,N.pageIndex=S}),{maxPageHeight:o,maxPageWidth:r,pages:a}}updateItemProxyButtons(){const e=this.toggleSeries?"pointer":void 0,t=Math.max(...this.itemSelection.nodes().map(i=>i.getBBox().height));this.itemSelection.each(i=>{if(i.proxyButton){const{listitem:n,button:s}=i.proxyButton,a=i.pageIndex===this.pagination.currentPage;let o=Ii.toCanvas(i);if(o.height!==t){const r=(t-o.height)/2;o={x:o.x,y:o.y-r,height:t,width:o.width}}Ou(s,"pointer-events",a?"auto":"none"),Ou(s,"cursor",e),Yu(n,o)}})}updatePaginationProxyButtons(e){var a,o;this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const t=((e==null?void 0:e.length)??this.pages.length)>1,i=this.pages.length>1;t!==i&&(i?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,onclick:r=>this.pagination.onClick(r,"previous"),onmouseenter:()=>this.pagination.onMouseHover("previous"),onmouseleave:()=>this.pagination.onMouseHover(void 0)}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,onclick:r=>this.pagination.onClick(r,"next"),onmouseenter:()=>this.pagination.onMouseHover("next"),onmouseleave:()=>this.pagination.onMouseHover(void 0)})),this.proxyLegendPagination.ariaHidden="false"):((a=this.proxyNextButton)==null||a.remove(),(o=this.proxyPrevButton)==null||o.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0],this.proxyLegendPagination.ariaHidden="true"));const{prev:n,next:s}=this.pagination.computeCSSBounds();Yu(this.proxyPrevButton,n),Yu(this.proxyNextButton,s),Ou(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),Ou(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous"))}calculatePagination(e,t,i){const{paddingX:n,paddingY:s}=this.item,a=this.getOrientation(),o=["left","right"].includes(this.position);let r=this.pagination.getBBox(),l=new Fe(0,0,0,0),c=[],u=0,h=0,f=0;const g=y=>y.width===r.width&&y.height===r.height,x=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(f++>10){Ie.warn("unable to find stable legend layout.");break}r=l;const y=t-(o?0:r.width),b=i-(o?r.height:0),v=pwe({orientation:a,bboxes:e,maxHeight:b,maxWidth:y,itemPaddingY:s,itemPaddingX:n,forceResult:x});c=(v==null?void 0:v.pages)??[],u=(v==null?void 0:v.maxPageWidth)??0,h=(v==null?void 0:v.maxPageHeight)??0;const S=c.length;if(this.pagination.visible=S>1,this.pagination.totalPages=S,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while(!g(l));return{maxPageWidth:u,maxPageHeight:h,pages:c,paginationBBox:l,paginationVertical:o}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:i,pages:n}=this;if(n.length<1||!n[e])return;const{columns:s,startIndex:a,endIndex:o}=n[e];let r=0,l=0;const c=s.length,u=s[0].indices.length,h=this.getOrientation()==="horizontal",f=s[0].bboxes[0].height+t,g=[];i.each((x,y,b)=>{if(b<a||b>o){x.visible=!1;return}const v=b-a;let S,N;h?(S=v%c,N=Math.floor(v/c)):(S=Math.floor(v/u),N=v%u),x.visible=!0;const M=s[S];M&&(l=Math.floor(f*N),r=Math.floor(g[N]??0),g[N]=(g[N]??0)+M.columnWidth,x.translationX=r,x.translationY=l)}),this.updateItemProxyButtons()}updatePageNumber(e){const{pages:t}=this,{startIndex:i,endIndex:n}=t[e];i===0?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),Ou(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),Ou(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous")),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,i)=>{t.setEnabled(i.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e,ctx:{contextMenuRegistry:t}}=this;e?(t.hideAction(Fy),t.hideAction(SA)):(t.showAction(Fy),t.showAction(SA))}getLineStyles(e){const{stroke:t,strokeOpacity:i=1,strokeWidth:n,lineDash:s}=e.line??{},a=Math.min(2,n??1);return{stroke:t,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??a,lineDash:s}}getMarkerStyles(e){const{fill:t,stroke:i,strokeOpacity:n=1,fillOpacity:s=1,strokeWidth:a}=e.marker,o=Math.min(2,a??1);return{fill:t,stroke:i,strokeOpacity:n,fillOpacity:s,strokeWidth:this.item.marker.strokeWidth??o}}computePagedBBox(){const e=ut.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[t,i]=this.maxPageSize;e.height=Math.max(i,e.height),e.width=Math.max(t,e.width)}return e}findNode(e){const{datum:t,proxyButton:i}=this.itemSelection.select(n=>{var s;return((s=n.datum)==null?void 0:s.itemId)===e.itemId})[0]??{};if(t===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${i} }`);return{datum:t,proxyButton:i}}contextToggleVisibility(e){const{datum:t,proxyButton:i}=this.findNode(e);this.doClick(e.event,t,i.button)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){var c;const i=t.datum;this.preventHidingAll&&((c=this.contextMenuDatum)!=null&&c.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Fy):this.ctx.contextMenuRegistry.enableAction(Fy);const{button:n,offsetX:s,offsetY:a}=e,{x:o,y:r}=Ii.toCanvasPoint(t,s,a),l={type:"contextmenu",sourceEvent:e,button:n,offsetX:o,offsetY:r,deltaX:0,deltaY:0,pageX:NaN,pageY:NaN,preventDefault:()=>e.preventDefault(),pointerHistory:[]};this.ctx.contextMenuRegistry.dispatchContext("legend",l,{legendItem:i})}onClick(e,t,i){this.doClick(e,t,i)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,i){const{listeners:{legendItemClick:n},ctx:{chartService:s,highlightManager:a},preventHidingAll:o,toggleSeries:r}=this;if(!t)return!1;const{id:l,itemId:c,enabled:u}=t,h=s.series.find(x=>x.id===l);if(!h)return!1;let f=u;const g=new dF("click",f,c,h.id,e);return n==null||n(g),g.defaultPrevented||(r&&(f=!u,o&&!f&&this.getVisibleItemCount()<2&&(f=!0),i.ariaChecked=f.toString(),this.ctx.chartEventManager.legendItemClick(h,c,f,t.legendItemName)),f?a.updateHighlight(this.id,{series:h,itemId:c,datum:void 0}):a.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:s}=this;if(n.mode==="integrated"||!t)return!1;const{id:a,itemId:o,seriesId:r}=t,l=n.series.find(u=>u.id===a);if(!l)return!1;const c=new dF("dblclick",!0,o,l.id,e);if(i==null||i(c),c.defaultPrevented)return!0;if(s){const u=n.series.flatMap(g=>g.getLegendData("category")),h=u.filter(g=>g.enabled).length,f=u.find(g=>g.itemId===o&&g.seriesId===r);this.ctx.chartEventManager.legendItemDoubleClick(l,o,(f==null?void 0:f.enabled)??!1,h,f==null?void 0:f.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let i;if(e instanceof FocusEvent){const{x:a,y:o}=Ii.toCanvas(t).computeCenter();i={type:"keyboard",offsetX:a,offsetY:o}}else{e.preventDefault();const{x:a,y:o}=Ii.toCanvasPoint(t,e.offsetX,e.offsetY);i={type:"hover",offsetX:a,offsetY:o}}const{offsetX:n,offsetY:s}=i;return{offsetX:n,offsetY:s,lastPointerEvent:i,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const i=t.datum,n=i?this.ctx.chartService.series.find(s=>s.id===(i==null?void 0:i.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const s=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,s,zm({content:this.getItemLabel(i)}))}else this.ctx.tooltipManager.removeTooltip(this.id);i!=null&&i.enabled&&n?this.updateHighlight({series:n,itemId:i==null?void 0:i.itemId,datum:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){const t=this.ctx.interactionManager.getState();t===32?this.ctx.highlightManager.updateHighlight(this.id,e):t===2&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.itemSelection.each(({proxyButton:e},t,i)=>{(e==null?void 0:e.button)!=null&&(e.button.textContent=this.getItemAriaText(i))}),this.proxyLegendItemDescription.textContent=this.getItemAriaDescription()}getItemAriaText(e){const t=this.data[e],i=t&&this.getItemLabel(t),n=this.ctx.localeManager;if(e>=0&&i){const s=e+1,a=this.data.length;return n.t("ariaLabelLegendItem",{label:i,index:s,count:a})}return n.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(){return this.ctx.localeManager.t("ariaDescriptionLegendItem")}positionLegend(e){if(Ou(this.proxyLegendToolbar,"display",this.visible&&this.enabled?void 0:"none"),!this.enabled||!this.data.length)return;const{layoutBox:t}=e,{x:i,y:n,width:s,height:a}=t,[o,r]=this.calculateLegendDimensions(t),{oldPages:l}=this.calcLayout(o,r),c=this.computePagedBBox(),u=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return a-c.height;case"right":default:return s-c.width}};if(this.visible){const h=this.spacing;let f,g;switch(this.position){case"top":case"bottom":f=(s-c.width)/2,g=u(),t.shrink(c.height+h,this.position);break;case"left":case"right":default:f=u(),g=(a-c.height)/2,t.shrink(c.width+h,this.position)}this.group.translationX=Math.floor(i+f-c.x),this.group.translationY=Math.floor(n+g-c.y),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}this.updateItemProxyButtons(),this.updatePaginationProxyButtons(l)}calculateLegendDimensions(e){const{width:t,height:i}=e,n=t/i,s=.5,a=.2,o=.25;let r,l;switch(this.position){case"top":case"bottom":{const c=n<1?Math.min(s,a*(1/n)):a;r=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*c);break}case"left":case"right":default:{const c=n>1?Math.min(s,o*n):o;r=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*c),l=this.maxHeight?Math.min(this.maxHeight,i):i}}return[r,l]}};Aa.className="Legend";j([_(Qe)],Aa.prototype,"toggleSeries",2);j([_(Be)],Aa.prototype,"pagination",2);j([_(Be)],Aa.prototype,"item",2);j([_(Be)],Aa.prototype,"listeners",2);j([ws(e=>e.updateGroupVisibility()),_(Qe)],Aa.prototype,"enabled",2);j([ws(e=>e.proxyLegendDirty=!0),_(FL)],Aa.prototype,"position",2);j([_(Ce,{optional:!0})],Aa.prototype,"maxWidth",2);j([_(Ce,{optional:!0})],Aa.prototype,"maxHeight",2);j([_(Qe,{optional:!0})],Aa.prototype,"reverseOrder",2);j([_(Ft(["horizontal","vertical"],"an orientation"),{optional:!0})],Aa.prototype,"orientation",2);j([_(Qe,{optional:!0})],Aa.prototype,"preventHidingAll",2);j([_(Ce)],Aa.prototype,"spacing",2);var bwe={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new Aa(e),packageType:"community"},Xu=class extends Ns{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(e,t){this.dirtyPath=!0,(this.centerX!==e||this.centerY!==t)&&(this.centerX=e,this.centerY=t,this.markDirty(3))}static align(e,t,i,n,s,a,o,r){const l=e.strokeWidth/2,c=e.align(i+s*o)+l,u=c+e.align(i+s*o,s*(r-o))-2*l,h=e.align(n+a/2)+l;e.setCenter(c,h),t.setCenter(u,h)}computeBBox(){const{centerX:e,centerY:t,width:i,height:n}=this,s=e-i/2,a=t-n/2;return new Fe(s,a,i,n)}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}updatePath(){var h,f;const{centerX:e,centerY:t,path:i,strokeWidth:n,gripLineGap:s,gripLineLength:a}=this,o=((f=(h=this.layerManager)==null?void 0:h.canvas)==null?void 0:f.pixelRatio)??1;i.clear();const r=Math.floor(this.width/2*o)/o,l=Math.floor(this.height/2*o)/o;i.moveTo(e-r,t-l),i.lineTo(e+r,t-l),i.lineTo(e+r,t+l),i.lineTo(e-r,t+l),i.closePath();const c=Math.floor((s+n)/2*o)/o,u=Math.floor(a/2*o)/o;i.moveTo(e-c,t-u),i.lineTo(e-c,t+u),i.moveTo(e+c,t-u),i.lineTo(e+c,t+u)}};Xu.className="RangeHandle";j([_(Ce),Oe({redraw:3,type:"path"})],Xu.prototype,"width",2);j([_(Ce),Oe({redraw:3,type:"path"})],Xu.prototype,"height",2);j([_(Ce),Oe({redraw:3,type:"path"})],Xu.prototype,"gripLineGap",2);j([_(Ce),Oe({redraw:3,type:"path"})],Xu.prototype,"gripLineLength",2);var a$=class extends Ns{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(e,t,i,n){(e!==this.x||t!==this.y||i!==this.width||this.height!==n)&&(this.x=e,this.y=t,this.width=i,this.height=n,this.dirtyPath=!0,this.markDirty(3))}update(e,t){e=isNaN(e)?this.min:e,t=isNaN(t)?this.max:t,(e!==this.min||t!==this.max)&&(this.min=e,this.max=t,this.dirtyPath=!0,this.markDirty(3))}computeBBox(){const{x:e,y:t,width:i,height:n}=this;return new Fe(e,t,i,n)}computeVisibleRangeBBox(){const{x:e,y:t,width:i,height:n,min:s,max:a}=this,o=e+i*s,r=e+i*a;return new Fe(o,t,r-o,n)}updatePath(){const{path:e,x:t,y:i,width:n,height:s,min:a,max:o,strokeWidth:r}=this,l=r/2;e.clear();const c=this.align(t)+l,u=this.align(i)+l,h=c+this.align(t,n)-2*l,f=u+this.align(i,s)-2*l;e.moveTo(c,u),e.lineTo(h,u),e.lineTo(h,f),e.lineTo(c,f),e.closePath();const g=this.align(t+n*a)+l,x=g+this.align(t+n*a,n*(o-a))-2*l;e.moveTo(g,u),e.lineTo(g,f),e.lineTo(x,f),e.lineTo(x,u),e.closePath()}};a$.className="RangeMask";var vwe=class extends dl{constructor(e){super({name:"rangeSelectorGroup",zIndex:16}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.background=this.appendChild(new yc({name:"navigator-background",zIndex:1})),this.append(e)}layout(e,t,i,n,s,a){this.x=e,this.y=t,this.width=i,this.height=n,this.lOffset=s,this.rOffset=a,this.background.translationX=e,this.background.translationY=t,this.markDirty(3)}updateBackground(e,t){e!=null&&this.background.removeChild(e),t!=null&&this.background.appendChild(t),this.markDirty(3)}computeBBox(){const{x:e,y:t,width:i,height:n,lOffset:s,rOffset:a}=this;return new Fe(e-s,t,i+(s+a),n)}},Ed=class extends Wb{constructor(t){super(),this.ctx=t,this.miniChart=void 0,this.enabled=!1,this.mask=new a$,this.minHandle=new Xu,this.maxHandle=new Xu,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),toCanvasBBox:()=>this.mask.computeVisibleRangeBBox(),fromCanvasPoint:(s,a)=>({x:s,y:a})},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new vwe([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const i=t.regionManager.addRegion("navigator",this.rangeSelector),n=50;this.destroyFns.push(t.scene.attachNode(this.rangeSelector),i.addListener("hover",s=>this.onHover(s),n),i.addListener("drag-start",s=>this.onDragStart(s),n),i.addListener("drag",s=>this.onDrag(s),n),i.addListener("drag-end",s=>this.onDragEnd(s),n),i.addListener("leave",s=>this.onLeave(s),n),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),this.ctx.layoutManager.registerElement(3,s=>this.onLayoutStart(s)),this.ctx.layoutManager.addListener("layout:complete",s=>this.onLayoutComplete(s)),t.zoomManager.addListener("zoom-change",s=>this.onZoomChange(s))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:s=>this.onMinSliderChange(s)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:s=>this.onPanSliderChange(s)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:s=>this.onMaxSliderChange(s)})],this.proxyNavigatorElements.forEach(s=>Na(s,"data-preventdefault",!1)),this.setSliderRatio(this.proxyNavigatorElements[0],this._min),this.setSliderRatio(this.proxyNavigatorElements[2],this._max),this.setPanSliderValue(this._min,this._max),aE({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push(()=>{this.proxyNavigatorElements.forEach(s=>s.remove()),this.proxyNavigatorToolbar.remove()})}updateBackground(t,i){var n;(n=this.rangeSelector)==null||n.updateBackground(t,i)}updateGroupVisibility(){const{enabled:t}=this;this.rangeSelector==null||t===this.rangeSelector.visible||(this.rangeSelector.visible=t,this.proxyNavigatorToolbar.ariaHidden=(!t).toString(),t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}onLayoutStart(t){if(this.enabled){const{layoutBox:i}=t,n=this.height+this.spacing;i.shrink(n,"bottom"),this.y=i.y+i.height+this.spacing}else this.y=0}onLayoutComplete(t){const{x:i,width:n}=t.series.rect;if(this.enabled){const{y:s,height:a}=this;this.layoutNodes(i,s,n,a),Yu(this.proxyNavigatorToolbar,{x:i,y:s,width:n,height:a}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=i,this.width=n}onHover(t){this.enabled&&this.updateCursor(t)}updateCursor(t){if(!this.enabled)return;const{mask:i,minHandle:n,maxHandle:s}=this,{regionOffsetX:a,regionOffsetY:o}=t;n.containsPoint(a,o)||s.containsPoint(a,o)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):i.computeVisibleRangeBBox().containsPoint(a,o)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(t){if(!this.enabled)return;this.updateCursor(t);const{mask:i,minHandle:n,maxHandle:s,x:a,width:o,_min:r}=this,{regionOffsetX:l,regionOffsetY:c}=t;n.zIndex<s.zIndex?s.containsPoint(l,c)?this.dragging="max":n.containsPoint(l,c)&&(this.dragging="min"):n.containsPoint(l,c)?this.dragging="min":s.containsPoint(l,c)&&(this.dragging="max"),this.dragging==null&&i.computeVisibleRangeBBox().containsPoint(l,c)&&(this.dragging="pan",this.panStart=(l-a)/o-r),this.dragging!=null&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(t){if(!this.enabled||this.dragging==null)return;const{dragging:i,minRange:n,panStart:s,x:a,width:o}=this;let{_min:r,_max:l}=this;const{regionOffsetX:c}=t,u=(c-a)/o;if(i==="min")r=lt(0,u,l-n);else if(i==="max")l=lt(r+n,u,1);else if(i==="pan"&&s!=null){const h=l-r;r=lt(0,u-s,1-h),l=r+h}this._min=r,this._max=l,this.updateZoom()}onDragEnd(t){this.dragging=void 0,this.updateCursor(t)}onLeave(t){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(t){const{x:i}=t;i&&(this._min=i.min,this._max=i.max,this.updateNodes(i.min,i.max),this.setPanSliderValue(i.min,i.max),this.setSliderRatio(this.proxyNavigatorElements[0],i.min),this.setSliderRatio(this.proxyNavigatorElements[2],i.max))}onPanSliderChange(t){const i=this.getSliderRatio(this.proxyNavigatorElements[1]),n=this._max-this._min;this._min=lt(0,i,1-n),this._max=this._min+n,this.updateZoom()}onMinSliderChange(t){const i=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(i,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(t){const i=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(i,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(t,i){this.proxyNavigatorElements[1].value=`${Math.round(t*100)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:t,max:i})}setSliderRatioClamped(t,i,n){const s=this.getSliderRatio(t),a=lt(i,s,n);return a!==s&&this.setSliderRatio(t,a),a}setSliderRatio(t,i){const n=Math.round(i*100);t.value=`${n}`,t.ariaValueText=AL(n)}getSliderRatio(t){return parseFloat(t.value)/100}layoutNodes(t,i,n,s){const{rangeSelector:a,mask:o,minHandle:r,maxHandle:l,_min:c,_max:u}=this;a.layout(t,i,n,s,r.width/2,l.width/2),o.layout(t,i,n,s),Xu.align(r,l,t,i,n,s,c,u),c+(u-c)/2<.5?(r.zIndex=3,l.zIndex=4):(r.zIndex=4,l.zIndex=3),[r,this.maskVisibleRange,l].forEach((h,f)=>{const g=h.getBBox(),x={x:g.x-t,y:g.y-i,height:g.height,width:g.width};Yu(this.proxyNavigatorElements[f],x)})}updateNodes(t,i){this.mask.update(t,i)}updateZoom(){if(!this.enabled)return;const{_min:t,_max:i}=this;if(t==null||i==null)return;const n=s=>{this.min==null&&this.max==null||Ie.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${s}] has modified the initial zoom state.`)};return this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:i}},!1,n)}};j([_(Be,{optional:!0})],Ed.prototype,"miniChart",2);j([_(Qe),ws(e=>e.updateGroupVisibility())],Ed.prototype,"enabled",2);j([_(Ce)],Ed.prototype,"height",2);j([_(Ce)],Ed.prototype,"spacing",2);j([Zs({newValue(e){this._min=e,this.updateZoom()}}),_(zo(Nt,Qm("max")),{optional:!0})],Ed.prototype,"min",2);j([Zs({newValue(e){this._max=e,this.updateZoom()}}),_(zo(Nt,Jm("min")),{optional:!0})],Ed.prototype,"max",2);var o$={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new Ed(e),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function cg({takeColors:e}){const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}function IN(e){return{marker:cg(e)}}var r$=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(r$||{}),l$=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))(l$||{}),c$=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(c$||{}),u$=(e=>(e.CATEGORY="category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(u$||{}),d$=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(d$||{}),h$=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(h$||{}),Rx=Symbol("is-dark-theme"),p$=Symbol("is-community"),OE=Symbol("is-enterprise"),Oi=Symbol("default-font"),An=Symbol("default-label-colour"),f$=Symbol("default-inverted-label-colour"),Sp=Symbol("default-inside-series-label-colour"),$h=Symbol("default-muted-label-colour"),Vm=Symbol("default-axis-grid-colour"),lw=Symbol("default-axis-line-colour"),Px=Symbol("default-cross-lines-colour"),tS=Symbol("default-background-colour"),Np=Symbol("default-shadow-colour"),wwe=Symbol("default-colours"),zu=Symbol("default-padding"),Fh=Symbol("default-caption-layout-style"),Bh=Symbol("default-caption-alignment"),jE=Symbol("palette-up-stroke"),RE=Symbol("palette-down-stroke"),PE=Symbol("palette-up-fill"),zE=Symbol("palette-down-fill"),zx=Symbol("palette-neutral-stroke"),_E=Symbol("palette-neutral-fill"),m$=Symbol("palette-alt-up-stroke"),g$=Symbol("palette-alt-down-stroke"),y$=Symbol("palette-alt-up-fill"),x$=Symbol("palette-alt-down-fill"),b$=Symbol("palette-gray-fill"),FE=Symbol("palette-gray-stroke"),BE=Symbol("default-polar-series-stroke"),Qa=Symbol("default-diverging-series-colour-range"),kr=Symbol("default-gauge-series-colour-range"),Vc=Symbol("default-funnel-series-colour-range"),VE=Symbol("default-hierarchy-fills"),UE=Symbol("default-hierarchy-strokes"),Ja=Symbol("default-annotation-stroke"),GE=Symbol("default-text-annotation-color"),eo=Symbol("default-annotation-background-fill"),WE=Symbol("default-annotation-handle-fill"),HE=Symbol("default-annotation-statistics-fill"),YE=Symbol("default-annotation-statistics-stroke"),$E=Symbol("default-annotation-statistics-color"),KE=Symbol("default-annotation-statistics-divider-stroke"),v$=Symbol("default-annotation-statistics-fill"),w$=Symbol("default-annotation-statistics-stroke"),ZE=Symbol("default-textbox-fill"),qE=Symbol("default-textbox-stroke"),XE=Symbol("default-textbox-color"),Zb=Symbol("default-toolbar-position"),cc=Symbol("default-gridline-enabled");function aD(e,t,i,n,s){const{addPhaseFn:a,updatePhaseFn:o,removePhaseFn:r}=s,l=(c,u,h)=>{i.animate({id:`${e}_${t}_${u.id}_${c}`,groupId:e,from:0,to:1,ease:Jx,collapsable:!1,onUpdate(f,g){g&&c!=="removed"||(u.path.clear(!0),h(f,u),u.checkPathDirty())},onStop(){c==="added"&&(u.path.clear(!0),h(1,u),u.checkPathDirty())},phase:Hs[c]})};for(const c of n)i.isSkipped()||(l("removed",c,r),l("updated",c,o)),l("added",c,a)}function TN(e){return typeof e=="number"?e.toFixed(2):String(e??"")}var s1=null;function ri(e){if(e!=null)return e===""?"":(s1??(s1=kt("div")),s1.textContent=String(e),s1.innerHTML)}var By=new WeakMap;function iS(e,t){var n,s,a;const i=JSON.stringify(e,null,0);return By.has(t)||By.set(t,new Map),(n=By.get(t))!=null&&n.has(i)||(s=By.get(t))==null||s.set(i,t(e)),(a=By.get(t))==null?void 0:a.get(i)}function AN(e,t=[0,0]){for(const i of e)typeof i=="number"&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function Swe(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>AN(n)}}function S$(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:i=>AN(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=(i==null?void 0:i[0])??0,n[1]+=(i==null?void 0:i[1])??0,n)}}function N$(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>sm.extendDomain(n)}}function oD(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,i=[0,0])=>(i[0]+=(t==null?void 0:t[0])??0,i[1]+=(t==null?void 0:t[1])??0,i)}}function M$(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:n=>AN(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=(n==null?void 0:n[0])??0,s[1]+=(n==null?void 0:n[1])??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{const s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]}}}function rD(e,t,i){const n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(s,a=[])=>{const o=a[1]-a[0];return t.aggregateFunction(s).map(r=>r/o)}};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function I$(e){return()=>{let t=0;return i=>yt(i)?(t+=e?Math.max(0,i):i,t):i}}function T$(){return()=>{let e=0;return t=>{if(!yt(t))return t;const i=e;return e+=t,i}}}function A$(e){return e!=null&&mN(e)}function Nwe(e){return e!=null}function k$(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return A$;default:return Nwe}}function C$(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function vr(e,t,i={}){return{property:e,type:"key",valueType:C$(t),validation:k$(t),...i}}function pt(e,t,i={}){return{property:e,type:"value",valueType:C$(t),validation:k$(t),...i}}function QE(e,t={}){const{min:i=-1/0,max:n=1/0,...s}=t;return{type:"value",property:e,valueType:"range",validation:A$,processor:()=>a=>yt(a)?lt(i,a,n):a,...s}}function ob(e,t,i={}){const{onlyPositive:n,...s}=i;return{...pt(e,t,s),processor:I$(n)}}function Mwe(e,t,i={}){return{...pt(e,t,i),processor:T$()}}function Qu(e,t,i="current",n,s){return[pt(e,s,n),j$(n.groupId,t,i,n.separateNegative),...n.rangeId!=null?[N$(n.rangeId,n.groupId)]:[]]}function D$(e,t,i){return[pt(e,t,i),R$(i.groupId)]}var L$={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{const n=i.keys[0],s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s<t?s:t}}},E$={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,i)=>{const n=i.keys[0],s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s>t?s:t}}},O$={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e==null?void 0:e.slice().sort((t,i)=>{for(let n=0;n<t.length;n++){const s=t[n]-i[n];if(s!==0)return s}return 0})};function Iwe({normaliseTo:e,mode:t}){const i=(n,s)=>{const a=n*e/s;return a>=0?Math.min(e,a):Math.max(-e,a)};return()=>()=>(n,s)=>{const a=[0,0];for(const r of s){const l=n[r],c=typeof l=="number"?l:Math.max(...l),u=c<0?0:1;t==="sum"?a[u]+=c:u===0?a[u]=Math.min(a[u],c):a[u]=Math.max(a[u],c)}const o=Math.max(Math.abs(a[0]),a[1]);for(const r of s){const l=n[r];n[r]=typeof l=="number"?i(l,o):l.map(c=>i(c,o))}}}function kN(e,t,i="sum"){return{type:"group-value-processor",matchGroupIds:e,adjust:iS({normaliseTo:t,mode:i},Iwe)}}function Twe({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:n}){const s=e[1]-e[0],a=(o,r,l)=>{const c=e[0]+(o-r)/l*s;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(o,r)=>{let[l,c]=o.domain.values[r];i!=null&&(l=i),n!=null&&(c=n);const u=c-l;o.domain.values[r]=[e[0],e[1]];for(const h of o.data){let f=h.values;o.type==="ungrouped"&&(f=[f]);for(const g of f)g[r]=a(g[r],l,u)}}}function Kh(e,t,i,n,s){return{type:"property-value-processor",property:e,adjust:iS({normaliseTo:t,rangeMin:n,rangeMax:s,zeroDomain:i},Twe)}}function ug(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:n}=t.defs,{input:s,data:a}=t;let o=!0,r=!0;const l=[];for(let u=0;u<n.length;u++)e!=null&&e.includes(n[u].id)&&l.push([u,n[u]]);const c=(u,h,f)=>{var x;if(h.valueType==="category"){const y=t.domain[f][u];o&&(o=y.length===s.count);return}let g=(x=a[0])==null?void 0:x[f][u];for(let y=1;(o||r)&&y<a.length;y++){const b=a[y][f][u];r&&(r=g<=b),o&&(o=g!==b),g=b}};for(let u=0;(o||r)&&u<i.length;u++)c(u,i[u],"keys");for(let u=0;(o||r)&&u<l.length;u++){const[h,f]=l[u];c(h,f,"values")}return{uniqueKeys:o,orderedKeys:r}}}}function Awe({mode:e,separateNegative:t}){return()=>()=>(i,n)=>{const s=[0,0];for(const a of n){const o=i[a],r=Lb(o)&&t?0:1;yt(o)&&(e==="normal"&&(s[r]+=o),i[a]=s[r],e==="trailing"&&(s[r]+=o))}}}function kwe({mode:e,sum:t}){return()=>{const i=[];let n=!0;return()=>(s,a)=>{let o=0;for(const r of a){const l=s[r],c=n&&t==="current"?0:i[r];i[r]=l;const u=t==="current"?l:c;if(!yt(l)||!yt(c)){s[r]=o;continue}e==="normal"&&(o+=u),s[r]=o,e==="trailing"&&(o+=u)}n=!1}}}function j$(e,t,i,n=!1){let s;if(t.startsWith("window")){const a=t.endsWith("-trailing")?"trailing":"normal";s=iS({mode:a,sum:i},kwe)}else s=iS({mode:t,separateNegative:n},Awe);return{type:"group-value-processor",matchGroupIds:[e],adjust:s}}function Cwe(){return()=>(e,t)=>{const i=new Float64Array(32);let n=0;for(const s of t){const a=e[s];i[n]=Number.isFinite(a)?a:NaN,n+=1,e[s]=i.subarray(0,n)}}}function R$(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:Cwe}}function dg(e,t=!0){return{type:"processor",property:"diff",calculate:i=>{const n=new Map,s=new Map,a=new Map,o=new Map,r=Math.max(e.data.length,i.data.length);for(let c=0;c<r;c++){const u=e.data[c],h=i.data[c],f=u?wc(u.keys):"",g=h?wc(h.keys):"";if(h&&u&&f===g){Ku(u.values,h.values)||a.set(g,h);continue}o.has(g)?((t||!Ku(o.get(g).values,h.values))&&(a.set(g,h),n.set(g,h)),o.delete(g)):h&&s.set(g,h),s.has(f)?((t||!Ku(s.get(f).values,u.values))&&(a.set(f,u),n.set(f,u)),s.delete(f)):u&&(a.delete(f),o.set(f,u))}return{changed:s.size>0||a.size>0||o.size>0,added:s,updated:a,removed:o,moved:n}}}}function wc(e,...t){let i;return fi(e)?i=e.map(s=>Yh(s)).join("___"):i=Yh(e),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&t.length>0&&(i+=`___${t.join("___")}`),i}function Tt({id:e},t,i,...n){Sl(e,t,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function Gu({id:e},t,i,...n){Sl(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function Uc(e){return{opacity:1}}var JE=class extends ht{constructor(){super(...arguments),this._dirty=3}markDirty(e=1){this._dirty<e&&(this._dirty=e)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},Cr=class extends JE{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};j([_(Qe),Oe({redraw:3})],Cr.prototype,"enabled",2);j([_(Rt),Oe({redraw:3})],Cr.prototype,"color",2);j([_(Kt),Oe({redraw:3})],Cr.prototype,"xOffset",2);j([_(Kt),Oe({redraw:3})],Cr.prototype,"yOffset",2);j([_(Ce),Oe({redraw:3})],Cr.prototype,"blur",2);var P$=_t(e=>e$(e)||typeof e=="function"&&Object.create(e.prototype)instanceof qs,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),ka=class extends JE{constructor(){super(...arguments),this.enabled=!0,this.shape=qu,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:t,shape:i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r}=this;return{size:t,shape:i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r}}getDiameter(){return this.size+this.strokeWidth}};j([_(Qe),Oe({redraw:3})],ka.prototype,"enabled",2);j([_(P$),Oe({redraw:3})],ka.prototype,"shape",2);j([_(Ce),Oe({redraw:3})],ka.prototype,"size",2);j([_(Rt,{optional:!0}),Oe({redraw:3})],ka.prototype,"fill",2);j([_(Nt),Oe({redraw:3})],ka.prototype,"fillOpacity",2);j([_(Rt,{optional:!0}),Oe({redraw:3})],ka.prototype,"stroke",2);j([_(Ce),Oe({redraw:3})],ka.prototype,"strokeWidth",2);j([_(Nt),Oe({redraw:3})],ka.prototype,"strokeOpacity",2);j([_(Ia,{optional:!0}),Oe({redraw:3})],ka.prototype,"itemStyler",2);var z$=class extends ht{constructor(){super(...arguments),this.enabled=!1}};j([_(Qe)],z$.prototype,"enabled",2);var Qs=class extends ht{constructor(){super(...arguments),this.enabled=!0,this.interaction=new z$,this.position=new eg,this.range=void 0}toTooltipHtml(t,i){return this.renderer?zm(this.renderer(i),t):zm(t)}};j([_(Qe)],Qs.prototype,"enabled",2);j([_(Qe,{optional:!0})],Qs.prototype,"showArrow",2);j([_(Ia,{optional:!0})],Qs.prototype,"renderer",2);j([_(Be)],Qs.prototype,"interaction",2);j([_(Be)],Qs.prototype,"position",2);j([_(dN,{optional:!0})],Qs.prototype,"range",2);var _$=Ft(["linear","smooth","step"],"a line style"),F$=Ft(["start","middle","end"]),hg=class extends ht{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};j([_(_$)],hg.prototype,"type",2);j([_(Nt)],hg.prototype,"tension",2);j([_(F$)],hg.prototype,"position",2);var en=class extends Bc{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new hg,this.shadow=new Cr,this.marker=new ka,this.label=new xn,this.tooltip=new Qs,this.connectMissingData=!1}};j([_(Ae)],en.prototype,"xKey",2);j([_(Ae,{optional:!0})],en.prototype,"xName",2);j([_(Ae)],en.prototype,"yKey",2);j([_(Ae,{optional:!0})],en.prototype,"yName",2);j([_(Ae,{optional:!0})],en.prototype,"yFilterKey",2);j([_(Ce,{optional:!0})],en.prototype,"normalizedTo",2);j([_(Rt)],en.prototype,"fill",2);j([_(Nt)],en.prototype,"fillOpacity",2);j([_(Rt)],en.prototype,"stroke",2);j([_(Ce)],en.prototype,"strokeWidth",2);j([_(Nt)],en.prototype,"strokeOpacity",2);j([_(jc)],en.prototype,"lineDash",2);j([_(Ce)],en.prototype,"lineDashOffset",2);j([_(Be)],en.prototype,"interpolation",2);j([_(Be)],en.prototype,"shadow",2);j([_(Be)],en.prototype,"marker",2);j([_(Be)],en.prototype,"label",2);j([_(Be)],en.prototype,"tooltip",2);j([_(Qe)],en.prototype,"connectMissingData",2);function pd(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function Dwe(e){const t=pd(e);return t[0].x>t[1].x&&t.reverse(),t}function rb(e,t,i){const[n,s]=pd(e),a=s.x!==n.x?(i.x-t.x)/(s.x-n.x):0,o=s.y!==n.y?(i.y-t.y)/(s.y-n.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-n.x)*a,cp1y:i.y-(e.cp2y-n.y)*o,cp2x:i.x-(e.cp1x-n.x)*a,cp2y:i.y-(e.cp1y-n.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-n.x)*a}}}function B$(e,t,i){const{moveTo:n}=e,[s,a]=Dwe(e),{x:o,y:r}=s,{x:l,y:c}=a;if(i<o)return rb(e,s,s);if(t>l)return rb(e,a,a);switch(e.type){case"linear":{const u=r===c?void 0:(c-r)/(l-o),h=u==null?r:u*(t-o)+r,f=u==null?r:u*(i-o)+r;return{type:"linear",moveTo:n,x0:t,y0:h,x1:i,y1:f}}case"step":if(i<=e.stepX){const u=e.y0;return{type:"step",moveTo:n,x0:t,y0:u,x1:i,y1:u,stepX:i}}else if(t>=e.stepX){const u=e.y1;return{type:"step",moveTo:n,x0:t,y0:u,x1:i,y1:u,stepX:t}}else{const{y0:u,y1:h,stepX:f}=e;return{type:"step",moveTo:n,x0:t,y0:u,x1:i,y1:h,stepX:f}}case"cubic":{const u=Qw(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[h,f]=Jw(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,u);const g=Qw(f[0].x,f[1].x,f[2].x,f[3].x,i);return[f,h]=Jw(f[0].x,f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,g),{type:"cubic",moveTo:n,cp0x:f[0].x,cp0y:f[0].y,cp1x:f[1].x,cp1y:f[1].y,cp2x:f[2].x,cp2y:f[2].y,cp3x:f[3].x,cp3y:f[3].y}}}}function Lwe(e){const t=[];let i=0,n=NaN,s=NaN;for(const{x:a,y:o}of e){if(i>0){const r=i===1;t.push({type:"linear",moveTo:r,x0:n,y0:s,x1:a,y1:o})}i+=1,n=a,s=o}return t}var Ewe={start:0,middle:.5,end:1};function Owe(e,t){const i=[];let n=0,s=NaN,a=NaN;const o=typeof t=="number"?t:Ewe[t];for(const{x:r,y:l}of e){if(n>0){const c=n===1,u=s+(r-s)*o;i.push({type:"step",moveTo:c,x0:s,y0:a,x1:r,y1:l,stepX:u})}n+=1,s=r,a=l}return i}var a1=.05;function jwe(e,t){const i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];const n=i.map((a,o)=>{const r=o===0?a:i[o-1],l=o===i.length-1?a:i[o+1],c=o===0||o===i.length-1;if(Math.sign(r.y-a.y)===Math.sign(l.y-a.y))return 0;if(!c){const u=Math.abs(r.y-l.y),h=Math.abs(a.y-r.y)/u,f=Math.abs(a.y-l.y)/u;if(h<=a1||1-h<=a1||f<=a1||1-f<=a1)return 0}return(l.y-r.y)/(l.x-r.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);const s=[];for(let a=1;a<i.length;a+=1){const o=i[a-1],r=n[a-1],l=i[a],c=n[a],u=l.x-o.x,h=l.y-o.y;let f=u*t/3,g=u*r*t/3,x=u*t/3,y=u*c*t/3;c===0&&Math.abs(g)>Math.abs(h)&&(f*=Math.abs(h/g),g=Math.sign(g)*Math.abs(h)),r===0&&Math.abs(y)>Math.abs(h)&&(x*=Math.abs(h/y),y=Math.sign(y)*Math.abs(h)),s.push({type:"cubic",moveTo:a===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+f,cp1y:o.y+g,cp2x:l.x-x,cp2y:l.y-y,cp3x:l.x,cp3y:l.y})}return s}function Xi(e,t,i){return(t-e)*i+e}function Rwe(e,t){const{x0:i,y0:n,x1:s,y1:a}=e,r=(a-n)/(s-i)*(t-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:t,leftCp2y:r,stepX:t,stepY0:r,stepY1:r,rightCp1x:t,rightCp1y:r,rightCp2x:s,rightCp2y:a}}function Pwe(e,t){const{cp0x:i,cp0y:n,cp1x:s,cp1y:a,cp2x:o,cp2y:r,cp3x:l,cp3y:c}=e,u=Qw(i,s,o,l,t),[h,f]=Jw(i,n,s,a,o,r,l,c,u),g=h[3].y;return{leftCp1x:h[1].x,leftCp1y:h[1].y,leftCp2x:h[2].x,leftCp2y:h[2].y,stepX:t,stepY0:g,stepY1:g,rightCp1x:f[1].x,rightCp1y:f[1].y,rightCp2x:f[2].x,rightCp2y:f[2].y}}function zwe(e){const{x0:t,y0:i,x1:n,y1:s,stepX:a}=e;return{leftCp1x:(t+a)/2,leftCp1y:i,leftCp2x:(t+a)/2,leftCp2y:i,stepX:a,stepY0:i,stepY1:s,rightCp1x:(a+n)/2,rightCp1y:s,rightCp2x:(a+n)/2,rightCp2y:s}}function hF(e,t){return e.type==="linear"?Rwe(e,t):e.type==="cubic"?Pwe(e,t):zwe(e)}function V$(e,t,i,n,s,a,o){switch(t){case 1:o?e.moveTo(s,a):e.moveTo(i,n);break;case 2:o?e.lineTo(s,a):e.lineTo(i,n);break}}function U$(e,t,i,n,s,a){a?e.lineTo(t,i):e.lineTo(n,s)}function G$(e,t,i,n,s,a,o,r,l,c){c?e.cubicCurveTo(a,o,n,s,t,i):e.cubicCurveTo(n,s,a,o,r,l)}function W$(e,t,i,n,s,a,o){o?(e.lineTo(a,s),e.lineTo(a,i),e.lineTo(t,i)):(e.lineTo(a,i),e.lineTo(a,s),e.lineTo(n,s))}function NA(e,t,i,n){const[s,a]=pd(t);switch(V$(e,i,s.x,s.y,a.x,a.y,n),t.type){case"linear":U$(e,t.x0,t.y0,t.x1,t.y1,n);break;case"cubic":G$(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,n);break;case"step":W$(e,t.x0,t.y0,t.x1,t.y1,t.stepX,n);break}}function lD(e,t,i,n,s,a){const[o,r]=pd(t),[l,c]=pd(i),u=Xi(o.x,l.x,n),h=Xi(o.y,l.y,n),f=Xi(r.x,c.x,n),g=Xi(r.y,c.y,n);if(V$(e,s,u,h,f,g,a),t.type==="cubic"&&i.type==="cubic"){const x=Xi(t.cp1x,i.cp1x,n),y=Xi(t.cp1y,i.cp1y,n),b=Xi(t.cp2x,i.cp2x,n),v=Xi(t.cp2y,i.cp2y,n);G$(e,u,h,x,y,b,v,f,g,a)}else if(t.type==="step"&&i.type==="step"){const x=Xi(t.stepX,i.stepX,n);W$(e,u,h,f,g,x,a)}else if(t.type==="linear"&&i.type==="linear")U$(e,u,h,f,g,a);else{let x;t.type==="step"?x=t.stepX:i.type==="step"?x=i.stepX:x=(u+f)/2;const y=hF(t,x),b=hF(i,x),v=Xi(y.leftCp1x,b.leftCp1x,n),S=Xi(y.leftCp1y,b.leftCp1y,n),N=Xi(y.leftCp2x,b.leftCp2x,n),M=Xi(y.leftCp2y,b.leftCp2y,n),I=Xi(y.stepX,b.stepX,n),C=Xi(y.stepY0,b.stepY0,n),L=Xi(y.stepY1,b.stepY1,n),O=Xi(y.rightCp1x,b.rightCp1x,n),P=Xi(y.rightCp1y,b.rightCp1y,n),z=Xi(y.rightCp2x,b.rightCp2x,n),V=Xi(y.rightCp2y,b.rightCp2y,n);a?(e.cubicCurveTo(z,V,O,P,I,L),e.lineTo(I,C),e.cubicCurveTo(N,M,v,S,u,h)):(e.cubicCurveTo(v,S,N,M,I,C),e.lineTo(I,L),e.cubicCurveTo(O,P,z,V,f,g))}}function lb({id:e},t,i,...n){const s={phase:i?Hs[i]:"trailing"};Sl(e,"markers",t,n,{opacity:0},{opacity:1},s),n.forEach(a=>a.cleanup())}function eO({id:e},t,...i){Sl(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function tO({id:e,nodeDataDependencies:t},i,...n){const s=t.seriesRectWidth;Si(e,"markers",i,n,{fromFn:(r,l)=>{var h;const c=((h=l.midPoint)==null?void 0:h.x)??s;let u=lt(0,jW(c/s),1);return isNaN(u)&&(u=0),{scalingX:0,scalingY:0,delay:u,duration:Ww,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function qb(e){return{opacity:1,scalingX:1,scalingY:1}}function cb(e,t){var i,n;return{translationX:((i=t.point)==null?void 0:i.x)??NaN,translationY:((n=t.point)==null?void 0:n.y)??NaN}}function H$(e,t){const i=(o,r)=>{const l=e[r][o];return Array.isArray(l)?l[0]:l},n=o=>{const{xValue:r}=o;return e.moved[r]?{point:i(r,"moved"),status:"updated"}:e.removed[r]?{point:i(r,"removed"),status:"removed"}:e.added[r]?{point:i(r,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(o,r)=>{var h,f,g,x;const{status:l,point:c}=n(r);if(l==="unknown")return{opacity:0};const u={translationX:((h=c==null?void 0:c.from)==null?void 0:h.x)??o.translationX,translationY:((f=c==null?void 0:c.from)==null?void 0:f.y)??o.translationY,opacity:o.opacity,phase:Hs[l]};return t==="added"?{...u,opacity:0,translationX:(g=c==null?void 0:c.to)==null?void 0:g.x,translationY:(x=c==null?void 0:c.to)==null?void 0:x.y,phase:Hs.added}:(l==="added"&&(u.opacity=0),u)},toFn:(o,r)=>{var h,f;const{status:l,point:c}=n(r);if(l==="unknown")return{opacity:0};const u={translationX:r.point.x,translationY:r.point.y,opacity:1,phase:Hs[l]};return l==="removed"||t==="removed"?{...u,translationX:(h=c==null?void 0:c.to)==null?void 0:h.x,translationY:(f=c==null?void 0:c.to)==null?void 0:f.y,opacity:0,phase:Hs.removed}:u}}}function Xb(e,{datumIndex:t}){const i=e.getNodeData();if(i===void 0)return;const n=i[t],{point:s}=n;if(n==null||s==null)return;const a=s.focusSize??e.getFormattedMarkerStyle(n).size,o=a/2,r=n.point.x-o,l=n.point.y-o;return Ii.toCanvas(e.contentGroup,new Fe(r,l,a,a))}function _we(e,t,i){let n=i;for(const{x:s,y:a}of t)n?e.lineTo(s,a):(e.moveTo(s,a),n=!0)}var o1=.05;function Fwe(e,t,i,n){const s=Array.isArray(t)?t:Array.from(t);if(s.length===0||(n?e.lineTo(s[0].x,s[0].y):e.moveTo(s[0].x,s[0].y),s.length<=1))return;const a=s.map((o,r)=>{const l=r===0?o:s[r-1],c=r===s.length-1?o:s[r+1],u=r===0||r===s.length-1;if(Math.sign(l.y-o.y)===Math.sign(c.y-o.y))return 0;if(!u){const h=Math.abs(l.y-c.y),f=Math.abs(o.y-l.y)/h,g=Math.abs(o.y-c.y)/h;if(f<=o1||1-f<=o1||g<=o1||1-g<=o1)return 0}return(c.y-l.y)/(c.x-l.x)});a[1]===0&&(a[0]*=2),a[a.length-2]===0&&(a[a.length-1]*=2);for(let o=1;o<s.length;o+=1){const r=s[o-1],l=a[o-1],c=s[o],u=a[o],h=c.x-r.x,f=c.y-r.y;let g=h*i/3,x=h*l*i/3,y=h*i/3,b=h*u*i/3;u===0&&Math.abs(x)>Math.abs(f)&&(g*=Math.abs(f/x),x=Math.sign(x)*Math.abs(f)),l===0&&Math.abs(b)>Math.abs(f)&&(y*=Math.abs(f/b),b=Math.sign(b)*Math.abs(f)),e.cubicCurveTo(r.x+g,r.y+x,c.x-y,c.y-b,c.x,c.y)}}function Bwe(e,t,i,n){let s;for(const a of t){if(s!=null){const o=s.x<a.x?i:1-i,r=(a.x-s.x)*o+s.x;e.lineTo(r,(s==null?void 0:s.y)??a.y),e.lineTo(r,a.y),e.lineTo(a.x,a.y)}else n?e.lineTo(a.x,a.y):e.moveTo(a.x,a.y);s=a}}function cD(e){return e.reduce(({min:t,max:i},n)=>((t==null||t.point.x>n.point.x)&&(t=n),(i==null||i.point.x<n.point.x)&&(i=n),{min:t,max:i}),{})}function pF(e,t,i){const n=(t.y-e.y)/(t.x-e.x),s=(i-e.x)*n+e.y;return{x:i,y:s}}function fF(e,t,i,n){let s=-1,a=0;const o=[];for(;a<e.length;){if(e[a].change===t){o.push(e[a]),a++;continue}if(e[a].change===i){a++;continue}o.length>0&&(n(o,s,a),o.length=0),s=a,a++}o.length>0&&n(o,s,a)}function iO(e,t){fF(e,"out","in",(i,n,s)=>{var a,o;n===-1&&e[s]?i.forEach(r=>r.to=e[s].from):s===e.length&&e[n]?i.forEach(r=>r.to=e[n].from):t==="intersect"&&((a=e[n])!=null&&a.from)&&((o=e[s])!=null&&o.from)?i.forEach(r=>r.to=pF(e[n].from,e[s].from,r.from.x)):i.forEach(r=>r.to=r.from)}),fF(e,"in","out",(i,n,s)=>{var a,o;n===-1&&e[s]?i.forEach(r=>r.from=e[s].to):s===e.length&&e[n]?i.forEach(r=>r.from=e[n].to):t==="intersect"&&((a=e[n])!=null&&a.to)&&((o=e[s])!=null&&o.to)?i.forEach(r=>r.from=pF(e[n].to,e[s].to,r.to.x)):i.forEach(r=>r.from=r.to)})}function mF(e,t,i){const n=isNaN(e.x)?t.x:e.x,s=isNaN(e.y)?t.y:e.y,a=t.x-e.x,o=t.y-e.y,r=isNaN(a)?0:a*i,l=isNaN(o)?0:o*i;return{x:n+r,y:s+l}}var Vwe={start:0,middle:.5,end:1};function nO(e,t,i,n=!1){const{path:s}=t;(i==null?void 0:i.type)==="smooth"?Fwe(s,e,i.tension??1,n):(i==null?void 0:i.type)==="step"?Bwe(s,e,Vwe[i.position??"end"],n):_we(s,e,n)}function Y$(e,t){let i,n;const s=[],a=()=>{n!=null&&(s.push(n),n=void 0)};for(const o of e){const{from:r,to:l}=o,c=t[o.change];if(c==null||r==null||l==null)continue;const u=mF(r,l,c);if(o.moveTo===!1)n??(n=[]),n.push(u);else if(o.moveTo===!0||!i)a(),n=[u];else if(i){const h=o.moveTo==="in"?c:1-c,{x:f,y:g}=mF(i,u,h);n??(n=[]),n.push({x:f,y:g}),a(),n=[u]}i=u}return a(),s}function $$(e,t,i,n){Y$(e,t).forEach(s=>{nO(s,i,n)})}function sO({id:e,visible:t,nodeDataDependencies:i},n,...s){const{seriesRectWidth:a,seriesRectHeight:o}=i;Sl(e,"path_properties",n,s,{clipX:0},{clipX:a},{phase:"initial",start:{clip:!0,clipY:o,visible:t},finish:{clip:!1,visible:t}})}function nS({id:e},t,i,n="add",...s){Sl(e,t,i,s,{opacity:0},{opacity:1},{phase:n})}function Uwe({id:e},t,i,...n){Sl(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function aO(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function sS({nodeDataDependencies:e},t){const i=n=>isFinite(n)?n:0;t.clipX=i(e.seriesRectWidth),t.clipY=i(e.seriesRectHeight)}function gF(e){return e.type==="continuous"||e.type==="log"}function yF(e){return e.type==="category"}function xF(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every((i,n)=>i===t.domain[n])&&e.range.every((i,n)=>i===t.range[n])}function bF(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:gF(e)&&gF(t)?e.type===t.type&&xF(e,t):yF(e)&&yF(t)?xF(e,t):!1}function aS(e){return e==null||!e.range.every(t=>Number.isFinite(t))?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)}function*K$(e){let t=-1,i=0;for(const{point:n}of e){if(n.moveTo){const s=t>=0?{start:t,end:i}:void 0;t=i,i=t,s!==void 0&&(yield s)}i+=1}t!==-1&&(yield{start:t,end:i})}function*Z$(e,{start:t,end:i}){for(let n=t;n<i;n+=1)yield e[n].point}function*Gwe(e,{start:t,end:i}){for(let n=i-1;n>=t;n-=1)yield e[n].point}function Wwe(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function $n(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);const i=t.domain.findIndex(s=>s===e);if(i>=0)return t.range[i];const n=t.domain.findIndex(s=>Wwe(e,s));return n>=0?t.range[n]:NaN}function Hwe(e,t){return!bF(e.scales.x,t.scales.x)||!bF(e.scales.y,t.scales.y)}function Ywe(e,t){const i=Number(e),n=Number(t);return!isNaN(i)&&!isNaN(n)?Math.abs(n-i)<.25:e===t}function q$(e=!1,t=!1){return e===t?!!e:e?"in":"out"}function X$(e,t,i={}){const{backfillSplitMode:n="intersect"}=i,s=[],a={added:{},moved:{},removed:{}},o=(g,x,y,b="move")=>{g&&(isNaN(g.point.x)||isNaN(g.point.y))&&(g=x);const v={from:g==null?void 0:g.point,to:x==null?void 0:x.point,moveTo:q$(g==null?void 0:g.point.moveTo,x==null?void 0:x.point.moveTo),change:b};b==="move"?(a.moved[y]=v,h++,f++):b==="in"?(a.added[y]=v,f++):b==="out"&&(a.removed[y]=v,h++),s.push(v)},{min:r,max:l}=cD(t.nodeData),{min:c,max:u}=cD(e.nodeData);let h=0,f=0;for(;h<t.nodeData.length||f<e.nodeData.length;){const g=t.nodeData[h],x=e.nodeData[f],y=g?$n(g.xValue??NaN,e.scales.x):void 0,b=x?$n(x.xValue??NaN,t.scales.x):void 0,v=void 0;if(y!=null&&Ywe(y,x==null?void 0:x.point.x))o(g,x,x.xValue,"move");else if(y!=null&&y<((c==null?void 0:c.point.x)??-1/0))o(g,v,g.xValue,"out");else if(y!=null&&y>((u==null?void 0:u.point.x)??1/0))o(g,v,g.xValue,"out");else if(b!=null&&b<((r==null?void 0:r.point.x)??-1/0))o(v,x,x.xValue,"in");else if(b!=null&&b>((l==null?void 0:l.point.x)??1/0))o(v,x,x.xValue,"in");else if(y!=null&&y<(x==null?void 0:x.point.x))o(g,v,g.xValue,"out");else if(b!=null&&b<(g==null?void 0:g.point.x))o(v,x,x.xValue,"in");else if(g)o(g,v,g.xValue,"out");else if(x)o(v,x,x.xValue,"in");else throw new Error("Unable to process points")}return iO(s,n),{result:s,resultMap:a}}function Q$(e,t,i,n={}){const{backfillSplitMode:s="intersect",multiDatum:a=!1}=n,o=[],r={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let u,h;const f=(v,S)=>{var N;const M=c[S.change];a?((N=l[M])[v]??(N[v]=[]),l[M][v].push(S)):r[M][v]=S,u=S,h=Yh(v)};let g=0,x=0,y=!1;for(;g<t.nodeData.length||x<e.nodeData.length;){const v=t.nodeData[g],S=e.nodeData[x],N=Yh(v==null?void 0:v.xValue),M=Yh(S==null?void 0:S.xValue);let I;if(N===M)I={change:"move",moveTo:q$(v.point.moveTo??!1,S.point.moveTo),from:v.point,to:S.point},f(v==null?void 0:v.xValue,I),g++,x++;else if(i!=null&&i.removed.has(String(N)))I={change:"out",moveTo:v.point.moveTo??!1,from:v.point},f(v==null?void 0:v.xValue,I),g++;else if(i!=null&&i.added.has(String(M)))I={change:"in",moveTo:S.point.moveTo??!1,to:S.point},f(S==null?void 0:S.xValue,I),x++;else if(a&&u&&h===N)I={...u},f(v==null?void 0:v.xValue,I),g++;else if(a&&u&&h===M)I={...u},f(S==null?void 0:S.xValue,I),x++;else{y=!0;break}o.push(I)}let b=-1/0;return y||(y=o.some(v=>{const{change:S,to:{x:N=-1/0}={}}=v;if(S==="out")return;const M=N<b;return b=N,M})),y?{result:void 0,resultMap:void 0}:(iO(o,s),{result:o,resultMap:a?l:r})}function J$(e,t,i){var a,o,r,l;let n="updated";const s=c=>c.visible;if(!s(t)&&s(e))n="added";else if(s(t)&&!s(e))n="removed";else for(let c=0;c<i.length&&!(i[c].change!=="move"||((a=i[c].from)==null?void 0:a.x)!==((o=i[c].to)==null?void 0:o.x)||((r=i[c].from)==null?void 0:r.y)!==((l=i[c].to)==null?void 0:l.y));c++)if(c===i.length-1)return"no-op";return n}function CN(e,t){const i=t==="none"?"updated":e,n={fromFn:s=>{let a;return e==="removed"?a={finish:{visible:!1}}:e==="added"?a={start:{visible:!0}}:a={},{phase:Hs[i],...a}},toFn:s=>({phase:Hs[i]})};return t==="fade"?{fromFn:s=>({opacity:e==="added"?0:s.opacity,...n.fromFn(s)}),toFn:s=>({opacity:e==="removed"?0:1,...n.toFn(s)})}:n}function eK(e,t,i,n,s,a){const o=J$(e,t,i),r=(h,f)=>{a(i,{move:0,out:h},f,s)},l=(h,f)=>{a(i,{move:h},f,s)},c=(h,f)=>{a(i,{move:1,in:h},f,s)},u=CN(o,n);return{status:o,path:{addPhaseFn:c,updatePhaseFn:l,removePhaseFn:r},pathProperties:u}}function tK(e,t,i,n){var f,g;const s=((f=e.scales.x)==null?void 0:f.type)==="category",a=((g=t.scales.x)==null?void 0:g.type)==="category";if(s!==a||!aS(e.scales.x)||!aS(t.scales.x))return;const{result:o,resultMap:r}=s?Q$(e,t,i):X$(e,t);let l="updated";if(t.visible&&!e.visible?l="removed":!t.visible&&e.visible&&(l="added"),o===void 0||r===void 0)return;const c=((i==null?void 0:i.changed)??!0)||Hwe(e,t)||l!=="updated",u=eK(e,t,o,"fade",n,$$),h=H$(r,l);return{...u,marker:h,hasMotion:c}}function ko(e){return Yh(e).valueOf()}function vF({data:e},t){return e.map((i,n)=>({xValue0Index:t.indexOf(ko(i.xValue0)),xValue1Index:t.indexOf(ko(i.xValue1)),datumIndex:n}))}function $we(e,t){let i=-1/0;for(const n of e){const s=$n(n,t.scales.x);if(Number.isFinite(s)){if(s<i)return!1;i=s}else continue}return!0}function Kwe(e,t){const i=new Set;for(const{xValue0:c,xValue1:u}of e.data){const h=ko(c),f=ko(u);i.add(h).add(f)}const n=Array.from(i).sort((c,u)=>$n(c,e.scales.x)-$n(u,e.scales.x)),s=[];for(const{xValue0:c,xValue1:u}of t.data){const h=ko(c),f=ko(u);i.has(h)||(i.add(h),s.push(h)),i.has(f)||(i.add(f),s.push(f))}s.sort((c,u)=>$n(c,t.scales.x)-$n(u,t.scales.x));const a=n;let o=0;for(const c of s){e:for(let u=a.length;u>o;u-=1){const h=$n(c,t.scales.x),f=$n(a[u],t.scales.x);if(h>f){o=u+1;break e}}a.splice(o,0,c),o+=1}if(!$we(a,t))return;const r=vF(t,a),l=vF(e,a);return{axisValues:a,oldDataAxisIndices:r,newDataAxisIndices:l}}function wF(e,t,i){if(i.xValue1Index===i.xValue0Index+1)return e;const n=pd(e),s=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),a=n[0].x+(t-i.xValue0Index)*s,o=a+s;return B$(e,a,o)}function uD(e,t){const[i,n]=pd(e),s=$n(0,t.scales.y);return rb(e,{x:i.x,y:s},{x:n.x,y:s})}function iK(e,t,i,n,s){var u,h;let a,o;if(n.xValue0Index>=s.xValue1Index){const f=(u=i.findLast(x=>x.xValue1Index<=s.xValue1Index))==null?void 0:u.datumIndex,g=f!=null?t.data[f]:void 0;a=g==null?void 0:g.xValue1,o=g==null?void 0:g.yValue1}else if(n.xValue0Index<=s.xValue0Index){const f=(h=i.find(x=>x.xValue0Index>=s.xValue0Index))==null?void 0:h.datumIndex,g=f!=null?t.data[f]:void 0;a=g==null?void 0:g.xValue0,o=g==null?void 0:g.yValue0}if(a==null||o==null)return uD(e,t);const r=$n(a,t.scales.x),l=$n(o,t.scales.y),c={x:r,y:l};return rb(e,c,c)}function oS(e,t){var s;const i=ko(e.xValue0),n=ko(e.xValue1);return(s=t==null?void 0:t.find(a=>ko(a.xValue0)===i&&ko(a.xValue1)===n))==null?void 0:s.span}function SF(e,t,i,n,s,a){const o=e.data[i.datumIndex],r=o.span,l=oS(o,n);if(l!=null)a.removed.push({from:l,to:l}),a.moved.push({from:l,to:r}),a.added.push({from:r,to:r});else{const c=iK(r,e,t,i,s);a.added.push({from:c,to:r})}}function NF(e,t,i,n,s,a){const o=e.data[i.datumIndex],r=o.span,l=oS(o,n);if(l!=null)a.removed.push({from:r,to:r}),a.moved.push({from:r,to:l}),a.added.push({from:l,to:l});else{const c=iK(r,e,t,i,s);a.removed.push({from:r,to:c})}}function MF(e,t,i,n,s){const a=t[s.xValue0Index],o=i.data.find(b=>ko(b.xValue0)===a),r=t[s.xValue1Index],l=i.data.find(b=>ko(b.xValue1)===r);if(o==null||l==null)return;const[{x:c},{x:u}]=pd(e),h=$n(o.xValue0,i.scales.x),f=$n(o.yValue0,i.scales.y),g=$n(l.xValue1,i.scales.x),x=$n(l.yValue1,i.scales.y);let y=n.data[s.datumIndex].span;return y=rb(y,{x:h,y:f},{x:g,y:x}),y=B$(y,c,u),y}function Zwe(e,t,i,n,s,a,o,r){const l=n+1,c=a.find(S=>S.xValue0Index<=n&&S.xValue1Index>=l),u=s.find(S=>S.xValue0Index<=n&&S.xValue1Index>=l),h=t.zeroData,f=e.zeroData;if(c==null&&u!=null){SF(e,s,u,h,o,r);return}else if(c!=null&&u==null){NF(t,a,c,f,o,r);return}else if(c==null||u==null)return;let g;c.xValue0Index===u.xValue0Index&&c.xValue1Index===u.xValue1Index?g=0:c.xValue0Index<=u.xValue0Index&&c.xValue1Index>=u.xValue1Index?g=-1:c.xValue0Index>=u.xValue0Index&&c.xValue1Index<=u.xValue1Index?g=1:g=0;const x=t.data[c.datumIndex],y=wF(x.span,n,c),b=e.data[u.datumIndex],v=wF(b.span,n,u);if(g===1){const S=MF(y,i,t,e,u);S!=null?(r.removed.push({from:y,to:S}),r.moved.push({from:S,to:v}),r.added.push({from:v,to:v})):NF(t,a,c,f,o,r)}else if(g===-1){const S=MF(v,i,e,t,c);S!=null?(r.removed.push({from:y,to:y}),r.moved.push({from:y,to:S}),r.added.push({from:S,to:v})):SF(e,s,u,h,o,r)}else r.removed.push({from:y,to:y}),r.moved.push({from:y,to:v}),r.added.push({from:v,to:v})}function qwe(e,t,i,n){var l,c,u,h;const{axisValues:s,oldDataAxisIndices:a,newDataAxisIndices:o}=e,r={xValue0Index:Math.max(((l=a.at(0))==null?void 0:l.xValue0Index)??-1/0,((c=o.at(0))==null?void 0:c.xValue0Index)??-1/0),xValue1Index:Math.min(((u=a.at(-1))==null?void 0:u.xValue1Index)??1/0,((h=o.at(-1))==null?void 0:h.xValue1Index)??1/0)};for(let f=0;f<s.length-1;f+=1)Zwe(t,i,s,f,o,a,r,n)}function Xwe(e,t,i){for(const n of t.data){const s=n.span,a=oS(n,t.zeroData)??uD(s,t);i.removed.push({from:s,to:a})}for(const n of e.data){const s=n.span,a=oS(n,e.zeroData)??uD(s,e);i.added.push({from:a,to:s})}}function MA(e,t){const i={removed:[],moved:[],added:[]},n=Kwe(e,t);return n==null?Xwe(e,t,i):qwe(n,e,t,i),i}function IA(e,t,i,n){for(let s=0;s<i.length;s+=1){const a=i[s],o=n[s];lD(t.path,a.from,a.to,e,1,!1),lD(t.path,o.from,o.to,e,2,!0),t.path.closePath()}}function Qwe(e,t,i,n){const s=(l,c)=>IA(l,c,t.removed,i.removed),a=(l,c)=>IA(l,c,t.moved,i.moved),o=(l,c)=>IA(l,c,t.added,i.added),r=CN(e,n);return{status:e,path:{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s},pathProperties:r}}function TA(e,t,i){for(const n of i)lD(t.path,n.from,n.to,e,1,!1)}function Jwe(e,t,i){const n=(r,l)=>TA(r,l,t.removed),s=(r,l)=>TA(r,l,t.moved),a=(r,l)=>TA(r,l,t.added),o=CN(e,i);return{status:e,path:{addPhaseFn:a,updatePhaseFn:s,removePhaseFn:n},pathProperties:o}}function nK(e,t){var h,f;const i=((h=e.scales.x)==null?void 0:h.type)==="category",n=((f=t.scales.x)==null?void 0:f.type)==="category";if(i!==n||!aS(e.scales.x)||!aS(t.scales.x))return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");const a=MA({scales:e.scales,data:e.fillData.spans,visible:e.visible},{scales:t.scales,data:t.fillData.spans,visible:t.visible}),o=MA({scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible},{scales:t.scales,data:t.fillData.phantomSpans,visible:t.visible}),r=MA({scales:e.scales,data:e.strokeData.spans,visible:e.visible,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,visible:t.visible,zeroData:t.fillData.phantomSpans}),l="none",c=Qwe(s,a,o,l),u=Jwe(s,r,l);return{status:s,fill:c,stroke:u}}var eSe=.125,tSe=.25,oO=class extends kd{constructor(e){super({moduleCtx:e,directionKeys:yp,directionNames:xp,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:aO({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Uc,marker:(t,i)=>({...qb(),...cb(t,i)})}}),this.properties=new en}async processData(e){var S,N;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=1}={}}=this,{xKey:a,yKey:o,yFilterKey:r,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=(S=this.axes.x)==null?void 0:S.scale,f=(N=this.axes.y)==null?void 0:N.scale,{xScaleType:g,yScaleType:x}=this.getScaleInformation({xScale:h,yScale:f}),y={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},b=[];Rm(c)&&b.push(kN(Object.values(y),c,"range")),u&&b.push(ug());const v={invalidValue:null};l&&s>1&&(v.invalidValue=0),i||(v.forceValue=0),await this.requestDataModel(e,t,{props:[vr(a,g,{id:"xValue"}),pt(o,x,{id:"yValueRaw",...v}),...r!=null?[pt(r,x,{id:"yFilterRaw"})]:[],...D$(o,x,{id:"yValueStack",...v,groupId:y.stack}),pt(o,x,{id:"yValue",...v,groupId:y.value}),...Qu(o,"window","current",{id:"yValueEnd",...v,groupId:y.values},x),...Qu(o,"normal","current",{id:"yValueCumulative",...v,groupId:y.marker},x),...b],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i||t.data.length===0)return[];const s=n.y,a=i.resolveProcessedDataDefById(this,"xValue"),o=i.getDomain(this,"xValue","key",t),r=i.getDomain(this,"yValueEnd","value",t);if(e==="x")return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?o:va(Ml(o));if(s instanceof bp||s instanceof ag)return va(r);{const l=[r[0]>0?0:r[0],r[1]<0?0:r[1]];return va(l)}}async createNodeData(){var ue;const{axes:e,data:t,processedData:{data:i}={},dataModel:n}=this,s=e.x,a=e.y;if(!s||!a||!t||!n||!this.properties.isValid())return;const{yKey:o,xKey:r,yFilterKey:l,marker:c,label:u,fill:h,stroke:f,connectMissingData:g}=this.properties,{scale:x}=s,{scale:y}=a,{isContinuousY:b}=this.getScaleInformation({xScale:x,yScale:y}),v=(x.bandwidth??0)/2,S=n.resolveProcessedDataDefsByIds(this,["yValueEnd","yValueRaw","yValueCumulative"]),N=l!=null?n.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,M=n.resolveProcessedDataIndexById(this,"yValueStack"),I=(de,te,he)=>{let ge;return(Rm(this.properties.normalizedTo)?b&&mN(he):!isNaN(he))&&(ge=te),{x:x.convert(de)+v,y:y.convert(ge),size:c.size}},C=o,L=[],O=[],{visibleSameStackCount:P}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let z=-1,V=!1;i==null||i.forEach(de=>{const{keys:te,keys:[he],datum:ge,values:xe}=de;xe.forEach((be,ye)=>{z++;const we=ge[ye],_e=n.resolveProcessedDataDefsValues(S,{keys:te,values:be}),{yValueRaw:Le,yValueCumulative:Ke,yValueEnd:$e}=_e,He=Number.isFinite(Le),Ze=I(he,+Ke,Le),at=N!=null?be[N]===Le:void 0;if(at===!1&&(V=!0),He&&c&&O.push({index:z,series:this,itemId:C,datum:we,midPoint:{x:Ze.x,y:Ze.y},cumulativeValue:$e,yValue:Le,xValue:he,yKey:o,xKey:r,point:Ze,fill:c.fill??h,stroke:c.stroke??f,strokeWidth:c.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:at}),He&&u){const Je=this.getLabelText(u,{value:Le,datum:we,xKey:r,yKey:o,xName:this.properties.xName,yName:this.properties.yName},TN);L.push({index:z,series:this,itemId:o,datum:we,x:Ze.x,y:Ze.y,labelText:Je})}})});const{interpolation:G}=this.properties,H=de=>{let te;const he=de.map(ge=>ge.point);switch(G.type){case"linear":te=Lwe(he);break;case"smooth":te=jwe(he,G.tension);break;case"step":te=Owe(he,G.position);break}return te.map((ge,xe)=>({span:ge,xValue0:de[xe].xDatum,yValue0:de[xe].yDatum,xValue1:de[xe+1].xDatum,yValue1:de[xe+1].yDatum}))},B=de=>de.flatMap(te=>Array.isArray(te)?H(te):new Array(te.skip).fill(null)),$=i==null?void 0:i.flatMap(de=>{const{keys:[te],values:he}=de;return he.map(ge=>({xDatum:te,values:ge}))}),Q=(de,te)=>({point:{x:x.convert(de)+v,y:y.convert(te)},xDatum:de,yDatum:te}),X=de=>{var he,ge;const te=[];if($==null)return[];for(let xe=0;xe<$.length;xe+=1){const{xDatum:be,values:ye}=$[xe],we=ye[M],_e=we[de],Le=Number.isFinite(_e);if(g&&!Le)continue;const Ke=(he=$[xe-1])==null?void 0:he.values[M],$e=(ge=$[xe+1])==null?void 0:ge.values[M];let He=0,Ze=0;for(let Je=0;Je<=de;Je+=1){const Mt=we[Je];if(Number.isFinite(Mt)){const xi=Ke==null||Number.isFinite(Ke[Je]),Li=$e==null||Number.isFinite($e[Je]);xi&&(He+=Mt),Li&&(Ze+=Mt)}}const at=te[te.length-1];if(!g&&(He!==Ze||!Le))if(!Le&&Array.isArray(at)&&at.length===1)te[te.length-1]={skip:1};else{const Je=Q(be,He),Mt=Q(be,Ze);Array.isArray(at)?at.push(Je):at!=null&&(at.skip+=1),te.push(Le?[Mt]:{skip:0})}else{const Je=Math.max(He,Ze),Mt=Q(be,Je);Array.isArray(at)?at.push(Mt):at!=null?(at.skip+=1,te.push([Mt])):te.push([Mt])}}return B(te)},Y=((ue=this.seriesGrouping)==null?void 0:ue.stackIndex)??0,q=()=>{if($==null)return[];const de=$.map(({xDatum:te,values:he})=>{const xe=he[M][Y];if(!(g&&!Number.isFinite(xe)))return Q(te,0)}).filter(te=>te!=null);return H(de)},Z=X(Y),W=Z.map(()=>null);for(let de=Y-1;de>=-1;de-=1){let te;for(let he=0;he<W.length;he+=1)W[he]==null&&(te??(te=de!==-1?X(de):q()),W[he]=te[he])}const ee=Z.map((de,te)=>de??W[te]),oe=Z.filter(de=>de!=null);return{itemId:C,fillData:{itemId:C,spans:ee,phantomSpans:W},strokeData:{itemId:C,spans:oe},labelData:L,nodeData:O,scales:this.calculateScaling(),visible:this.visible,stackVisible:P>0,crossFiltering:V}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker,t=hl(e);return new t}async updatePathNodes(e){var l;const{opacity:t,visible:i,animationEnabled:n}=e,[s,a]=e.paths,o=((l=this.contextNodeData)==null?void 0:l.crossFiltering)===!0,r=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({fill:void 0,lineJoin:a.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:r,strokeOpacity:this.properties.strokeOpacity*(o?tSe:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i||n}),s.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(o?eSe:1),fillShadow:this.properties.shadow,opacity:t,visible:i||n}),sS(this,a),sS(this,s)}async updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.checkPathDirty()}updateFillPath(e,t){const{spans:i,phantomSpans:n}=t.fillData,[s]=e,{path:a}=s;a.clear(!0);for(let o=0;o<i.length;o+=1){const{span:r}=i[o],l=n[o].span;NA(a,r,1,!1),NA(a,l,2,!0),a.closePath()}s.checkPathDirty()}updateStrokePath(e,t){const{spans:i}=t.strokeData,[,n]=e,{path:s}=n;s.clear(!0);for(const{span:a}of i)NA(s,a,1,!1);n.checkPathDirty()}async updateMarkerSelection(e){var s;const{nodeData:t,markerSelection:i}=e,n=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,marker:a,fill:o,stroke:r,strokeWidth:l,fillOpacity:c,strokeOpacity:u,highlightStyle:h}=this.properties,f=ft(i&&h.item,a.getStyle(),{fill:o,stroke:r,strokeWidth:l,fillOpacity:c,strokeOpacity:u});t.each((g,x)=>{this.updateMarkerStyle(g,a,{datum:x,highlighted:i,xKey:n,yKey:s},f,{selected:x.selected})}),i||this.properties.marker.markClean()}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{enabled:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o,color:r}=this.properties.label;t.each((l,c)=>{const{x:u,y:h,labelText:f}=c;f&&i&&this.visible?(l.fontStyle=n,l.fontWeight=s,l.fontSize=a,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=f,l.x=u,l.y=h-10,l.fill=r,l.visible=!0):l.visible=!1})}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{xKey:s,xName:a,yName:o,tooltip:r,marker:l}=this.properties,{yKey:c,xValue:u,yValue:h,datum:f,itemId:g}=e,x=i.x,y=i.y;if(!this.properties.isValid()||!(x&&y&&yt(h))||!n)return Pc;const b=x.formatDatum(u),v=y.formatDatum(h),S=ri(o),N=ri(b+": "+v),M=ft({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:I}=this.getMarkerStyle(l,{datum:e,xKey:s,yKey:c,highlighted:!1},M);return r.toTooltipHtml({title:S,content:N,backgroundColor:I},{datum:f,itemId:g,xKey:s,xName:a,yKey:c,yName:o,color:I,title:S,seriesId:t})}getLegendData(e){var g;if(!((g=this.data)!=null&&g.length)||!this.properties.isValid()||!this.properties.showInLegend||e!=="category")return[];const{yKey:t,yName:i,fill:n,stroke:s,fillOpacity:a,strokeOpacity:o,strokeWidth:r,lineDash:l,marker:c,visible:u,legendItemName:h}=this.properties,f=!c.enabled||c.fill===void 0;return[{legendType:e,id:this.id,itemId:t,seriesId:this.id,enabled:u,label:{text:h??i??t},symbols:[{marker:{shape:c.shape,fill:f?n:c.fill,fillOpacity:f?a:c.fillOpacity,stroke:c.stroke??s,strokeOpacity:c.strokeOpacity??o,strokeWidth:c.strokeWidth??0,enabled:c.enabled||r<=0},line:{stroke:s,strokeOpacity:o,strokeWidth:r,lineDash:l}}],legendItemName:h}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:s}=e,{animationManager:a}=this.ctx;this.updateAreaPaths(s,n),sO(this,a,...s),Ji([t],cb),tO(this,a,t),Tt(this,"labels",a,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,contextData:s,paths:a,previousContextData:o}=e,[r,l]=a;if(r==null&&l==null)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(a,s)},u=()=>{t.skipCurrentBatch(),c()};if(s==null||o==null){c(),lb(this,t,"added",i),nS(this,"fill_path_properties",t,"add",r),nS(this,"stroke_path_properties",t,"add",l),Tt(this,"labels",t,n);return}if(s.crossFiltering!==o.crossFiltering){u();return}const h=nK(s,o);if(h===void 0){u();return}else if(h.status==="no-op")return;lb(this,t,void 0,i),Si(this.id,"fill_path_properties",t,[r],h.fill.pathProperties),aD(this.id,"fill_path_update",t,[r],h.fill.path),Si(this.id,"stroke_path_properties",t,[l],h.stroke.pathProperties),aD(this.id,"stroke_path_update",t,[l],h.stroke.path),Tt(this,"labels",t,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(a,s)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ut}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return Xb(this,e)}};oO.className="AreaSeries";oO.type="area";var iSe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new oO(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Np,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Oi,color:An}}},paletteFactory:e=>{const{marker:t}=IN(e);return{fill:t.fill,stroke:t.stroke,marker:t}}};function sK(e,t){return i=>t(i)?[{...e[0],position:e[1].position},{...e[1],position:e[0].position}]:e}function rO(e,t){for(const i of t){const n=i.datum;n===void 0?Ie.error("undefined datum"):e.addValue(i,n)}}function lO(e,t){const{x:i,y:n}=t,{nearest:s,distanceSquared:a}=e.getQuadTree().find(i,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(a)}}var cO=class extends Bc{constructor(){super(...arguments),this.direction="vertical"}};j([_(KW)],cO.prototype,"direction",2);var aK=class extends kd{constructor(){super(...arguments),this.groupScale=new cd,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const i=typeof t=="boolean"?1:.5,n=yt(this.smallestDataInterval)?this.smallestDataInterval*i:0,s=Ml(e)??[NaN,NaN];return typeof t=="boolean"?s[t?0:1]-=(t?1:-1)*n:(s[0]-=n,s[1]+=n),va(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e){return jt.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval):e.scale.bandwidth}updateGroupScale(e){const t=[],{groupScale:i}=this,n=this.getBandwidth(e),{index:s,visibleGroupCount:a}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let r=0;r<a;r++)t.push(String(r));return i.domain=t,i.range=[0,n??0],e instanceof Gb?i.paddingInner=e.groupPaddingInner:e instanceof dd?i.padding=.1:i.padding=0,i.round=i.padding!==0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:s}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){rO(e,this.datumNodesIter())}pickNodeClosestDatum(e){return lO(this,e)}},uO=class extends xn{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};j([_(Ft(["inside-center","inside-start","inside-end","outside-start","outside-end",{value:"inside",deprecatedTo:"inside-center"},{value:"outside",deprecatedTo:"outside-end"}],"a placement"))],uO.prototype,"placement",2);j([_(Kt)],uO.prototype,"padding",2);var Ri=class extends cO{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Cr,this.label=new uO,this.tooltip=new Qs,this.sparklineMode=!1}};j([_(Ae)],Ri.prototype,"xKey",2);j([_(Ae,{optional:!0})],Ri.prototype,"xName",2);j([_(Ae)],Ri.prototype,"yKey",2);j([_(Ae,{optional:!0})],Ri.prototype,"yName",2);j([_(Ae,{optional:!0})],Ri.prototype,"yFilterKey",2);j([_(Ae,{optional:!0})],Ri.prototype,"stackGroup",2);j([_(Kt,{optional:!0})],Ri.prototype,"normalizedTo",2);j([_(Rt)],Ri.prototype,"fill",2);j([_(Nt)],Ri.prototype,"fillOpacity",2);j([_(Rt)],Ri.prototype,"stroke",2);j([_(Ce)],Ri.prototype,"strokeWidth",2);j([_(Nt)],Ri.prototype,"strokeOpacity",2);j([_(jc)],Ri.prototype,"lineDash",2);j([_(Ce)],Ri.prototype,"lineDashOffset",2);j([_(Ce)],Ri.prototype,"cornerRadius",2);j([_(Qe,{optional:!0})],Ri.prototype,"crisp",2);j([_(Ia,{optional:!0})],Ri.prototype,"itemStyler",2);j([_(Be,{optional:!0})],Ri.prototype,"shadow",2);j([_(Be)],Ri.prototype,"label",2);j([_(Be)],Ri.prototype,"tooltip",2);j([_(Qe)],Ri.prototype,"sparklineMode",2);function oK(e,t){e.crisp=t.crisp??!0,e.fill=t.fill,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.fillOpacity=t.fillOpacity,e.strokeOpacity=t.strokeOpacity,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,e.fillShadow=t.fillShadow,e.topLeftCornerRadius=t.topLeftCornerRadius!==!1?t.cornerRadius??0:0,e.topRightCornerRadius=t.topRightCornerRadius!==!1?t.cornerRadius??0:0,e.bottomRightCornerRadius=t.bottomRightCornerRadius!==!1?t.cornerRadius??0:0,e.bottomLeftCornerRadius=t.bottomLeftCornerRadius!==!1?t.cornerRadius??0:0,e.visible=t.visible??!0}function rK({datum:e,isHighlighted:t,style:i,highlightStyle:n,itemStyler:s,seriesId:a,ctx:{callbackCache:o},...r}){const{fill:l,fillOpacity:c,stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,cornerRadius:y=0}=ft(t&&n,i);let b;return s&&(b=o.call(s,{datum:e.datum,xKey:e.xKey,fill:l,fillOpacity:c,stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,cornerRadius:y,highlighted:t,seriesId:a,...r})),{fill:(b==null?void 0:b.fill)??l,fillOpacity:(b==null?void 0:b.fillOpacity)??c,stroke:(b==null?void 0:b.stroke)??u,strokeWidth:(b==null?void 0:b.strokeWidth)??h,strokeOpacity:(b==null?void 0:b.strokeOpacity)??f,lineDash:(b==null?void 0:b.lineDash)??g,lineDashOffset:(b==null?void 0:b.lineDashOffset)??x,cornerRadius:(b==null?void 0:b.cornerRadius)??y,topLeftCornerRadius:i.topLeftCornerRadius,topRightCornerRadius:i.topRightCornerRadius,bottomRightCornerRadius:i.bottomRightCornerRadius,bottomLeftCornerRadius:i.bottomLeftCornerRadius,fillShadow:i.fillShadow}}function lK(e,t,i,n){if(t!=null){const[s,a]=t;if(s!==0||a!==1)return!1}if(jt.is(e)){const s=e.calcBandwidth(n)-e.calcBandwidth(i);if(s>0&&s<1)return!1}return!0}var AA=e=>Lb(e.yValue??0);function ub(e,t,i){const{startingX:n,startingY:s}=sSe(e,t);return{isVertical:e,calculate:(o,r)=>{let l=e?o.x:n,c=e?s:o.y,u=e?o.width:0,h=e?0:o.height;const{opacity:f}=o;r&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=r,u=e?r.width:0,h=e?0:r.height,e&&!AA(r)?c+=r.height:!e&&AA(r)&&(l+=r.width));let g;return o.clipBBox==null?g=void 0:AA(o)?g=e?new Fe(l,c-h,u,h):new Fe(l-u,c,u,h):g=new Fe(l,c,u,h),{x:l,y:c,width:u,height:h,clipBBox:g,opacity:f}},mode:i}}function nSe(e,t){return{isVertical:e,calculate:i=>({x:e?i.x:i.x+i.width/2,y:e?i.y+i.height/2:i.y,width:e?i.width:0,height:e?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity}),mode:t}}function db(e){const t=s=>s==null||isNaN(s.x)||isNaN(s.y);return{toFn:(s,a,o)=>{let r;return o==="removed"&&s.datum==null&&e.mode==="fade"?r={...hb(s,a),opacity:0}:o==="removed"||t(a)?r=e.calculate(a,s.previousDatum):r={x:a.x,y:a.y,width:a.width,height:a.height,clipBBox:a.clipBBox,opacity:a.opacity},r},fromFn:(s,a,o)=>{o==="updated"&&t(a)?o="removed":o==="updated"&&t(s.previousDatum)&&(o="added");let r;o==="added"&&s.previousDatum==null&&e.mode==="fade"?r={...hb(s,a),opacity:0}:o==="unknown"||o==="added"?r=e.calculate(a,s.previousDatum):r={x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity};const l=Hs[o];return{...r,phase:l}}}}function sSe(e,t){const i=t[e?"y":"x"];let n=1/0,s=0;return i?(e?s=i.scale.convert(jt.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(jt.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function hb(e,{x:t,y:i,width:n,height:s,clipBBox:a,opacity:o}){return{x:t,y:i,width:n,height:s,clipBBox:a,opacity:o}}function dO(e,t,i){if(e===void 0)return;const{x:n,y:s,width:a,height:o}=e;return Ii.toCanvas(t,new Fe(n,s,a,o)).clip(i)}function cK(e,t,i){if(t.enabled&&i){const{x:n,y:s,text:a,textAlign:o,textBaseline:r}=i,{color:l,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:f}=t;e.setProperties({visible:!0,x:n,y:s,text:a,fill:l,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:f,textAlign:o,textBaseline:r})}else e.visible=!1}var aSe={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function uK({isUpward:e,isVertical:t,placement:i,padding:n=0,rect:s}){let a=s.x+s.width/2,o=s.y+s.height/2,r="center",l="middle";if(i!=="inside-center"){const c=(e?1:-1)*(t?-1:1),{direction:u,textAlignment:h}=aSe[i],f=(u+1)*.5;if(t){const g=e?s.y+s.height:s.y,x=s.height*c;o=g+x*f+n*h*c,l=h===c?"top":"bottom"}else{const g=e?s.x:s.x+s.width,x=s.width*c;a=g+x*f+n*h*c,r=h===c?"left":"right"}}return{x:a,y:o,textAlign:r,textBaseline:l}}var oSe={"inside-center":"inside-center","inside-start":"inside-start","inside-end":"inside-end","outside-start":"outside-start","outside-end":"outside-end",inside:"inside-center",outside:"outside-end"},hO=class extends aK{constructor(e){super({moduleCtx:e,directionKeys:yp,directionNames:xp,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:hb,label:Uc}}),this.properties=new Ri}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var S,N,M,I;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:t=this.id}={},data:i=[]}=this,{xKey:n,yKey:s,yFilterKey:a,normalizedTo:o}=this.properties,r=!this.ctx.animationManager.isSkipped(),l=(S=this.getCategoryAxis())==null?void 0:S.scale,c=(N=this.getValueAxis())==null?void 0:N.scale,{isContinuousX:u,xScaleType:h,yScaleType:f}=this.getScaleInformation({xScale:l,yScale:c}),g=`bar-stack-${t}-yValues`,x=`${g}-trailing`,y=[];yt(o)&&y.push(kN([g,x],Math.abs(o),"range")),r&&this.processedData&&y.push(dg(this.processedData)),r&&y.push(ug());const b=this.visible?{}:{forceValue:0},{processedData:v}=await this.requestDataModel(e,i,{props:[vr(n,h,{id:"xValue"}),pt(s,f,{id:"yValue-raw",invalidValue:null,...b}),...this.crossFilteringEnabled()?[pt(a,f,{id:"yFilterValue",invalidValue:null,...b})]:[],...Qu(s,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0,...b},f),...Qu(s,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:x,separateNegative:!0,...b},f),...u?[L$,E$]:[],...y],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=(M=v.reduced)==null?void 0:M.smallestKeyInterval,this.largestDataInterval=(I=v.reduced)==null?void 0:I.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!i||!(t!=null&&t.data.length))return[];const n=i.resolveProcessedDataDefById(this,"xValue"),s=i.getDomain(this,"xValue","key",t);let a=i.getDomain(this,"yValue-end","value",t);const o=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",t):void 0;if(o!=null&&(a=[Math.min(a[0],o[0]),Math.max(a[1],o[1])]),e===this.getCategoryDirection())return(n==null?void 0:n.def.type)==="key"&&n.def.valueType==="category"?s:this.padBandExtent(s);if(this.getValueAxis()instanceof bp)return va(a);{const r=[Math.min(0,a[0]),Math.max(0,a[1])];return va(r)}}async createNodeData(){const{dataModel:e}=this,t=this.getCategoryAxis(),i=this.getValueAxis();if(!e||!t||!i||!this.properties.isValid())return;const n=t.scale,s=i.scale,{xKey:a,yKey:o,xName:r,yName:l,fill:c,stroke:u,strokeWidth:h,cornerRadius:f,legendItemName:g,label:x}=this.properties,y=i.isReversed(),{barWidth:b,groupIndex:v}=this.updateGroupScale(t),S=jt.is(n)?b*-.5:0,N=e.resolveProcessedDataIndexById(this,"xValue"),M=e.resolveProcessedDataIndexById(this,"yValue-raw"),I=this.crossFilteringEnabled()?e.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,C=e.resolveProcessedDataIndexById(this,"yValue-start"),L=e.resolveProcessedDataIndexById(this,"yValue-end"),O=e.resolveProcessedDataIndexById(this,"yValue-range"),P=!this.ctx.animationManager.isSkipped(),z=({datum:Q,valueIndex:X,xValue:Y,yValue:q,cumulativeValue:Z,phantom:W,currY:ee,prevY:oe,isPositive:fe,yRange:ue,labelText:de,crossScale:te=1})=>{const he=n.convert(Y),ge=fe!==y,xe=he+V.convert(String(v))+S,be=s.convert(ee),ye=s.convert(oe),we=this.getBarDirection()==="x",_e=s.convert(ue),Le=s.convert(0),Ke=b*.5*(1-te),$e={x:we?Math.min(be,ye):xe+Ke,y:we?xe+Ke:Math.min(be,ye),width:we?Math.abs(ye-be):b*te,height:we?b*te:Math.abs(ye-be)},He=new Fe($e.x,$e.y,$e.width,$e.height),Ze={x:we?Math.min(Le,_e):xe+Ke,y:we?xe+Ke:Math.min(Le,_e),width:we?Math.abs(Le-_e):b*te,height:we?b*te:Math.abs(Le-_e)},at=this.shouldFlipXY()?$e.height:$e.width;return{series:this,itemId:W?wc(o,W):o,datum:Q,valueIndex:X,cumulativeValue:Z,phantom:W,xValue:Y,yValue:q,yKey:o,xKey:a,capDefaults:{lengthRatioMultiplier:at,lengthMax:at},x:Ze.x,y:Ze.y,width:Ze.width,height:Ze.height,midPoint:{x:$e.x+$e.width/2,y:$e.y+$e.height/2},fill:c,stroke:u,opacity:1,strokeWidth:h,cornerRadius:f,topLeftCornerRadius:we!==ge,topRightCornerRadius:ge,bottomRightCornerRadius:we===ge,bottomLeftCornerRadius:!ge,clipBBox:He,label:de!=null?{text:de,...uK({isUpward:ge,isVertical:!we,placement:oSe[x.placement],padding:x.padding,rect:$e})}:void 0,missing:q==null,focusable:!W}},{groupScale:V,processedData:G}=this,H=[],B=[],$=[];return G==null||G.data.forEach(({keys:Q,datum:X,values:Y,aggValues:q})=>{Y.forEach((Z,W)=>{const ee=Q[N],oe=Z[M],fe=Number(Z[C]),ue=I!=null?Number(Z[I]):void 0,de=Number(Z[L]),te=oe>=0&&!Object.is(oe,-0),he=(q==null?void 0:q[O][te?1:0])??0;if(!Number.isFinite(de)||ue!=null&&!Number.isFinite(ue))return;const ge=oe!=null?this.getLabelText(this.properties.label,{datum:X[W],value:ue??oe,xKey:a,yKey:o,xName:r,yName:l,legendItemName:g},TN):void 0,xe=ue!=null&&ue>oe,be=z({datum:X[W],valueIndex:W,xValue:ee,yValue:ue??oe,cumulativeValue:ue??de,phantom:!1,currY:ue!=null?fe+ue:de,prevY:fe,isPositive:te,yRange:Math.max(fe+(ue??-1/0),he),labelText:ge,crossScale:xe?.6:void 0});if(B.push(be),$.push(be),ue!=null){const ye=z({datum:X[W],valueIndex:W,xValue:ee,yValue:ue,cumulativeValue:ue,phantom:!0,currY:de,prevY:fe,isPositive:te,yRange:he,labelText:void 0,crossScale:void 0});H.push(ye)}})}),{itemId:o,nodeData:H.length>0?[...H,...B]:B,labelData:$,scales:this.calculateScaling(),visible:this.visible||P}}nodeFactory(){return new Xs}getHighlightData(e,t){const i=e.find(n=>n.datum===t.datum&&!n.phantom);return i!=null?[i]:void 0}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>wc(t.xValue,t.valueIndex,t.phantom))}async updateDatumNodes(e){if(!this.properties.isValid())return;const{yKey:t,stackGroup:i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c,itemStyler:u,shadow:h,highlightStyle:{item:f}}=this.properties,g=this.axes.x,x=this.properties.crisp??lK(g==null?void 0:g.scale,g==null?void 0:g.visibleRange,this.smallestDataInterval,this.largestDataInterval),y=this.getCategoryDirection()==="x",b={fill:n,stroke:a,lineDash:l,lineDashOffset:c,fillShadow:h,strokeWidth:this.getStrokeWidth(o),fillOpacity:0,strokeOpacity:0},v={datum:void 0,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:f,yKey:t,style:b,itemStyler:u,stackGroup:i};e.datumSelection.each((S,N)=>{var C,L;b.fillOpacity=s*(N.phantom?.2:1),b.strokeOpacity=r*(N.phantom?.2:1),b.cornerRadius=N.cornerRadius,b.topLeftCornerRadius=N.topLeftCornerRadius,b.topRightCornerRadius=N.topRightCornerRadius,b.bottomRightCornerRadius=N.bottomRightCornerRadius,b.bottomLeftCornerRadius=N.bottomLeftCornerRadius;const M=y?(((C=N.clipBBox)==null?void 0:C.width)??N.width)>0:(((L=N.clipBBox)==null?void 0:L.height)??N.height)>0;v.datum=N;const I=rK(v);I.crisp=x,I.visible=M,oK(S,I)})}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=1})}async updateLabelNodes(e){e.labelSelection.each((t,i)=>{cK(t,this.properties.label,i.label)})}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n}}=this,s=this.getCategoryAxis(),a=this.getValueAxis();if(!i||!this.properties.isValid()||!s||!a)return Pc;const{xKey:o,yKey:r,xName:l,yName:c,fill:u,stroke:h,strokeWidth:f,tooltip:g,itemStyler:x,stackGroup:y,legendItemName:b}=this.properties,{xValue:v,yValue:S,datum:N,itemId:M}=e,I=s.formatDatum(v),C=a.formatDatum(S),L=ri(c),O=ri(I+": "+C);let P;x&&(P=n.call(x,{seriesId:t,datum:N,xKey:o,yKey:r,stackGroup:y,fill:u,stroke:h,strokeWidth:this.getStrokeWidth(f),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));const z=(P==null?void 0:P.fill)??u;return g.toTooltipHtml({title:L,content:O,backgroundColor:z},{seriesId:t,itemId:M,datum:N,xKey:o,yKey:r,xName:l,yName:c,stackGroup:y,title:L,color:z,legendItemName:b,...this.getModuleTooltipParams()})}getLegendData(e){var h;const{showInLegend:t}=this.properties;if(e!=="category"||!((h=this.data)!=null&&h.length)||!this.properties.isValid()||!t)return[];const{yKey:i,yName:n,fill:s,stroke:a,strokeWidth:o,fillOpacity:r,strokeOpacity:l,legendItemName:c,visible:u}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:u,label:{text:c??n??i},symbols:[{marker:{fill:s,fillOpacity:r,stroke:a,strokeWidth:o,strokeOpacity:l}}],legendItemName:c}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:i}){const n=db(ub(this.isVertical(),this.axes,"normal"));Si(this.id,"nodes",this.ctx.animationManager,[e],n),Tt(this,"labels",this.ctx.animationManager,t),Tt(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){var c,u;const{datumSelection:t,labelSelection:i,annotationSelections:n,previousContextData:s}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=(u=(c=this.processedData)==null?void 0:c.reduced)==null?void 0:u.diff,o=s==null?"fade":"normal",r=db(ub(this.isVertical(),this.axes,o));Si(this.id,"nodes",this.ctx.animationManager,[t],r,(h,f)=>wc(f.xValue,f.valueIndex,f.phantom),a),((a==null?void 0:a.changed)??!0)&&(Tt(this,"labels",this.ctx.animationManager,i),Tt(this,"annotations",this.ctx.animationManager,...n))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){var n;const i=(n=this.contextNodeData)==null?void 0:n.nodeData[e].clipBBox;return dO(i,this.contentGroup,t)}};hO.className="BarSeries";hO.type="bar";var rSe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new hO(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:sK([{type:"number",position:"left"},{type:"category",position:"bottom"}],e=>(e==null?void 0:e.direction)==="horizontal"),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:Oi,color:Sp,placement:"inside-center"},shadow:{enabled:!1,color:Np,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:cg},pO=class extends ka{constructor(){super(...arguments),this.maxSize=30}};j([_(Ce),Oe({redraw:3})],pO.prototype,"maxSize",2);j([_(cN,{optional:!0}),Oe({redraw:3})],pO.prototype,"domain",2);var dK=class extends xn{constructor(){super(...arguments),this.placement="top"}};j([_(BL)],dK.prototype,"placement",2);var Yt=class extends Bc{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new dK,this.tooltip=new Qs,this.marker=new pO}};j([_(Ae)],Yt.prototype,"xKey",2);j([_(Ae)],Yt.prototype,"yKey",2);j([_(Ae)],Yt.prototype,"sizeKey",2);j([_(Ae,{optional:!0})],Yt.prototype,"labelKey",2);j([_(Ae,{optional:!0})],Yt.prototype,"colorKey",2);j([_(Ae,{optional:!0})],Yt.prototype,"xFilterKey",2);j([_(Ae,{optional:!0})],Yt.prototype,"yFilterKey",2);j([_(Ae,{optional:!0})],Yt.prototype,"sizeFilterKey",2);j([_(Ae,{optional:!0})],Yt.prototype,"xName",2);j([_(Ae,{optional:!0})],Yt.prototype,"yName",2);j([_(Ae,{optional:!0})],Yt.prototype,"sizeName",2);j([_(Ae,{optional:!0})],Yt.prototype,"labelName",2);j([_(Ae,{optional:!0})],Yt.prototype,"colorName",2);j([_(cN,{optional:!0})],Yt.prototype,"colorDomain",2);j([_(_o)],Yt.prototype,"colorRange",2);j([_(Ae,{optional:!0})],Yt.prototype,"title",2);j([ji("marker.shape")],Yt.prototype,"shape",2);j([ji("marker.size")],Yt.prototype,"size",2);j([ji("marker.maxSize")],Yt.prototype,"maxSize",2);j([ji("marker.domain",{optional:!0})],Yt.prototype,"domain",2);j([ji("marker.fill",{optional:!0})],Yt.prototype,"fill",2);j([ji("marker.fillOpacity")],Yt.prototype,"fillOpacity",2);j([ji("marker.stroke",{optional:!0})],Yt.prototype,"stroke",2);j([ji("marker.strokeWidth")],Yt.prototype,"strokeWidth",2);j([ji("marker.strokeOpacity")],Yt.prototype,"strokeOpacity",2);j([ji("marker.itemStyler",{optional:!0})],Yt.prototype,"itemStyler",2);j([_(Be)],Yt.prototype,"label",2);j([_(Be)],Yt.prototype,"tooltip",2);var lSe=class extends kE{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},fO=class extends kd{constructor(e){super({moduleCtx:e,directionKeys:yp,directionNames:xp,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Uc,marker:qb}}),this.NodeEvent=lSe,this.properties=new Yt,this.sizeScale=new Do,this.colorScale=new pp}get pickModeAxis(){return"main-category"}async processData(e){var C,L;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(C=this.axes.x)==null?void 0:C.scale,i=(L=this.axes.y)==null?void 0:L.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:t,yScale:i}),a=this.colorScale.type,o=this.sizeScale.type,{xKey:r,yKey:l,sizeKey:c,xFilterKey:u,yFilterKey:h,sizeFilterKey:f,labelKey:g,colorDomain:x,colorRange:y,colorKey:b,marker:v}=this.properties,{dataModel:S,processedData:N}=await this.requestDataModel(e,this.data,{props:[pt(r,n,{id:"xValue"}),pt(l,s,{id:"yValue"}),...u!=null?[pt(u,n,{id:"xFilterValue"})]:[],...h!=null?[pt(h,s,{id:"yFilterValue"})]:[],...f!=null?[pt(f,o,{id:"sizeFilterValue"})]:[],pt(c,o,{id:"sizeValue"}),...b?[pt(b,a,{id:"colorValue"})]:[],...g?[pt(g,"band",{id:"labelValue"})]:[]]}),M=S.resolveProcessedDataIndexById(this,"sizeValue"),I=N.domain.values[M]??[];if(this.sizeScale.domain=v.domain?v.domain:I,b){const O=S.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=x??N.domain.values[O]??[],this.colorScale.range=y,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n=e==="x"?"xValue":"yValue",s=t.resolveProcessedDataDefById(this,n),a=t.getDomain(this,n,"value",i);return(s==null?void 0:s.def.type)==="value"&&(s==null?void 0:s.def.valueType)==="category"?a:va(Ml(a))}async createNodeData(){const{axes:e,dataModel:t,processedData:i,colorScale:n,sizeScale:s}=this,{xKey:a,yKey:o,sizeKey:r,xFilterKey:l,yFilterKey:c,sizeFilterKey:u,labelKey:h,xName:f,yName:g,sizeName:x,labelName:y,label:b,colorKey:v,marker:S,visible:N}=this.properties,M=hl(S.shape),{placement:I}=b,C=e.x,L=e.y;if(!(t&&i&&N&&C&&L))return;const O=t.resolveProcessedDataIndexById(this,"xValue"),P=t.resolveProcessedDataIndexById(this,"yValue"),z=r!=null?t.resolveProcessedDataIndexById(this,"sizeValue"):void 0,V=v!=null?t.resolveProcessedDataIndexById(this,"colorValue"):-1,G=h!=null?t.resolveProcessedDataIndexById(this,"labelValue"):-1,H=l!=null?t.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,B=c!=null?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,$=u!=null?t.resolveProcessedDataIndexById(this,"sizeFilterValue"):void 0,Q=C.scale,X=L.scale,Y=(Q.bandwidth??0)/2,q=(X.bandwidth??0)/2,Z=[];s.range=[S.size,S.maxSize];const W=b.getFont(),ee=Rc.getMeasurer({font:W});for(const{values:oe,datum:fe}of i.data??[]){const ue=oe[O],de=oe[P],te=z!=null?oe[z]:void 0,he=Q.convert(ue)+Y,ge=X.convert(de)+q;let xe;H!=null&&B!=null&&(xe=oe[H]===ue&&oe[B]===de,$!=null&&xe&&(xe=oe[$]===te));const be=this.getLabelText(b,{value:h?oe[G]:de,datum:fe,xKey:a,yKey:o,sizeKey:r,labelKey:h,xName:f,yName:g,sizeName:x,labelName:y}),ye=ee.measureText(String(be)),we=te?s.convert(te):S.size,_e=v?n.convert(oe[V]):void 0;Z.push({series:this,itemId:o,yKey:o,xKey:a,datum:fe,xValue:ue,yValue:de,sizeValue:te,point:{x:he,y:ge,size:we},midPoint:{x:he,y:ge},fill:_e,label:{text:be,...ye},marker:M,placement:I,selected:xe})}return{itemId:o,nodeData:Z,labelData:Z,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return((e=this.contextNodeData)==null?void 0:e.labelData)??[]}markerFactory(){const{shape:e}=this.properties.marker,t=hl(e);return new t}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?t:[];return i.update(n,void 0,s=>wc([s.xValue,s.yValue,s.label.text]))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,sizeKey:a,labelKey:o,marker:r}=this.properties,{size:l,shape:c,fill:u,fillOpacity:h,stroke:f,strokeWidth:g,strokeOpacity:x}=ft(i&&this.properties.highlightStyle.item,r.getStyle()),y={size:l,shape:c,fill:u,fillOpacity:h,stroke:f,strokeWidth:g,strokeOpacity:x};this.sizeScale.range=[r.size,r.maxSize],t.each((b,v)=>{this.updateMarkerStyle(b,r,{datum:v,highlighted:i,xKey:n,yKey:s,sizeKey:a,labelKey:o},y,{selected:v.selected})}),i||this.properties.marker.markClean()}async updateLabelSelection(e){var i;const t=this.properties.label.enabled?((i=this.chart)==null?void 0:i.placeLabels().get(this))??[]:[];return e.labelSelection.update(t.map(n=>({...n.datum,point:{x:n.x,y:n.y,size:n.datum.point.size}})))}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,n)=>{var s,a;i.text=n.label.text,i.fill=t.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((a=n.point)==null?void 0:a.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return Pc;const{xKey:n,yKey:s,sizeKey:a,labelKey:o,xName:r,yName:l,sizeName:c,labelName:u,marker:h,tooltip:f}=this.properties,g=this.properties.title??l,x=ft({fill:e.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:y="gray"}=this.getMarkerStyle(h,{datum:e,highlighted:!1,xKey:n,yKey:s,sizeKey:a,labelKey:o},x),{datum:b,xValue:v,yValue:S,sizeValue:N,label:{text:M},itemId:I}=e,C=ri(t.formatDatum(v)),L=ri(i.formatDatum(S));let O=`<b>${ri(r??n)}</b>: ${C}<br><b>${ri(l??s)}</b>: ${L}`;return a&&(O+=`<br><b>${ri(c??a)}</b>: ${ri(String(N))}`),o&&(O=`<b>${ri(u??o)}</b>: ${ri(M)}<br>`+O),f.toTooltipHtml({title:g,content:O,backgroundColor:y},{datum:b,itemId:I,xKey:n,xName:r,yKey:s,yName:l,sizeKey:a,sizeName:c,labelKey:o,labelName:u,title:g,color:y,seriesId:this.id})}getLegendData(){var h;if(!((h=this.data)!=null&&h.length)||!this.properties.isValid())return[];const{yKey:e,yName:t,title:i,marker:n,visible:s}=this.properties,{shape:a,fill:o,stroke:r,fillOpacity:l,strokeOpacity:c,strokeWidth:u}=n;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:s,label:{text:i??t??e},symbols:[{marker:{shape:a,fill:o??"rgba(0, 0, 0, 0)",stroke:r??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:u??0}}]}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){eO(this,this.ctx.animationManager,e),Tt(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ut}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:n,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,sizeKey:n,labelKey:s,highlighted:!1})}computeFocusBounds(e){return Xb(this,e)}};fO.className="BubbleSeries";fO.type="bubble";var cSe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new fO(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Oi,color:An}}},paletteFactory:cg},tn=class extends Bc{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Cr,this.label=new xn,this.tooltip=new Qs}};j([_(Ae)],tn.prototype,"xKey",2);j([_(Ae,{optional:!0})],tn.prototype,"yKey",2);j([_(Ae,{optional:!0})],tn.prototype,"xName",2);j([_(Ae,{optional:!0})],tn.prototype,"yName",2);j([_(Rt,{optional:!0})],tn.prototype,"fill",2);j([_(Nt)],tn.prototype,"fillOpacity",2);j([_(Rt,{optional:!0})],tn.prototype,"stroke",2);j([_(Ce)],tn.prototype,"strokeWidth",2);j([_(Nt)],tn.prototype,"strokeOpacity",2);j([_(jc)],tn.prototype,"lineDash",2);j([_(Ce)],tn.prototype,"lineDashOffset",2);j([_(Ce)],tn.prototype,"cornerRadius",2);j([_(Qe)],tn.prototype,"areaPlot",2);j([_(Xm,{optional:!0})],tn.prototype,"bins",2);j([_(Ft(["count","sum","mean"],"a histogram aggregation"))],tn.prototype,"aggregation",2);j([_(Ce,{optional:!0})],tn.prototype,"binCount",2);j([_(Be)],tn.prototype,"shadow",2);j([_(Be)],tn.prototype,"label",2);j([_(Be)],tn.prototype,"tooltip",2);var IF=10,mO=class extends kd{constructor(e){super({moduleCtx:e,directionKeys:yp,directionNames:xp,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:hb,label:Uc}}),this.properties=new tn,this.calculatedBins=[]}deriveBins(e){const t=hN(e[0],e[1],IF),i=Pm(e[0],e[1],IF),[n]=t,s=a=>[a,a+i];return[[n-i,n],...t.map(s)]}calculateNiceBins(e,t){const i=Math.floor(e[0]),n=e[1],s=t||1,{start:a,binSize:o}=this.calculateNiceStart(i,n,s);return this.getBins(a,n,o,s)}getBins(e,t,i,n){const s=[],a=this.calculatePrecision(i);for(let o=0;o<n;o++){const r=Math.round((e+o*i)*a)/a;let l=Math.round((e+(o+1)*i)*a)/a;o===n-1&&(l=Math.max(l,t)),s[o]=[r,l]}return s}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const n=Math.abs(t-e)/i,s=Math.floor(Math.log10(n)),a=Math.pow(10,s);return{start:Math.floor(e/a)*a,binSize:n}}async processData(e){var h,f;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:i,areaPlot:n,aggregation:s}=this.properties,a=(h=this.axes.x)==null?void 0:h.scale,o=(f=this.axes.y)==null?void 0:f.scale,{xScaleType:r,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:a}),c=[vr(t,r),O$];if(i){let g=oD("groupAgg");s==="count"||(s==="sum"?g=S$("groupAgg"):s==="mean"&&(g=M$("groupAgg"))),n&&(g=rD("groupAgg",g)),c.push(pt(i,l,{invalidValue:void 0}),g)}else{let g=oD("groupAgg");n&&(g=rD("groupAgg",g)),c.push(g)}const u=g=>{const x=va(g.domain.keys[0]);if(x.length===0)return g.domain.groups=[],()=>[];const y=Va(this.properties.binCount)?this.calculateNiceBins(x,this.properties.binCount):this.properties.bins??this.deriveBins(x),b=y.length;return this.calculatedBins=[...y],v=>{const S=v.keys[0];for(let N=0;N<b;N++){const M=y[N];if(S>=M[0]&&S<M[1]||N===b-1&&S<=M[1])return M}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(dg(this.processedData,!1)),await this.requestDataModel(e,this.data,{props:c,groupByFn:u}),this.animationState.transition("updateData")}getSeriesDomain(e){var o,r,l;const{processedData:t,dataModel:i}=this;if(!t||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",t),s=(o=this.calculatedBins)==null?void 0:o[0][0],a=(l=this.calculatedBins)==null?void 0:l[(((r=this.calculatedBins)==null?void 0:r.length)??0)-1][1];return va(e==="x"?[s,a]:n)}async createNodeData(){const{id:e,axes:t,processedData:i,ctx:{callbackCache:n}}=this,s=t.x,a=t.y;if(!s||!a)return;const{scale:o}=s,{scale:r}=a,{xKey:l,yKey:c,xName:u,yName:h,fill:f,stroke:g,strokeWidth:x,cornerRadius:y}=this.properties,b=this.properties.label.formatter??(N=>String(N.value)),v=[],S={itemId:this.properties.yKey??this.id,nodeData:v,labelData:v,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||!i||i.type!=="grouped"||(i.data.forEach(N=>{const{aggValues:[[M,I]]=[[0,0]],datum:C,datum:{length:L},keys:O,keys:[P,z]}=N,V=o.convert(P),G=o.convert(z),H=M+I,B=r.convert(0),$=r.convert(H),Q=Math.abs(G-V),X=Math.abs($-B),Y=Math.min(V,G),q=Math.min(B,$);let Z;H!==0&&(Z={x:Y+Q/2,y:q+X/2,text:n.call(b,{value:H,datum:C,seriesId:e,xKey:l,yKey:c,xName:u,yName:h})??String(H)});const W={x:Y+Q/2,y:q+X/2},ee=a.isReversed();v.push({series:this,datum:C,aggregatedValue:H,frequency:L,domain:O,yKey:c,xKey:l,x:Y,y:q,xValue:V,yValue:$,width:Q,height:X,midPoint:W,fill:f,stroke:g,cornerRadius:y,topLeftCornerRadius:!ee,topRightCornerRadius:!ee,bottomRightCornerRadius:ee,bottomLeftCornerRadius:ee,opacity:1,strokeWidth:x,label:Z})}),v.sort((N,M)=>N.x-M.x)),S}nodeFactory(){return new Xs}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return i.update(t,n=>{n.crisp=!0},n=>n.domain.join("_"))}async updateDatumNodes(e){const{isHighlight:t}=e,{fillOpacity:i,strokeOpacity:n,lineDash:s,lineDashOffset:a,shadow:o,highlightStyle:{item:{fill:r,fillOpacity:l=i,stroke:c,strokeWidth:u}}}=this.properties;e.datumSelection.each((h,f,g)=>{const{cornerRadius:x,topLeftCornerRadius:y,topRightCornerRadius:b,bottomRightCornerRadius:v,bottomLeftCornerRadius:S}=f,N=t&&u!==void 0?u:f.strokeWidth,M=t?l:i;h.fill=(t?r:void 0)??f.fill,h.stroke=(t?c:void 0)??f.stroke,h.fillOpacity=M,h.strokeOpacity=n,h.strokeWidth=N,h.lineDash=s,h.lineDashOffset=a,h.topLeftCornerRadius=y?x:0,h.topRightCornerRadius=b?x:0,h.bottomRightCornerRadius=v?x:0,h.bottomLeftCornerRadius=S?x:0,h.fillShadow=o,h.zIndex=t?sg.highlightedZIndex:g,h.visible=f.height>0})}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,n=>{n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})}async updateLabelNodes(e){const{fontStyle:t,fontWeight:i,fontFamily:n,fontSize:s,color:a}=this.properties.label,o=this.isLabelEnabled();e.labelSelection.each((r,l)=>{o&&(l!=null&&l.label)?(r.text=l.label.text,r.x=l.label.x,r.y=l.label.y,r.fontStyle=t,r.fontWeight=i,r.fontFamily=n,r.fontSize=s,r.fill=a,r.visible=!0):r.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t&&rO(e,t.children())}pickNodeClosestDatum(e){return lO(this,e)}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return Pc;const{xKey:n,yKey:s,xName:a,yName:o,fill:r,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:u,frequency:h,domain:[f,g],itemId:x}=e,y=`${ri(a??n)}: ${t.formatDatum(f)} - ${t.formatDatum(g)}`;let b=s?`<b>${ri(o??s)} (${l})</b>: ${i.formatDatum(u)}<br>`:"";b+=`<b>Frequency</b>: ${h}`;const v={title:y,backgroundColor:r,content:b};return c.toTooltipHtml(v,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},itemId:x,xKey:n,xName:a,yKey:s,yName:o,color:r,title:y,seriesId:this.id})}getLegendData(e){var c;if(!((c=this.data)!=null&&c.length)||e!=="category")return[];const{xKey:t,yName:i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:i??t??"Frequency"},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:r,strokeWidth:o}}]}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=db(ub(!0,this.axes,"normal"));Si(this.id,"datums",this.ctx.animationManager,[e],i),Tt(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){var n,s;const t=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.diff,i=db(ub(!0,this.axes,"normal"));Si(this.id,"datums",this.ctx.animationManager,[e.datumSelection],i,(a,o)=>wc(o.domain),t),Tt(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){var i;return dO((i=this.contextNodeData)==null?void 0:i.nodeData[e],this.contentGroup,t)}};mO.className="HistogramSeries";mO.type="histogram";var uSe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new mO(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:Oi,color:Sp},shadow:{enabled:!1,color:Np,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}},vn=class extends Bc{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new hg,this.marker=new ka,this.label=new xn,this.tooltip=new Qs,this.connectMissingData=!1}};j([_(Ae)],vn.prototype,"xKey",2);j([_(Ae)],vn.prototype,"yKey",2);j([_(Ae,{optional:!0})],vn.prototype,"xName",2);j([_(Ae,{optional:!0})],vn.prototype,"yName",2);j([_(Ae,{optional:!0})],vn.prototype,"yFilterKey",2);j([_(Ae,{optional:!0})],vn.prototype,"stackGroup",2);j([_(Ce,{optional:!0})],vn.prototype,"normalizedTo",2);j([_(Ae,{optional:!0})],vn.prototype,"title",2);j([_(Rt)],vn.prototype,"stroke",2);j([_(Ce)],vn.prototype,"strokeWidth",2);j([_(Nt)],vn.prototype,"strokeOpacity",2);j([_(jc)],vn.prototype,"lineDash",2);j([_(Ce)],vn.prototype,"lineDashOffset",2);j([_(Be)],vn.prototype,"interpolation",2);j([_(Be)],vn.prototype,"marker",2);j([_(Be)],vn.prototype,"label",2);j([_(Be)],vn.prototype,"tooltip",2);j([_(Qe)],vn.prototype,"connectMissingData",2);var dSe=.25,gO=class extends kd{constructor(e){super({moduleCtx:e,directionKeys:yp,directionNames:xp,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:aO({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Uc,marker:(t,i)=>({...qb(),...cb(t,i)})}}),this.properties=new vn}get pickModeAxis(){return"main-category"}async processData(e){var S,N;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=1}={}}=this,{xKey:a,yKey:o,yFilterKey:r,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=(S=this.axes.x)==null?void 0:S.scale,f=(N=this.axes.y)==null?void 0:N.scale,{isContinuousX:g,xScaleType:x,yScaleType:y}=this.getScaleInformation({xScale:h,yScale:f}),b={invalidValue:null};l&&s>1&&(b.invalidValue=0),i||(b.forceValue=0);const v=[];if(g||v.push(vr(a,x,{id:"xKey"})),v.push(pt(a,x,{id:"xValue"}),pt(o,y,{id:"yValueRaw",...b,invalidValue:void 0})),r!=null&&v.push(pt(r,y,{id:"yFilterRaw"})),s>1){const M=[`line-stack-${n}-yValues`,`line-stack-${n}-yValues-trailing`,`line-stack-${n}-yValues-marker`];v.push(...Qu(o,"window","current",{id:"yValueEnd",...b,groupId:M[0]},y),...Qu(o,"window-trailing","current",{id:"yValueStart",...b,groupId:M[1]},y),...Qu(o,"normal","current",{id:"yValueCumulative",...b,groupId:M[2]},y)),Rm(c)&&v.push(kN([M[0],M[1],M[2]],c,"range"))}u&&(v.push(ug(g?["xValue"]:void 0)),this.processedData&&v.push(dg(this.processedData))),await this.requestDataModel(e,t,{props:v}),this.animationState.transition("updateData")}getSeriesDomain(e){var s;const{dataModel:t,processedData:i}=this;if(!t||!(i!=null&&i.data.length))return[];const n=t.resolveProcessedDataDefById(this,"xValue");if(e==="x"){const a=t.getDomain(this,"xValue","value",i);return(n==null?void 0:n.def.type)==="value"&&n.def.valueType==="category"?a:va(Ml(a))}else{const o=(((s=this.seriesGrouping)==null?void 0:s.stackCount)??1)>1?t.getDomain(this,"yValueEnd","value",i):t.getDomain(this,"yValueRaw","value",i);return va(o)}}async createNodeData(){var G,H;const{processedData:e,dataModel:t,axes:i}=this,n=i.x,s=i.y;if(!e||!t||!n||!s)return;const{xKey:a,yKey:o,yFilterKey:r,xName:l,yName:c,marker:u,label:h,connectMissingData:f,legendItemName:g}=this.properties,x=(((G=this.seriesGrouping)==null?void 0:G.stackCount)??1)>1,y=n.scale,b=s.scale,v=(y.bandwidth??0)/2,S=(b.bandwidth??0)/2,N=[],M=u.enabled?u.size:0,I=t.resolveProcessedDataIndexById(this,"xValue"),C=t.resolveProcessedDataIndexById(this,"yValueRaw"),L=r!=null?t.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,O=x?t.resolveProcessedDataIndexById(this,"yValueCumulative"):C,P=x?t.resolveProcessedDataIndexById(this,"yValueEnd"):void 0;let z=!0,V=!1;return(H=e.data)==null||H.forEach(({datum:B,values:$})=>{const Q=$[I],X=$[C],Y=$[O],q=P!=null?$[P]:void 0;if(X==null){z||(z=!f);return}const Z=y.convert(Q)+v;if(isNaN(Z)){z||(z=!f);return}const W=b.convert(Y)+S,ee=L!=null?$[L]===X:void 0;ee===!1&&(V=!0);const oe=this.getLabelText(h,{value:X,datum:B,xKey:a,yKey:o,xName:l,yName:c,legendItemName:g},TN);N.push({series:this,datum:B,yKey:o,xKey:a,point:{x:Z,y:W,moveTo:z,size:M},midPoint:{x:Z,y:W},cumulativeValue:q,yValue:X,xValue:Q,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},labelText:oe,selected:ee}),z=!1}),{itemId:o,nodeData:N,labelData:N,scales:this.calculateScaling(),visible:this.visible,crossFiltering:V}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker,t=hl(e);return new t}async updatePathNodes(e){var o;const{paths:[t],opacity:i,visible:n,animationEnabled:s}=e,a=((o=this.contextNodeData)==null?void 0:o.crossFiltering)===!0;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(a?dSe:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),s||(t.visible=n),sS(this,t)}async updateMarkerSelection(e){var s;let{nodeData:t}=e;const{markerSelection:i}=e;return t=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0?t:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(t,void 0,a=>wc(a.xValue))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,stroke:a,strokeWidth:o,strokeOpacity:r,marker:l,highlightStyle:c}=this.properties,u=ft(i&&c.item,l.getStyle(),{stroke:a,strokeWidth:o,strokeOpacity:r}),h=this.ctx.animationManager.isSkipped();t.each((f,g)=>{this.updateMarkerStyle(f,l,{datum:g,highlighted:i,xKey:n,yKey:s},u,{applyTranslation:h,selected:g.selected})}),i||l.markClean()}async updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}async updateLabelNodes(e){const{enabled:t,fontStyle:i,fontWeight:n,fontSize:s,fontFamily:a,color:o}=this.properties.label;e.labelSelection.each((r,l)=>{t&&(l!=null&&l.labelText)?(r.fontStyle=i,r.fontWeight=n,r.fontSize=s,r.fontFamily=a,r.textAlign="center",r.textBaseline="bottom",r.text=l.labelText,r.x=l.point.x,r.y=l.point.y-10,r.fill=o,r.visible=!0):r.visible=!1})}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return Pc;const{xKey:n,yKey:s,xName:a,yName:o,strokeWidth:r,marker:l,tooltip:c}=this.properties,{datum:u,xValue:h,yValue:f,itemId:g}=e,x=t.formatDatum(h),y=i.formatDatum(f),b=ri(this.properties.title??o),v=ri(x+": "+y),S=ft({fill:l.stroke},l.getStyle(),{strokeWidth:r}),{fill:N}=this.getMarkerStyle(l,{datum:e,xKey:n,yKey:s,highlighted:!1},S);return c.toTooltipHtml({title:b,content:v,backgroundColor:N},{datum:u,itemId:g,xKey:n,xName:a,yKey:s,yName:o,title:b,color:N,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){var f;if(!((f=this.data)!=null&&f.length&&this.properties.isValid()&&e==="category"))return[];const{yKey:t,yName:i,stroke:n,strokeOpacity:s,strokeWidth:a,lineDash:o,title:r,marker:l,visible:c,legendItemName:u}=this.properties,h="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:t,legendItemName:u,seriesId:this.id,enabled:c,label:{text:u??r??i??t},symbols:[{marker:{shape:l.shape,fill:l.fill??h,stroke:l.stroke??n??h,fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??s??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled},line:{stroke:n??h,strokeOpacity:s,strokeWidth:a,lineDash:o}}]}]}async updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const{interpolation:i}=this.properties,{nodeData:n}=t,[s]=e;s.path.clear(!0);for(const a of K$(n))nO(Z$(n,a),s,i);s.checkPathDirty()}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n,contextData:s,paths:a}=e,{animationManager:o}=this.ctx;this.updateLinePaths(a,s),sO(this,o,...a),Ji([t],cb),tO(this,o,t),Tt(this,"labels",o,i),Tt(this,"annotations",o,...n)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var f,g;const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:s,contextData:a,paths:o,previousContextData:r}=e,[l]=o;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateLinePaths(o,a)},u=()=>{t.skipCurrentBatch(),c()};if(a==null||r==null){c(),lb(this,t,"added",i),nS(this,"path_properties",t,"add",l),Tt(this,"labels",t,n),Tt(this,"annotations",t,...s);return}if(a.crossFiltering!==r.crossFiltering){u();return}let h;try{h=tK(a,r,(g=(f=this.processedData)==null?void 0:f.reduced)==null?void 0:g.diff,this.properties.interpolation)}catch{h=void 0}if(h===void 0){u();return}else if(h.status==="no-op")return;lb(this,t,void 0,i),Si(this.id,"path_properties",t,[l],h.pathProperties),h.status==="added"?this.updateLinePaths(o,a):h.status==="removed"?this.updateLinePaths(o,r):aD(this.id,"path_update",t,[l],h.path),h.hasMotion&&(Tt(this,"labels",t,n),Tt(this,"annotations",t,...s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new ut}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return Xb(this,e)}};gO.className="LineSeries";gO.type="line";var hSe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new gO(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Oi,color:An},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{const{marker:t}=IN(e);return{stroke:t.fill,marker:t}}},hK=class extends xn{constructor(){super(...arguments),this.placement="top"}};j([_(BL)],hK.prototype,"placement",2);var mi=class extends Bc{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new hK,this.tooltip=new Qs,this.marker=new ka}};j([_(Ae)],mi.prototype,"xKey",2);j([_(Ae)],mi.prototype,"yKey",2);j([_(Ae,{optional:!0})],mi.prototype,"labelKey",2);j([_(Ae,{optional:!0})],mi.prototype,"colorKey",2);j([_(Ae,{optional:!0})],mi.prototype,"xFilterKey",2);j([_(Ae,{optional:!0})],mi.prototype,"yFilterKey",2);j([_(Ae,{optional:!0})],mi.prototype,"xName",2);j([_(Ae,{optional:!0})],mi.prototype,"yName",2);j([_(Ae,{optional:!0})],mi.prototype,"labelName",2);j([_(Ae,{optional:!0})],mi.prototype,"colorName",2);j([_(cN,{optional:!0})],mi.prototype,"colorDomain",2);j([_(_o)],mi.prototype,"colorRange",2);j([_(Ae,{optional:!0})],mi.prototype,"title",2);j([ji("marker.shape")],mi.prototype,"shape",2);j([ji("marker.size")],mi.prototype,"size",2);j([ji("marker.fill")],mi.prototype,"fill",2);j([ji("marker.fillOpacity")],mi.prototype,"fillOpacity",2);j([ji("marker.stroke")],mi.prototype,"stroke",2);j([ji("marker.strokeWidth")],mi.prototype,"strokeWidth",2);j([ji("marker.strokeOpacity")],mi.prototype,"strokeOpacity",2);j([ji("marker.itemStyler",{optional:!0})],mi.prototype,"itemStyler",2);j([_(Be)],mi.prototype,"label",2);j([_(Be)],mi.prototype,"tooltip",2);var yO=class extends kd{constructor(e){super({moduleCtx:e,directionKeys:yp,directionNames:xp,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:qb,label:Uc}}),this.properties=new mi,this.colorScale=new pp}get pickModeAxis(){return"main-category"}async processData(e){var b,v;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(b=this.axes.x)==null?void 0:b.scale,i=(v=this.axes.y)==null?void 0:v.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:t,yScale:i}),a=this.colorScale.type,{xKey:o,yKey:r,xFilterKey:l,yFilterKey:c,labelKey:u,colorKey:h,colorDomain:f,colorRange:g}=this.properties,{dataModel:x,processedData:y}=await this.requestDataModel(e,this.data,{props:[pt(o,n,{id:"xValue"}),pt(r,s,{id:"yValue"}),...l!=null?[pt(l,n,{id:"xFilterValue"})]:[],...c!=null?[pt(c,s,{id:"yFilterValue"})]:[],...h?[pt(h,a,{id:"colorValue"})]:[],...u?[pt(u,"band",{id:"labelValue"})]:[]]});if(h){const S=x.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=f??y.domain.values[S]??[],this.colorScale.range=g,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n=e==="x"?"xValue":"yValue",s=t.resolveProcessedDataDefById(this,n),a=t.getDomain(this,n,"value",i);return(s==null?void 0:s.def.type)==="value"&&(s==null?void 0:s.def.valueType)==="category"?a:va(Ml(a))}async createNodeData(){const{axes:e,dataModel:t,processedData:i,colorScale:n}=this,{xKey:s,yKey:a,xFilterKey:o,yFilterKey:r,labelKey:l,colorKey:c,xName:u,yName:h,labelName:f,marker:g,label:x,visible:y}=this.properties,{placement:b}=x,v=hl(g.shape),S=e.x,N=e.y;if(!(t&&i&&y&&S&&N))return;const M=t.resolveProcessedDataIndexById(this,"xValue"),I=t.resolveProcessedDataIndexById(this,"yValue"),C=c!=null?t.resolveProcessedDataIndexById(this,"colorValue"):-1,L=l!=null?t.resolveProcessedDataIndexById(this,"labelValue"):-1,O=o!=null?t.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,P=r!=null?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,z=S.scale,V=N.scale,G=(z.bandwidth??0)/2,H=(V.bandwidth??0)/2,B=[],$=x.getFont(),Q=Rc.getMeasurer({font:$});for(const{values:X,datum:Y}of i.data??[]){const q=X[M],Z=X[I],W=z.convert(q)+G,ee=V.convert(Z)+H,oe=O!=null&&P!=null?X[O]===q&&X[P]===Z:void 0,fe=this.getLabelText(x,{value:l?X[L]:Z,datum:Y,xKey:s,yKey:a,labelKey:l,xName:u,yName:h,labelName:f}),ue=Q.measureText(fe),de=c?n.convert(X[C]):void 0;B.push({series:this,itemId:a,yKey:a,xKey:s,datum:Y,xValue:q,yValue:Z,capDefaults:{lengthRatioMultiplier:g.getDiameter(),lengthMax:1/0},point:{x:W,y:ee,size:g.size},midPoint:{x:W,y:ee},fill:de,label:{text:fe,...ue},marker:v,placement:b,selected:oe})}return{itemId:a,nodeData:B,labelData:B,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return((e=this.contextNodeData)==null?void 0:e.labelData)??[]}markerFactory(){const{shape:e}=this.properties.marker,t=hl(e);return new t}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,labelKey:a,marker:o,highlightStyle:r}=this.properties,l=ft(i&&r.item,o.getStyle());t.each((c,u)=>{this.updateMarkerStyle(c,o,{datum:u,highlighted:i,xKey:n,yKey:s,labelKey:a},l,{selected:u.selected})}),i||o.markClean()}async updateLabelSelection(e){var i;const t=this.isLabelEnabled()?((i=this.chart)==null?void 0:i.placeLabels().get(this))??[]:[];return e.labelSelection.update(t.map(({datum:n,x:s,y:a})=>({...n,point:{x:s,y:a,size:n.point.size},placement:"top"})),n=>{n.pointerEvents=1})}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,n)=>{var s,a;i.text=n.label.text,i.fill=t.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((a=n.point)==null?void 0:a.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return Pc;const{xKey:n,yKey:s,labelKey:a,xName:o,yName:r,labelName:l,title:c=r,marker:u,tooltip:h}=this.properties,{datum:f,xValue:g,yValue:x,label:y,itemId:b}=e,v=ft({fill:e.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:S="gray"}=this.getMarkerStyle(u,{datum:e,highlighted:!1,xKey:n,yKey:s,labelKey:a},v),N=ri(t.formatDatum(g)),M=ri(i.formatDatum(x));let I=`<b>${ri(o??n)}</b>: ${N}<br><b>${ri(r??s)}</b>: ${M}`;return a&&(I=`<b>${ri(l??a)}</b>: ${ri(y.text)}<br>`+I),h.toTooltipHtml({title:c,content:I,backgroundColor:S},{datum:f,itemId:b,xKey:n,xName:o,yKey:s,yName:r,labelKey:a,labelName:l,title:c,color:S,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){var h;const{yKey:t,yName:i,title:n,marker:s,visible:a}=this.properties,{fill:o,stroke:r,fillOpacity:l,strokeOpacity:c,strokeWidth:u}=s;return!((h=this.data)!=null&&h.length)||!this.properties.isValid()||e!=="category"?[]:[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:a,label:{text:n??i??t},symbols:[{marker:{shape:s.shape,fill:s.fill??o??"rgba(0, 0, 0, 0)",stroke:s.stroke??r??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:u??0}}]}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n}=e;eO(this,this.ctx.animationManager,t),Tt(this,"labels",this.ctx.animationManager,i),Tt(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ut}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(e){return Xb(this,e)}};yO.className="ScatterSeries";yO.type="scatter";var pSe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new yO(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Oi,color:An},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:cg},pK=class dD{constructor(t,i,n,s){this.startAngle=t,this.endAngle=i,this.innerRadius=n,this.outerRadius=s}clone(){const{startAngle:t,endAngle:i,innerRadius:n,outerRadius:s}=this;return new dD(t,i,n,s)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[XS](t,i){return new dD(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function xO({startAngle:e,endAngle:t,innerRadius:i,outerRadius:n}){let s=1/0,a=1/0,o=-1/0,r=-1/0;const l=(c,u)=>{s=Math.min(c,s),a=Math.min(u,a),o=Math.max(c,o),r=Math.max(u,r)};return l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),Ao(0,e,t)&&l(n,0),Ao(Math.PI*.5,e,t)&&l(0,n),Ao(Math.PI,e,t)&&l(-n,0),Ao(Math.PI*1.5,e,t)&&l(0,-n),new Fe(s,a,o-s,r-a)}function rS(e,t,i){const n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:s,outerRadius:a}=i;if(i.startAngle===i.endAngle||n<Math.min(s,a)||n>Math.max(s,a))return!1;const o=ib(i.startAngle),r=ib(i.endAngle),l=Math.atan2(t,e);return o<r?l<=r&&l>=o:l<=r&&l>=-Math.PI||l>=o&&l<=Math.PI}function TF(e,t){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:a}=t,o={x:a*Math.cos(i),y:a*Math.sin(i)},r={x:a*Math.cos(n),y:a*Math.sin(n)},l=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},c=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return pm(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||pm(e.start.x,e.start.y,e.end.x,e.end.y,r.x,r.y,c.x,c.y)||rY(0,0,a,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function fK(e,t){const i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y},s={x:e.x,y:e.y+e.height},a={x:e.x+e.width,y:e.y+e.height};return TF({start:i,end:n},t)||TF({start:s,end:a},t)}function AF(e,t,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let a=0,o=1;for(let r=0;r<8;r+=1){const l=(a+o)/2;Math.asin(Math.abs(l*i)/(e+l*i))+Math.asin(Math.abs(l*n)/(e+l*n))-t<0?a=l:o=l}return a}var fSe=1e-6;function Ju(e,t){return Bb(e,t)<fSe?t:Pt(e-t)+t}function r1(e,t,i=0){const s=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Pt(t-e);return e=Ju(e,i),t=e+s,{startAngle:e,endAngle:t}}function l1(e,t,i,n,s,a){const o=Math.sin(a),r=Math.cos(a),l=e**2+t**2-i**2;let c=NaN,u=NaN,h=NaN,f=NaN;if(r>.5){const N=o/r,M=1+N**2,I=-2*(e+t*N),C=I**2-4*M*l;if(C<0)return;const L=(-I+Math.sqrt(C))/(2*M),O=(-I-Math.sqrt(C))/(2*M);c=L,u=L*N,h=O,f=O*N}else{const N=r/o,M=1+N**2,I=-2*(t+e*N),C=I**2-4*M*l;if(C<0)return;const L=(-I+Math.sqrt(C))/(2*M),O=(-I-Math.sqrt(C))/(2*M);c=L*N,u=L,h=O*N,f=O}const g=r,x=o,y=c*g+u*x,b=h*g+f*x,v=y>0?Ju(Math.atan2(u-t,c-e),n):NaN,S=b>0?Ju(Math.atan2(f-t,h-e),n):NaN;if(v>=n&&v<=s)return v;if(S>=n&&S<=s)return S}function c1(e,t,i,n,s,a){const o=Math.hypot(e,t),r=(o**2-i**2+a**2)/(2*o),l=o-r,c=Math.atan2(t,e),u=Math.acos(-l/i),h=Ju(c+u,n),f=Ju(c-u,n);if(h>=n&&h<=s)return h;if(f>=n&&f<=s)return f}var kA=class{constructor(e,t,i,n,s){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},es=class extends Ns{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return xO(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:t}=this;let{innerRadius:i,outerRadius:n}=this;return i=i>0?i+t:0,n=Math.max(n-t,0),{innerRadius:i,outerRadius:n}}normalizedClipSector(){const{clipSector:t}=this;if(t==null)return;const{startAngle:i,endAngle:n}=r1(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:a}=this.normalizedRadii(),o=r1(t.startAngle,t.endAngle,i);return new pK(Math.max(i,o.startAngle),Math.min(n,o.endAngle),Math.max(s,t.innerRadius),Math.min(a,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,i,n,s,a,o,r,l){if(t<=0)return;const{startAngle:c,endAngle:u}=r1(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:f}=this.normalizedRadii(),g=this.normalizedClipSector();if(l&&h<=0)return;const x=l?this.getAngleOffset(h+t):this.getAngleOffset(f-t),y=r?c+x+i:u-x-i,b=l?h+t:f-t,v=b*Math.cos(y),S=b*Math.sin(y);if(g!=null&&(!r&&!(y>=c-1e-6&&y<=g.endAngle-1e-6)||r&&!(y>=g.startAngle+1e-6&&y<=u-1e-6)||l&&b<g.innerRadius-1e-6||!l&&b>g.outerRadius+1e-6))return;const N=new kA(v,S,t,n,s);if(g!=null){l?(N.clipStart(l1(v,S,t,n,s,g.endAngle)),N.clipEnd(l1(v,S,t,n,s,g.startAngle))):(N.clipStart(l1(v,S,t,n,s,g.startAngle)),N.clipEnd(l1(v,S,t,n,s,g.endAngle)));let O,P;if(r?(O=c1(v,S,t,n,s,g.innerRadius),P=c1(v,S,t,n,s,g.outerRadius)):(O=c1(v,S,t,n,s,g.outerRadius),P=c1(v,S,t,n,s,g.innerRadius)),N.clipStart(O),N.clipEnd(P),O!=null){const{x:z,y:V}=N.pointAt(O),G=Ju(Math.atan2(V,z),c);r?o==null||o.clipStart(G):a.clipEnd(G)}if(P!=null){const{x:z,y:V}=N.pointAt(P),G=Ju(Math.atan2(V,z),c);r?a.clipStart(G):o==null||o.clipEnd(G)}}if(g!=null){const{x:O,y:P}=N.pointAt((N.a0+N.a1)/2);if(!rS(O,P,g))return}const{x:M,y:I}=N.pointAt(r===l?N.a0:N.a1),C=Ju(Math.atan2(I,M),c),L=l?o:a;return r?L==null||L.clipStart(C):L==null||L.clipEnd(C),N}updatePath(){const{path:i,centerX:n,centerY:s,concentricEdgeInset:a,radialEdgeInset:o}=this;let{startOuterCornerRadius:r,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:u}=this;const{startAngle:h,endAngle:f}=r1(this.startAngle,this.endAngle),{innerRadius:g,outerRadius:x}=this.normalizedRadii(),y=this.normalizedClipSector(),b=f-h,v=b>=2*Math.PI-1e-6;if(i.clear(),g===0&&x===0||g>x)return;if(((y==null?void 0:y.startAngle)??h)===((y==null?void 0:y.endAngle)??f))return;if(v&&this.clipSector==null&&r===0&&l===0&&c===0&&u===0){i.moveTo(n+x*Math.cos(h),s+x*Math.sin(h)),i.arc(n,s,x,h,f),g>a&&(i.moveTo(n+g*Math.cos(f),s+g*Math.sin(f)),i.arc(n,s,g,f,h,!0)),i.closePath();return}else if(this.clipSector==null&&Math.abs(g-x)<1e-6){i.arc(n,s,x,h,f,!1),i.arc(n,s,x,f,h,!0),i.closePath();return}const S=this.getAngleOffset(g),N=this.getAngleOffset(x);if(b<2*N)return;const I=((y==null?void 0:y.innerRadius)??g)>a,C=g<a||b<2*S,L=x-g,O=Math.max(r,c,l,u),P=O>0?Math.min(L/O,1):1;r*=P,l*=P,c*=P,u*=P;const z=AF(x,b-2*N,-r,-l);if(r*=z,l*=z,!C&&I){const ge=AF(g,b-2*S,c,u);c*=ge,u*=ge}else c=0,u=0;const V=Math.max(r+c,l+u),G=V>0?Math.min(L/V,1):1;r*=G,l*=G,c*=G,u*=G;let H=0,B=0;const $=r/(x-r),Q=l/(x-l);if($>=0&&$<1-1e-6)H=Math.asin($);else{H=b/2;const ge=x/(1/Math.sin(H)+1);r=Math.min(ge,r)}if(Q>=0&&Q<1-1e-6)B=Math.asin(Q);else{B=b/2;const ge=x/(1/Math.sin(B)+1);l=Math.min(ge,l)}const X=Math.asin(c/(g+c)),Y=Math.asin(u/(g+u)),q=(y==null?void 0:y.outerRadius)??x,Z=this.getAngleOffset(q),W=new kA(0,0,q,h+Z,f-Z),ee=(y==null?void 0:y.innerRadius)??g,oe=this.getAngleOffset(ee),fe=I?new kA(0,0,ee,h+oe,f-oe):void 0;y!=null&&(W.clipStart(y.startAngle),W.clipEnd(y.endAngle),fe==null||fe.clipStart(y.startAngle),fe==null||fe.clipEnd(y.endAngle));const ue=this.arc(r,H,h-Math.PI*.5,h+H,W,fe,!0,!1),de=this.arc(l,B,f-B,f+Math.PI*.5,W,fe,!1,!1),te=this.arc(u,Y,f+Math.PI*.5,f+Math.PI-Y,W,fe,!1,!0),he=this.arc(c,X,h+Math.PI+X,h+Math.PI*1.5,W,fe,!0,!0);if(C){const ge=b<Math.PI*.5?o*(1+Math.cos(b))/Math.sin(b):NaN;let xe;ge>0&&ge<x?xe=Math.max(Math.hypot(o,ge),g):xe=o,xe=Math.max(xe,g);const be=h+b*.5;i.moveTo(n+xe*Math.cos(be),s+xe*Math.sin(be))}else if(!((he==null?void 0:he.isValid())===!0||(fe==null?void 0:fe.isValid())===!0)){const ge=h+b/2,xe=g*Math.cos(ge),be=g*Math.sin(ge);i.moveTo(n+xe,s+be)}if((ue==null?void 0:ue.isValid())===!0){const{cx:ge,cy:xe,r:be,a0:ye,a1:we}=ue;i.arc(n+ge,s+xe,be,ye,we)}if(W.isValid()){const{r:ge,a0:xe,a1:be}=W;i.arc(n,s,ge,xe,be)}if((de==null?void 0:de.isValid())===!0){const{cx:ge,cy:xe,r:be,a0:ye,a1:we}=de;i.arc(n+ge,s+xe,be,ye,we)}if(!C){if((te==null?void 0:te.isValid())===!0){const{cx:ge,cy:xe,r:be,a0:ye,a1:we}=te;i.arc(n+ge,s+xe,be,ye,we)}if((fe==null?void 0:fe.isValid())===!0){const{r:ge,a0:xe,a1:be}=fe;i.arc(n,s,ge,be,xe,!0)}if((he==null?void 0:he.isValid())===!0){const{cx:ge,cy:xe,r:be,a0:ye,a1:we}=he;i.arc(n+ge,s+xe,be,ye,we)}}i.closePath()}isPointInPath(t,i){const{startAngle:n,endAngle:s,innerRadius:a,outerRadius:o}=this.clipSector??this;return rS(t-this.centerX,i-this.centerY,{startAngle:n,endAngle:s,innerRadius:Math.min(a,o),outerRadius:Math.max(a,o)})}};es.className="Sector";j([st()],es.prototype,"centerX",2);j([st()],es.prototype,"centerY",2);j([st()],es.prototype,"innerRadius",2);j([st()],es.prototype,"outerRadius",2);j([st()],es.prototype,"startAngle",2);j([st()],es.prototype,"endAngle",2);j([st()],es.prototype,"clipSector",2);j([st()],es.prototype,"concentricEdgeInset",2);j([st()],es.prototype,"radialEdgeInset",2);j([st()],es.prototype,"startOuterCornerRadius",2);j([st()],es.prototype,"endOuterCornerRadius",2);j([st()],es.prototype,"startInnerCornerRadius",2);j([st()],es.prototype,"endInnerCornerRadius",2);var dn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},tl={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},mK=class extends Xt{constructor(){super(...arguments),this.showInLegend=!1}};j([_(Qe)],mK.prototype,"showInLegend",2);var bO=class extends xn{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};j([_(Ae)],bO.prototype,"text",2);j([_(Kt)],bO.prototype,"spacing",2);var vO=class extends ht{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};j([_(Rt)],vO.prototype,"fill",2);j([_(Nt)],vO.prototype,"fillOpacity",2);var pg=class extends xn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};j([_(Ce)],pg.prototype,"offset",2);j([_(wd)],pg.prototype,"minAngle",2);j([_(Ce)],pg.prototype,"minSpacing",2);j([_(Ce)],pg.prototype,"maxCollisionOffset",2);j([_(Qe)],pg.prototype,"avoidCollisions",2);var wO=class extends xn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};j([_(Kt)],wO.prototype,"positionOffset",2);j([_(Nt)],wO.prototype,"positionRatio",2);var DN=class extends ht{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};j([_(_o,{optional:!0})],DN.prototype,"colors",2);j([_(Ce)],DN.prototype,"length",2);j([_(Ce)],DN.prototype,"strokeWidth",2);var bt=class extends Xa{constructor(){super(...arguments),this.fills=Object.values(dn),this.strokes=Object.values(tl),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new rN(bO),this.title=new mK,this.innerCircle=new vO,this.shadow=new Cr,this.calloutLabel=new pg,this.sectorLabel=new wO,this.calloutLine=new DN,this.tooltip=new Qs}isValid(){const e=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(Ie.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};j([_(Ae)],bt.prototype,"angleKey",2);j([_(Ae,{optional:!0})],bt.prototype,"angleName",2);j([_(Ae,{optional:!0})],bt.prototype,"angleFilterKey",2);j([_(Ae,{optional:!0})],bt.prototype,"radiusKey",2);j([_(Ae,{optional:!0})],bt.prototype,"radiusName",2);j([_(Ce,{optional:!0})],bt.prototype,"radiusMin",2);j([_(Ce,{optional:!0})],bt.prototype,"radiusMax",2);j([_(Ae,{optional:!0})],bt.prototype,"calloutLabelKey",2);j([_(Ae,{optional:!0})],bt.prototype,"calloutLabelName",2);j([_(Ae,{optional:!0})],bt.prototype,"sectorLabelKey",2);j([_(Ae,{optional:!0})],bt.prototype,"sectorLabelName",2);j([_(Ae,{optional:!0})],bt.prototype,"legendItemKey",2);j([_(_o)],bt.prototype,"fills",2);j([_(_o)],bt.prototype,"strokes",2);j([_(Nt)],bt.prototype,"fillOpacity",2);j([_(Nt)],bt.prototype,"strokeOpacity",2);j([_(jc)],bt.prototype,"lineDash",2);j([_(Ce)],bt.prototype,"lineDashOffset",2);j([_(Ce)],bt.prototype,"cornerRadius",2);j([_(Ia,{optional:!0})],bt.prototype,"itemStyler",2);j([_(wd)],bt.prototype,"rotation",2);j([_(Kt)],bt.prototype,"outerRadiusOffset",2);j([_(Nt)],bt.prototype,"outerRadiusRatio",2);j([_(Kt,{optional:!0})],bt.prototype,"innerRadiusOffset",2);j([_(Nt,{optional:!0})],bt.prototype,"innerRadiusRatio",2);j([_(Ce)],bt.prototype,"strokeWidth",2);j([_(Kt)],bt.prototype,"sectorSpacing",2);j([_(YW)],bt.prototype,"innerLabels",2);j([_(Be)],bt.prototype,"title",2);j([_(Be)],bt.prototype,"innerCircle",2);j([_(Be)],bt.prototype,"shadow",2);j([_(Be)],bt.prototype,"calloutLabel",2);j([_(Be)],bt.prototype,"sectorLabel",2);j([_(Be)],bt.prototype,"calloutLine",2);j([_(Be)],bt.prototype,"tooltip",2);function Zh(e,t,i,n){const s=[i.convert(0),i.convert(1)],a=[n.convert(0),n.convert(1)],o=Math.PI/-2+xs(t),r=e?"initial":"update",l=({radius:x})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*x}),c=({radius:x})=>({innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*x});return{nodes:{toFn:(x,y,b,{prevLive:v})=>{var O,P;let{startAngle:S,endAngle:N,innerRadius:M,outerRadius:I}=y;const{stroke:C,fill:L}=y.sectorFormat;if(b==="removed"&&v?(S=(O=v.datum)==null?void 0:O.endAngle,N=(P=v.datum)==null?void 0:P.endAngle):b==="removed"&&!v&&(S=o,N=o),b==="removed"){const z=l(y);M=z.innerRadius,I=z.outerRadius}return{startAngle:S,endAngle:N,outerRadius:I,innerRadius:M,stroke:C,fill:L}},fromFn:(x,y,b,{prevFromProps:v})=>{let{startAngle:S,endAngle:N,innerRadius:M,outerRadius:I}=x,{fill:C,stroke:L}=y.sectorFormat;if(b==="unknown"||b==="added"&&!v?(S=o,N=o,M=y.innerRadius,I=y.outerRadius):b==="added"&&v&&(S=v.endAngle??o,N=v.endAngle??o,M=v.innerRadius??y.innerRadius,I=v.outerRadius??y.outerRadius),b==="added"&&!e){const O=c(y);M=O.innerRadius,I=O.outerRadius}return b==="updated"&&(C=x.fill??C,L=x.stroke??L),{startAngle:S,endAngle:N,innerRadius:M,outerRadius:I,fill:C,stroke:L,phase:r}}},innerCircle:{fromFn:(x,y)=>{var b;return{size:((b=x.previousDatum)==null?void 0:b.radius)??x.size??0,phase:r}},toFn:(x,y)=>({size:y.radius??0})}}}function SO(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function NO(e,t){const i=t.y-e.centerY,n=t.x-e.centerX,s=Math.atan2(i,n),a=e.getItemNodes();for(const o of a)if(o.datum.missing!==!0&&Ao(s,o.startAngle,o.endAngle)){const r=Math.sqrt(n*n+i*i);let l=0;return r<o.innerRadius?l=o.innerRadius-r:r>o.outerRadius&&(l=r-o.outerRadius),{datum:o.datum,distance:l}}}var LN=class extends TE{constructor({useLabelLayer:e=!1,pickModes:t=[1,0],canHaveAxes:i=!1,animationResetFns:n,...s}){super({...s,useLabelLayer:e,pickModes:t,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i}),this.itemGroup=this.contentGroup.appendChild(new ut),this.nodeData=[],this.itemSelection=li.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=li.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=li.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=li.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=n,this.animationState=new Vb("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new fn;return e.pointerEvents=1,e}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Ji([this.itemSelection,this.highlightSelection],e),t&&Ji([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:i}=this.animationResetFns??{};t&&Ji([this.highlightSelection],t),i&&Ji([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}computeFocusBounds(e){var i;const t=(i=this.getNodeData())==null?void 0:i[e.datumIndex];if(t!==void 0)return this.itemSelection.select(n=>n instanceof Ns&&n.datum===t)[0]}},mSe=class extends $b{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},MO=class extends LN{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:SO,label:Uc}}),this.properties=new bt,this.phantomNodeData=void 0,this.previousRadiusScale=new Do,this.radiusScale=new Do,this.phantomGroup=this.contentGroup.appendChild(new ut),this.phantomSelection=li.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ut({name:"pieCalloutLabels"})),this.calloutLabelSelection=new li(this.calloutLabelGroup,ut),this.backgroundGroup=this.rootGroup.appendChild(new _m({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ut({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new qu),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new qu),this.innerLabelsGroup=this.contentGroup.appendChild(new ut({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new ut({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=li.select(this.innerLabelsGroup,fn),this.innerCircleSelection=li.select(this.innerCircleGroup,qu),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=mSe,this.angleScale=new Do,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){var e;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.includes(!0))}nodeFactory(){return new es}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var y,b;if(this.data==null||!this.properties.isValid())return;let{data:t}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:s,angleFilterKey:a,radiusKey:o,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=[],f=[];c?h.push(vr(c,"band",{id:"legendItemKey"})):r?h.push(vr(r,"band",{id:"calloutLabelKey"})):l&&h.push(vr(l,"band",{id:"sectorLabelKey"}));const g=this.radiusScale.type,x=this.radiusScale.type;o&&f.push(QE(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),pt(o,g,{id:"radiusRaw"}),Kh("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),r&&f.push(pt(r,"band",{id:"calloutLabelValue"})),l&&f.push(pt(l,"band",{id:"sectorLabelValue"})),c&&f.push(pt(c,"band",{id:"legendItemValue"})),a&&f.push(ob(a,x,{id:"angleFilterValue",onlyPositive:!0}),pt(a,x,{id:"angleFilterRaw"}),Kh("angleFilterValue",[0,1],0,0)),u&&this.processedData&&h.length>0&&f.push(dg(this.processedData)),f.push(ug()),t=t.map((v,S)=>i&&n[S]?v:{...v,[s]:0}),await this.requestDataModel(e,t,{props:[...h,ob(s,x,{id:"angleValue",onlyPositive:!0}),pt(s,x,{id:"angleRaw"}),Kh("angleValue",[0,1],0,0),...f]});for(const v of((b=(y=this.processedData)==null?void 0:y.defs)==null?void 0:b.values)??[]){const{id:S,missing:N,property:M}=v,I=dE(this,N);S!=="angleRaw"&&I>0&&Ie.warnOnce(`no value was found for the key '${String(M)}' on ${I} data element${I>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=await this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){const t=e.resolveProcessedDataIndexById(this,"angleValue"),i=e.resolveProcessedDataIndexById(this,"angleRaw"),n=this.properties.angleFilterKey!=null?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,s=this.properties.angleFilterKey!=null?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,a=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,o=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,r=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,l=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,c=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0;return{angleIdx:t,angleRawIdx:i,angleFilterIdx:n,angleFilterRawIdx:s,radiusIdx:a,radiusRawIdx:o,calloutLabelIdx:r,sectorLabelIdx:l,legendItemIdx:c}}async createNodeData(){const{id:e,processedData:t,dataModel:i,angleScale:n}=this,{rotation:s,innerRadiusRatio:a}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!t||!i||t.type!=="ungrouped")return;const{angleIdx:o,angleRawIdx:r,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:u,radiusRawIdx:h,calloutLabelIdx:f,sectorLabelIdx:g,legendItemIdx:x}=this.getProcessedDataIndexes(i),y=c!=null&&t.data.some(({values:M})=>M[c]>M[r]);let b=0,v=0;const S=[],N=c!=null?[]:void 0;return t.data.forEach((M,I)=>{const{datum:C,values:L}=M,O=y?L[l]:L[o],P=c!=null&&!y?Math.sqrt(L[c]/L[r]):1,z=n.convert(b)+xs(s);b=O,v+=O;const V=n.convert(b)+xs(s),G=Math.abs(V-z),H=z+G/2,B=L[r],Q=(u!=null?L[u]??1:1)*P,X=h!=null?L[h]:void 0,Y=x!=null?L[x]:void 0,q=this.getLabels(C,H,G,!0,f!=null?L[f]:void 0,g!=null?L[g]:void 0,Y),Z=this.getSectorFormat(C,I,!1),W={itemId:I,series:this,datum:C,index:I,angleValue:B,midAngle:H,midCos:Math.cos(H),midSin:Math.sin(H),startAngle:z,endAngle:V,radius:Q,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Q),0),sectorFormat:Z,radiusValue:X,legendItemValue:Y,enabled:this.seriesItemEnabled[I],focusable:!0,...q};S.push(W),N!=null&&N.push({...W,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=v===0,this.zerosumInnerRing.visible=v===0&&a!=null&&a!==1&&a>0,{itemId:e,nodeData:S,labelData:S,phantomNodeData:N}}getLabels(e,t,i,n,s,a,o){const{calloutLabel:r,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||r.enabled?this.properties.calloutLabelKey:void 0,h=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!c)return{};const f={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},g={};return u&&i>xs(r.minAngle)&&(g.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(r,{...f,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),h&&(g.sectorLabel={text:this.getLabelText(l,{...f,value:a})}),c!=null&&o!=null&&(g.legendItem={key:c,text:o}),g}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=ib(e),n=-.75*Math.PI,s=i-n,a=Math.floor(s/(Math.PI/2)),o=tN(a,t.length);return t[o]}getSectorFormat(e,t,i){const{callbackCache:n}=this.ctx,{angleKey:s,radiusKey:a,calloutLabelKey:o,sectorLabelKey:r,legendItemKey:l,fills:c,strokes:u,itemStyler:h}=this.properties,f=u[t%u.length],{fill:g,fillOpacity:x,stroke:y,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:N,cornerRadius:M}=ft(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:f,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let I;return h&&(I=n.call(h,{datum:e,angleKey:s,radiusKey:a,calloutLabelKey:o,sectorLabelKey:r,legendItemKey:l,fill:g,fillOpacity:x,stroke:y,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:N,cornerRadius:M,highlighted:i,seriesId:this.id})),{fill:(I==null?void 0:I.fill)??g,fillOpacity:(I==null?void 0:I.fillOpacity)??x,stroke:(I==null?void 0:I.stroke)??y,strokeWidth:(I==null?void 0:I.strokeWidth)??b,strokeOpacity:(I==null?void 0:I.strokeOpacity)??v,lineDash:(I==null?void 0:I.lineDash)??S,lineDashOffset:(I==null?void 0:I.lineDashOffset)??N,cornerRadius:(I==null?void 0:I.cornerRadius)??M}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,n=e*t+i;return n===e||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){var n;const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-e);return-e-i-n}async update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},n=jo(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const s=this.getTitleTranslationY();t.node.y=isFinite(s)?s:0;const a=t.node.getBBox();t.node.visible=t.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(a)}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){var i,n;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:a,innerLabelsSelection:o}=this,r=this.nodeData.map(c=>({...c,sectorFormat:{...c.sectorFormat}})),l=(c,u)=>{c.update(u,void 0,h=>this.getDatumId(h)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(e,this.nodeData),l(t,r),l(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,c=>{const u=new ba;u.tag=0,u.pointerEvents=1,c.appendChild(u);const h=new fn;h.tag=1,h.pointerEvents=1,c.appendChild(h)}),a.update(this.nodeData),n.update(r),o.update(this.properties.innerLabels,c=>{c.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const s=Math.min(i,this.getOuterRadius());t=Math.ceil(s*2+1)}const n=e?[{radius:t}]:[];this.innerCircleSelection.update(n)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((a,{radius:o})=>{var r,l;a.setProperties({fill:(r=this.properties.innerCircle)==null?void 0:r.fill,opacity:(l=this.properties.innerCircle)==null?void 0:l.fillOpacity,size:o})});const n=this.ctx.animationManager.isSkipped(),s=(a,o,r,l)=>{const c=this.getSectorFormat(o.datum,o.itemId,l);o.sectorFormat.fill=c.fill,o.sectorFormat.stroke=c.stroke,n&&(a.startAngle=o.startAngle,a.endAngle=o.endAngle,a.innerRadius=o.innerRadius,a.outerRadius=o.outerRadius),(l||n)&&(a.fill=c.fill,a.stroke=c.stroke),a.strokeWidth=c.strokeWidth,a.fillOpacity=c.fillOpacity,a.strokeOpacity=c.strokeOpacity,a.lineDash=c.lineDash,a.lineDashOffset=c.lineDashOffset,a.cornerRadius=c.cornerRadius,a.fillShadow=this.properties.shadow;const u=Math.max((this.properties.sectorSpacing+(c.stroke!=null?c.strokeWidth:0))/2,0);a.inset=u,a.lineJoin=this.properties.sectorSpacing>=0||u>0?"miter":"round"};this.itemSelection.each((a,o,r)=>s(a,o,r,!1)),this.highlightSelection.each((a,o,r)=>{s(a,o,r,!0),a.visible=o.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((a,o,r)=>s(a,o,r,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,n=e.colors??this.properties.strokes,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,o)=>{const r=a.datum,{calloutLabel:l,outerRadius:c}=r;if(l!=null&&l.text&&!l.hidden&&c!==0){a.visible=!0,a.strokeWidth=i,a.stroke=n[o%n.length],a.fill=void 0;const u=r.midCos*c,h=r.midSin*c;let f=r.midCos*(c+t),g=r.midSin*(c+t);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const y=l.box;let b=f,v=g;f<y.x?b=y.x:f>y.x+y.width&&(b=y.x+y.width),g<y.y?v=y.y:g>y.y+y.height&&(v=y.y+y.height);const S=b-f,N=v-g,M=Math.sqrt(Math.pow(S,2)+Math.pow(N,2)),I=M-s;I>0&&(f=f+S*I/M,g=g+N*I/M)}a.x1=u,a.y1=h,a.x2=f,a.y2=g}else a.visible=!1})}getLabelOverflow(e,t,i){const n=i.x-this.centerX,s=i.x+i.width-this.centerX,a=i.y-this.centerY,o=i.y+i.height-this.centerY,r=1;let l=1;t.x+r<n?l=(t.x+t.width-n)/t.width:t.x+t.width-r>s&&(l=(s-t.x)/t.width);const c=t.y+r<a||t.y+t.height-r>o,u=l===1?e.length:Math.floor(e.length*l)-1,h=this.bboxIntersectsSurroundingSeries(t);return{textLength:u,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=t,a=e.convert(0),o=v=>!v.calloutLabel||v.outerRadius===0,r=this.calloutNodeData,l=r.filter(v=>!o(v));if(l.forEach(v=>{const S=v.calloutLabel;S!=null&&(S.hidden=!1,S.collisionTextAlign=void 0,S.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(v=>v.midCos<0).sort((v,S)=>v.midSin-S.midSin),u=l.filter(v=>v.midCos>=0).sort((v,S)=>v.midSin-S.midSin),h=l.filter(v=>{var S;return v.midSin<0&&((S=v.calloutLabel)==null?void 0:S.textAlign)==="center"}).sort((v,S)=>v.midCos-S.midCos),f=l.filter(v=>{var S;return v.midSin>=0&&((S=v.calloutLabel)==null?void 0:S.textAlign)==="center"}).sort((v,S)=>v.midCos-S.midCos),g=v=>{const S=v.calloutLabel;if(S==null)return Fe.zero.clone();const N=v.outerRadius+i.length+n,M=v.midCos*N,I=v.midSin*N+S.collisionOffsetY,C=S.collisionTextAlign??S.textAlign,L=S.textBaseline;return fn.computeBBox(S.text,M,I,{font:this.properties.calloutLabel,textAlign:C,textBaseline:L})},x=(v,S,N)=>{const M=g(v).grow(s/2),I=g(S).grow(s/2);if(M.x<I.x+I.width&&M.x+M.width>I.x&&(N==="to-top"?M.y<I.y+I.height:M.y+M.height>I.y)){const L=N==="to-top"?M.y-I.y-I.height:M.y+M.height-I.y;S.calloutLabel.collisionOffsetY=L}},y=v=>{const S=v.slice().sort((M,I)=>Math.abs(M.midSin)-Math.abs(I.midSin))[0],N=v.indexOf(S);for(let M=N-1;M>=0;M--){const I=v[M+1],C=v[M];x(I,C,"to-top")}for(let M=N+1;M<v.length;M++){const I=v[M-1],C=v[M];x(I,C,"to-bottom")}},b=v=>{const S=l.some(O=>O.calloutLabel.collisionOffsetY!==0),N=v.map(O=>g(O)),M=N.map(O=>O.clone().grow(s/2));let I=!1;for(let O=0;O<M.length&&!I;O++){const P=M[O];for(let z=O+1;z<v.length;z++){const V=M[z];if(P.collidesBBox(V)){I=!0;break}}}const C=r.map(O=>{const{startAngle:P,endAngle:z,outerRadius:V}=O;return{startAngle:P,endAngle:z,innerRadius:a,outerRadius:V}}),L=N.some(O=>C.some(P=>fK(O,P)));!I&&!S&&!L||v.filter(O=>O.calloutLabel.textAlign==="center").forEach(O=>{const P=O.calloutLabel;O.midCos<0?P.collisionTextAlign="right":O.midCos>0?P.collisionTextAlign="left":P.collisionTextAlign="center"})};y(c),y(u),b(h),b(f)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,color:o}=i,r=new fn;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,u=c.calloutLabel,h=t.convert(c.radius),f=Math.max(0,h);if(!(u!=null&&u.text)||f===0||u.hidden){l.visible=!1;return}const g=f+s+a,x=c.midCos*g,y=c.midSin*g+u.collisionOffsetY,b={textAlign:u.collisionTextAlign??u.textAlign,textBaseline:u.textBaseline};r.text=u.text,r.x=x,r.y=y,r.setFont(this.properties.calloutLabel),r.setAlign(b);const v=r.getBBox();let S=u.text,N=!0;if(i.avoidCollisions){const{textLength:M,hasVerticalOverflow:I}=this.getLabelOverflow(u.text,v,e);S=u.text.length===M?u.text:`${u.text.substring(0,M)}`,N=!I}l.text=S,l.x=x,l.y=y,l.setFont(this.properties.calloutLabel),l.setAlign(b),l.fill=o,l.visible=N})}async computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,maxCollisionOffset:o,minSpacing:r}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new fn;let u;const{title:h}=this.properties;if(h!=null&&h.text&&h.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(c.text=h.text,c.x=0,c.y=f,c.setFont(h),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.getBBox(),l.push(u))}return this.calloutNodeData.forEach(f=>{const g=f.calloutLabel;if(!g||f.outerRadius===0)return null;const x=f.outerRadius+s+a,y=f.midCos*x,b=f.midSin*x+g.collisionOffsetY;c.text=g.text,c.x=y,c.y=b,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:g.collisionTextAlign??g.textAlign,textBaseline:g.textBaseline});const v=c.getBBox();if(g.box=v,Math.abs(g.collisionOffsetY)>o){g.hidden=!0;return}if(u){const S=t.y-this.centerY,N=new Fe(u.x-r,S,u.width+2*r,u.y+u.height+r-S);if(v.collidesBBox(N)){g.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:S,hasVerticalOverflow:N,hasSurroundingSeriesOverflow:M}=this.getLabelOverflow(g.text,v,t),I=g.text.length>2&&S<2;if(N||I||M){g.hidden=!0;return}}g.hidden=!1,l.push(v)}),l.length===0?null:Fe.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:a,positionOffset:o,positionRatio:r,color:l}=this.properties.sectorLabel,c=(u,h)=>{const{sectorLabel:f,outerRadius:g}=h;let x=!1;if(f&&g!==0){const y=t*(1-r)+g*r+o;u.fill=l,u.fontStyle=n,u.fontWeight=s,u.fontSize=i,u.fontFamily=a,u.text=f.text,u.x=h.midCos*y,u.y=h.midSin*y,u.textAlign="center",u.textBaseline="middle";const b=u.getBBox(),v=[[b.x,b.y],[b.x+b.width,b.y],[b.x+b.width,b.y+b.height],[b.x,b.y+b.height]],{startAngle:S,endAngle:N}=h,M={startAngle:S,endAngle:N,innerRadius:t,outerRadius:g};v.every(([I,C])=>rS(I,C,M))&&(x=!0)}u.visible=x};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((u,h)=>{const{fontStyle:f,fontWeight:g,fontSize:x,fontFamily:y,color:b}=h;u.fontStyle=f,u.fontWeight=g,u.fontSize=x,u.fontFamily=y,u.text=h.text,u.x=0,u.y=0,u.fill=b,u.textAlign="center",u.textBaseline="alphabetic",e.push(u.getBBox()),t.push(h.spacing)});const i=u=>u===0?0:t[u],n=u=>u===t.length-1?0:t[u],s=e.reduce((u,h,f)=>u+h.height+i(f)+n(f),0),a=Math.max(...e.map(u=>u.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(a/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let u=0,h=-s/2;u<e.length;u++){const g=e[u].height+h+i(u);c.push(g),h=g+n(u)}this.innerLabelsSelection.each((u,h,f)=>{u.y=c[f],u.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties,{sectorLabel:a,calloutLabel:o,legendItem:r}=e;if(s&&r!==void 0)return r.text;if(i&&i!==t&&(o==null?void 0:o.text)!==void 0)return o.text;if(n&&n!==t&&(a==null?void 0:a.text)!==void 0)return a.text}pickNodeClosestDatum(e){return NO(this,e)}getTooltipHtml(e){var l;if(!this.properties.isValid())return Pc;const{datum:t,angleValue:i,sectorFormat:{fill:n},itemId:s}=e,a=ri((l=this.properties.title)==null?void 0:l.text),o=yt(i)?eN(i):String(i),r=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:a??r,content:a&&r?`${r}: ${o}`:o,backgroundColor:n},{datum:t,itemId:s,title:a,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){var g,x,y,b,v;const{visible:t,processedData:i,dataModel:n}=this;if(!n||!(i!=null&&i.data.length)||!this.properties.isValid()||e!=="category")return[];const{angleKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r}=this.properties;if(!r&&(!a||a===s)&&(!o||o===s))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(n),h=((g=this.properties.title)==null?void 0:g.showInLegend)&&this.properties.title.text,f=[];for(let S=0;S<i.data.length;S++){const{datum:N,values:M}=i.data[S],I=[];h&&I.push(h);const C=this.getLabels(N,2*Math.PI,2*Math.PI,!1,l!=null?M[l]:void 0,c!=null?M[c]:void 0,u!=null?M[u]:void 0);if(r&&C.legendItem!==void 0?I.push(C.legendItem.text):a&&a!==s&&((x=C.calloutLabel)==null?void 0:x.text)!==void 0?I.push((y=C.calloutLabel)==null?void 0:y.text):o&&o!==s&&((b=C.sectorLabel)==null?void 0:b.text)!==void 0&&I.push((v=C.sectorLabel)==null?void 0:v.text),I.length===0)continue;const L=this.getSectorFormat(N,S,!1);f.push({legendType:"category",id:this.id,itemId:S,seriesId:this.id,enabled:t&&this.legendItemEnabled[S],label:{text:I.join(" - ")},symbols:[{marker:{fill:L.fill,stroke:L.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:r!=null?N[r]:void 0})}return f}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:s}=e;n.id===this.id?this.toggleSeriesItem(i,t):s!=null&&this.toggleOtherSeriesItems(s,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.legendItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}setLegendState(e){this.legendItemEnabled=e,this.ctx.updateService.update(4)}toggleOtherSeriesItems(e,t){var n;if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");(n=this.processedData)==null||n.data.forEach(({values:s},a)=>{s[i]===e&&this.toggleSeriesItem(a,t)})}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=Zh(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Si(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s)),Si(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),Tt(this,"callout",t,this.calloutLabelSelection),Tt(this,"sector",t,this.labelSelection),Tt(this,"highlight",t,this.highlightLabelSelection),Tt(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var f,g,x;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,r=(f=n==null?void 0:n.reduced)==null?void 0:f.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((r==null?void 0:r.moved.size)??0)===0,c=((n==null?void 0:n.defs.keys.length)??0)>0,u=((x=(g=n==null?void 0:n.reduced)==null?void 0:g.animationValidation)==null?void 0:x.uniqueKeys)??!0;(!l||!c||!u)&&this.ctx.animationManager.skipCurrentBatch();const h=Zh(!1,this.properties.rotation,s,a);Si(this.id,"nodes",o,[e,t,i],h.nodes,(y,b)=>this.getDatumId(b),r),Si(this.id,"innerCircle",o,[this.innerCircleSelection],h.innerCircle),Tt(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Tt(this,"sector",this.ctx.animationManager,this.labelSelection),Tt(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Tt(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:a}=this.ctx,o=Zh(!1,this.properties.rotation,n,s);Si(this.id,"nodes",a,[e,t,i],o.nodes,(r,l)=>this.getDatumId(l)),Si(this.id,"innerCircle",a,[this.innerCircleSelection],o.innerCircle),Gu(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Gu(this,"sector",this.ctx.animationManager,this.labelSelection),Gu(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Gu(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var s,a,o;const{calloutLabelKey:t,sectorLabelKey:i,legendItemKey:n}=this.properties;if((o=(a=(s=this.processedData)==null?void 0:s.reduced)==null?void 0:a.animationValidation)!=null&&o.uniqueKeys){if(n)return e[n];if(t)return e[t];if(i)return e[i]}}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return i!=null?String(i):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t,legendItemEnabled:i}=this;this.seriesItemEnabled=(e==null?void 0:e.map((n,s)=>t[s]??!0))??[],this.legendItemEnabled=(e==null?void 0:e.map((n,s)=>i[s]??!0))??[]}};MO.className="DonutSeries";MO.type="donut";var gSe={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Oi,color:$h,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Oi,color:An,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Oi,color:Sp,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Np,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:Oi,color:An,spacing:2}}},ySe={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Oi,color:$h,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Oi,color:An,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Oi,color:Sp,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Np,xOffset:3,yOffset:3,blur:5}}},gK=({takeColors:e,colorsCount:t})=>{const{fills:i,strokes:n}=e(t);return{fills:i,strokes:n,calloutLine:{colors:n}}},xSe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new MO(e),tooltipDefaults:{range:"exact"},themeTemplate:gSe,paletteFactory:gK},yK=class extends Xt{constructor(){super(...arguments),this.showInLegend=!1}};j([_(Qe)],yK.prototype,"showInLegend",2);var fg=class extends xn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};j([_(Ce)],fg.prototype,"offset",2);j([_(wd)],fg.prototype,"minAngle",2);j([_(Ce)],fg.prototype,"minSpacing",2);j([_(Ce)],fg.prototype,"maxCollisionOffset",2);j([_(Qe)],fg.prototype,"avoidCollisions",2);var IO=class extends xn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};j([_(Kt)],IO.prototype,"positionOffset",2);j([_(Nt)],IO.prototype,"positionRatio",2);var EN=class extends ht{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};j([_(_o,{optional:!0})],EN.prototype,"colors",2);j([_(Ce)],EN.prototype,"length",2);j([_(Ce)],EN.prototype,"strokeWidth",2);var Et=class extends Xa{constructor(){super(...arguments),this.fills=Object.values(dn),this.strokes=Object.values(tl),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new yK,this.shadow=new Cr,this.calloutLabel=new fg,this.sectorLabel=new IO,this.calloutLine=new EN,this.tooltip=new Qs}};j([_(Ae)],Et.prototype,"angleKey",2);j([_(Ae,{optional:!0})],Et.prototype,"angleName",2);j([_(Ae,{optional:!0})],Et.prototype,"angleFilterKey",2);j([_(Ae,{optional:!0})],Et.prototype,"radiusKey",2);j([_(Ae,{optional:!0})],Et.prototype,"radiusName",2);j([_(Ce,{optional:!0})],Et.prototype,"radiusMin",2);j([_(Ce,{optional:!0})],Et.prototype,"radiusMax",2);j([_(Ae,{optional:!0})],Et.prototype,"calloutLabelKey",2);j([_(Ae,{optional:!0})],Et.prototype,"calloutLabelName",2);j([_(Ae,{optional:!0})],Et.prototype,"sectorLabelKey",2);j([_(Ae,{optional:!0})],Et.prototype,"sectorLabelName",2);j([_(Ae,{optional:!0})],Et.prototype,"legendItemKey",2);j([_(_o)],Et.prototype,"fills",2);j([_(_o)],Et.prototype,"strokes",2);j([_(Nt)],Et.prototype,"fillOpacity",2);j([_(Nt)],Et.prototype,"strokeOpacity",2);j([_(jc)],Et.prototype,"lineDash",2);j([_(Ce)],Et.prototype,"lineDashOffset",2);j([_(Ce)],Et.prototype,"cornerRadius",2);j([_(Ia,{optional:!0})],Et.prototype,"itemStyler",2);j([_(wd)],Et.prototype,"rotation",2);j([_(Kt)],Et.prototype,"outerRadiusOffset",2);j([_(Nt)],Et.prototype,"outerRadiusRatio",2);j([_(Ce)],Et.prototype,"strokeWidth",2);j([_(Kt)],Et.prototype,"sectorSpacing",2);j([_(Be)],Et.prototype,"title",2);j([_(Be)],Et.prototype,"shadow",2);j([_(Be)],Et.prototype,"calloutLabel",2);j([_(Be)],Et.prototype,"sectorLabel",2);j([_(Be)],Et.prototype,"calloutLine",2);j([_(Be)],Et.prototype,"tooltip",2);var bSe=class extends $b{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},TO=class extends LN{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:SO,label:Uc}}),this.properties=new Et,this.phantomNodeData=void 0,this.previousRadiusScale=new Do,this.radiusScale=new Do,this.phantomGroup=this.contentGroup.appendChild(new ut),this.phantomSelection=li.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ut({name:"pieCalloutLabels"})),this.calloutLabelSelection=new li(this.calloutLabelGroup,ut),this.backgroundGroup=this.rootGroup.appendChild(new _m({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ut({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new qu),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=bSe,this.angleScale=new Do,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){var e;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.includes(!0))}nodeFactory(){const e=new es;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var y,b,v,S,N;if(this.data==null||!this.properties.isValid())return;let{data:t}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:s,angleFilterKey:a,radiusKey:o,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=[],f=[];c?h.push(vr(c,"band",{id:"legendItemKey"})):r?h.push(vr(r,"band",{id:"calloutLabelKey"})):l&&h.push(vr(l,"band",{id:"sectorLabelKey"}));const g=this.radiusScale.type,x=this.radiusScale.type;o&&f.push(QE(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),pt(o,g,{id:"radiusRaw"}),Kh("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),r&&f.push(pt(r,"band",{id:"calloutLabelValue"})),l&&f.push(pt(l,"band",{id:"sectorLabelValue"})),c&&f.push(pt(c,"band",{id:"legendItemValue"})),a&&f.push(ob(a,x,{id:"angleFilterValue",onlyPositive:!0}),pt(a,x,{id:"angleFilterRaw"}),Kh("angleFilterValue",[0,1],0,0)),u&&((v=(b=(y=this.processedData)==null?void 0:y.reduced)==null?void 0:b.animationValidation)!=null&&v.uniqueKeys)&&h.length>0&&f.push(dg(this.processedData)),f.push(ug()),t=t.map((M,I)=>i&&n[I]?M:{...M,[s]:0}),await this.requestDataModel(e,t,{props:[...h,ob(s,x,{id:"angleValue",onlyPositive:!0}),pt(s,x,{id:"angleRaw"}),Kh("angleValue",[0,1],0,0),...f]});for(const M of((N=(S=this.processedData)==null?void 0:S.defs)==null?void 0:N.values)??[]){const{id:I,missing:C,property:L}=M,O=dE(this,C);I!=="angleRaw"&&O>0&&Ie.warnOnce(`no value was found for the key '${String(L)}' on ${O} data element${O>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=await this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){const t=e.resolveProcessedDataIndexById(this,"angleValue"),i=e.resolveProcessedDataIndexById(this,"angleRaw"),n=this.properties.angleFilterKey!=null?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,s=this.properties.angleFilterKey!=null?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,a=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,o=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,r=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,l=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,c=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0;return{angleIdx:t,angleRawIdx:i,angleFilterIdx:n,angleFilterRawIdx:s,radiusIdx:a,radiusRawIdx:o,calloutLabelIdx:r,sectorLabelIdx:l,legendItemIdx:c}}async createNodeData(){const{id:e,processedData:t,dataModel:i,angleScale:n}=this,{rotation:s}=this.properties;if(!t||!i||t.type!=="ungrouped")return;const{angleIdx:a,angleRawIdx:o,angleFilterIdx:r,angleFilterRawIdx:l,radiusIdx:c,radiusRawIdx:u,calloutLabelIdx:h,sectorLabelIdx:f,legendItemIdx:g}=this.getProcessedDataIndexes(i),x=l!=null&&t.data.some(({values:N})=>N[l]>N[o]);let y=0,b=0;const v=[],S=l!=null?[]:void 0;return t.data.forEach((N,M)=>{const{datum:I,values:C}=N,L=x?C[r]:C[a],O=l!=null&&!x?Math.sqrt(C[l]/C[o]):1,P=n.convert(y)+xs(s);y=L,b+=L;const z=n.convert(y)+xs(s),V=Math.abs(z-P),G=P+V/2,H=C[o],$=(c!=null?C[c]??1:1)*O,Q=u!=null?C[u]:void 0,X=g!=null?C[g]:void 0,Y=this.getLabels(I,G,V,!0,h!=null?C[h]:void 0,f!=null?C[f]:void 0,X),q=this.getSectorFormat(I,M,!1),Z={itemId:M,series:this,datum:I,index:M,angleValue:H,midAngle:G,midCos:Math.cos(G),midSin:Math.sin(G),startAngle:P,endAngle:z,radius:$,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert($),0),sectorFormat:q,radiusValue:Q,legendItemValue:X,enabled:this.seriesItemEnabled[M],...Y};v.push(Z),S!=null&&S.push({...Z,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})}),this.zerosumOuterRing.visible=b===0,{itemId:e,nodeData:v,labelData:v,phantomNodeData:S}}getLabels(e,t,i,n,s,a,o){const{calloutLabel:r,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||r.enabled?this.properties.calloutLabelKey:void 0,h=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!c)return{};const f={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},g={};return u&&i>xs(r.minAngle)&&(g.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(r,{...f,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),h&&(g.sectorLabel={text:this.getLabelText(l,{...f,value:a})}),c!=null&&o!=null&&(g.legendItem={key:c,text:o}),g}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=ib(e),n=-.75*Math.PI,s=i-n,a=Math.floor(s/(Math.PI/2)),o=tN(a,t.length);return t[o]}getSectorFormat(e,t,i){const{callbackCache:n}=this.ctx,{angleKey:s,radiusKey:a,calloutLabelKey:o,sectorLabelKey:r,legendItemKey:l,fills:c,strokes:u,itemStyler:h}=this.properties,f=u[t%u.length],{fill:g,fillOpacity:x,stroke:y,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:N,cornerRadius:M}=ft(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:f,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let I;return h&&(I=n.call(h,{datum:e,angleKey:s,radiusKey:a,calloutLabelKey:o,sectorLabelKey:r,legendItemKey:l,fill:g,strokeOpacity:v,stroke:y,strokeWidth:b,fillOpacity:x,lineDash:S,lineDashOffset:N,cornerRadius:M,highlighted:i,seriesId:this.id})),{fill:(I==null?void 0:I.fill)??g,fillOpacity:(I==null?void 0:I.fillOpacity)??x,stroke:(I==null?void 0:I.stroke)??y,strokeWidth:(I==null?void 0:I.strokeWidth)??b,strokeOpacity:(I==null?void 0:I.strokeOpacity)??v,lineDash:(I==null?void 0:I.lineDash)??S,lineDashOffset:(I==null?void 0:I.lineDashOffset)??N,cornerRadius:(I==null?void 0:I.cornerRadius)??M}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){var n;const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-e);return-e-i-n}async update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},n=jo(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const s=this.getTitleTranslationY();t.node.y=isFinite(s)?s:0;const a=t.node.getBBox();t.node.visible=t.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(a)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){var i,n;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:a}=this,o=this.nodeData.map(l=>({...l,sectorFormat:{...l.sectorFormat}})),r=(l,c)=>{l.update(c,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&l.cleanup()};r(e,this.nodeData),r(t,o),r(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,l=>{const c=new ba;c.tag=0,c.pointerEvents=1,l.appendChild(c);const u=new fn;u.tag=1,u.pointerEvents=1,l.appendChild(u)}),a.update(this.nodeData),n.update(o)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.ctx.animationManager.isSkipped(),s=(a,o,r,l)=>{const c=this.getSectorFormat(o.datum,o.itemId,l);o.sectorFormat.fill=c.fill,o.sectorFormat.stroke=c.stroke,n&&(a.startAngle=o.startAngle,a.endAngle=o.endAngle,a.innerRadius=o.innerRadius,a.outerRadius=o.outerRadius),(l||n)&&(a.fill=c.fill,a.stroke=c.stroke),a.strokeWidth=c.strokeWidth,a.fillOpacity=c.fillOpacity,a.strokeOpacity=c.strokeOpacity,a.lineDash=c.lineDash,a.lineDashOffset=c.lineDashOffset,a.cornerRadius=c.cornerRadius,a.fillShadow=this.properties.shadow;const u=Math.max((this.properties.sectorSpacing+(c.stroke!=null?c.strokeWidth:0))/2,0);a.inset=u,a.lineJoin=this.properties.sectorSpacing>=0||u>0?"miter":"round"};this.itemSelection.each((a,o,r)=>s(a,o,r,!1)),this.highlightSelection.each((a,o,r)=>{s(a,o,r,!0),a.visible=o.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((a,o,r)=>s(a,o,r,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,n=e.colors??this.properties.strokes,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,o)=>{const r=a.datum,{calloutLabel:l,outerRadius:c}=r;if(l!=null&&l.text&&!l.hidden&&c!==0){a.visible=!0,a.strokeWidth=i,a.stroke=n[o%n.length],a.fill=void 0;const u=r.midCos*c,h=r.midSin*c;let f=r.midCos*(c+t),g=r.midSin*(c+t);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const y=l.box;let b=f,v=g;f<y.x?b=y.x:f>y.x+y.width&&(b=y.x+y.width),g<y.y?v=y.y:g>y.y+y.height&&(v=y.y+y.height);const S=b-f,N=v-g,M=Math.sqrt(Math.pow(S,2)+Math.pow(N,2)),I=M-s;I>0&&(f=f+S*I/M,g=g+N*I/M)}a.x1=u,a.y1=h,a.x2=f,a.y2=g}else a.visible=!1})}getLabelOverflow(e,t,i){const n=i.x-this.centerX,s=i.x+i.width-this.centerX,a=i.y-this.centerY,o=i.y+i.height-this.centerY,r=1;let l=1;t.x+r<n?l=(t.x+t.width-n)/t.width:t.x+t.width-r>s&&(l=(s-t.x)/t.width);const c=t.y+r<a||t.y+t.height-r>o,u=l===1?e.length:Math.floor(e.length*l)-1,h=this.bboxIntersectsSurroundingSeries(t);return{textLength:u,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=t,a=e.convert(0),o=v=>!v.calloutLabel||v.outerRadius===0,r=this.calloutNodeData,l=r.filter(v=>!o(v));if(l.forEach(v=>{const S=v.calloutLabel;S!=null&&(S.hidden=!1,S.collisionTextAlign=void 0,S.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(v=>v.midCos<0).sort((v,S)=>v.midSin-S.midSin),u=l.filter(v=>v.midCos>=0).sort((v,S)=>v.midSin-S.midSin),h=l.filter(v=>{var S;return v.midSin<0&&((S=v.calloutLabel)==null?void 0:S.textAlign)==="center"}).sort((v,S)=>v.midCos-S.midCos),f=l.filter(v=>{var S;return v.midSin>=0&&((S=v.calloutLabel)==null?void 0:S.textAlign)==="center"}).sort((v,S)=>v.midCos-S.midCos),g=v=>{const S=v.calloutLabel;if(S==null)return Fe.zero.clone();const N=v.outerRadius+i.length+n,M=v.midCos*N,I=v.midSin*N+S.collisionOffsetY,C=S.collisionTextAlign??S.textAlign,L=S.textBaseline;return fn.computeBBox(S.text,M,I,{font:this.properties.calloutLabel,textAlign:C,textBaseline:L})},x=(v,S,N)=>{const M=g(v).grow(s/2),I=g(S).grow(s/2);if(M.x<I.x+I.width&&M.x+M.width>I.x&&(N==="to-top"?M.y<I.y+I.height:M.y+M.height>I.y)){const L=N==="to-top"?M.y-I.y-I.height:M.y+M.height-I.y;S.calloutLabel.collisionOffsetY=L}},y=v=>{const S=v.slice().sort((M,I)=>Math.abs(M.midSin)-Math.abs(I.midSin))[0],N=v.indexOf(S);for(let M=N-1;M>=0;M--){const I=v[M+1],C=v[M];x(I,C,"to-top")}for(let M=N+1;M<v.length;M++){const I=v[M-1],C=v[M];x(I,C,"to-bottom")}},b=v=>{const S=l.some(O=>O.calloutLabel.collisionOffsetY!==0),N=v.map(O=>g(O)),M=N.map(O=>O.clone().grow(s/2));let I=!1;for(let O=0;O<M.length&&!I;O++){const P=M[O];for(let z=O+1;z<v.length;z++){const V=M[z];if(P.collidesBBox(V)){I=!0;break}}}const C=r.map(O=>{const{startAngle:P,endAngle:z,outerRadius:V}=O;return{startAngle:P,endAngle:z,innerRadius:a,outerRadius:V}}),L=N.some(O=>C.some(P=>fK(O,P)));!I&&!S&&!L||v.filter(O=>O.calloutLabel.textAlign==="center").forEach(O=>{const P=O.calloutLabel;O.midCos<0?P.collisionTextAlign="right":O.midCos>0?P.collisionTextAlign="left":P.collisionTextAlign="center"})};y(c),y(u),b(h),b(f)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,color:o}=i,r=new fn;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,u=c.calloutLabel,h=t.convert(c.radius),f=Math.max(0,h);if(!(u!=null&&u.text)||f===0||u.hidden){l.visible=!1;return}const g=f+s+a,x=c.midCos*g,y=c.midSin*g+u.collisionOffsetY,b={textAlign:u.collisionTextAlign??u.textAlign,textBaseline:u.textBaseline};r.text=u.text,r.x=x,r.y=y,r.setFont(this.properties.calloutLabel),r.setAlign(b);const v=r.getBBox();let S=u.text,N=!0;if(i.avoidCollisions){const{textLength:M,hasVerticalOverflow:I}=this.getLabelOverflow(u.text,v,e);S=u.text.length===M?u.text:`${u.text.substring(0,M)}`,N=!I}l.text=S,l.x=x,l.y=y,l.setFont(this.properties.calloutLabel),l.setAlign(b),l.fill=o,l.visible=N})}async computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,maxCollisionOffset:o,minSpacing:r}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new fn;let u;const{title:h}=this.properties;if(h!=null&&h.text&&h.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(c.text=h.text,c.x=0,c.y=f,c.setFont(h),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.getBBox(),l.push(u))}return this.calloutNodeData.forEach(f=>{const g=f.calloutLabel;if(!g||f.outerRadius===0)return null;const x=f.outerRadius+s+a,y=f.midCos*x,b=f.midSin*x+g.collisionOffsetY;c.text=g.text,c.x=y,c.y=b,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:g.collisionTextAlign??g.textAlign,textBaseline:g.textBaseline});const v=c.getBBox();if(g.box=v,Math.abs(g.collisionOffsetY)>o){g.hidden=!0;return}if(u){const S=t.y-this.centerY,N=new Fe(u.x-r,S,u.width+2*r,u.y+u.height+r-S);if(v.collidesBBox(N)){g.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:S,hasVerticalOverflow:N,hasSurroundingSeriesOverflow:M}=this.getLabelOverflow(g.text,v,t),I=g.text.length>2&&S<2;if(N||I||M){g.hidden=!0;return}}g.hidden=!1,l.push(v)}),l.length===0?null:Fe.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:a,positionOffset:o,positionRatio:r,color:l}=this.properties.sectorLabel,c=t>0,u=this.seriesItemEnabled.filter(Boolean).length===1,h=(f,g)=>{const{sectorLabel:x,outerRadius:y,startAngle:b,endAngle:v}=g;let S=!1;if(x&&y!==0){const N=t*(1-r)+y*r+o;f.fill=l,f.fontStyle=n,f.fontWeight=s,f.fontSize=i,f.fontFamily=a,f.text=x.text,!c&&u?(f.x=0,f.y=0):(f.x=g.midCos*N,f.y=g.midSin*N),f.textAlign="center",f.textBaseline="middle";const I=f.getBBox(),C=[[I.x,I.y],[I.x+I.width,I.y],[I.x+I.width,I.y+I.height],[I.x,I.y+I.height]],L={startAngle:b,endAngle:v,innerRadius:t,outerRadius:y};C.every(([O,P])=>rS(O,P,L))&&(S=!0)}f.visible=S};this.labelSelection.each(h),this.highlightLabelSelection.each(h)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties,{sectorLabel:a,calloutLabel:o,legendItem:r}=e;if(s&&r!==void 0)return r.text;if(i&&i!==t&&(o==null?void 0:o.text)!==void 0)return o.text;if(n&&n!==t&&(a==null?void 0:a.text)!==void 0)return a.text}pickNodeClosestDatum(e){return NO(this,e)}getTooltipHtml(e){var l;if(!this.properties.isValid())return Pc;const{datum:t,angleValue:i,sectorFormat:{fill:n},itemId:s}=e,a=ri((l=this.properties.title)==null?void 0:l.text),o=yt(i)?eN(i):String(i),r=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:a??r,content:a&&r?`${r}: ${o}`:o,backgroundColor:n},{datum:t,itemId:s,title:a,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){var g,x,y,b,v;const{visible:t,processedData:i,dataModel:n}=this;if(!n||!(i!=null&&i.data.length)||e!=="category")return[];const{angleKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r}=this.properties;if(!r&&(!a||a===s)&&(!o||o===s))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(n),h=((g=this.properties.title)==null?void 0:g.showInLegend)&&this.properties.title.text,f=[];for(let S=0;S<i.data.length;S++){const{datum:N,values:M}=i.data[S],I=[];h&&I.push(h);const C=this.getLabels(N,2*Math.PI,2*Math.PI,!1,l!=null?M[l]:void 0,c!=null?M[c]:void 0,u!=null?M[u]:void 0);if(r&&C.legendItem!==void 0?I.push(C.legendItem.text):a&&a!==s&&((x=C.calloutLabel)==null?void 0:x.text)!==void 0?I.push((y=C.calloutLabel)==null?void 0:y.text):o&&o!==s&&((b=C.sectorLabel)==null?void 0:b.text)!==void 0&&I.push((v=C.sectorLabel)==null?void 0:v.text),I.length===0)continue;const L=this.getSectorFormat(N,S,!1);f.push({legendType:"category",id:this.id,itemId:S,seriesId:this.id,enabled:t&&this.legendItemEnabled[S],label:{text:I.join(" - ")},symbols:[{marker:{fill:L.fill,stroke:L.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:r!=null?N[r]:void 0})}return f}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:s}=e;n.id===this.id?this.toggleSeriesItem(i,t):s!=null&&this.toggleOtherSeriesItems(s,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.legendItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}setLegendState(e){this.legendItemEnabled=e,this.ctx.updateService.update(4)}toggleOtherSeriesItems(e,t){var n;if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");(n=this.processedData)==null||n.data.forEach(({values:s},a)=>{s[i]===e&&this.toggleSeriesItem(a,t)})}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=Zh(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Si(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s)),Tt(this,"callout",t,this.calloutLabelSelection),Tt(this,"sector",t,this.labelSelection),Tt(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var f,g,x;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,r=(f=n==null?void 0:n.reduced)==null?void 0:f.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((r==null?void 0:r.moved.size)??0)===0,c=((n==null?void 0:n.defs.keys.length)??0)>0,u=((x=(g=n==null?void 0:n.reduced)==null?void 0:g.animationValidation)==null?void 0:x.uniqueKeys)??!0;(!l||!c||!u)&&this.ctx.animationManager.skipCurrentBatch();const h=Zh(!1,this.properties.rotation,s,a);Si(this.id,"nodes",o,[e,t,i],h.nodes,(y,b)=>this.getDatumId(b),r),Tt(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Tt(this,"sector",this.ctx.animationManager,this.labelSelection),Tt(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:a}=this.ctx,o=Zh(!1,this.properties.rotation,n,s);Si(this.id,"nodes",a,[e,t,i],o.nodes,(r,l)=>this.getDatumId(l)),Gu(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Gu(this,"sector",this.ctx.animationManager,this.labelSelection),Gu(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var s,a,o;const{calloutLabelKey:t,sectorLabelKey:i,legendItemKey:n}=this.properties;if((o=(a=(s=this.processedData)==null?void 0:s.reduced)==null?void 0:a.animationValidation)!=null&&o.uniqueKeys){if(n)return e[n];if(t)return e[t];if(i)return e[i]}}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return i!=null?String(i):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t,legendItemEnabled:i}=this;this.seriesItemEnabled=(e==null?void 0:e.map((n,s)=>t[s]??!0))??[],this.legendItemEnabled=(e==null?void 0:e.map((n,s)=>i[s]??!0))??[]}};TO.className="PieSeries";TO.type="pie";var vSe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new TO(e),tooltipDefaults:{range:"exact"},themeTemplate:ySe,paletteFactory:gK},om={add:wSe,angle:ASe,apply:PSe,equal:jSe,distance:MSe,distanceSquared:ISe,from:RSe,gradient:CSe,intercept:DSe,intersectAtX:ESe,intersectAtY:LSe,length:kO,lengthSquared:NSe,multiply:SSe,normalized:TSe,origin:CO,required:zSe,rotate:kSe,round:OSe,sub:AO};function wSe(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function AO(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function SSe(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function kO(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function NSe(e){return e.x*e.x+e.y*e.y}function MSe(e,t){const i=AO(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)}function ISe(e,t){const i=AO(e,t);return i.x*i.x+i.y*i.y}function TSe(e){const t=kO(e);return{x:e.x/t,y:e.y/t}}function ASe(e,t=CO()){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function kSe(e,t,i=CO()){const n=kO(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}}function CSe(e,t,i){const n=t.x-e.x;return(i==null?t.y-e.y:i-t.y-(i-e.y))/n}function DSe(e,t,i){return(i==null?e.y:i-e.y)-t*e.x}function LSe(e,t,i=0,n){return{x:e===1/0?1/0:(i-t)/e,y:n==null?i:n-i}}function ESe(e,t,i=0,n){const s=e===1/0?1/0:e*i+t;return{x:i,y:n==null?s:n-s}}function OSe(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function jSe(e,t){return e.x===t.x&&e.y===t.y}function RSe(e,t){if(typeof e=="number")return{x:e,y:t};if("regionOffsetX"in e)return{x:e.regionOffsetX,y:e.regionOffsetY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${e}] [${t}]`)}function PSe(e,t){return e.x=t.x,e.y=t.y,e}function zSe(e){return{x:(e==null?void 0:e.x)??0,y:(e==null?void 0:e.y)??0}}function CO(){return{x:0,y:0}}var mr=class extends ht{constructor(e,t){super(),this.onChange=e,this.onButtonsChange=t,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){const e=[...this.buttons??[]];return this.draggable&&e.unshift({icon:"drag-handle",tooltip:"toolbarAnnotationsDragHandle",value:"drag",id:"drag"}),(e==null?void 0:e.map(t=>{const i=t.id??t.value,n=this.buttonOverrides.get(i);return n!=null?{...t,...n}:t}))??[]}buttonsChanged(e){this.onButtonsChange(this.buttonConfigurations(),e)}overrideButtonConfiguration(e,t){let i=this.buttonOverrides.get(e);i==null&&(i=Object.create(null),this.buttonOverrides.set(e,i));for(const n in t){const s=t[n];s==null?delete i[n]:i[n]=s}this.buttonsChanged(!0)}};j([ws(e=>{e.onChange(e.enabled)}),_(Qe)],mr.prototype,"enabled",2);j([ws(e=>{e.onChange(e.enabled)}),_(Ft([...uE]),{optional:!0})],mr.prototype,"align",2);j([ws(e=>{e.onChange(e.enabled)}),_(Ft(_h),{optional:!0})],mr.prototype,"position",2);j([_(Qe)],mr.prototype,"draggable",2);j([ws(e=>{e.onChange(e.enabled)}),_(Ft(["small","normal"]),{optional:!0})],mr.prototype,"size",2);j([ws(e=>{for(const t of e.buttons??[])t.icon!=null&&Zxe.includes(t.icon)&&Ie.warnOnce(`Icon '${t.icon}' is deprecated, use another icon instead.`),t.ariaLabel==="toolbarAnnotationsColor"&&Ie.warnOnce(`Aria label '${t.ariaLabel}' is deprecated, use 'toolbarAnnotationsLineColor' instead.`);e.buttonsChanged(!1)}),_(Xm,{optional:!0})],mr.prototype,"buttons",2);var kF="ag-charts-toolbar",Vy={align:"ag-charts-toolbar__align",section:"ag-charts-toolbar__section",button:"ag-charts-toolbar__button",icon:"ag-charts-toolbar__icon",label:"ag-charts-toolbar__label"},$t={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{first:"ag-charts-toolbar__button--first",last:"ag-charts-toolbar__button--last",active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible",strokeWidthVisible:"ag-charts-toolbar__button--stroke-width-visible",withTransition:"ag-charts-toolbar__button--with-transition",dragHandle:"ag-charts-toolbar__button--drag-handle",dragging:"ag-charts-toolbar__button--dragging"}},xK=class extends Wb{constructor(e){super(),this.ctx=e,this.enabled=!0,this.seriesType=new mr(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new mr(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new mr(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new mr(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new mr(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.dragState={client:{x:0,y:0},position:{x:0,y:0},detached:!1},this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,left:new Set,right:new Set,bottom:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},left:{},right:{},bottom:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[],resetListeners:()=>{}},{groups:["annotationOptions"],destroyFns:[],resetListeners:()=>{}},{groups:["ranges"],destroyFns:[],resetListeners:()=>{}},{groups:["zoom"],destroyFns:[],resetListeners:()=>{}}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(const n of _h)this.elements[n]=e.domManager.addChild("canvas-overlay",`toolbar-${n}`),this.elements[n].role="presentation",this.renderToolbar(n);this.toggleVisibilities();const t=40,i=e.regionManager.getRegion("series");this.destroyFns.push(e.interactionManager.addListener("hover",this.onHover.bind(this),63),e.interactionManager.addListener("leave",this.onLeave.bind(this),63),i.addListener("drag-start",this.toggleNoPointerEvents.bind(this,!0),t),i.addListener("drag-end",this.toggleNoPointerEvents.bind(this,!1),63),e.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),e.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),e.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),e.toolbarManager.addListener("group-updated",this.onGroupUpdated.bind(this)),e.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),e.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),e.layoutManager.registerElement(2,this.onLayoutStart.bind(this)),e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.updateService.addListener("pre-dom-update",this.onPreDomUpdate.bind(this)),e.updateService.addListener("update-complete",this.onUpdateComplete.bind(this)),e.localeManager.addListener("locale-changed",()=>{this.hasNewLocale=!0}),()=>this.destroyElements())}destroyElements(){this.ctx.domManager.removeStyles(kF);for(const e of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${e}`)}onHover(e){const{enabled:t,elements:i,floatingDetectionRange:n,ctx:{scene:s}}=this,{offsetY:a,sourceEvent:{target:o}}=e,{FloatingBottom:r,FloatingTop:l}=vm;if(!t)return;const c=i[r],u=i[l],h=c.offsetTop-n,f=a>h&&a<s.canvas.element.offsetHeight||o===c,g=u.offsetTop+u.offsetHeight+n,x=a>0&&a<g||o===u;this.translateFloatingElements(r,f),this.translateFloatingElements(l,x)}onLeave(e){const{enabled:t,ctx:{scene:i}}=this,{relatedElement:n,targetElement:s}=e,{FloatingBottom:a,FloatingTop:o}=vm;!t||s!==i.canvas.element||rw.some(l=>this.groupButtons[l].some(c=>c===n))||(this.translateFloatingElements(a,!1),this.translateFloatingElements(o,!1))}toggleNoPointerEvents(e){const t="ag-charts-toolbar__no-pointer-events";this.groupButtons.annotationOptions.forEach(i=>i.classList.toggle(t,e))}onGroupChanged(e){this[e]==null||this.groupProxied.has(e)||(this.createGroup(e),this.toggleVisibilities())}onGroupButtonsChanged(e,t,i){if(!(!this.enabled||this.groupProxied.has(e))){if(i)for(const n of this[e].buttonConfigurations())this.refreshButtonContent(e,n);else this.createGroupButtons(e,t);this.toggleVisibilities()}}onLayoutComplete(e){for(const t of _h)this.elements[t].classList.remove($t.preventFlash);this.enabled&&this.refreshInnerLayout(e.series.rect)}toggleButtonsTransition(e){const t=$t.button.withTransition;for(const i of Object.values(this.groupButtons).flat())e&&!i.classList.contains(t)&&i.getBoundingClientRect(),i.classList.toggle(t,e)}onPreDomUpdate(){this.toggleButtonsTransition(!1)}onUpdateComplete(){this.toggleButtonsTransition(!0)}onButtonUpdated(e){const{type:t,group:i,id:n,...s}=e;this[i].overrideButtonConfiguration(n,s)}setButtonActive(e,t){e.classList.toggle($t.button.active,t)}setButtonChecked(e,t){e.role==="switch"&&(e.ariaChecked=t.toString())}setButtonGroupFirstLast(e){const t=Array.from(e.childNodes??[]),i=(a,o,r)=>{const l=!o.classList.contains($t.button.hiddenToggled);return o.classList.toggle(r,l&&a),l?!1:a};let n=!0;t.forEach(a=>n=i(n,a,$t.button.first));let s=!0;t.toReversed().forEach(a=>s=i(s,a,$t.button.last))}onButtonToggled(e){const{group:t,id:i,active:n,enabled:s,visible:a,checked:o}=e;if(this.groupButtons[t].length===0){this.pendingButtonToggledEvents.push(e);return}const r=this.groupButtons[t].find(l=>l.dataset.toolbarId===`${i}`);r!=null&&(r.ariaDisabled=`${!s}`,r.classList.toggle($t.button.hiddenToggled,!a),this.setButtonActive(r,n),this.setButtonChecked(r,o),this.setButtonGroupFirstLast(r.parentNode))}onGroupToggled(e){const{caller:t,group:i,active:n,visible:s}=e;this.toggleGroup(t,i,n,s),this.toggleVisibilities()}onGroupUpdated(e){const{group:t}=e;for(const i of this.ariaToolbars)if(i.groups.includes(t)){i.resetListeners();return}}onFloatingAnchorChanged(e){const{elements:t,positions:i,horizontalSpacing:n,verticalSpacing:s}=this,{group:a,anchor:o}=e,r=t.floating;if(this.dragState.detached||r.classList.contains($t.hidden)||(this.dragState.detached=!1,!i.floating.has(a)))return;const l=o.position??"above",{offsetWidth:c,offsetHeight:u}=r;let h=o.y-u-s,f=o.x-c/2;l==="below"?h=o.y+s:l==="right"?(h=o.y-u/2,f=o.x+n):l==="above-left"&&(f=o.x);const g=new Fe(f,h,c,u);this.positionGroup(r,a,g)}positionGroup(e,t,i){const{ctx:{domManager:n}}=this,s=n.getBoundingClientRect();i.x=lt(0,i.x,s.width-i.width),i.y=lt(0,i.y,s.height-i.height);const a=`${Math.floor(i.x)}px`,o=`${Math.floor(i.y)}px`;(e.style.getPropertyValue("left")!==a||e.style.getPropertyValue("top")!==o)&&(e.style.setProperty("left",a),e.style.setProperty("top",o),this.onGroupMoved(t,i))}onGroupMoved(e,t){const{groupButtons:i,ctx:{toolbarManager:n}}=this;for(const s of i[e]){if(s.classList.contains($t.button.hiddenToggled))continue;const a=s.offsetParent;n.buttonMoved(e,s.dataset.toolbarId,new Fe(s.offsetLeft+((a==null?void 0:a.offsetLeft)??0),s.offsetTop+((a==null?void 0:a.offsetTop)??0),s.offsetWidth,s.offsetHeight),t)}}buttonRect(e,t=this.ctx.domManager.getBoundingClientRect()){const i=e.getBoundingClientRect();return new Fe(i.left-t.left,i.top-t.top,i.width,i.height)}onProxyGroupOptions(e){if(!this.enabled)return;const{caller:t,group:i,options:n}=e;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(t,i,void 0,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(e,t,i){t??(t=this[e].enabled),i??(i=this[e].position);for(const n of _h)t&&i===n?this.positions[n].add(e):this.positions[n].delete(e)}createGroupButtons(e,t=[]){var h;for(const f of this.groupButtons[e])f.remove();if(this.groupButtons[e]=[],t.length===0)return;const{align:i,position:n}=this[e],s=this.positionAlignments[n][i];if(!s)return;const a=f=>{const g=Array.from(s.children),x="data-group",y="data-section";let b=g.find(v=>v.getAttribute(x)===e&&v.getAttribute(y)===(f??""));if(!b){b=kt("div"),b.role="presentation",b.setAttribute(x,e),b.setAttribute(y,f??"");const v=tD[e],S=g.find(N=>{const M=N.getAttribute(x);return tD[M]>v});S!=null?s.insertBefore(b,S):s.appendChild(b),this.destroyFns.push(()=>b.remove())}return b.classList.add(Vy.section,$t[this[e].size]),b};let o=(h=t.at(0))==null?void 0:h.section,r=a(o);for(const f of t){o!==f.section&&(this.setButtonGroupFirstLast(r),r=a(f.section)),o=f.section;const g=this.createButtonElement(e,f);r.appendChild(g),this.groupButtons[e].push(g)}this.setButtonGroupFirstLast(r);const l=()=>{this.ctx.toolbarManager.cancel(e)};let c,u;iD(n)&&(c=()=>this.translateFloatingElements(n,!0),u=()=>this.translateFloatingElements(n,!1)),this.createAriaToolbar(e,s,c,u,l)}createAriaToolbar(e,t,i,n,s){const a=this.computeAriaOrientation(this[e].position),o=this.getAriaToolbar(e);o.resetListeners=()=>{const r=o.groups.map(l=>this.groupButtons[l]).flat().filter(l=>!l.classList.contains($t.button.hiddenToggled)&&!l.classList.contains($t.button.dragHandle));o.destroyFns.forEach(l=>l()),o.destroyFns=aE({orientation:a,toolbar:t,buttons:r,onEscape:s,onFocus:i,onBlur:n})},o.resetListeners(),this.updateToolbarAriaLabel(e,t)}computeAriaOrientation(e){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[e]}toggleGroup(e,t,i,n){if(n===!0?this.groupCallers[t].add(e):n===!1&&this.groupCallers[t].delete(e),i!=null)for(const s of this.groupButtons[t])this.setButtonActive(s,i)}processPendingEvents(){const e=(this.pendingButtonToggledEvents??[]).slice();for(const t of e)this.onButtonToggled(t);this.pendingButtonToggledEvents=[]}onLayoutStart(e){this.enabled&&(this.refreshOuterLayout(e.layoutBox),this.refreshLocale())}refreshOuterLayout(e){const{elements:t,horizontalSpacing:i,verticalSpacing:n}=this;t.top.classList.contains($t.hidden)||e.shrink(t.top.offsetHeight+n,"top"),t.right.classList.contains($t.hidden)||e.shrink(t.right.offsetWidth+i,"right"),t.bottom.classList.contains($t.hidden)||(e.shrink(t.bottom.offsetHeight+n,"bottom"),t.bottom.style.top=`${e.y+e.height+n}px`),t.left.classList.contains($t.hidden)||e.shrink(t.left.offsetWidth+i,"left")}refreshLocale(){const{hasNewLocale:e}=this;if(e){for(const t of rw){const i=this[t].buttonConfigurations();for(const n of i)this.refreshButtonContent(t,n);this.updateToolbarAriaLabel(t)}this.hasNewLocale=!1}}refreshInnerLayout(e){const{elements:t,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:s}=vm;t.top.style.top=`${e.y-t.top.offsetHeight-i}px`,t.top.style.left=`${e.x}px`,t.top.style.width=`${e.width}px`,t.bottom.style.left=`${e.x}px`,t.bottom.style.width=`${e.width}px`,t.right.style.top=`${e.y}px`,t.right.style.right="0px",t.right.style.height=`${e.height}px`,t.left.style.top=`${e.y}px`,t.left.style.left="0px",t.left.style.height=`${e.height}px`,t[s].style.top=`${e.y}px`,t[n].style.top=`${e.y+e.height-t[n].offsetHeight}px`}refreshButtonContent(e,t){var a,o;const i=this.buttonId(t),n=((o=(a=this.groupProxied.get(e))==null?void 0:a.buttons)==null?void 0:o.find(r=>this.buttonId(r)===i))??t,s=this.groupButtons[e].find(r=>r.getAttribute("data-toolbar-id")===i);s!=null&&this.updateButton(s,n)}toggleVisibilities(){if(this.elements==null)return;const e=i=>this[i].enabled&&this.groupCallers[i].size>0,t=i=>n=>{const s=this.buttonId(n);return s==null||s===i.dataset.toolbarId};for(const i of _h){const n=this.enabled&&Array.from(this.positions[i].values()).some(e);i==="floating"&&!n&&(this.dragState.detached=!1),this.elements[i].classList.toggle($t.hidden,!n)}for(const i of rw){if(this[i]==null)continue;const n=e(i);for(const s of this.groupButtons[i]){const a=n&&this[i].buttonConfigurations().some(t(s));s.classList.toggle($t.button.hiddenValue,!a)}}}translateFloatingElements(e,t){const{elements:i,verticalSpacing:n,positionAlignments:s}=this,a=i[e],o=Object.values(s[e]);a.classList.toggle($t.floatingHidden,!t);const r=e==="floating-bottom"?1:-1;for(const l of o)l.style.transform=t&&l.style.transform!==""?"translateY(0)":`translateY(${(a.offsetHeight+n)*r}px)`}renderToolbar(e="top"){const t=this.elements[e];t.classList.add(kF,$t[e],$t.preventFlash),iD(e)&&t.classList.add($t.floatingHidden);for(const i of uE){const n=kt("div");n.role="presentation",n.classList.add(Vy.align,$t.align[i]),t.appendChild(n),this.positionAlignments[e][i]=n}}createButtonElement(e,t){const i=kt("button");return i.classList.add(Vy.button),i.dataset.toolbarGroup=e,Na(i,"tabindex",-1),t.haspopup&&sp(i,{"aria-haspopup":!0,"aria-expanded":!1}),i.dataset.toolbarId=this.buttonId(t),i.addEventListener("click",XC(i,n=>this.onButtonPress(n,i,e,t.id,t.value))),t.value==="drag"&&(i.addEventListener("mousedown",XC(i,n=>this.onDragStart(n,i,e))),i.classList.add($t.button.dragHandle)),t.role==="switch"&&sp(i,{role:t.role,"aria-checked":!1}),this.updateButton(i,t),this.destroyFns.push(()=>i.remove()),i}getAriaToolbar(e){for(const t of this.ariaToolbars)if(t.groups.includes(e))return t;throw new Error(`AG Charts - cannot find aria-toolbar of '${e}'`)}updateToolbarAriaLabel(e,t){if(!t){const{align:n,position:s}=this[e];if(t=this.positionAlignments[s][n],!t)return}const i={seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"};t.ariaLabel=this.ctx.localeManager.t(i[e])}expandButtonConfig(e,t){return t.role!=="switch"||e.ariaChecked!=="true"||t.checkedOverrides===void 0?t:{icon:t.checkedOverrides.icon??t.icon,label:t.checkedOverrides.label??t.label,ariaLabel:t.checkedOverrides.ariaLabel??t.ariaLabel,tooltip:t.checkedOverrides.tooltip??t.tooltip}}updateButton(e,t){const{domManager:i,localeManager:n}=this.ctx,{icon:s,label:a,ariaLabel:o,tooltip:r}=this.expandButtonConfig(e,t);r&&(e.title=n.t(r));let l="";if(s!=null&&(l=`<span class="${i.getIconClassNames(s)} ${Vy.icon}"></span>`),a!=null){const h=n.t(a);l=`${l}<span class="${Vy.label}">${h}</span>`}e.innerHTML=l,e.classList.toggle($t.button.fillVisible,t.fill!=null),e.style.setProperty("--fill",t.fill??null);const c=t.strokeWidth!=null;e.classList.toggle($t.button.strokeWidthVisible,c),e.style.setProperty("--strokeWidth",c?`${t.strokeWidth}px`:null);const u=o?this.ctx.localeManager.t(o):void 0;Na(e,"aria-label",u)}onButtonPress(e,t,i,n,s){this.ctx.toolbarManager.pressButton(i,this.buttonId({id:n,value:s}),s,this.buttonRect(t),e)}onDragStart(e,t,i){const n=this.elements.floating;e.preventDefault(),e.stopPropagation(),this.dragState={client:om.from(e.clientX,e.clientY),position:om.from(Number(n.style.getPropertyValue("left").replace("px","")),Number(n.style.getPropertyValue("top").replace("px",""))),detached:!0},t.classList.toggle($t.button.dragging,!0);const s=r=>this.onDrag(r,i),a=()=>{t.classList.toggle($t.button.dragging,!1),o.removeEventListener("mousemove",s)},o=jn();o.addEventListener("mousemove",s),o.addEventListener("mouseup",a,{once:!0}),this.ctx.toolbarManager.groupMoved(i)}onDrag(e,t){const{elements:i,dragState:n}=this,s=i.floating,{offsetWidth:a,offsetHeight:o}=s,r=om.sub(om.from(e.clientX,e.clientY),n.client),l=om.add(n.position,r),c=new Fe(l.x,l.y,a,o);this.positionGroup(s,t,c)}buttonId(e){const{id:t,value:i,label:n}=e;return t??(i!=null&&typeof i!="object"?String(i):n??"")}};j([ws(e=>{e.processPendingEvents(),e.toggleVisibilities()}),_(Qe)],xK.prototype,"enabled",2);var bK=1e3*60*60*24,CA=bK*30,_Se=bK*365,FSe={enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type",haspopup:!0}]},BSe={enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations",haspopup:!0},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations",haspopup:!0},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu",section:"shape-annotations",haspopup:!0},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu",section:"measure-annotations",haspopup:!0},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},VSe={enabled:!0,position:"floating",align:"start",draggable:!0,buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color",haspopup:!0},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color",haspopup:!0},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color",haspopup:!0},{tooltip:"toolbarAnnotationsTextSize",value:"text-size",haspopup:!0},{tooltip:"toolbarAnnotationsLineStrokeWidth",value:"line-stroke-width",haspopup:!0},{icon:"line-style-solid",tooltip:"toolbarAnnotationsLineStyle",value:"line-style-type",haspopup:!0},{icon:"settings",tooltip:"toolbarAnnotationsSettings",value:"settings",haspopup:!0},{role:"switch",icon:"unlocked",tooltip:"toolbarAnnotationsLock",ariaLabel:"toolbarAnnotationsLock",checkedOverrides:{icon:"locked",tooltip:"toolbarAnnotationsUnlock"},value:"lock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},USe={enabled:!1,position:Zb,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:CA},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*CA},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*CA},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(e,t)=>[new Date(`${new Date(t).getFullYear()}-01-01`).getTime(),t],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:_Se},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(e,t)=>[e,t],id:"all"}]},GSe={enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]},WSe={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new xK(e),themeTemplate:{toolbar:{enabled:!0,seriesType:FSe,annotations:BSe,annotationOptions:VSe,ranges:USe,zoom:GSe}}};function HSe(){Zu.register(s$,bwe,rwe,o$,WSe,iSe,rSe,cSe,hSe,pSe,xSe,vSe,uSe);for(const e of[hd,Gb,ag,dd,bp])bc.register(e.type,{moduleFactory:t=>new e(t),hidden:e===dd})}function YSe(){for(const e of Zu.modules){if(e.packageType==="enterprise"&&!I1e(e)&&Ie.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)nD.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);za.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)za.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const i=bc.getThemeTemplate(t),n=ft(e.themeTemplate,i);bc.setThemeTemplate(t,n)}e.type==="axis"&&bc.register(e.identifier,e),e.type==="legend"&&hE.register(e.identifier,e)}if(Zu.hasEnterpriseModules()){const e=T1e();e.length>0&&Ie.errorOnce("Enterprise modules expected but not registered: ",e)}}function $Se(e){return e.type==="sankey"||e.type==="chord"}var DO=class extends Ad{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const{nodes:e}=this.getOptions();this.series.forEach(t=>{$Se(t)&&t.setChartNodes(e)})}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:s}=e,a=s.clone();s.shrink(this.seriesArea.padding.toJson()),this.seriesRect=s,this.animationRect=s,t.visible=this.series.some(o=>o.visible);for(const o of[t,i,n])o.translationX=Math.floor(s.x),o.translationY=Math.floor(s.y),o.setClipRect(a.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:a,paddedRect:s}})}};DO.className="FlowProportionChart";DO.type="flow-proportion";var ap=class extends eE{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(t,i){return null}computeRange(){}getAxisLinePoints(){}};j([_(Ft(["polygon","circle"],"a polar axis shape"))],ap.prototype,"shape",2);j([_(Nt)],ap.prototype,"innerRadiusRatio",2);function KSe(e){return e.type==="radial-gauge"}function ZSe(e){return e.type==="linear-gauge"}var LO=class extends Ad{getChartType(){return"gauge"}updateRadialGauge(e,t){const i=this.axes.find(P=>P.direction==="x");if(!(i instanceof ap))return;i.computeRange();const n=e.x,s=n+e.width,a=e.y,o=a+e.height,[r,l]=i.range,u=pH(l-r)>Math.PI,h=u||Ao(1.5*Math.PI,r,l),f=u||Ao(0*Math.PI,r,l),g=u||Ao(.5*Math.PI,r,l),x=u||Ao(1*Math.PI,r,l);let y;x&&!f?y="right":!x&&f?y="left":y="center";let b;h&&!g?b="bottom":!h&&g?b="top":b="middle";const v=xO({startAngle:r,endAngle:l,innerRadius:0,outerRadius:.5}),S=-(v.x+v.width/2)*2,N=-(v.y+v.height/2)*2,{minimumRadius:M=0,maximumRadius:I}=t,C=Math.max(.5*Math.min(e.width/v.width,e.height/v.height),0);let L=Math.min(I??1/0,Math.max(C,M??0));const O=8;for(let P=0;P<O;P+=1){const z=L<=M||P===O-1,V=e.x+e.width/2+S*L,G=e.y+e.height/2+N*L;i.translation.x=V,i.translation.y=G,i.gridLength=L,i.calculateLayout();const H=i.computeLabelsBBox({hideWhenNecessary:z},e);if(z)break;let B=0;if(H!=null){const $=H.x+V,Q=$+H.width,X=H.y+G,Y=X+H.height;B=Math.max(a-X,n-$,Y-o,Q-s,0)}if(B>0)L=Math.max(L-B,M);else break}i.translation.x=e.x+e.width/2+S*L,i.translation.y=e.y+e.height/2+N*L,t.centerX=e.width/2+S*L,t.centerY=e.height/2+N*L,t.radius=L,t.textAlign=y,t.verticalAlign=b,(L===0||L>C)&&Ie.warnOnce("There was insufficient space to display the Radial Gauge.")}updateLinearGauge(e,t){const i=this.axes.find(b=>b.direction==="x"),n=this.axes.find(b=>b.direction==="y");if(!(i instanceof ud)||!(n instanceof ud))return e;const{horizontal:s,thickness:a}=t;let o=0,r=0;const l=new Do;l.domain=[0,100],l.range=s?i.range:n.range;const c=l.ticks();s?o=t.computeInset("x",c):r=t.computeInset("y",c);const u=e.width-Math.abs(o),h=e.height-Math.abs(r),f=Math.max(s?u:a,0),g=Math.max(s?a:h,0),x=e.x+(u-f)/2+Math.max(o,0),y=e.y+(h-g)/2-Math.min(r,0);i.range=[0,f],i.gridLength=f,i.calculateLayout(),i.translation.x=x,i.translation.y=y+(i.position==="bottom"?a:0),n.range=[0,g],n.gridLength=g,n.calculateLayout(),n.translation.x=x+(n.position==="right"?a:0),n.translation.y=y,t.originX=x-e.x,t.originY=y-e.y,(f===0||g===0)&&Ie.warnOnce("There was insufficient space to display the Linear Gauge.")}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n,series:s,seriesArea:a}=this,{layoutBox:o}=e,r=o.clone();o.shrink(a.padding.toJson());const l=this.series[0];KSe(l)?this.updateRadialGauge(o,l):ZSe(l)&&this.updateLinearGauge(o,l),this.axes.forEach(c=>c.update()),this.seriesRect=r.clone().translate(r.x-o.x,r.y-o.y),this.animationRect=o,t.visible=s.some(c=>c.visible);for(const c of[t,i,n])c.translationX=Math.floor(o.x),c.translationY=Math.floor(o.y);this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:r,paddedRect:o}})}getAriaLabel(){const e=[],t=this.getCaptionText();t.length!==0&&e.push(t);for(const n of this.series)e.push(n.getCaptionText());const i=e.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};LO.className="GaugeChart";LO.type="gauge";var EO=class extends Ad{constructor(e,t){super(e,t)}getChartType(){return"hierarchy"}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:s}=e,a=s.clone();s.shrink(this.seriesArea.padding.toJson()),this.seriesRect=s,this.animationRect=s;for(const o of[t,i,n])o.translationX=Math.floor(s.x),o.translationY=Math.floor(s.y);t.visible=this.series[0].visible,t.setClipRect(s.clone()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:a,paddedRect:s}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};EO.className="HierarchyChart";EO.type="hierarchy";var OO=class extends Ad{constructor(e,t){super(e,t),this.padding=new Td(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e,i=t.clone();t.shrink(this.seriesArea.padding.toJson()),this.seriesRect=t,this.animationRect=t,await this.computeCircle(t),this.axes.forEach(n=>n.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:i,paddedRect:t}})}updateAxes(e,t,i){var r;const n=this.axes.find(l=>l.direction==="x"),s=this.axes.find(l=>l.direction==="y");if(!(n instanceof ap)||!(s instanceof ap))return;const a=n.scale,o=s.innerRadiusRatio;n.innerRadiusRatio=o,n.computeRange(),n.gridLength=i,s.gridAngles=(r=a.ticks)==null?void 0:r.call(a).map(l=>a.convert(l)),s.gridRange=n.range,s.range=[i,i*o],[n,s].forEach(l=>{l.translation.x=e,l.translation.y=t,l.calculateLayout()})}async computeCircle(e){const t=this.series.filter(qSe),i=this.axes.filter(XSe),n=(c,u,h)=>{this.updateAxes(c,u,h),t.forEach(g=>{g.centerX=c,g.centerY=u,g.radius=h});const f=t.filter(g=>g.type==="donut"||g.type==="pie");if(f.length>1){const g=f.map(x=>{const y=x.getInnerRadius();return{series:x,innerRadius:y}}).sort((x,y)=>x.innerRadius-y.innerRadius);g.at(-1).series.surroundingRadius=void 0;for(let x=0;x<g.length-1;x++)g[x].series.surroundingRadius=g[x+1].innerRadius}},s=e.x+e.width/2,a=e.y+e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let r=o;n(s,a,r);const l=async({hideWhenNecessary:c=!1}={})=>{const u=[];for(const g of Uu(i,t)){const x=await g.computeLabelsBBox({hideWhenNecessary:c},e);x&&u.push(x)}if(u.length===0){n(s,a,o);return}const h=Fe.merge(u),f=this.refineCircle(h,r,e);n(f.centerX,f.centerY,f.radius),r=f.radius};await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0});for(const c of Uu(i,t))await c.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:r,centerX:s,centerY:a}}refineCircle(e,t,i){const s=-t,a=-t,o=t,r=t;let l=Math.max(0,s-e.x),c=Math.max(0,a-e.y),u=Math.max(0,e.x+e.width-o),h=Math.max(0,e.y+e.height-r);l=u=Math.max(l,u),c=h=Math.max(c,h);const f=i.width-l-u,g=i.height-c-h;let x=Math.min(f,g)/2;const y=.5*i.width/2,b=.5*i.height/2,v=Math.min(y,b);if(x<v){x=v;const M=l+u,I=c+h;if(2*x+I>i.height){const C=i.height-2*x;Math.min(c,h)*2>C?(c=C/2,h=C/2):c>h?c=C-h:h=C-c}if(2*x+M>i.width){const C=i.width-2*x;Math.min(l,u)*2>C?(l=C/2,u=C/2):l>u?l=C-u:u=C-l}}const S=l+2*x+u,N=c+2*x+h;return{centerX:i.x+(i.width-S)/2+l+x,centerY:i.y+(i.height-N)/2+c+x,radius:x}}};OO.className="PolarChart";OO.type="polar";function qSe(e){return e instanceof LN}function XSe(e){return e instanceof ap}var jO=class extends Ad{constructor(e,t){super(e,t)}getChartType(){return"standalone"}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:s}=e,a=s.clone();s.shrink(this.seriesArea.padding.toJson()),this.seriesRect=s,this.animationRect=s;for(const o of[t,i,n])o.translationX=Math.floor(s.x),o.translationY=Math.floor(s.y);t.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:a,paddedRect:s}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};jO.className="StandaloneChart";jO.type="standalone";var ON=Math.PI/180,DA=e=>e*ON,LA=e=>-Math.log(Math.tan(Math.PI*.25+e*ON*.5)),EA=e=>e/ON,OA=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(ON*.5),hD=class pD{constructor(t,i){this.domain=t,this.range=i,this.type="mercator",this.bounds=pD.bounds(t)}static bounds(t){const[[i,n],[s,a]]=t,o=DA(i),r=LA(n),l=DA(s),c=LA(a);return new Fe(Math.min(o,l),Math.min(r,c),Math.abs(l-o),Math.abs(c-r))}static fixedScale(){return new pD([[EA(0),OA(0)],[EA(1),OA(1)]],[[0,0],[1,1]])}convert([t,i]){const[[n,s],[a,o]]=this.range,r=(a-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[(DA(t)-this.bounds.x)*r+n,(LA(i)-this.bounds.y)*l+s]}invert([t,i]){const[[n,s],[a,o]]=this.range,r=(a-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[EA((t-n)/r+this.bounds.x),OA((i-s)/l+this.bounds.y)]}};function CF(e){return e.type==="map-shape"||e.type==="map-line"||e.type==="map-marker"||e.type==="map-shape-background"||e.type==="map-line-background"}var RO=class extends Ad{constructor(e,t){super(e,t),this.xAxis=new hd(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new hd(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const{topology:e}=this.getOptions();this.series.forEach(t=>{CF(t)&&t.setChartTopology(e)})}performLayout(e){const{seriesRoot:t,annotationRoot:i,highlightRoot:n}=this,{layoutBox:s}=e,a=s.clone();s.shrink(this.seriesArea.padding.toJson()),this.seriesRect=s,this.animationRect=s;const o=this.series.filter(CF),r=o.reduce((u,h)=>{if(!h.visible)return u;const f=h.topologyBounds;return f==null?u:u==null?f:(u.merge(f),u)},void 0);let l;if(r!=null){const{lon0:u,lat0:h,lon1:f,lat1:g}=r,x=[[u,h],[f,g]],y=hD.bounds(x),{width:b,height:v}=s,S=Math.min(b/y.width,v/y.height),N=y.width*S,M=y.height*S,I=(b-N)/2,C=(v-M)/2,L=I,O=C,P=I+N,z=C+M,V=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),G=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),H=(P-L)/(V.max-V.min),B=L-H*V.min,$=(z-O)/(1-G.min-(1-G.max)),Q=O-$*(1-G.max);l=new hD(x,[[B,Q],[B+H,Q+$]])}o.forEach(u=>{u.scale=l});const c=this.series.some(u=>u.visible);t.visible=c;for(const u of[t,i,n])u.translationX=Math.floor(s.x),u.translationY=Math.floor(s.y),u.setClipRect(s.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:c,rect:a,paddedRect:s}})}};RO.className="TopologyChart";RO.type="topology";var qh=Symbol("IGNORED_PROP");function ed(e,t){const i={};for(const n in t){const s=t[n];s!==qh&&Object.hasOwn(e,n)&&(i[n]=s)}return i}function QSe(e){return e.type==="radial-gauge"}function JSe(e){return e.type==="linear-gauge"}function eNe(e){const{animation:t,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:u,padding:h,subtitle:f,theme:g,title:x,width:y,type:b,cursor:v,nodeClickRange:S,tooltip:N,value:M,scale:I={},startAngle:C,endAngle:L,highlightStyle:O,segmentation:P,bar:z,needle:V,targets:G,outerRadius:H,innerRadius:B,outerRadiusRatio:$,innerRadiusRatio:Q,cornerRadius:X,cornerMode:Y,label:q,secondaryLabel:Z,spacing:W,...ee}=e,{fills:oe,fillMode:fe,fill:ue,fillOpacity:de,stroke:te,strokeWidth:he,strokeOpacity:ge,lineDash:xe,lineDashOffset:be,min:ye=0,max:we=1,interval:_e={},label:Le={},...Ke}=I,$e=ed(e,{animation:t,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:u,padding:h,subtitle:f,theme:g,title:x,width:y}),He=ed(I,{fills:oe,fillMode:fe,fill:ue,fillOpacity:de,stroke:te,strokeWidth:he,strokeOpacity:ge,lineDash:xe,lineDashOffset:be}),Ze=ed(e,{startAngle:qh,endAngle:qh,needle:V!=null?{enabled:!0,...V}:qh,scale:He,type:b,cursor:v,nodeClickRange:S,listeners:r,tooltip:N,value:M,highlightStyle:O,segmentation:P,bar:z,targets:G,outerRadius:H,innerRadius:B,outerRadiusRatio:$,innerRadiusRatio:Q,cornerRadius:X,cornerMode:Y,label:q,secondaryLabel:Z,spacing:W,...ee});return{...$e,series:[Ze],axes:[{type:"angle-number",min:ye,max:we,startAngle:C,endAngle:L,interval:_e??{},label:Le??{}},{type:"radius-number"}]}}function tNe(e){const{animation:t,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:u,padding:h,subtitle:f,theme:g,title:x,width:y,type:b,cursor:v,nodeClickRange:S,tooltip:N,value:M,scale:I={},direction:C="vertical",thickness:L,highlightStyle:O,segmentation:P,bar:z,targets:V,cornerRadius:G,cornerMode:H,label:B,...$}=e,{fills:Q,fillMode:X,fill:Y,fillOpacity:q,stroke:Z,strokeWidth:W,strokeOpacity:ee,lineDash:oe,lineDashOffset:fe,min:ue=0,max:de=1,interval:te={},label:he={},...ge}=I,xe=ed(e,{animation:t,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:u,padding:h,subtitle:f,theme:g,title:x,width:y}),be=ed(I,{fills:Q,fillMode:X,fill:Y,fillOpacity:q,stroke:Z,strokeWidth:W,strokeOpacity:ee,lineDash:oe,lineDashOffset:fe}),ye=ed(e,{scale:be,type:b,cursor:v,nodeClickRange:S,listeners:r,tooltip:N,value:M,direction:C,thickness:L,highlightStyle:O,segmentation:P,bar:z,targets:V,cornerRadius:G,cornerMode:H,label:B,...$}),{placement:we,..._e}=he;let Le,Ke;const $e=C==="horizontal";$e?(Le=we==="before"?"top":"bottom",Ke="left"):(Le=we==="after"?"right":"left",Ke="bottom");const He={type:"number",position:Le,min:ue,max:de,reverse:!$e,interval:te,label:_e,nice:!1},Ze={type:"number",position:Ke,min:0,max:1,label:{enabled:!1}};return{...xe,series:[ye],axes:$e?[He,Ze]:[Ze,He]}}function DF(e,t){if(t==null)return e;const{targets:i,...n}=t;return e=ft(e,n),e.targets!=null&&i!=null&&(e.targets=Gw(e.targets,i)),e}function iNe(e,t){if(QSe(e)){const v=DF(e,t);return eNe(v)}else if(JSe(e)){const v=DF(e,t);return tNe(v)}const{animation:i,background:n,container:s,contextMenu:a,footnote:o,height:r,listeners:l,locale:c,minHeight:u,minWidth:h,padding:f,subtitle:g,theme:x,title:y,width:b}=e;return ed(e,{animation:i,background:n,container:s,contextMenu:a,footnote:o,height:r,listeners:l,locale:c,minHeight:u,minWidth:h,padding:f,subtitle:g,theme:x,title:y,width:b})}function hn(e,t){if(Ys(e))return t(e)}var nNe=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"];function sNe(e,t,i){const{xKey:n,dateKey:s=n??"date",highKey:a="high",openKey:o="open",lowKey:r="low",closeKey:l="close",volumeKey:c="volume",chartType:u="candlestick",navigator:h=!1,volume:f=!0,rangeToolbar:g,rangeButtons:x=g??!0,statusBar:y=!0,annotations:b,toolbar:v=b??!0,zoom:S=!0,theme:N,data:M,...I}=e;n!=null&&Ie.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),g!=null&&Ie.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),b!=null&&Ie.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");const C=oNe(N,u,s,a,r,o,l),L=aNe(N,i,o,l,f,c),P={navigator:{enabled:h,...f?{miniChart:{enabled:h,series:[{type:"line",xKey:s,yKey:c,marker:{enabled:!1}}]}}:null}},z={annotations:{enabled:v,data:M,xKey:s,volumeKey:f?c:void 0}},V=y?{statusBar:{enabled:!0,data:M,highKey:a,openKey:o,lowKey:r,closeKey:l,volumeKey:f?c:void 0}}:null,G={zoom:{enabled:S,enableIndependentAxes:!0}},H={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:v},annotationOptions:{enabled:v},annotations:{enabled:v},ranges:{enabled:x}}},B=f?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:{baseTheme:typeof N=="string"?N:"ag-financial",...ft(typeof N=="object"?N:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...L,...C],axes:[{type:"number",position:"right",keys:[o,l,a,r],interval:{maxSpacing:hn(N,$=>{var Q,X,Y,q,Z;return(Z=(q=(Y=(X=(Q=$.overrides)==null?void 0:Q.common)==null?void 0:X.axes)==null?void 0:Y.number)==null?void 0:q.interval)==null?void 0:Z.maxSpacing})??45},label:{format:hn(N,$=>{var Q,X,Y,q,Z;return(Z=(q=(Y=(X=(Q=$.overrides)==null?void 0:Q.common)==null?void 0:X.axes)==null?void 0:Y.number)==null?void 0:q.label)==null?void 0:Z.format})??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...B,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:M,...z,...P,...V,...G,...H,...I}}function aNe(e,t,i,n,s,a){if(!s)return[];const o=hn(e,l=>{var c,u,h;return(h=(u=(c=l.overrides)==null?void 0:c.bar)==null?void 0:u.series)==null?void 0:h.fill}),r=o?{fill:o}:{itemStyler({datum:l}){const{up:c,down:u}=t().palette;return{fill:l[i]<l[n]?c==null?void 0:c.fill:u==null?void 0:u.fill}}};return[{type:"bar",xKey:"date",yKey:a,focusPriority:1,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:hn(e,l=>{var c,u,h;return(h=(u=(c=l.overrides)==null?void 0:c.bar)==null?void 0:u.series)==null?void 0:h.fillOpacity})??.5,...r}]}var u1="range-area";function oNe(e,t,i,n,s,a,o){var u;t===u1&&(Ie.warnOnce(`type '${t}' is deprecated, use 'hlc' chart type instead`),t="hlc");const r={xKey:i,openKey:a,closeKey:o,highKey:n,lowKey:s},l={xKey:i,yKey:o},c={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return[{type:"ohlc",focusPriority:0,...c,...r}];case"line":return[{type:"line",focusPriority:0,...c,...l,stroke:hn(e,h=>{var f,g,x;return(x=(g=(f=h.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:x.stroke})??zx,marker:hn(e,h=>{var f,g,x;return(x=(g=(f=h.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:x.marker})??{enabled:!1}}];case"step-line":return[{type:"line",focusPriority:0,...c,...l,stroke:hn(e,h=>{var f,g,x;return(x=(g=(f=h.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:x.stroke})??zx,interpolation:hn(e,h=>{var f,g,x;return(x=(g=(f=h.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:x.interpolation})??{type:"step"},marker:hn(e,h=>{var f,g,x;return(x=(g=(f=h.overrides)==null?void 0:f.line)==null?void 0:g.series)==null?void 0:x.marker})??{enabled:!1}}];case"hlc":{const h=LF(u1,e);return[{type:u1,focusPriority:0,...c,xKey:i,yHighKey:n,yLowKey:o,fill:h.fill??PE,stroke:h.stroke??jE,fillOpacity:hn(e,f=>{var g,x,y;return(y=(x=(g=f.overrides)==null?void 0:g["range-area"])==null?void 0:x.series)==null?void 0:y.fillOpacity})??.3,strokeWidth:hn(e,f=>{var g,x,y;return(y=(x=(g=f.overrides)==null?void 0:g["range-area"])==null?void 0:x.series)==null?void 0:y.strokeWidth})??2},{type:u1,focusPriority:0,...c,xKey:i,yHighKey:o,yLowKey:s,fill:h.fill??zE,stroke:h.stroke??RE,fillOpacity:hn(e,f=>{var g,x,y;return(y=(x=(g=f.overrides)==null?void 0:g["range-area"])==null?void 0:x.series)==null?void 0:y.fillOpacity})??.3,strokeWidth:hn(e,f=>{var g,x,y;return(y=(x=(g=f.overrides)==null?void 0:g["range-area"])==null?void 0:x.series)==null?void 0:y.strokeWidth})??2},{type:"line",...c,...l,stroke:hn(e,f=>{var g,x,y;return(y=(x=(g=f.overrides)==null?void 0:g.line)==null?void 0:x.series)==null?void 0:y.stroke})??FE,strokeWidth:hn(e,f=>{var g,x,y;return(y=(x=(g=f.overrides)==null?void 0:g.line)==null?void 0:x.series)==null?void 0:y.strokeWidth})??2,marker:hn(e,f=>{var g,x,y;return(y=(x=(g=f.overrides)==null?void 0:g.line)==null?void 0:x.series)==null?void 0:y.marker})??{enabled:!1}}]}case"high-low":{const h=LF("range-bar",e);return[{type:"range-bar",focusPriority:0,...c,xKey:i,yHighKey:n,yLowKey:s,fill:h.fill??_E,stroke:h.stroke??zx,tooltip:{range:"nearest"}}]}case"candlestick":return[{type:"candlestick",focusPriority:0,...c,...r}];case"hollow-candlestick":{const h=hn(e,f=>{var g,x,y;return(y=(x=(g=f.overrides)==null?void 0:g.candlestick)==null?void 0:x.series)==null?void 0:y.item});return[{type:"candlestick",focusPriority:0,...c,...r,item:{up:{fill:((u=h==null?void 0:h.up)==null?void 0:u.fill)??"transparent"}}}]}default:return Ie.warnOnce(`unknown chart type: ${t}; expected one of: ${nNe.join(", ")}`),[{type:"candlestick",focusPriority:0,...c,...r}]}}function LF(e,t){const i=hn(t,s=>{var a,o,r;return(r=(o=(a=s.overrides)==null?void 0:a[e])==null?void 0:o.series)==null?void 0:r.fill}),n=hn(t,s=>{var a,o,r;return(r=(o=(a=s.overrides)==null?void 0:a[e])==null?void 0:o.series)==null?void 0:r.stroke});return{fill:i,stroke:n}}var vK={line:{enabled:!1},title:{enabled:!1},label:{enabled:!1},crosshair:{enabled:!1,strokeOpacity:.25,lineDash:[0],label:{enabled:!1}}},jA={...vK,nice:!1},d1={bottom:{crosshair:{enabled:OE}}},EF={category:d1,number:d1,log:d1,time:d1},OF={position:{type:"sparkline"}},rNe={overrides:{common:{animation:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...jA,interval:{values:[0]}},log:{...jA},time:{...jA},category:{...vK,gridLine:{enabled:!1}}}},bar:{series:{sparklineMode:!0},tooltip:{range:"nearest"}},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},axes:EF,series:{strokeWidth:1,marker:{enabled:!1,size:3},tooltip:OF}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},axes:EF,series:{strokeWidth:1,fillOpacity:.4,tooltip:OF}}}};function wK(e,t){return typeof e=="string"?{...t,baseTheme:e}:e!=null?{...e,baseTheme:wK(e.baseTheme,t)}:t}function lNe(e){const{background:t,container:i,height:n,listeners:s,locale:a,minHeight:o,minWidth:r,padding:l,width:c,theme:u,data:h,xAxis:f,yAxis:g,...x}=e,y=x,b=y.type!=="bar"||y.direction!=="horizontal",v=ed(e,{background:t,container:i,height:n,listeners:s,locale:a,minHeight:o,minWidth:r,padding:l,width:c,data:h,xAxis:qh,yAxis:qh,theme:qh});return v.theme=wK(u,rNe),v.series=[y],v.axes=b?[{type:"number",...g,position:"left"},{type:"category",...f,position:"bottom"}]:[{type:"category",...f,position:"left"},{type:"number",...g,position:"bottom"}],v}var cNe={"price-volume":sNe,gauge:iNe,sparkline:lNe};function jF(e,t){var o,r,l,c;let i=[];const n=wN(e),s=_c(e),a=s?oi.get(s):"unknown";for(const{type:u,chartTypes:h,optionsKey:f,optionsInnerKey:g,identifier:x}of ng)if(!(a!=="unknown"&&!h.includes(a))){if(u==="root"||u==="legend"){const y=e[f];if(y==null)continue;g?y[g]&&(i.push(`${f}.${g}`),delete y[g]):(i.push(f),delete e[f])}else if(u==="axis"){if(!("axes"in e)||!((o=e.axes)!=null&&o.some(y=>y.type===x)))continue;i.push(`axis[type=${x}]`),e.axes=e.axes.filter(y=>y.type!==x)}else if(u==="axis-option"){if(!("axes"in e)||!((r=e.axes)!=null&&r.some(y=>y[f])))continue;i.push(`axis.${f}`),e.axes.forEach(y=>{y[f]&&delete y[f]})}else if(u==="series"){if(!((l=e.series)!=null&&l.some(y=>y.type===x)))continue;i.push(`series[type=${x}]`),e.series=e.series.filter(y=>y.type!==x)}else if(u==="series-option"){if(!((c=e.series)!=null&&c.some(y=>y[f])))continue;i.push(`series.${f}`),e.series.forEach(y=>{y[f]&&delete y[f]})}}if(i.length&&!t){n&&(i=["AgCharts.createGauge"]);let u="ag-charts-enterprise",h="https://ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(u="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",h="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Ie.warnOnce([`unable to use these enterprise features as '${u}' has not been loaded:`,"",...i,"",`See: ${h}`].join(`
`))}}function uNe(e,t=1/0){switch(typeof e){case"undefined":return"undefined";case"number":if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";default:return e=JSON.stringify(e),e.length>t?`${e.slice(0,t)}... (+${e.length-t} characters)`:e}}var jN=Symbol("description"),dNe=Symbol("required");function hNe(e,t,i){const{errors:n}=SK(e,t,i);for(const{message:s}of n)Ie.warn(s);return n.length===0}function RF(e,t,i){const n=xa(i)?i:i[jN],s=n?`; expecting ${n}`:"";return`${e?`Option \`${e}\``:"Value"} cannot be set to \`${uNe(t)}\`${s}, ignoring.`}function SK(e,t,i=""){if(!Ys(e))return{valid:null,errors:[{path:i,value:e,message:RF(i,e,"an object")}]};const n=new Set(Object.keys(e)),s=[],a={};function o(r){return fi(t)?`${i}[${r}]`:i?`${i}.${r}`:r}for(const[r,l]of Object.entries(t)){n.delete(r);const c=e[r];if(!(!l[dNe]&&typeof c>"u"))if(Ec(l))l(c)?a[r]=c:s.push({key:r,path:i,value:c,message:RF(o(r),c,l)});else{const u=SK(c,l,o(r));a[r]=u.valid,s.push(...u.errors)}}for(const r of n)s.push({key:r,path:i,unknown:!0,message:`Unknown option \`${o(r)}\`, ignoring.`});return{valid:a,errors:s}}function Al(e,t){return Object.assign(i=>e(i),{[jN]:t})}var pNe=(...e)=>Al(t=>e.some(i=>i(t)),e.map(t=>t[jN]).filter(Boolean).join(" or "));Al(fi,"an array");Al(kL,"a boolean");Al(Ec,"a function");Al(yt,"a number");var PF=Al(Ys,"an object"),Xl=Al(xa,"a string"),NK=(e,t=!0)=>Al(i=>yt(i)&&(i>e||t&&i===e),`a number greater than ${t?"or equal to ":""}${e}`),MK=(e,t)=>Al(i=>yt(i)&&i>=e&&i<=t,`a number between ${e} and ${t} inclusive`);NK(0);NK(1);MK(0,1);MK(0,360);var zF=(e,t)=>Al(i=>fi(i)&&i.every(e),`${e[jN]} array`);function fD(e){return e!=null&&e.up||e!=null&&e.down||e!=null&&e.neutral?"user-full":e!=null&&e.fills||e!=null&&e.strokes?"user-indexed":"inbuilt"}var h1="white",mD={get cartesian(){return{seriesTypes:oi.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:oi.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:oi.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:oi.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:oi.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:oi.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:oi.gaugeTypes,commonOptions:[]}}},fNe={"radial-gauge":!0,"linear-gauge":!0};function _F(e){return fNe[e]===!0}var mNe=Object.values(mD).reduce((e,{commonOptions:t})=>e.concat(t),[]),xo=class IK{static getAxisDefaults(t){return ft(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Oi,color:An},label:{fontSize:12,fontFamily:Oi,padding:5,color:An,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:lw},tick:{enabled:!1,width:1,stroke:lw},gridLine:{enabled:!0,style:[{stroke:Vm,lineDash:[]}]},crossLines:{enabled:!1,fill:Px,stroke:Px,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Oi,padding:5,color:An}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:tS},padding:{top:zu,right:zu,bottom:zu,left:zu},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Oi,color:An,wrapping:"hyphenate",layoutStyle:Fh,textAlign:Bh},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Oi,color:$h,wrapping:"hyphenate",layoutStyle:Fh,textAlign:Bh},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Oi,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:Fh,textAlign:Bh},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:An,fontSize:12,fontFamily:Oi}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:An},inactiveStyle:{fill:$h},highlightStyle:{fill:An},label:{color:An}}},tooltip:{enabled:!0,darkTheme:Rx,delay:0},overlays:{darkTheme:Rx},listeners:{}}}constructor(t={}){const{overrides:i,palette:n}=Dn(t),s=this.createChartConfigPerChartType(this.getDefaults()),a={};i&&this.mergeOverrides(s,a,i);const{fills:o,strokes:r,...l}=this.getDefaultColors();this.palette=ft(n,{fills:Object.values(o),strokes:Object.values(r),...l}),this.paletteType=fD(n),this.config=Object.freeze(this.templateTheme(s)),this.presets=a}mergeOverrides(t,i,n){for(const{seriesTypes:s,commonOptions:a}of Object.values(mD)){const o={...n.common};for(const r of mNe)a.includes(r)||delete o[r];if(o)for(const r of s){const l=r;_F(l)||(t[l]=ft(o,t[l]))}}oi.seriesTypes.forEach(s=>{const a=s,o=n[a];_F(a)?i[a]=o:t[a]=ft(o,t[a])})}createChartConfigPerChartType(t){for(const[i,{seriesTypes:n}]of Object.entries(mD)){const s=nD.get(i);for(const a of n)t[a]||(t[a]=Dn(s))}return t}getDefaults(){const t=(i,n)=>{const s={},a={axes:{},...hE.getThemeTemplates(),...this.getChartDefaults(),...nD.get(i)};for(const o of n){s[o]=ft(za.getThemeTemplate(o),s[o]??Dn(a));const{axes:r}=s[o];for(const l of bc.keys())r[l]=ft(r[l],bc.getThemeTemplate(l),IK.cartesianAxisDefault[l])}return s};return ft(t("cartesian",oi.cartesianTypes),t("polar",oi.polarTypes),t("hierarchy",oi.hierarchyTypes),t("topology",oi.topologyTypes),t("flow-proportion",oi.flowProportionTypes),t("standalone",oi.standaloneTypes),t("gauge",oi.gaugeTypes))}templateTheme(t){const i=Dn(t),n=this.getTemplateParameters();return al(i,s=>{if(fi(s))for(let a=0;a<s.length;a++){const o=s[a];n.has(o)&&(s[a]=n.get(o))}else for(const[a,o]of Object.entries(s))n.has(o)&&(s[a]=n.get(o))}),Dn(i)}getDefaultColors(){return{fills:dn,strokes:tl,up:{fill:dn.GREEN,stroke:tl.GREEN},down:{fill:dn.RED,stroke:tl.RED},neutral:{fill:dn.GRAY,stroke:tl.GRAY},altUp:{fill:dn.BLUE,stroke:tl.BLUE},altDown:{fill:dn.ORANGE,stroke:tl.ORANGE},altNeutral:{fill:dn.GRAY,stroke:tl.GRAY}}}getTemplateParameters(){var s,a,o,r,l,c,u,h,f,g,x,y;const{isEnterprise:t}=us,i=new Map;i.set(Rx,!1),i.set(OE,t),i.set(p$,!t),i.set(Oi,"Verdana, sans-serif"),i.set(An,"rgb(70, 70, 70)"),i.set(f$,"white"),i.set($h,"rgb(140, 140, 140)"),i.set(Vm,"rgb(224,234,241)"),i.set(lw,"rgb(195, 195, 195)"),i.set(Px,"rgb(70, 70, 70)"),i.set(Sp,h1),i.set(tS,h1),i.set(Np,"rgba(0, 0, 0, 0.5)"),i.set(Qa,[dn.ORANGE,dn.YELLOW,dn.GREEN]),i.set(kr,[dn.GREEN,dn.YELLOW,dn.RED]),i.set(Vc,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),i.set(zu,20),i.set(Fh,"block"),i.set(Bh,"center"),i.set(VE,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set(UE,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(BE,h1),i.set(Ja,dn.BLUE),i.set(GE,dn.BLUE),i.set(eo,dn.BLUE),i.set(WE,h1),i.set(HE,"#fafafa"),i.set(YE,"#dddddd"),i.set($E,"#000000"),i.set(KE,"#181d1f"),i.set(v$,"#e35c5c"),i.set(w$,"#e35c5c"),i.set(ZE,"#fafafa"),i.set(qE,"#dddddd"),i.set(XE,"#000000"),i.set(Zb,"top"),i.set(cc,!1);const n=this.getDefaultColors();return i.set(jE,((s=this.palette.up)==null?void 0:s.stroke)??n.up.stroke),i.set(PE,((a=this.palette.up)==null?void 0:a.fill)??n.up.fill),i.set(RE,((o=this.palette.down)==null?void 0:o.stroke)??n.down.stroke),i.set(zE,((r=this.palette.down)==null?void 0:r.fill)??n.down.fill),i.set(zx,((l=this.palette.neutral)==null?void 0:l.stroke)??n.neutral.stroke),i.set(_E,((c=this.palette.neutral)==null?void 0:c.fill)??n.neutral.fill),i.set(m$,((u=this.palette.altUp)==null?void 0:u.stroke)??n.up.stroke),i.set(y$,((h=this.palette.altUp)==null?void 0:h.fill)??n.up.fill),i.set(g$,((f=this.palette.altDown)==null?void 0:f.stroke)??n.down.stroke),i.set(x$,((g=this.palette.altDown)==null?void 0:g.fill)??n.down.fill),i.set(b$,((x=this.palette.altNeutral)==null?void 0:x.fill)??n.altNeutral.fill),i.set(FE,((y=this.palette.altNeutral)==null?void 0:y.stroke)??n.altNeutral.stroke),i}};xo.cartesianAxisDefault={number:xo.getAxisDefaults({line:{enabled:!1}}),log:xo.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:xo.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:cc},crosshair:{enabled:!1}}),time:xo.getAxisDefaults({gridLine:{enabled:cc}}),"ordinal-time":xo.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:cc}}),"angle-category":xo.getAxisDefaults({gridLine:{enabled:cc}}),"angle-number":xo.getAxisDefaults({gridLine:{enabled:cc}}),"radius-category":xo.getAxisDefaults({line:{enabled:!1}}),"radius-number":xo.getAxisDefaults({line:{enabled:!1}}),"grouped-category":xo.getAxisDefaults({tick:{enabled:!0}})};var Gc=xo,p1="#192232",Ps={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},uh={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},mg=class extends Gc{getDefaultColors(){return{fills:Ps,strokes:uh,up:{fill:Ps.GREEN,stroke:uh.GREEN},down:{fill:Ps.RED,stroke:uh.RED},neutral:{fill:Ps.GRAY,stroke:uh.GRAY},altUp:{fill:Ps.BLUE,stroke:uh.BLUE},altDown:{fill:Ps.ORANGE,stroke:uh.ORANGE},altNeutral:{fill:Ps.GRAY,stroke:uh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Rx,!0),e.set(BE,p1),e.set(An,"white"),e.set($h,"#7D91A0"),e.set(Vm,"#545A6E"),e.set(Px,"white"),e.set(Qa,[Ps.ORANGE,Ps.YELLOW,Ps.GREEN]),e.set(kr,[Ps.GREEN,Ps.YELLOW,Ps.RED]),e.set(Vc,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),e.set(VE,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(UE,["#192834","#3b5164","#496275","#577287","#668399"]),e.set(tS,p1),e.set(Sp,p1),e.set(Ja,Ps.BLUE),e.set(GE,"white"),e.set(eo,Ps.BLUE),e.set(WE,p1),e.set(HE,"#28313e"),e.set(YE,"#4b525d"),e.set($E,"#ffffff"),e.set(KE,"#ffffff"),e.set(ZE,"#28313e"),e.set(qE,"#4b525d"),e.set(XE,"#ffffff"),e}constructor(e){super(e)}},mo={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},dh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},gNe=class extends mg{getDefaultColors(){return{fills:{...mo},strokes:{...dh},up:{fill:mo.GREEN,stroke:dh.GREEN},down:{fill:mo.RED,stroke:dh.RED},neutral:{fill:mo.BLUE,stroke:dh.BLUE},altUp:{fill:mo.GREEN,stroke:dh.GREEN},altDown:{fill:mo.RED,stroke:dh.RED},altNeutral:{fill:mo.GRAY,stroke:dh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[mo.GREEN,mo.BLUE,mo.RED]),e.set(Ja,mo.BLUE),e.set(eo,mo.BLUE),e.set(Vm,"#343A4E"),e.set(zu,0),e.set(Fh,"overlay"),e.set(Bh,"left"),e.set(Zb,"bottom"),e.set(cc,!0),e}},go={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},hh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},yNe=class extends Gc{getDefaultColors(){return{fills:{...go},strokes:{...hh},up:{fill:go.GREEN,stroke:hh.GREEN},down:{fill:go.RED,stroke:hh.RED},neutral:{fill:go.BLUE,stroke:hh.BLUE},altUp:{fill:go.GREEN,stroke:hh.GREEN},altDown:{fill:go.RED,stroke:hh.RED},altNeutral:{fill:go.GRAY,stroke:hh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[go.GREEN,go.BLUE,go.RED]),e.set(Ja,go.BLUE),e.set(eo,go.BLUE),e.set(Vm,"#F2F3F3"),e.set(zu,0),e.set(Fh,"overlay"),e.set(Bh,"left"),e.set(Zb,"bottom"),e.set(cc,!0),e}},zs={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},ph={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},xNe=class extends mg{getDefaultColors(){return{fills:zs,strokes:ph,up:{fill:zs.GREEN,stroke:ph.GREEN},down:{fill:zs.RED,stroke:ph.RED},neutral:{fill:zs.GRAY,stroke:ph.GRAY},altUp:{fill:zs.BLUE,stroke:ph.BLUE},altDown:{fill:zs.RED,stroke:ph.RED},altNeutral:{fill:zs.GRAY,stroke:ph.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[zs.ORANGE,zs.YELLOW,zs.GREEN]),e.set(Vc,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),e.set(kr,[zs.GREEN,zs.YELLOW,zs.RED]),e.set(Ja,zs.BLUE),e.set(eo,zs.BLUE),e}},_s={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},fh={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},bNe=class extends Gc{getDefaultColors(){return{fills:_s,strokes:fh,up:{fill:_s.GREEN,stroke:fh.GREEN},down:{fill:_s.RED,stroke:fh.RED},neutral:{fill:_s.GRAY,stroke:fh.GRAY},altUp:{fill:_s.BLUE,stroke:fh.BLUE},altDown:{fill:_s.RED,stroke:fh.RED},altNeutral:{fill:_s.GRAY,stroke:fh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[_s.ORANGE,_s.YELLOW,_s.GREEN]),e.set(Vc,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),e.set(kr,[_s.GREEN,_s.YELLOW,_s.RED]),e.set(Ja,_s.BLUE),e.set(eo,_s.BLUE),e}},Bi={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},mh={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},vNe=class extends mg{getDefaultColors(){return{fills:Bi,strokes:mh,up:{fill:Bi.GREEN,stroke:mh.GREEN},down:{fill:Bi.RED,stroke:mh.RED},neutral:{fill:Bi.GRAY,stroke:mh.GRAY},altUp:{fill:Bi.BLUE,stroke:mh.BLUE},altDown:{fill:Bi.RED,stroke:mh.RED},altNeutral:{fill:Bi.GRAY,stroke:mh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[Bi.BLUE,Bi.RED]),e.set(Vc,[Bi.BLUE,Bi.PURPLE,Bi.MAGENTA,Bi.PINK,Bi.RED,Bi.ORANGE,Bi.YELLOW,Bi.GREEN]),e.set(kr,[Bi.BLUE,Bi.RED]),e.set(Ja,Bi.BLUE),e.set(eo,Bi.BLUE),e}},Vi={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},gh={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},wNe=class extends Gc{getDefaultColors(){return{fills:Vi,strokes:gh,up:{fill:Vi.GREEN,stroke:gh.GREEN},down:{fill:Vi.RED,stroke:gh.RED},neutral:{fill:Vi.GRAY,stroke:gh.GRAY},altUp:{fill:Vi.BLUE,stroke:gh.BLUE},altDown:{fill:Vi.RED,stroke:gh.RED},altNeutral:{fill:Vi.GRAY,stroke:gh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[Vi.BLUE,Vi.RED]),e.set(Vc,[Vi.BLUE,Vi.PURPLE,Vi.MAGENTA,Vi.PINK,Vi.RED,Vi.ORANGE,Vi.YELLOW,Vi.GREEN]),e.set(kr,[Vi.BLUE,Vi.RED]),e.set(Ja,Vi.BLUE),e.set(eo,Vi.BLUE),e}},ls={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Mu={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},SNe=class extends mg{getDefaultColors(){return{fills:{...ls,RED:ls.ORANGE},strokes:{...Mu,RED:Mu.ORANGE},up:{fill:ls.GREEN,stroke:Mu.GREEN},down:{fill:ls.ORANGE,stroke:Mu.ORANGE},neutral:{fill:ls.GRAY,stroke:Mu.GRAY},altUp:{fill:ls.BLUE,stroke:Mu.BLUE},altDown:{fill:ls.ORANGE,stroke:Mu.ORANGE},altNeutral:{fill:ls.GRAY,stroke:Mu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[ls.ORANGE,ls.YELLOW,ls.GREEN]),e.set(kr,[ls.GREEN,ls.YELLOW,ls.ORANGE]),e.set(Ja,ls.BLUE),e.set(eo,ls.BLUE),e}},Fs={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Ql={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},NNe=class extends Gc{getDefaultColors(){return{fills:{...Fs,RED:Fs.ORANGE},strokes:{...Ql,RED:Ql.ORANGE},up:{fill:Fs.GREEN,stroke:Ql.GREEN},down:{fill:Fs.ORANGE,stroke:Ql.ORANGE},neutral:{fill:Ql.GRAY,stroke:Ql.GRAY},altUp:{fill:Fs.BLUE,stroke:Ql.BLUE},altDown:{fill:Fs.ORANGE,stroke:Ql.ORANGE},altNeutral:{fill:Fs.GRAY,stroke:Ql.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[Fs.ORANGE,Fs.YELLOW,Fs.GREEN]),e.set(kr,[Fs.GREEN,Fs.YELLOW,Fs.ORANGE]),e.set(Ja,Fs.BLUE),e.set(eo,Fs.BLUE),e}},Bs={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},yh={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},MNe=class extends mg{getDefaultColors(){return{fills:Bs,strokes:yh,up:{fill:Bs.GREEN,stroke:yh.GREEN},down:{fill:Bs.RED,stroke:yh.RED},neutral:{fill:Bs.GRAY,stroke:yh.GRAY},altUp:{fill:Bs.BLUE,stroke:yh.BLUE},altDown:{fill:Bs.ORANGE,stroke:yh.ORANGE},altNeutral:{fill:Bs.GRAY,stroke:yh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[Bs.ORANGE,Bs.YELLOW,Bs.GREEN]),e.set(Vc,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),e.set(kr,[Bs.GREEN,Bs.YELLOW,Bs.RED]),e.set(Ja,Bs.BLUE),e.set(eo,Bs.BLUE),e}},Vs={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},xh={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},INe=class extends Gc{getDefaultColors(){return{fills:Vs,strokes:xh,up:{fill:Vs.GREEN,stroke:xh.GREEN},down:{fill:Vs.RED,stroke:xh.RED},neutral:{fill:Vs.GRAY,stroke:xh.GRAY},altUp:{fill:Vs.BLUE,stroke:xh.BLUE},altDown:{fill:Vs.ORANGE,stroke:xh.ORANGE},altNeutral:{fill:Vs.GRAY,stroke:xh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Qa,[Vs.ORANGE,Vs.YELLOW,Vs.GREEN]),e.set(Vc,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),e.set(kr,[Vs.GREEN,Vs.YELLOW,Vs.RED]),e.set(Ja,Vs.BLUE),e.set(eo,Vs.BLUE),e}},Sm=()=>new Gc,TNe=()=>new mg,TK={"ag-default-dark":TNe,"ag-sheets-dark":()=>new SNe,"ag-polychroma-dark":()=>new vNe,"ag-vivid-dark":()=>new MNe,"ag-material-dark":()=>new xNe,"ag-financial-dark":()=>new gNe,null:Sm,undefined:Sm,"ag-default":Sm,"ag-sheets":()=>new NNe,"ag-polychroma":()=>new wNe,"ag-vivid":()=>new INe,"ag-material":()=>new bNe,"ag-financial":()=>new yNe};function lS(e){if(e instanceof Gc)return e;if(e==null||typeof e=="string"){const t=TK[e];return t?t():(Ie.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),Sm())}if(hNe(e,kNe,"theme")){const t=ANe(e),i=t.baseTheme?lS(t.baseTheme):Sm();return new i.constructor(t)}return Sm()}function ANe(e){let t=e,i;const n=[];for(;typeof t=="object";)i??(i=t.palette),t.overrides&&n.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:ft(...n),palette:i}}var kNe={baseTheme:pNe(Xl,PF),overrides:PF,palette:{fills:zF(Xl),strokes:zF(Xl),up:{fill:Xl,stroke:Xl},down:{fill:Xl,stroke:Xl},neutral:{fill:Xl,stroke:Xl}}},CNe=new Set(["map-shape-background","map-line-background"]),AK=class{constructor(e,t,i,n){var x;this.debug=Qt.create(!0,"opts");var s;this.optionMetadata=n??{},this.processedOverrides=t??{};const a={shallow:["data"]};this.userOptions=Dn(e,a);let o=Dn(e,a);const{presetType:r}=this.optionMetadata;if(r!=null){const y=cNe[r],b=o,v=o.type,S=v!=null?lS(o.theme).presets[v]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",b),o=(y==null?void 0:y(b,S,()=>this.activeTheme))??o}us.isEnterprise||jF(o),this.activeTheme=lS(o.theme),r&&(o=this.activeTheme.templateTheme(o)),this.sanityCheckAndCleanup(o),this.defaultAxes=this.getDefaultAxes(o),this.specialOverrides=this.specialOverridesDefaults({...i});const l=this.optionsType(o),{axes:c={},annotations:{axesButtons:u=null,...h}={},series:f,...g}=this.getSeriesThemeConfig(l);this.processedOptions=Dn(ft(t,o,u!=null?{annotations:{axesButtons:u}}:{},g,this.defaultAxes),a),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=h,(Bm(this.processedOptions)||R1e(this.processedOptions))&&((x=this.processedOptions.legend)==null?void 0:x.enabled)==null&&((s=this.processedOptions).legend??(s.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions,o),us.isEnterprise||jF(this.processedOptions,!0)}getOptions(){return this.processedOptions??{}}diffOptions(e){return jo(e,this.processedOptions)}getSeriesThemeConfig(e){var i;const t=Dn(((i=this.activeTheme)==null?void 0:i.config[e])??{});return this.removeLeftoverSymbols(t),t}getDefaultAxes(e){var n;const t=this.optionsType(e),i=((n=e.series)==null?void 0:n.find(s=>(s.type??"line")===t))??{};return za.cloneDefaultAxes(t,i)}optionsType(e){var t,i;return((i=(t=e.series)==null?void 0:t[0])==null?void 0:i.type)??"line"}sanityCheckAndCleanup(e){var t;this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),(t=e.series)!=null&&t.some(i=>i.type==="bullet")&&e.sync!=null&&e.sync.enabled!==!1&&(Ie.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map(i=>{var h,f,g;const{crossLines:n,...s}=ft((h=t[i.type])==null?void 0:h[i.position],t[i.type]);i.crossLines&&(i.crossLines=Gw(i.crossLines,n));const a=(f=s.gridLine)==null?void 0:f.style;(g=i.gridLine)!=null&&g.style&&(a!=null&&a.length)&&(i.gridLine.style=i.gridLine.style.map((x,y)=>x.stroke!=null||x.lineDash!=null?ft(x,a.at(y%a.length)):x));const{top:o,right:r,bottom:l,left:c,...u}=ft(i,s);return u}))}processSeriesOptions(e){var a,o;const t=this.getTooltipPositionDefaults(e),i=Ys(e.theme)?fD((a=e.theme)==null?void 0:a.palette):"inbuilt",n={colourIndex:0,userPalette:i},s=(o=e.series)==null?void 0:o.map(r=>{r.type??(r.type=this.getDefaultSeriesType(e));const{innerLabels:l,...c}=this.getSeriesThemeConfig(r.type).series??{},u=CNe.has(r.type)?{colourIndex:0,userPalette:i}:n,h=this.getSeriesPalette(r.type,u),f=this.getTooltipRangeDefaults(e,r.type),g=ft(this.getSeriesGroupingOptions(r),r,t,f,c,h,{visible:!0});return g.innerLabels&&(g.innerLabels=Gw(g.innerLabels,l)),this.activeTheme.templateTheme(g)});e.series=this.setSeriesGroupingOptions(s??[])}processMiniChartSeriesOptions(e){var n,s;let t=(s=(n=e.navigator)==null?void 0:n.miniChart)==null?void 0:s.series;if(t==null)return;const i={colourIndex:0,userPalette:Ys(e.theme)?fD(e.theme.palette):"inbuilt"};t=t.map(a=>{a.type??(a.type="line");const{innerLabels:o,...r}=this.getSeriesThemeConfig(a.type).series??{},l=ft(this.getSeriesGroupingOptions(a),a,r,this.getSeriesPalette(a.type,i));return this.activeTheme.templateTheme(l)}),e.navigator.miniChart.series=this.setSeriesGroupingOptions(t)}getSeriesPalette(e,t){const i=za.getPaletteFactory(e),{colourIndex:n,userPalette:s}=t,{fills:a=[],strokes:o=[]}=this.activeTheme.palette;return i==null?void 0:i({userPalette:s,colorsCount:Math.max(a.length,o.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors(r){return t.colourIndex+=r,{fills:UC(a,r,n),strokes:UC(o,r,n)}}})}getSeriesGroupingOptions(e){const t=za.isGroupable(e.type),i=za.isStackable(e.type),n=za.isStackedByDefault(e.type);e.grouped&&!t&&Ie.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!i&&Ie.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:s,stacked:a}=e;return a??(a=(n||e.stackGroup!=null)&&!(t&&s)),s??(s=!0),{stacked:i&&a,grouped:t&&s&&!(i&&a)}}setSeriesGroupingOptions(e){const t=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",t);const i={},n=t.reduce((s,a)=>{var o;return a.groupType==="default"||(s[o=a.seriesType]??(s[o]=0),s[a.seriesType]+=a.groupType==="stack"?1:a.series.length),s},{});return t.flatMap(s=>{var a;switch(i[a=s.seriesType]??(i[a]=0),s.groupType){case"stack":{const o=i[s.seriesType]++;return s.series.map((r,l)=>Object.assign(r,{seriesGrouping:{groupId:s.groupId,groupIndex:o,groupCount:n[s.seriesType],stackIndex:l,stackCount:s.series.length}}))}case"group":return s.series.map(o=>Object.assign(o,{seriesGrouping:{groupId:s.groupId,groupIndex:i[s.seriesType]++,groupCount:n[s.seriesType],stackIndex:0,stackCount:0}}))}return s.series}).map(({stacked:s,grouped:a,...o})=>o)}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const t=new Map;return e.reduce((i,n)=>{const s=n.type;if(!n.stacked&&!n.grouped)i.push({groupType:"default",seriesType:s,series:[n],groupId:"__default__"});else{const a=this.getSeriesGroupId(n);if(!t.has(a)){const r={groupType:n.stacked?"stack":"group",seriesType:s,series:[],groupId:a};t.set(a,r),i.push(r)}t.get(a).series.push(n)}return i},[])}getDefaultSeriesType(e){if(Bm(e))return"line";if(vN(e))return"pie";if(mE(e))return"treemap";if(gE(e))return"map-shape";if(yE(e))return"sankey";if(xE(e))return"pyramid";if(wN(e))return"radial-gauge";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){var o;const t=(o=e.tooltip)==null?void 0:o.position;if(!Sa(t))return;const{type:i,xOffset:n,yOffset:s}=t,a={};return xa(i)&&CW(eW,i)&&(a.type=i),yt(n)&&(a.xOffset=n),yt(s)&&(a.yOffset=s),{tooltip:{position:a}}}getTooltipRangeDefaults(e,t){var i,n;return{tooltip:{range:((i=e.tooltip)==null?void 0:i.range)??((n=za.getTooltipDefauls(t))==null?void 0:n.range)}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([i,n])=>{var s;(s=e.series)!=null&&s.some(a=>a[i]!=null)&&Ie.warnOnce(`Property [series.${i}] is deprecated, please use [series.${n}] and multiple series instead.`)})}axesTypeIntegrity(e){if("axes"in e){const t=e.axes??[];for(const{type:i}of t)if(!z1e(i)){delete e.axes;const n=bc.publicKeys().join(", ");Ie.warnOnce(`unknown axis type: ${i}; expected one of: ${n}`)}}}seriesTypeIntegrity(e){var t;e.series=(t=e.series)==null?void 0:t.filter(({type:i})=>{if(i==null||P1e(i)||g1e(i))return!0;Ie.warnOnce(`unknown series type: ${i}; expected one of: ${VY.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){const t=e.series;if(t&&t.length>1&&t.some(i=>za.isSolo(i.type))){const i=this.optionsType(e);if(za.isSolo(i))Ie.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{const{solo:n,nonSolo:s}=jL(t,o=>za.isSolo(o.type)?"solo":"nonSolo"),a=aN(n.map(o=>o.type)).join(", ");Ie.warn(`Unable to mix these series types with the lead series type: ${a}`),e.series=s}}}enableConfiguredOptions(e,t){al(t,(i,n)=>{n&&"enabled"in n&&!n._enabledFromTheme&&i.enabled==null&&(n.enabled=!0)},{skip:["data","theme"]},e),al(e,i=>{i._enabledFromTheme!=null&&delete i._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(e){al(e,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(i=>{i!=="enabled"&&delete t[i]})},{skip:["data","theme"]})}removeLeftoverSymbols(e){al(e,t=>{if(!(!t||!Ys(t)))for(const[i,n]of Object.entries(t))DW(n)&&delete t[i]},{skip:["data"]})}specialOverridesDefaults(e){if(e.window!=null?vW(e.window):typeof window<"u"?e.window=window:typeof global<"u"&&(e.window=global.window),e.document!=null?bW(e.document):typeof document<"u"?e.document=document:typeof global<"u"&&(e.document=global.document),e.window==null)throw new Error("AG Charts - unable to resolve global window");if(e.document==null)throw new Error("AG Charts - unable to resolve global document");return e}},Uy=Qt.create(!0,"opts");function FF(e){if(Bm(e))return"cartesian";if(vN(e))return"polar";if(mE(e))return"hierarchy";if(gE(e))return"topology";if(yE(e))return"flow-proportion";if(xE(e))return"standalone";if(wN(e))return"gauge";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}var pb=class{static licenseCheck(t){var i,n,s;this.licenseChecked||(this.licenseManager=(i=us.licenseManager)==null?void 0:i.call(us,t),(n=this.licenseManager)==null||n.setLicenseKey(this.licenseKey,this.gridContext),(s=this.licenseManager)==null||s.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var i;return(i=us.licenseManager)==null?void 0:i.call(us,{}).getLicenseDetails(t)}static getInstance(t){return BF.getInstance(t)}static create(t,i){var s,a;this.licenseCheck(t);const n=BF.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,styles:us.styles!=null?[["ag-charts-enterprise",us.styles]]:[],optionsMetadata:i});return(s=this.licenseManager)!=null&&s.isDisplayWatermark()&&this.licenseManager&&((a=us.injectWatermark)==null||a.call(us,n.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),n}static createFinancialChart(t){return this.create(t,{presetType:"price-volume"})}static createGauge(t){return this.create(t,{presetType:"gauge"})}static __createSparkline(t){return this.create(t,{presetType:"sparkline"})}};pb.licenseChecked=!1;pb.gridContext=!1;var _u=class ju{static getInstance(t){const i=Ad.getInstance(t);return i?cF.chartInstances.get(i):void 0}static initialiseModules(){ju.initialised||(HSe(),YSe(),ju.initialised=!0)}static createOrUpdate(t){let{proxy:i}=t;const{userOptions:n,licenseManager:s,styles:a,processedOverrides:o=(i==null?void 0:i.chart.chartOptions.processedOverrides)??{},specialOverrides:r=(i==null?void 0:i.chart.chartOptions.specialOverrides)??{},optionsMetadata:l=(i==null?void 0:i.chart.chartOptions.optionMetadata)??{}}=t,{presetType:c}=l;ju.initialiseModules(),Uy(">>> AgCharts.createOrUpdate() user options",n);let u=n;pb.optionsMutationFn&&(u=pb.optionsMutationFn(u,c),Uy(">>> AgCharts.createOrUpdate() MUTATED user options",u));const{overrideDevicePixelRatio:h,document:f,window:g,styleContainer:x,...y}=u,b=new AK(y,o,{...r,document:f,window:g,overrideDevicePixelRatio:h,styleContainer:x},l);let v=i==null?void 0:i.chart;return(v==null||FF(b.processedOptions)!==FF(v==null?void 0:v.chartOptions.processedOptions))&&(v=ju.createChartInstance(b,v),a==null||a.forEach(([S,N])=>{v==null||v.ctx.domManager.addStyles(S,N)})),i==null?i=new cF(v,ju.callbackApi,s):i.chart=v,Uy.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[v.id]=v),v.queuedUserOptions.push(n),v.requestFactoryUpdate(S=>{S.applyOptions(b);const N=S.queuedUserOptions.indexOf(n)+1;S.queuedUserOptions.splice(0,N)}),i}static updateUserDelta(t,i){i=Dn(i,{shallow:["data"]}),al(i,o=>{if(typeof o=="object")for(const[r,l]of Object.entries(o))typeof l>"u"&&Object.assign(o,{[r]:Symbol("UNSET")})},{skip:["data"]});const{chart:n}=t,s=n.getOptions(),a=ft(i,s);Uy(">>> AgCharts.updateUserDelta() user delta",i),Uy("AgCharts.updateUserDelta() - base options",s),ju.createOrUpdate({userOptions:a,proxy:t})}static createChartInstance(t,i){const n=i==null?void 0:i.destroy({keepTransferableResources:!0}),s=ju.getChartByOptions(t.processedOptions);return new s(t,n)}static getChartByOptions(t){if(Bm(t))return CE;if(mE(t))return EO;if(vN(t))return OO;if(gE(t))return RO;if(yE(t))return DO;if(xE(t))return jO;if(wN(t))return LO;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};_u.caretaker=new QH(qw);_u.initialised=!1;_u.callbackApi={caretaker:_u.caretaker,create(e,t,i,n){return _u.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:i,optionsMetadata:n})},update(e,t){return _u.createOrUpdate({userOptions:e,proxy:t})},updateUserDelta(e,t){return _u.updateUserDelta(e,t)}};var BF=_u,ae={};Lc(ae,{Arc:()=>kl,ArrowDown:()=>DK,ArrowUp:()=>CK,BBox:()=>Fe,BandScale:()=>cd,Caption:()=>Xt,ChangeDetectableProperties:()=>JE,Circle:()=>qu,ConicGradient:()=>DNe,ContinuousScale:()=>jt,Diamond:()=>KY,DropShadow:()=>Cr,ExtendedPath2D:()=>sb,Gradient:()=>fN,Group:()=>ut,HdpiCanvas:()=>oE,Image:()=>vp,Label:()=>xn,Layer:()=>dl,Line:()=>ba,LinearGradient:()=>KL,LinearScale:()=>Do,Marker:()=>qs,Node:()=>ld,OrdinalTimeScale:()=>hr,Path:()=>Ns,PointerEvents:()=>wW,RadialColumnShape:()=>Dr,Rect:()=>Xs,RedrawType:()=>$u,Rotatable:()=>hp,RotatableGroup:()=>Cve,RotatableText:()=>yH,Scalable:()=>YL,ScalableGroup:()=>kve,Scene:()=>rE,SceneChangeDetection:()=>Oe,ScenePathChangeDetection:()=>st,Sector:()=>es,SectorBox:()=>pK,Selection:()=>li,Shape:()=>Mr,Square:()=>ab,SvgPath:()=>PO,Text:()=>fn,Tooltip:()=>Fo,Transformable:()=>Ii,TransformableText:()=>np,Translatable:()=>Md,TranslatableGroup:()=>yc,TranslatableLayer:()=>_m,Triangle:()=>wm,calculateDerivativeExtrema:()=>QC,calculateDerivativeExtremaXY:()=>lY,drawCorner:()=>px,easing:()=>OL,evaluateBezier:()=>Xw,getFont:()=>ONe,getMarker:()=>hl,getRadialColumnWidth:()=>LNe,motion:()=>ENe,sectorBox:()=>xO,solveBezier:()=>Qw,splitBezier:()=>Jw,toRadians:()=>xs,toTooltipHtml:()=>zm});var kl=class extends Ns{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return Hh(Pt(this.startAngle),Pt(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Fe(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const i=this.getBBox();return this.type!==0&&i.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};kl.className="Arc";kl.defaultStyles={...Mr.defaultStyles,lineWidth:1,fillStyle:null};j([st()],kl.prototype,"centerX",2);j([st()],kl.prototype,"centerY",2);j([st()],kl.prototype,"radius",2);j([st()],kl.prototype,"startAngle",2);j([st()],kl.prototype,"endAngle",2);j([st()],kl.prototype,"counterClockwise",2);j([st()],kl.prototype,"type",2);var DNe=class extends fN{constructor(t,i,n=0,s){super(t,i,s),this.angle=n}createCanvasGradient(t,i){const{colorSpace:s,stops:a,angle:o}=this,r=Pt(xs(o+90));if(!("createConicGradient"in t))return new KL(s,a,o).createCanvasGradient(t,i);const l=i.x+i.width*.5,c=i.y+i.height*.5;return t.createConicGradient(r,l,c)}};function RA(e,t,i){const n=Math.sqrt(e**2+t**2),a=Math.atan2(t,e)+i;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}var Dr=class extends Ns{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){const{innerRadius:t,outerRadius:i,columnWidth:n}=this,s=this.getRotation(),a=-n/2,o=n/2,r=-i,l=-t;let c=1/0,u=1/0,h=-1/0,f=-1/0;for(let g=0;g<4;g+=1){const{x,y}=RA(g%2===0?a:o,g<2?r:l,s);c=Math.min(x,c),u=Math.min(y,u),h=Math.max(x,h),f=Math.max(y,f)}return new Fe(c,u,h-c,f-u)}getRotation(){const{startAngle:t,endAngle:i}=this,n=Bb(t,i);return Pt(t+n/2+Math.PI/2)}updatePath(){const{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:t,innerRadius:i,outerRadius:n,path:s}=this,a=-t/2,o=t/2,r=-n,l=-i,c=this.getRotation(),u=[[a,l],[a,r],[o,r],[o,l]].map(([h,f])=>RA(h,f,c));s.clear(!0),s.moveTo(u[0].x,u[0].y),s.lineTo(u[1].x,u[1].y),s.lineTo(u[2].x,u[2].y),s.lineTo(u[3].x,u[3].y),s.closePath()}updateBeveledPath(){const{columnWidth:t,path:i,outerRadius:n,innerRadius:s,axisInnerRadius:a,axisOuterRadius:o,isRadiusAxisReversed:r}=this,l=Hh(s,a),c=Math.asin(t/2/s),u=this.getRotation(),h=(P,z)=>RA(P,z,u),f=(P,z)=>Math.sqrt(P**2+z**2),g=(P,z)=>z>P?0:Math.sqrt(P**2-z**2),x=(P,z,V)=>V?P<z:P>z,y=l&&!isNaN(c)&&c<Math.PI/6;let b=-t/2,v=t/2;const S=-n,N=-s*(y?Math.cos(c):1),M=x(o,f(s,t/2),!r);if(M){const P=g(o,s);b=-P,v=P}i.clear(!0);const I=h(b,N);i.moveTo(I.x,I.y);const C=Hh(s,n),L=x(o,f(n,t/2),!r);if(C&&y)i.arc(0,0,s,Pt(-c-Math.PI/2)+u,Pt(c-Math.PI/2)+u,!1);else if(L){const P=-g(o,t/2),z=g(o,n);if(!M){const V=h(b,P);i.lineTo(V.x,V.y)}if(i.arc(0,0,o,Math.atan2(P,b)+u,Math.atan2(S,-z)+u,!1),!Hh(z,0)){const V=h(z,S);i.lineTo(V.x,V.y)}i.arc(0,0,o,Math.atan2(S,z)+u,Math.atan2(P,v)+u,!1)}else{const P=h(b,S),z=h(v,S);i.lineTo(P.x,P.y),i.lineTo(z.x,z.y)}const O=h(v,N);if(i.lineTo(O.x,O.y),y)i.arc(0,0,s,Pt(c-Math.PI/2)+u,Pt(-c-Math.PI/2)+u,!0);else{const P=h(b,N);i.lineTo(P.x,P.y)}i.closePath()}};Dr.className="RadialColumnShape";j([st()],Dr.prototype,"isBeveled",2);j([st()],Dr.prototype,"columnWidth",2);j([st()],Dr.prototype,"startAngle",2);j([st()],Dr.prototype,"endAngle",2);j([st()],Dr.prototype,"outerRadius",2);j([st()],Dr.prototype,"innerRadius",2);j([st()],Dr.prototype,"axisInnerRadius",2);j([st()],Dr.prototype,"axisOuterRadius",2);j([st()],Dr.prototype,"isRadiusAxisReversed",2);function LNe(e,t,i,n,s){const a=Bb(e,t),o=a*(1-n)/2;if(e+=o,t-=o,a<.001)return 2*i*s;if(a>=2*Math.PI){const g=e+a/2;e=g-Math.PI,t=g+Math.PI}const r=i*Math.cos(e),l=i*Math.sin(e),c=i*Math.cos(t),u=i*Math.sin(t),h=Math.floor(Math.sqrt((r-c)**2+(l-u)**2)),f=2*i*s;return Math.max(1,Math.min(f,h))}var PO=class extends Ns{constructor(t=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=t}get d(){return this._d}set d(t){if(t!==this._d){this._d=t,this.commands.length=0;for(const[i,n,s]of t.matchAll(/([A-Z])([0-9. ]*)/g)){const a=s.split(/\s+/g).map(Number);this.commands.push([n,a])}this.checkPathDirty()}}updatePath(){const{path:t,x:i,y:n}=this;t.clear();let s=i,a=n;for(const[o,r]of this.commands)switch(o){case"M":t.moveTo(i+r[0],n+r[1]),s=i+r[0];break;case"C":t.cubicCurveTo(i+r[0],n+r[1],i+r[2],n+r[3],i+r[4],n+r[5]),s=i+r[4],a=n+r[5];break;case"H":t.lineTo(i+r[0],a),s=n+r[0];break;case"L":t.lineTo(i+r[0],n+r[1]),s=i+r[0],a=n+r[1];break;case"V":t.lineTo(s,n+r[0]),a=n+r[0];break;case"Z":t.closePath();break;default:throw new Error(`Could not translate command '${o}' with '${r.join(" ")}'`)}t.closePath()}};j([st()],PO.prototype,"x",2);j([st()],PO.prototype,"y",2);var zO=class kK extends qs{updatePath(){const t=this.size/2;super.applyPath(t,kK.moves)}};zO.className="ArrowUp";zO.moves=[{x:0,y:0,t:"move"},{x:1,y:1.2},{x:-.5,y:0},{x:0,y:.8},{x:-1,y:0},{x:0,y:-.8},{x:-.5,y:0}];var CK=zO,DK=class extends qs{updatePath(){const e=this.size/2;super.applyPath(e,CK.moves.map(t=>({x:t.x*-1,y:t.y*-1})))}};DK.className="ArrowDown";var ENe={...mW,...QW},ONe=di.toFontString,se={};Lc(se,{CARTESIAN_AXIS_TYPE:()=>u$,CARTESIAN_POSITION:()=>c$,ChartTheme:()=>Gc,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>eo,DEFAULT_ANNOTATION_COLOR:()=>Ja,DEFAULT_ANNOTATION_HANDLE_FILL:()=>WE,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>$E,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>KE,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>v$,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>w$,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>HE,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>YE,DEFAULT_AXIS_GRID_COLOUR:()=>Vm,DEFAULT_AXIS_LINE_COLOUR:()=>lw,DEFAULT_BACKGROUND_COLOUR:()=>tS,DEFAULT_CAPTION_ALIGNMENT:()=>Bh,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Fh,DEFAULT_COLOURS:()=>wwe,DEFAULT_CROSS_LINES_COLOUR:()=>Px,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Qa,DEFAULT_FONT_FAMILY:()=>Oi,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Vc,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>kr,DEFAULT_GRIDLINE_ENABLED:()=>cc,DEFAULT_HIERARCHY_FILLS:()=>VE,DEFAULT_HIERARCHY_STROKES:()=>UE,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Sp,DEFAULT_INVERTED_LABEL_COLOUR:()=>f$,DEFAULT_LABEL_COLOUR:()=>An,DEFAULT_MUTED_LABEL_COLOUR:()=>$h,DEFAULT_PADDING:()=>zu,DEFAULT_POLAR_SERIES_STROKE:()=>BE,DEFAULT_SHADOW_COLOUR:()=>Np,DEFAULT_TEXTBOX_COLOR:()=>XE,DEFAULT_TEXTBOX_FILL:()=>ZE,DEFAULT_TEXTBOX_STROKE:()=>qE,DEFAULT_TEXT_ANNOTATION_COLOR:()=>GE,DEFAULT_TOOLBAR_POSITION:()=>Zb,FONT_SIZE:()=>r$,FONT_WEIGHT:()=>l$,IS_COMMUNITY:()=>p$,IS_DARK_THEME:()=>Rx,IS_ENTERPRISE:()=>OE,PALETTE_ALT_DOWN_FILL:()=>x$,PALETTE_ALT_DOWN_STROKE:()=>g$,PALETTE_ALT_NEUTRAL_FILL:()=>b$,PALETTE_ALT_NEUTRAL_STROKE:()=>FE,PALETTE_ALT_UP_FILL:()=>y$,PALETTE_ALT_UP_STROKE:()=>m$,PALETTE_DOWN_FILL:()=>zE,PALETTE_DOWN_STROKE:()=>RE,PALETTE_NEUTRAL_FILL:()=>_E,PALETTE_NEUTRAL_STROKE:()=>zx,PALETTE_UP_FILL:()=>PE,PALETTE_UP_STROKE:()=>jE,POLAR_AXIS_SHAPE:()=>h$,POLAR_AXIS_TYPE:()=>d$,getChartTheme:()=>lS,markerPaletteFactory:()=>IN,singleSeriesPaletteFactory:()=>cg,swapAxisCondition:()=>sK,themes:()=>jNe});var jNe=CL(TK,e=>e==null?void 0:e()),ki={};Lc(ki,{BandScale:()=>cd,ColorScale:()=>pp,ContinuousScale:()=>jt,Invalidating:()=>Rn,LinearScale:()=>Do,OrdinalTimeScale:()=>hr,TimeScale:()=>WL});var Me={};Lc(Me,{Color:()=>nl,Debug:()=>Qt,Logger:()=>Ie,Padding:()=>Td,TimeInterval:()=>ip,angleBetween:()=>Bb,angleDiff:()=>Ove,arcDistanceSquared:()=>mH,areArrayNumbersEqual:()=>bH,checkDatum:()=>YC,clamp:()=>lt,clampArray:()=>Vw,clockwiseAngle:()=>fH,clockwiseAngles:()=>Pve,countFractionDigits:()=>Eb,createId:()=>Po,day:()=>wL,deepClone:()=>Dn,displacePointFromVector:()=>jve,extent:()=>Ml,findMinMax:()=>ya,findRangeExtent:()=>jm,formatNormalizedPercentage:()=>TL,formatPercentage:()=>AL,friday:()=>lW,generateUUID:()=>Nbe,getAttribute:()=>vH,hour:()=>vL,interpolateColor:()=>IW,interpolateNumber:()=>MW,isBetweenAngles:()=>Ao,isContinuous:()=>mN,isDate:()=>Pb,isDenseInterval:()=>tb,isEqual:()=>Hh,isNegative:()=>Lb,isNumber:()=>yt,isNumberEqual:()=>Hh,isNumberObject:()=>AH,isString:()=>xa,isStringObject:()=>TH,jsonApply:()=>bm,jsonDiff:()=>jo,jsonWalk:()=>al,lineDistanceSquared:()=>Dx,millisecond:()=>yL,minute:()=>bL,mod:()=>tN,monday:()=>sW,month:()=>NL,normalisedExtentWithMetadata:()=>sN,normalizeAngle180:()=>ib,normalizeAngle360:()=>Pt,normalizeAngle360Inclusive:()=>pH,range:()=>pN,resetIds:()=>gW,round:()=>JS,sanitizeHtml:()=>ri,saturday:()=>cW,second:()=>xL,setAttribute:()=>Na,setAttributes:()=>sp,setElementStyle:()=>Ou,shallowClone:()=>$w,sunday:()=>SL,thursday:()=>rW,tickFormat:()=>aH,tickStep:()=>Pm,ticks:()=>hN,toDegrees:()=>Eve,toFixed:()=>eN,toRadians:()=>xs,transformIntegratedCategoryValue:()=>Yh,tuesday:()=>aW,utcDay:()=>hW,utcHour:()=>dW,utcMinute:()=>uW,utcMonth:()=>pW,utcYear:()=>fW,wednesday:()=>oW,year:()=>ML});var K={};Lc(K,{AND:()=>zo,ARRAY:()=>Xm,ARRAY_OF:()=>Oc,AbstractBarSeries:()=>aK,AbstractBarSeriesProperties:()=>cO,ActionOnSet:()=>Zs,Animation:()=>PW,AnimationManager:()=>xY,Axis:()=>eE,AxisInterval:()=>fp,AxisLabel:()=>bn,AxisTick:()=>tg,AxisTicks:()=>JNe,BOOLEAN:()=>Qe,BOOLEAN_ARRAY:()=>sve,Background:()=>og,BackgroundModule:()=>s$,BaseModuleInstance:()=>Wb,BaseProperties:()=>ht,COLOR_STRING:()=>Rt,COLOR_STRING_ARRAY:()=>_o,CachedTextMeasurer:()=>gH,CachedTextMeasurerPool:()=>Rc,CartesianAxis:()=>ud,CartesianSeries:()=>kd,CartesianSeriesNodeEvent:()=>kE,CartesianSeriesProperties:()=>Bc,CategoryAxis:()=>Gb,ChartAxisDirection:()=>VL,ChartEventManager:()=>bY,ChartOptions:()=>AK,ChartUpdateType:()=>Ex,ContextMenuRegistry:()=>vY,Cursor:()=>SY,CursorManager:()=>NY,DATE:()=>zL,DATE_ARRAY:()=>ave,DATE_OR_DATETIME_MS:()=>_L,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>yp,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>xp,DEFAULT_TOOLTIP_CLASS:()=>il,DEFAULT_TOOLTIP_DARK_CLASS:()=>SH,DEGREE:()=>wd,DIRECTION:()=>KW,DOMManager:()=>oY,DRAG_INTERACTION_TYPES:()=>lE,DataController:()=>FY,DataModel:()=>zY,DataModelSeries:()=>TE,DataService:()=>bN,Default:()=>Id,Deprecated:()=>RNe,DeprecatedAndRenamedTo:()=>PNe,EMPTY_TOOLTIP_CONTENT:()=>Pc,FONT_STYLE:()=>Sd,FONT_WEIGHT:()=>Nd,FUNCTION:()=>Ia,GREATER_THAN:()=>Jm,GestureDetector:()=>MY,GroupedCategoryAxis:()=>dd,HierarchyNode:()=>fx,HierarchySeries:()=>qNe,HierarchySeriesProperties:()=>Od,HighlightManager:()=>IY,HighlightProperties:()=>AE,HighlightStyle:()=>Kb,INTERACTION_RANGE:()=>dN,INTERPOLATION_STEP_POSITION:()=>F$,INTERPOLATION_TYPE:()=>_$,InteractionManager:()=>yY,InteractionState:()=>xN,InterpolationProperties:()=>hg,KeyNavManager:()=>TY,LABEL_PLACEMENT:()=>BL,LARGEST_KEY_INTERVAL:()=>E$,LESS_THAN:()=>Qm,LINE_CAP:()=>ove,LINE_DASH:()=>jc,LINE_JOIN:()=>rve,LINE_STYLE:()=>lve,LayoutElement:()=>nE,LayoutManager:()=>ZH,LonLatBBox:()=>XNe,MARKER_SHAPE:()=>P$,MATCHING_CROSSLINE_TYPE:()=>JL,MAX_SPACING:()=>qW,MIN_SPACING:()=>ZW,MercatorScale:()=>hD,ModuleRegistry:()=>HH,Motion:()=>OL,NAN:()=>lN,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Hs,NUMBER:()=>Kt,NUMBER_ARRAY:()=>cN,NUMBER_OR_NAN:()=>qm,Navigator:()=>Ed,NavigatorModule:()=>o$,NodeRegionBBoxProvider:()=>Lx,OBJECT:()=>Be,OBJECT_ARRAY:()=>YW,OR:()=>dp,OVERFLOW_STRATEGY:()=>uve,ObserveChanges:()=>ws,PHASE_METADATA:()=>eb,PHASE_ORDER:()=>im,PLACEMENT:()=>dve,PLAIN_OBJECT:()=>UW,POINTER_INTERACTION_TYPES:()=>cE,POSITION:()=>FL,POSITION_TOP_COORDINATES:()=>Zw,POSITIVE_NUMBER:()=>Ce,PolarAxis:()=>ap,PolarSeries:()=>LN,PropertiesArray:()=>rN,ProxyOnWrite:()=>Yve,ProxyProperty:()=>ji,ProxyPropertyOnWrite:()=>Pn,QUICK_TRANSITION:()=>Ww,RATIO:()=>Nt,REAL_NUMBER:()=>GW,REGIONS:()=>AY,RegionManager:()=>CY,RepeatType:()=>RW,SKIP_JS_BUILTINS:()=>LL,SMALLEST_KEY_INTERVAL:()=>L$,SORT_DOMAIN_GROUPS:()=>O$,STRING:()=>Ae,STRING_ARRAY:()=>HW,Series:()=>sg,SeriesGroupingChangedEvent:()=>bE,SeriesItemHighlightStyle:()=>Fc,SeriesMarker:()=>ka,SeriesNodeEvent:()=>$b,SeriesNodePickMode:()=>GY,SeriesProperties:()=>Xa,SeriesTooltip:()=>Qs,SimpleRegionBBoxProvider:()=>kY,SimpleTextMeasurer:()=>qL,StateMachine:()=>Vb,TEXT_ALIGN:()=>$W,TEXT_WRAP:()=>uN,TICK_INTERVAL:()=>LH,TOOLBAR_ALIGNMENTS:()=>uE,TOOLBAR_GROUPS:()=>rw,TOOLBAR_GROUP_ORDERING:()=>tD,TOOLBAR_POSITIONS:()=>_h,TextUtils:()=>di,TextWrapper:()=>QL,ToolbarManager:()=>DY,ToolbarPosition:()=>vm,Tooltip:()=>Fo,TooltipManager:()=>eS,TooltipPosition:()=>eg,UNION:()=>Ft,UpdateService:()=>EY,VERTICAL_ALIGN:()=>cve,Validate:()=>_,Vec2:()=>om,Vec4:()=>_Ne,ZIndexMap:()=>IH,ZoomManager:()=>LY,__FORCE_MODULE_DETECTION:()=>eMe,accumulateGroup:()=>j$,accumulateStack:()=>R$,accumulatedValue:()=>I$,accumulativeValueProperty:()=>ob,addHitTestersToQuadtree:()=>rO,adjustLabelPlacement:()=>uK,animationValidation:()=>ug,area:()=>rD,arraysEqual:()=>Ku,backfillPathPointData:()=>iO,buildFormatter:()=>zb,buildResetPathFn:()=>aO,calculateDefaultTimeTickFormat:()=>FW,calculateLabelChartPadding:()=>CH,calculateLabelTranslation:()=>$C,calculatePlacement:()=>wH,checkCrisp:()=>lK,circularSliceArray:()=>UC,clamp:()=>lt,clampArray:()=>Vw,collapsedStartingBarPosition:()=>ub,computeBarFocusBounds:()=>dO,computeMarkerFocusBounds:()=>Xb,convertValuesToScaleByDefs:()=>H1e,countFractionDigits:()=>Eb,createButton:()=>tMe,createCheckbox:()=>iMe,createDatumId:()=>wc,createDeprecationWarning:()=>_O,createElement:()=>kt,createElementId:()=>kbe,createElementNS:()=>_C,createIcon:()=>EK,createSelect:()=>nMe,createTextArea:()=>sMe,dateToNumber:()=>ha,deconstructSelectionsOrNodes:()=>nN,deepClone:()=>Dn,deepMerge:()=>Vbe,defaultTimeTickFormat:()=>PL,determinePathStatus:()=>J$,diff:()=>dg,downloadUrl:()=>xW,enterpriseModule:()=>us,excludesType:()=>LW,extent:()=>Ml,extractDecoratedProperties:()=>zbe,findMaxValue:()=>zNe,findMinMax:()=>ya,findQuadtreeMatch:()=>lO,findRangeExtent:()=>jm,fixNumericExtent:()=>va,focusCursorAtEnd:()=>Tbe,formatNormalizedPercentage:()=>TL,formatPercentage:()=>AL,formatValue:()=>TN,fromToMotion:()=>Si,getDocument:()=>br,getLastFocus:()=>nY,getMissCount:()=>dE,getPath:()=>DL,getPathComponents:()=>PY,getRectConfig:()=>rK,getWindow:()=>jn,groupAccumulativeValueProperty:()=>Qu,groupAverage:()=>M$,groupBy:()=>jL,groupCount:()=>oD,groupStackValueProperty:()=>D$,groupSum:()=>S$,initMenuKeyNav:()=>I0e,initRovingTabIndex:()=>nb,initToolbarKeyNav:()=>aE,isAnimatingFloatingPosition:()=>iD,isArray:()=>fi,isBoolean:()=>kL,isButtonClickEvent:()=>iY,isDate:()=>Rb,isDecoratedObject:()=>iN,isDefined:()=>Rm,isEnumKey:()=>Bbe,isEnumValue:()=>CW,isEqual:()=>Hh,isFiniteNumber:()=>yt,isFunction:()=>Ec,isHtmlElement:()=>kW,isNegative:()=>Lb,isNumber:()=>Va,isObject:()=>Ys,isObjectLike:()=>Fbe,isPlainObject:()=>Sa,isProperties:()=>ul,isRegExp:()=>AW,isString:()=>xa,isSymbol:()=>DW,isValidDate:()=>Pb,jsonApply:()=>bm,jsonDiff:()=>jo,jsonWalk:()=>al,keyProperty:()=>vr,labelDirectionHandling:()=>DH,listDecoratedProperties:()=>xm,makeAccessibleClickListener:()=>XC,mapValues:()=>CL,markerFadeInAnimation:()=>lb,markerPaletteFactory:()=>IN,markerScaleInAnimation:()=>eO,markerSwipeScaleInAnimation:()=>tO,mergeArrayDefaults:()=>Gw,mergeDefaults:()=>ft,midpointStartingBarPosition:()=>nSe,minMax:()=>cD,mod:()=>tN,moduleRegistry:()=>Zu,nearestSquared:()=>QS,nearestSquaredInContainer:()=>Ibe,normaliseGroupTo:()=>kN,normalisePropertyTo:()=>Kh,normalisedExtentWithMetadata:()=>sN,objectEqualWith:()=>EW,pairCategoryData:()=>Q$,pairContinuousData:()=>X$,partialAssign:()=>zh,pathFadeInAnimation:()=>nS,pathFadeOutAnimation:()=>Uwe,pathRangePoints:()=>Z$,pathRangePointsReverse:()=>Gwe,pathRanges:()=>K$,pathSwipeInAnimation:()=>sO,pickByMatchingAngle:()=>NO,pickNode:()=>am,plotPath:()=>nO,predicateWithMessage:()=>_t,prepareAreaPathAnimation:()=>nK,prepareAxisAnimationContext:()=>ZC,prepareAxisAnimationFunctions:()=>EH,prepareBarAnimationFunctions:()=>db,prepareLinePathAnimation:()=>tK,prepareLinePathAnimationFns:()=>eK,prepareLinePathPropertyAnimation:()=>CN,prepareMarkerAnimation:()=>H$,preparePieSeriesAnimationFunctions:()=>Zh,range:()=>N$,rangedValueProperty:()=>QE,renderPartialPath:()=>$$,resetAxisGroupFn:()=>OH,resetAxisLabelSelectionFn:()=>RH,resetAxisLineSelectionFn:()=>PH,resetAxisSelectionFn:()=>jH,resetBarSelectionsFn:()=>hb,resetIds:()=>gW,resetLabelFn:()=>Uc,resetMarkerFn:()=>qb,resetMarkerPositionFn:()=>cb,resetMotion:()=>Ji,resetPieSelectionsFn:()=>SO,round:()=>JS,scale:()=>$n,seriesLabelFadeInAnimation:()=>Tt,seriesLabelFadeOutAnimation:()=>Gu,setDocument:()=>bW,setElementBBox:()=>Yu,setPath:()=>EL,setWindow:()=>vW,shallowClone:()=>$w,singleSeriesPaletteFactory:()=>cg,sortBasedOnArray:()=>Zbe,splitPairData:()=>Y$,staticFromToMotion:()=>Sl,stopPageScrolling:()=>sY,stringify:()=>kx,sum:()=>Swe,sumValues:()=>AN,toArray:()=>Hw,toFixed:()=>eN,toTooltipHtml:()=>zm,trailingAccumulatedValue:()=>T$,trailingAccumulatedValueProperty:()=>Mwe,unique:()=>aN,updateClipPath:()=>sS,updateLabelNode:()=>cK,updateRect:()=>oK,validateCrossLineValues:()=>kH,valueProperty:()=>pt,without:()=>FC});function _O(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");Ie.warnOnce(i)}}function RNe(e,t){const i=_O(),n=t==null?void 0:t.default;return Tc((s,a,o)=>(o!==n&&i(a.toString(),e),o))}function PNe(e,t){const i=_O();return Tc((n,s,a)=>(a!==n[e]&&(i(s.toString(),`Use [${e}] instead.`),EL(n,e,t?t(a):a)),Uw),(n,s)=>(i(s.toString(),`Use [${e}] instead.`),DL(n,e)))}function zNe(e,t,i){if(e>t)return;let n;for(;t>=e;){const s=Math.floor((t+e)/2),a=i(s);a==null?t=s-1:(n=a,e=s+1)}return n}var _Ne={bottomCenter:GNe,center:UNe,clone:$Ne,end:BNe,from:KNe,height:HNe,round:YNe,start:FNe,topCenter:VNe,origin:ZNe,width:WNe};function FNe(e){return{x:e.x1,y:e.y1}}function BNe(e){return{x:e.x2,y:e.y2}}function VNe(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function UNe(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function GNe(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function WNe(e){return Math.abs(e.x2-e.x1)}function HNe(e){return Math.abs(e.y2-e.y1)}function YNe(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function $Ne(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function KNe(e,t,i,n){if(typeof e=="number")return{x1:e,y1:t,x2:i,y2:n};if("width"in e)return{x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height};throw new Error(`Values can not be converted into a vector4: [${e}] [${t}] [${i}] [${n}]`)}function ZNe(){return{x1:0,y1:0,x2:0,y2:0}}var LK=class cw{constructor(t,i,n,s,a,o,r,l,c,u,h){this.series=t,this.index=i,this.datum=n,this.size=s,this.colorValue=a,this.fill=o,this.stroke=r,this.sumSize=l,this.depth=c,this.parent=u,this.children=h,this.midPoint={x:0,y:0}}contains(t){let i=t;for(;i!=null&&i.index>=this.index;){if(i===this)return!0;i=i.parent}return!1}walk(t,i=cw.Walk.PreOrder){i===cw.Walk.PreOrder&&t(this),this.children.forEach(n=>{n.walk(t,i)}),i===cw.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};LK.Walk={PreOrder:0,PostOrder:1};var fx=LK,qNe=class extends sg{constructor(e){super({moduleCtx:e,pickModes:[1,0],contentGroupVirtual:!1}),this.rootNode=new fx(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new Vb("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}async processData(){var v;const{childrenKey:e,sizeKey:t,colorKey:i,fills:n,strokes:s,colorRange:a}=this.properties;let o=0;const r=()=>(o+=1,o);let l=0,c=1/0,u=-1/0;const h=new Array((((v=this.data)==null?void 0:v.length)??0)+1).fill(void 0),f=(S,N)=>{const M=r(),I=N.depth!=null?N.depth+1:0,C=e!=null?S[e]:void 0,L=C==null||C.length===0;let O=t!=null?S[t]:void 0;Number.isFinite(O)?O=Math.max(O,0):O=L?1:0;const P=O;l=Math.max(l,I);const z=i!=null?S[i]:void 0;return typeof z=="number"&&(h[M]=z,c=Math.min(c,z),u=Math.max(u,z)),g(new fx(this,M,S,O,z,void 0,void 0,P,I,N,[]),C)},g=(S,N)=>(N==null||N.forEach(M=>{const I=f(M,S);S.children.push(I),S.sumSize+=I.sumSize}),S),x=g(new fx(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),y=[c,u];let b;a!=null&&Number.isFinite(c)&&Number.isFinite(u)&&(b=new pp,b.domain=y,b.range=a,b.update()),x.children.forEach((S,N)=>{S.walk(M=>{let I;const C=h[M.index];C!=null&&(I=b==null?void 0:b.convert(C)),I??(I=n==null?void 0:n[N%n.length]),M.fill=I,M.stroke=b==null?s==null?void 0:s[N%s.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=x,this.maxDepth=l,this.colorDomain=y,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update({seriesRect:e}){await this.updateSelections(),await this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){var i;const t=(i=this.animationResetFns)==null?void 0:i.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),t!=null&&Ji(e.datumSelections,t)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var i;const t=(i=this.animationResetFns)==null?void 0:i.datum;t!=null&&Ji([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:n,visible:s}=this.properties;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:s,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}pickFocus(e){var a;if(this.rootNode.children.length===0)return;this.focusPath.length===0&&Ie.error("this.focusPath should not be empty");const{datumIndexDelta:t,otherIndexDelta:i}=e,{focusPath:n}=this,s=n.length-2;if(i!==0||n.length===1){const o=Math.max(0,s+i);if(n[o+1]!==void 0)return n.length=o+2,this.computeFocusOutputs(n[o+1]);{let r=n[n.length-1];for(;r.nodeDatum.children.length>0&&(r.nodeDatum.depth??-1)<o;){const l={nodeDatum:r.nodeDatum.children[0],childIndex:0};n.push(l),r=l}return this.computeFocusOutputs(r)}}else if(t!==0){const o=n[s+1].childIndex+t,r=n[s].nodeDatum,l=(a=r==null?void 0:r.children)==null?void 0:a.length;if(l!==void 0){const c=lt(0,o,l-1),u={nodeDatum:r.children[c],childIndex:c};return n[s+1]=u,n.length=s+2,this.computeFocusOutputs(u)}}else return this.computeFocusOutputs(n[n.length-1])}getDatumAriaText(e,t){if(!(e instanceof fx)){Ie.error(`datum is not HierarchyNode: ${e}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}computeFocusOutputs({nodeDatum:e,childIndex:t}){const i=this.computeFocusBounds(e);if(i)return{datum:e,datumIndex:t,otherIndex:e.depth,bounds:i,showFocusBox:!0}}},Od=class extends Xa{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(dn),this.strokes=Object.values(tl)}};j([_(Ae)],Od.prototype,"childrenKey",2);j([_(Ae,{optional:!0})],Od.prototype,"sizeKey",2);j([_(Ae,{optional:!0})],Od.prototype,"colorKey",2);j([_(Ae,{optional:!0})],Od.prototype,"colorName",2);j([_(_o)],Od.prototype,"fills",2);j([_(_o)],Od.prototype,"strokes",2);j([_(_o,{optional:!0})],Od.prototype,"colorRange",2);var XNe=class{constructor(t,i,n,s){this.lon0=t,this.lat0=i,this.lon1=n,this.lat1=s}merge(t){this.lon0=Math.min(this.lon0,t.lon0),this.lat0=Math.min(this.lat0,t.lat0),this.lon1=Math.max(this.lon1,t.lon1),this.lat1=Math.max(this.lat1,t.lat1)}};function QNe(){const e=new Map;return t=>{const i=e.get(t);return i?(e.set(t,i+1),`${t}${i}`):(e.set(t,1),t)}}var FO=class gD{constructor(){this.id=Po(this),this.axisGroup=new yc({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=li.select(this.axisGroup,fn),this.interval=new fp,this.label=new bn,this.scale=new Do,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;const t=[],i=this.generateTicks(),{translationX:n,translationY:s}=this;return this.labelSelection.update(i.ticks.map(a=>this.createLabelDatum(a)),void 0,a=>a.tickId),this.labelSelection.each((a,o)=>{a.setProperties(o),o.visible&&t.push(a.getBBox())}),this.axisGroup.setProperties({translationX:n,translationY:s}),Fe.merge(t)}getLabelParams(t){const{padding:i}=this,{translate:n}=t;switch(this.position){case"top":case"bottom":return{x:n,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:n,textAlign:"start",textBaseline:"middle"}}}inRange(t,i=.001){const[n,s]=ya(this.scale.range);return t>=n-i&&t<=s+i}createLabelDatum(t){const{x:i,y:n,textBaseline:s,textAlign:a}=this.getLabelParams(t);return{visible:!!t.tickLabel,tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:a,textBaseline:s,x:i,y:n}}generateTicks(){const{minSpacing:t,maxSpacing:i}=this.interval,n=JS(jm(this.scale.range),2),{maxTickCount:s,minTickCount:a,tickCount:o}=Tve(n,t,i,gD.DefaultTickCount,gD.DefaultMinSpacing);o&&(this.scale.tickCount=o,this.scale.minTickCount=a,this.scale.maxTickCount=s);const r=this.getTicksData();if(this.position==="bottom"||this.position==="top"){const l=Rc.getMeasurer({font:this.label}),c=this.scale.getDomain(),h=c[0]>c[1]?-1:1;let f=-1/0*h;r.ticks=r.ticks.filter(g=>Math.sign(g.translate-f)!==h?!1:(f=g.translate+l.textWidth(g.tickLabel,!0)*h,!0))}return r}getTicksData(){var o,r;const t=[],i=this.scale.ticks(),n=i.reduce((l,c)=>Math.max(l,typeof c=="number"?Eb(c):0),0),s=QNe(),a=this.label.format?this.scale.tickFormat({ticks:i,specifier:this.label.format}):l=>Va(l)?l.toFixed(n):String(l);for(let l=0;l<i.length;l++){const c=i[l],u=this.scale.convert(c);if(!this.inRange(u))continue;const h=((r=(o=this.label).formatter)==null?void 0:r.call(o,{value:c,index:l,fractionDigits:n}))??a(c),f=s(h);t.push({tick:c,tickId:f,tickLabel:h,translate:u})}return{rawTicks:i,fractionDigits:n,ticks:t}}};FO.DefaultTickCount=5;FO.DefaultMinSpacing=50;var JNe=FO,eMe=0;function tMe(e,t){const i=kt("button",RN("ag-charts-input ag-charts-button",t));return e.label!==void 0?i.append(e.label):(i.append(EK(e.icon)),i.ariaLabel=e.altText),i.addEventListener("click",e.onPress),sp(i,t),i}function iMe(e,t){const i=kt("input",RN("ag-charts-input ag-charts-checkbox",t));return i.type="checkbox",i.checked=e.checked,i.addEventListener("change",n=>e.onChange(i.checked,n)),i.addEventListener("keydown",n=>{iY(n)&&(n.preventDefault(),i.click())}),sp(i,t),i}function nMe(e,t){const i=kt("select",RN("ag-charts-input ag-charts-select",t));return i.append(...e.options.map(n=>{const s=kt("option");return s.value=n.value,s.textContent=n.label,s})),Na(i,"data-preventdefault",!1),i.value=e.value,i.addEventListener("change",n=>e.onChange(i.value,n)),sp(i,t),i}function sMe(e,t){const i=kt("textarea",RN("ag-charts-input ag-charts-textarea",t));return i.value=e.value,i.addEventListener("input",n=>e.onChange(i.value,n)),sp(i,t),i}function EK(e){const t=kt("span",`ag-charts-icon ag-charts-icon-${e}`);return Na(t,"aria-hidden",!0),t}function RN(e,t){return t==null?e:`${e} ${t.class}`}var aMe=Object.defineProperty,A=(e,t,i,n)=>{for(var s=void 0,a=e.length-1,o;a>=0;a--)(o=e[a])&&(s=o(t,i,s)||s);return s&&aMe(t,i,s),s};function PA(e,t,i){const n=(a,o,r,l)=>{let c=e[0];for(let u=a;r>0?u<=o:u>o;u+=r){const h=e[u];if(l(c,h))return!0;c=h}return!1},s=Math.floor(e.length/2);return n(t,s,t,i)?!0:n(e.length-t,s,-t,i)}var{OR:oMe,POSITIVE_NUMBER:rMe,NAN:lMe,AxisInterval:cMe,Validate:uMe}=K,BO=class extends cMe{constructor(){super(...arguments),this.minSpacing=NaN}};A([uMe(oMe(rMe,lMe))],BO.prototype,"minSpacing");var{BaseProperties:OK,ChartAxisDirection:dMe,ZIndexMap:VO,ARRAY:hMe,BOOLEAN:UO,COLOR_STRING:GO,FONT_STYLE:pMe,FONT_WEIGHT:fMe,LINE_DASH:mMe,NUMBER:jK,OBJECT:gMe,POSITIVE_NUMBER:yMe,RATIO:RK,STRING:PK,UNION:zK,AND:xMe,Validate:Yi,MATCHING_CROSSLINE_TYPE:_K}=K,{Layer:VF}=ae,{createId:bMe}=Me,Lr=class extends OK{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};A([Yi(UO,{optional:!0})],Lr.prototype,"enabled");A([Yi(PK,{optional:!0})],Lr.prototype,"text");A([Yi(pMe,{optional:!0})],Lr.prototype,"fontStyle");A([Yi(fMe,{optional:!0})],Lr.prototype,"fontWeight");A([Yi(yMe)],Lr.prototype,"fontSize");A([Yi(PK)],Lr.prototype,"fontFamily");A([Yi(jK)],Lr.prototype,"padding");A([Yi(GO,{optional:!0})],Lr.prototype,"color");A([Yi(UO,{optional:!0})],Lr.prototype,"parallel");var Ms=class yD extends OK{constructor(){super(...arguments),this.id=bMe(this),this.shape="polygon",this.label=new Lr,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=dMe.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.group=new VF({name:this.id,zIndex:yD.LINE_LAYER_ZINDEX}),this.labelGroup=new VF({name:this.id,zIndex:yD.LABEL_LAYER_ZINDEX})}setSectorNodeProps(t){t.fill=this.fill,t.fillOpacity=this.fillOpacity??1,t.stroke=this.stroke,t.strokeOpacity=this.strokeOpacity??1,t.strokeWidth=this.strokeWidth??1,t.lineDash=this.lineDash}setLabelNodeProps(t,i,n,s,a){const{label:o}=this;t.x=i,t.y=n,t.text=o.text,t.textAlign="center",t.textBaseline=s,t.rotation=a,t.rotationCenterX=i,t.rotationCenterY=n,t.fill=o.color,t.fontFamily=o.fontFamily,t.fontSize=o.fontSize,t.fontStyle=o.fontStyle,t.visible=!0}};Ms.LINE_LAYER_ZINDEX=VO.SERIES_CROSSLINE_LINE;Ms.RANGE_LAYER_ZINDEX=VO.SERIES_CROSSLINE_RANGE;Ms.LABEL_LAYER_ZINDEX=VO.SERIES_LABEL;A([Yi(UO,{optional:!0})],Ms.prototype,"enabled");A([Yi(zK(["range","line"],"a crossLine type"),{optional:!0})],Ms.prototype,"type");A([Yi(xMe(_K("range"),hMe.restrict({length:2})),{optional:!0})],Ms.prototype,"range");A([Yi(_K("value"),{optional:!0})],Ms.prototype,"value");A([Yi(GO,{optional:!0})],Ms.prototype,"fill");A([Yi(RK,{optional:!0})],Ms.prototype,"fillOpacity");A([Yi(GO,{optional:!0})],Ms.prototype,"stroke");A([Yi(jK,{optional:!0})],Ms.prototype,"strokeWidth");A([Yi(RK,{optional:!0})],Ms.prototype,"strokeOpacity");A([Yi(mMe,{optional:!0})],Ms.prototype,"lineDash");A([Yi(zK(["polygon","circle"],"a shape"))],Ms.prototype,"shape");A([Yi(gMe)],Ms.prototype,"label");var FK=Ms,{ChartAxisDirection:vMe,validateCrossLineValues:wMe}=K,{Path:UF,Sector:SMe,RotatableText:NMe,ContinuousScale:MMe}=ae,{normalizeAngle360:zA,isNumberEqual:GF}=Me,BK=class uw extends FK{constructor(){super(),this.direction=vMe.X,this.polygonNode=new UF,this.sectorNode=new SMe,this.lineNode=new UF,this.labelNode=new NMe,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.group.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:i,shape:n,type:s,value:a,range:o}=this;if(!i||!s||!wMe(s,a,o,i,()=>{var h;if(!MMe.is(i))return!0;const[l,c]=o??[a,void 0],u=((h=i.getDomain)==null?void 0:h.call(i))??i.domain;return l>=u[0]&&l<=u[1]&&(s==="line"||c>=l&&c<=u[1])})){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,s==="line"&&n==="circle"&&i instanceof ki.BandScale&&(this.type="range",this.range=[a,a]),this.updateLineNode(t),this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t)}updateLineNode(t){const{scale:i,type:n,value:s,lineNode:a}=this;let o;if(!t||n!=="line"||!i||isNaN(o=i.convert(s))){a.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:l}=this;a.visible=!0,a.stroke=this.stroke,a.strokeOpacity=this.strokeOpacity??1,a.strokeWidth=this.strokeWidth??1,a.fill=void 0,a.lineDash=this.lineDash;const c=l*Math.cos(o),u=l*Math.sin(o),h=r*Math.cos(o),f=r*Math.sin(o);a.path.clear(!0),a.path.moveTo(h,f),a.path.lineTo(c,u),this.group.zIndex=uw.LINE_LAYER_ZINDEX}updatePolygonNode(t){var y;const{polygonNode:i,range:n,scale:s,shape:a,type:o}=this;let r;if(!t||o!=="range"||a!=="polygon"||!s||!n||!(r=(y=s.ticks)==null?void 0:y.call(s))){i.visible=!1;return}const{axisInnerRadius:l,axisOuterRadius:c}=this,u=r.indexOf(n[0]),h=r.indexOf(n[1]),g=(u<=h?r.slice(u,h+1):r.slice(u).concat(r.slice(0,h+1))).map(b=>s.convert(b));i.visible=!0,this.setSectorNodeProps(i);const{path:x}=i;x.clear(!0),g.forEach((b,v)=>{const S=c*Math.cos(b),N=c*Math.sin(b);v===0?x.moveTo(S,N):x.lineTo(S,N)}),l===0?x.lineTo(0,0):g.slice().reverse().forEach(b=>{const v=l*Math.cos(b),S=l*Math.sin(b);x.lineTo(v,S)}),i.path.closePath(),this.group.zIndex=uw.RANGE_LAYER_ZINDEX}updateSectorNode(t){const{sectorNode:i,range:n,scale:s,shape:a,type:o}=this;if(!t||o!=="range"||a!=="circle"||!s||!n){i.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:l}=this,c=n.map(f=>s.convert(f)),u=s.step??0,h=s instanceof ki.BandScale?u/2:0;i.visible=!0,this.setSectorNodeProps(i),i.centerX=0,i.centerY=0,i.innerRadius=r,i.outerRadius=l,i.startAngle=c[0]-h,i.endAngle=c[1]+h,this.group.zIndex=uw.RANGE_LAYER_ZINDEX}updateLabelNode(t){var g;const{label:i,labelNode:n,range:s,scale:a,type:o}=this;if(!t||i.enabled===!1||!i.text||!a||o==="range"&&!s){n.visible=!0;return}const{axisInnerRadius:r,axisOuterRadius:l}=this;let c,u,h,f;if(o==="line"){const x=zA(a.convert(this.value)),y=1.5*Math.PI,b=GF(x,y)||x>y||x<Math.PI/2,v=(r+l)/2*Math.cos(x),S=(r+l)/2*Math.sin(x);c=v+i.padding*Math.cos(x+Math.PI/2),u=S+i.padding*Math.sin(x+Math.PI/2),f=b?"top":"bottom",h=b?x:x-Math.PI}else{const[x,y]=s.map(M=>zA(a.convert(M)));let b=(x+y)/2;x>y&&(b-=Math.PI),b=zA(b);const v=(GF(b,0)||b>0)&&b<Math.PI;let S;const N=((g=a.ticks)==null?void 0:g.call(a))??[];this.shape==="circle"||N.length<3?S=l-i.padding:S=l*Math.cos(Math.PI/N.length)-i.padding,c=S*Math.cos(b),u=S*Math.sin(b),f=v?"bottom":"top",h=v?b-Math.PI/2:b+Math.PI/2}this.setLabelNodeProps(n,c,u,f,h)}};BK.className="AngleCrossLine";var VK=BK,{AND:IMe,ChartAxisDirection:TMe,GREATER_THAN:AMe,NUMBER:UK,UNION:kMe,ProxyOnWrite:CMe,TextWrapper:DMe,TextUtils:LMe,Validate:WO}=K,{Path:EMe,RotatableText:OMe}=ae,{angleBetween:jMe,isNumberEqual:Of,toRadians:_A,normalizeAngle360:jf}=Me,xD=class extends K.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};A([WO(kMe(["fixed","parallel","perpendicular"],"a label orientation"))],xD.prototype,"orientation");var Qb=class extends K.PolarAxis{constructor(e,t){super(e,t),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new EMe),this.includeInvisibleDomains=!0}get direction(){return TMe.X}createLabel(){return new xD}update(){return this.updateScale(),this.updatePosition(),this.updateGridLines(),this.updateTickLines(),this.updateLabels(),this.updateRadiusLine(),this.updateCrossLines(),this.tickData.length}computeRange(){const e=jf(-Math.PI/2+_A(this.startAngle));let t=this.endAngle==null?e+Math.PI*2:-Math.PI/2+_A(this.endAngle);t<e&&(t+=2*Math.PI),this.range=[e,t]}calculateAvailableRange(){const{range:e,gridLength:t}=this;return jMe(e[0],e[1])*t}updatePosition(){const{translation:e,axisGroup:t,gridGroup:i,crossLineGroup:n}=this,s=Math.floor(e.x),a=Math.floor(e.y);t.translationX=s,t.translationY=a,i.translationX=s,i.translationY=a,n.translationX=s,n.translationY=a}updateRadiusLine(){const e=this.radiusLine,{path:t}=e;t.clear(!0);const{points:i,closePath:n}=this.getAxisLinePoints();i.forEach(({x:s,y:a,moveTo:o,arc:r,radius:l=0,startAngle:c=0,endAngle:u=0})=>{r?t.arc(s,a,l,c,u):o?t.moveTo(s,a):t.lineTo(s,a)}),n&&t.closePath(),e.visible=this.line.enabled,e.stroke=this.line.stroke,e.strokeWidth=this.line.width,e.fill=void 0}getAxisLinePoints(){var r;const{scale:e,shape:t,gridLength:i}=this,[n,s]=this.range,a=Of(s-n,2*Math.PI),o=[];if(t==="circle")a?o.push({x:i,y:0,moveTo:!0},{x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1}):o.push({x:i*Math.cos(n),y:i*Math.sin(n),moveTo:!0},{x:0,y:0,radius:i,startAngle:jf(n),endAngle:jf(s),arc:!0,moveTo:!1});else if(t==="polygon"){const l=(r=e.ticks)==null?void 0:r.call(e).map(c=>e.convert(c));l&&l.length>2&&l.forEach((c,u)=>{const h=i*Math.cos(c),f=i*Math.sin(c),g=u===0;o.push({x:h,y:f,moveTo:g})})}return{points:o,closePath:a}}updateGridLines(){const{scale:e,gridLength:t,gridLine:{enabled:i,style:n,width:s},innerRadiusRatio:a}=this;if(!(n&&t>0))return;const o=this.tickData,r=t*a,l=n.length,c=u=>u.value;this.gridLineGroupSelection.update(i?o:[],void 0,c).each((u,h,f)=>{const{value:g}=h,{stroke:x,lineDash:y}=n[f%l],b=e.convert(g);u.x1=r*Math.cos(b),u.y1=r*Math.sin(b),u.x2=t*Math.cos(b),u.y2=t*Math.sin(b),u.stroke=x,u.strokeWidth=s,u.lineDash=y,u.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:e,tickLabelGroupSelection:t}=this,i=this.tickData;t.update(e.enabled?i:[]).each((n,s,a)=>{const o=this.labelData[a];if(!o||o.hidden){n.visible=!1;return}n.text=o.text,n.setFont(e),n.fill=e.color,n.x=o.x,n.y=o.y,n.textAlign=o.textAlign,n.textBaseline=o.textBaseline,n.visible=!0,o.rotation?(n.rotation=o.rotation,n.rotationCenterX=o.x,n.rotationCenterY=o.y):n.rotation=0})}updateTickLines(){const{scale:e,gridLength:t,tick:i,tickLineGroupSelection:n}=this,s=this.tickData;n.update(i.enabled?s:[]).each((a,o)=>{const{value:r}=o,l=e.convert(r),c=Math.cos(l),u=Math.sin(l);a.x1=t*c,a.y1=t*u,a.x2=(t+i.size)*c,a.y2=(t+i.size)*u,a.stroke=i.stroke,a.strokeWidth=i.width})}createLabelNodeData(e,t,i){const{label:n,gridLength:s,scale:a,tick:o}=this;if(!n.enabled)return[];const r=new OMe,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,u=e.map((h,f)=>{const{value:g}=h,x=s+n.padding+o.size,y=a.convert(g),b=Math.cos(y),v=Math.sin(y),S=x*b,N=x*v,{textAlign:M,textBaseline:I}=this.getLabelAlign(y),C=f===e.length-1&&g!==e[0]&&Of(jf(y),jf(a.convert(e[0]))),L=this.getLabelRotation(y);let O=String(g);if(n.formatter){const{callbackCache:z}=this.moduleCtx;O=z.call(n.formatter,{value:g,index:f})??""}r.text=O,r.x=S,r.y=N,r.setFont(n),r.textAlign=M,r.textBaseline=I,r.rotation=L,L&&(r.rotationCenterX=S,r.rotationCenterY=N);let P=L?ae.Transformable.toCanvas(r):r.getBBox();if(P&&t.hideWhenNecessary&&!L){const z=l-P.x,V=P.x+P.width-c,G=1;if(z>G||V>G){const H=P.width-Math.max(z,V);O=DMe.wrapText(O,{maxWidth:H,font:n,textWrap:"never"}),O===LMe.EllipsisChar&&(O=""),r.text=O,P=r.getBBox()}}return{text:O,x:S,y:N,textAlign:M,textBaseline:I,hidden:O===""||h.hidden||C,rotation:L,box:P}});return n.avoidCollisions&&this.avoidLabelCollisions(u),u}computeLabelsBBox(e,t){this.tickData=this.generateAngleTicks(),this.labelData=this.createLabelNodeData(this.tickData,e,t);const i=this.labelData.map(({box:n})=>n).filter(n=>n!=null);return!this.label.enabled||i.length===0?null:ae.BBox.merge(i)}getLabelOrientation(){const{label:e}=this;return e instanceof xD?e.orientation:"fixed"}getLabelRotation(e){let t=_A(this.label.rotation??0);e=jf(e);const i=this.getLabelOrientation();return i==="parallel"?(t+=e,e>=0&&e<Math.PI?t-=Math.PI/2:t+=Math.PI/2):i==="perpendicular"&&(t+=e,e>=Math.PI/2&&e<1.5*Math.PI&&(t+=Math.PI)),t}getLabelAlign(e){const t=Math.cos(e),i=Math.sin(e);let n,s;const a=this.getLabelOrientation(),o=Of(t,0),r=Of(i,0),l=Of(t,1),c=Of(i,-1),u=t>0&&!o,h=i>0&&!r;return a==="parallel"?(n="center",s=l&&r||h?"top":"bottom"):a==="perpendicular"?(n=c||u?"left":"right",s="middle"):(n="right",o?n="center":u&&(n="left"),s="bottom",r?s="middle":h&&(s="top")),{textAlign:n,textBaseline:s}}updateCrossLines(){var e;(e=this.crossLines)==null||e.forEach(t=>{if(t instanceof VK){const{shape:i,gridLength:n,innerRadiusRatio:s}=this;t.shape=i,t.axisOuterRadius=n,t.axisInnerRadius=n*s}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}};Qb.CrossLineConstructor=VK;A([CMe("rotation"),WO(UK.restrict({min:0,max:360}))],Qb.prototype,"startAngle");A([WO(IMe(UK.restrict({min:0,max:720}),AMe("startAngle")),{optional:!0})],Qb.prototype,"endAngle");var{RATIO:GK,OBJECT:RMe,Validate:HO}=K,{BandScale:PMe}=ki,{isNumberEqual:WF}=Me,Mp=class extends Qb{constructor(e){super(e,new PMe),this.groupPaddingInner=0,this.paddingInner=0,this.interval=new BO}generateAngleTicks(){const{scale:e,gridLength:t}=this,{values:i,minSpacing:n}=this.interval,s=i??e.ticks()??[];if(s.length<2||isNaN(n))return s.map(c=>({value:c,visible:!0}));const a=s[0],o=e.convert(a),r=t*Math.cos(o),l=t*Math.sin(o);for(let c=1;c<s.length-1;c++){const u=s[c],h=e.convert(u);if(h-o>Math.PI)break;const f=t*Math.cos(h),g=t*Math.sin(h);if(Math.sqrt((f-r)**2+(g-l)**2)>n){const y=new Set([a]);return PA(s,c,(b,v)=>{y.add(v)}),s.map(b=>{const v=y.has(b);return{value:b,visible:v}})}}return[{value:a,visible:!0}]}avoidLabelCollisions(e){let{minSpacing:t}=this.label;if(Number.isFinite(t)||(t=0),e.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;const u=l.box.clone().grow(t/2),h=c.box.clone().grow(t/2);return u.collidesBBox(h)},n=e[0],s=e.at(-1),a=new Set([n]),o=WF(n.x,s.x)&&WF(n.y,s.y),r=Math.floor(e.length/2);for(let l=1;l<=r;l++){const c=o?e.slice(0,-1):e;if(!PA(c,l,i)){PA(c,l,(h,f)=>{a.add(f)});break}}e.forEach(l=>{a.has(l)||(l.hidden=!0,l.box=void 0)})}};Mp.className="AngleCategoryAxis";Mp.type="angle-category";A([HO(GK)],Mp.prototype,"groupPaddingInner");A([HO(GK)],Mp.prototype,"paddingInner");A([HO(RMe)],Mp.prototype,"interval");var zMe={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",moduleFactory:e=>new Mp(e)},{LinearScale:_Me,Invalidating:FMe}=ki,{range:HF,isDenseInterval:BMe,isNumberEqual:VMe}=Me,WK=class extends _Me{constructor(){super(...arguments),this.arcLength=0,this.niceTickStep=0}ticks(){if(!this.domain||this.domain.length<2||this.domain.some(s=>!isFinite(s))||this.arcLength<=0)return[];this.refresh();const{interval:e}=this,[t,i]=this.getDomain();if(e){const s=Math.abs(e),a=this.getPixelRange();if(!BMe((i-t)/s,a))return HF(t,i,s)}const n=this.nice&&this.niceTickStep?this.niceTickStep:this.getTickStep(t,i);return HF(t,i,n)}hasNiceRange(){const e=this.range.slice().sort((i,n)=>i-n);return[Math.PI,2*Math.PI].some(i=>VMe(i,e[1]-e[0]))}getNiceStepAndTickCount(){const[e,t]=this.niceDomain;let i=this.getTickStep(e,t);const n=isNaN(this.maxTickCount)?1/0:this.maxTickCount,s=Math.abs(t-e)/i;let a=Math.pow(2,Math.ceil(Math.log(s)/Math.log(2)));return a>n&&(a/=2,i*=2),{count:a,step:i}}updateNiceDomain(){if(super.updateNiceDomain(),!this.hasNiceRange())return;const e=this.niceDomain[0]>this.niceDomain[1],t=e?this.niceDomain[1]:this.niceDomain[0],{step:i,count:n}=this.getNiceStepAndTickCount(),s=1/i,a=i>=1?Math.ceil(t/i+n)*i:Math.ceil((t+n*i)*s)/s;this.niceDomain=e?[a,t]:[t,a],this.niceTickStep=i}getPixelRange(){return this.arcLength}};A([FMe],WK.prototype,"arcLength");var{AND:HK,Default:YK,GREATER_THAN:UMe,LESS_THAN:GMe,NUMBER_OR_NAN:$K,OBJECT:WMe,Validate:YO}=K,{angleBetween:HMe,isNumberEqual:YF,normalisedExtentWithMetadata:YMe,findMinMax:$Me}=Me,gg=class extends Qb{constructor(e){super(e,new WK),this.shape="circle",this.min=NaN,this.max=NaN,this.interval=new BO}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:s}=YMe(e,t,i);return{domain:n,clipped:s}}getRangeArcLength(){const{range:e}=this,t=Math.min(...e),i=Math.max(...e),n=HMe(t,i)||2*Math.PI,s=this.gridLength;return n*s}generateAngleTicks(){const e=this.getRangeArcLength(),{scale:t,range:i}=this,{values:n,minSpacing:s,maxSpacing:a}=this.interval,o=a?Math.floor(e/a):1,r=s?Math.floor(e/s):1/0,l=Math.floor(4/Math.PI*Math.abs(i[0]-i[1]));t.tickCount=Math.max(o,Math.min(r,l)),t.minTickCount=o,t.maxTickCount=r,t.arcLength=e;let c;if(n!=null){const[u,h]=$Me(t.getDomain().map(Number));c=n.filter(f=>f>=u&&f<=h).sort((f,g)=>f-g)}else c=t.ticks();return c.map(u=>({value:u,visible:!0}))}avoidLabelCollisions(e){let{minSpacing:t}=this.label;Number.isFinite(t)||(t=0);const i=(a,o)=>{if(a.hidden||o.hidden)return!1;const r=a.box.clone().grow(t/2),l=o.box.clone().grow(t/2);return r.collidesBBox(l)},n=e[0],s=e.at(-1);n!==s&&YF(n.x,s.x)&&YF(n.y,s.y)&&(s.hidden=!0);for(let a=1;a<e.length;a*=2){let o=!1;for(let r=a;r<e.length;r+=a){const l=e[r],c=e[r-a];if(i(c,l)){o=!0;break}}if(!o){e.forEach((r,l)=>{l%a>0&&(r.hidden=!0,r.box=void 0)});return}}e.forEach((a,o)=>{o>0&&(a.hidden=!0,a.box=void 0)})}};gg.className="AngleNumberAxis";gg.type="angle-number";A([YO(HK($K,GMe("max"))),YK(NaN)],gg.prototype,"min");A([YO(HK($K,UMe("min"))),YK(NaN)],gg.prototype,"max");A([YO(WMe)],gg.prototype,"interval");var KMe={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",moduleFactory:e=>new gg(e)},{OrdinalTimeScale:ZMe}=ki,{dateToNumber:FA}=K,$O=class extends K.CategoryAxis{constructor(e){super(e,new ZMe)}normaliseDataDomain(e){const t=[],i=new Set;for(let n of e){typeof n=="number"&&(n=new Date(n));const s=FA(n);i.has(s)||(i.add(s),t.push(n))}return t.sort((n,s)=>FA(n)-FA(s)),{domain:t,clipped:!1}}onFormatChange(e,t,i,n){n?super.onFormatChange(e,t,i,n):this.labelFormatter=this.scale.tickFormat({ticks:e,domain:i})}};$O.className="OrdinalTimeAxis";$O.type="ordinal-time";var qMe={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ordinal-time",moduleFactory:e=>new $O(e)},{ChartAxisDirection:XMe,Validate:QMe,DEGREE:JMe,validateCrossLineValues:eIe}=K,{Path:tIe,Sector:iIe,RotatableText:nIe}=ae,{normalizeAngle360:sIe,toRadians:aIe,isNumberEqual:oIe}=Me,KK=class extends Lr{constructor(){super(...arguments),this.positionAngle=void 0}};A([QMe(JMe,{optional:!0})],KK.prototype,"positionAngle");var ZK=class bD extends FK{constructor(){super(),this.direction=XMe.Y,this.label=new KK,this.polygonNode=new tIe,this.sectorNode=new iIe,this.labelNode=new nIe,this.outerRadius=0,this.innerRadius=0,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:i,type:n,value:s,range:a}=this;if(!i||!n||!eIe(n,s,a,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}n==="line"&&i instanceof ki.BandScale&&(this.type="range",this.range=[s,s]),this.updateRadii();const{innerRadius:o,outerRadius:r}=this;t&&(t=o>=this.axisInnerRadius&&r<=this.axisOuterRadius),this.group.visible=t,this.labelGroup.visible=t,this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t),this.group.zIndex=this.type==="line"?bD.LINE_LAYER_ZINDEX:bD.RANGE_LAYER_ZINDEX}updateRadii(){const{range:t,scale:i,type:n,axisInnerRadius:s,axisOuterRadius:a}=this;if(!i)return{innerRadius:0,outerRadius:0};const o=c=>a+s-c;let r=0,l=0;if(n==="line")r=o(i.convert(this.value)),l=r;else{const c=Math.abs((i==null?void 0:i.bandwidth)??0),u=t.map(h=>i.convert(h));r=o(Math.max(...u)),l=o(Math.min(...u))+c}this.outerRadius=r,this.innerRadius=l}drawPolygon(t,i,n){i.forEach((s,a)=>{const o=t*Math.cos(s),r=t*Math.sin(s);a===0?n.path.moveTo(o,r):n.path.lineTo(o,r)}),n.path.closePath()}updatePolygonNode(t){const{gridAngles:i,polygonNode:n,scale:s,shape:a,type:o,innerRadius:r,outerRadius:l}=this;if(!t||a!=="polygon"||!s||!i){n.visible=!1;return}n.visible=!0;const c=this.getPadding();n.path.clear(!0),this.drawPolygon(l-c,i,n);const u=i.slice().reverse(),h=o==="line"?l-c:r+c;this.drawPolygon(h,u,n),this.setSectorNodeProps(n)}updateSectorNode(t){const{axisInnerRadius:i,axisOuterRadius:n,scale:s,sectorNode:a,shape:o,innerRadius:r,outerRadius:l}=this;if(!t||o!=="circle"||!s){a.visible=!1;return}a.visible=!0,a.startAngle=0,a.endAngle=2*Math.PI;const c=this.getPadding(),u=Me.clamp(i,r+c,n),h=Me.clamp(i,l-c,n);a.innerRadius=Math.min(u,h),a.outerRadius=Math.max(u,h),this.setSectorNodeProps(a)}updateLabelNode(t){const{innerRadius:i,label:n,labelNode:s,scale:a,shape:o,type:r}=this;if(!t||n.enabled===!1||!n.text||!a){s.visible=!1;return}const l=sIe(aIe((n.positionAngle??0)-90)),c=(oIe(l,0)||l>0)&&l<Math.PI,u=c?l-Math.PI/2:l+Math.PI/2;let h=0;const f=this.gridAngles??[];r==="line"?h=i+n.padding:o==="circle"||f.length<3?h=i-n.padding:h=i*Math.cos(Math.PI/f.length)-n.padding;const g=h*Math.cos(l),x=h*Math.sin(l);let y;r==="line"?y=c?"top":"bottom":y=c?"bottom":"top",this.setLabelNodeProps(s,g,x,y,u)}getPadding(){const{scale:t}=this;if(!t)return 0;const i=Math.abs(t.bandwidth??0),n=Math.abs(t.step??0);return t instanceof ki.BandScale?(n-i)/2:0}};ZK.className="RadiusCrossLine";var qK=ZK,{ChartAxisDirection:rIe,Default:lIe,ZIndexMap:cIe,DEGREE:XK,BOOLEAN:uIe,Validate:KO}=K,{Caption:dIe,Group:hIe,Path:pIe,Selection:fIe}=ae,{isNumberEqual:mIe,normalizeAngle360:$F,toRadians:gIe}=Me,ZO=class extends K.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};A([KO(uIe,{optional:!0})],ZO.prototype,"autoRotate");A([KO(XK)],ZO.prototype,"autoRotateAngle");var PN=class extends K.PolarAxis{constructor(e,t){super(e,t),this.positionAngle=0,this.gridPathGroup=this.gridGroup.appendChild(new hIe({name:`${this.id}-gridPaths`,zIndex:cIe.AXIS_GRID})),this.gridPathSelection=fIe.select(this.gridPathGroup,pIe)}get direction(){return rIe.Y}getAxisTransform(){const e=this.scale.range[0],{translation:t,positionAngle:i,innerRadiusRatio:n}=this,s=e*n,a=gIe(i);return{translationX:t.x,translationY:t.y-e-s,rotation:a,rotationCenterX:0,rotationCenterY:e+s}}updateSelections(e,t,i){super.updateSelections(e,t,i);const{gridLine:{enabled:n,style:s,width:a},shape:o}=this;if(!s)return;const r=this.prepareTickData(t),l=s.length,c=(y,b)=>{const{stroke:v,lineDash:S}=s[b%l];y.stroke=v,y.strokeWidth=a,y.lineDash=S,y.fill=void 0},[u,h]=this.gridRange??[0,2*Math.PI],f=mIe(h-u,2*Math.PI),g=(y,b)=>{const{path:v}=y;v.clear(!0);const S=this.getTickRadius(b);f?(v.moveTo(S,0),v.arc(0,0,S,0,2*Math.PI)):(v.moveTo(S*Math.cos(u),S*Math.sin(u)),v.arc(0,0,S,$F(u),$F(h))),f&&v.closePath()},x=(y,b)=>{const{path:v}=y,S=this.gridAngles;if(v.clear(!0),!S||S.length<3)return;const N=this.getTickRadius(b);S.forEach((M,I)=>{const C=N*Math.cos(M),L=N*Math.sin(M);I===0?v.moveTo(C,L):v.lineTo(C,L),S.forEach((O,P)=>{const z=N*Math.cos(O),V=N*Math.sin(O);P===0?v.moveTo(z,V):v.lineTo(z,V)}),v.closePath()}),v.closePath()};this.gridPathSelection.update(n?r:[]).each((y,b,v)=>{c(y,v),o==="circle"?g(y,b):x(y,b)})}updateTitle(){const e=r=>r.defaultValue,{title:t,range:i,moduleCtx:{callbackCache:n}}=this,{formatter:s=e}=this.title;t.caption.enabled=t.enabled,t.caption.fontFamily=t.fontFamily,t.caption.fontSize=t.fontSize,t.caption.fontStyle=t.fontStyle,t.caption.fontWeight=t.fontWeight,t.caption.color=t.color,t.caption.wrapping=t.wrapping;let a=!1;const o=t.caption.node;t.enabled&&(a=!0,o.rotation=Math.PI/2,o.x=Math.floor((i[0]+i[1])/2),o.y=-dIe.SMALL_PADDING,o.textAlign="center",o.textBaseline="bottom",o.text=n.call(s,this.getTitleFormatterParams())),o.visible=a}updateCrossLines(){var e;(e=this.crossLines)==null||e.forEach(t=>{if(t instanceof qK){const{shape:i,gridAngles:n,range:s,innerRadiusRatio:a}=this,o=s[0];t.shape=i,t.gridAngles=n,t.axisOuterRadius=o,t.axisInnerRadius=o*a}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}createLabel(){return new ZO}};PN.CrossLineConstructor=qK;A([KO(XK),lIe(0)],PN.prototype,"positionAngle");var{RATIO:qO,ProxyPropertyOnWrite:QK,Validate:XO}=K,{BandScale:KF}=ki,Ip=class extends PN{constructor(e){super(e,new KF),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}prepareTickData(e){return e.slice().reverse()}getTickRadius(e){const{scale:t,innerRadiusRatio:i}=this,n=t.range[0],s=n*i;if(t instanceof KF){const a=t.ticks(),o=a.length-1-a.indexOf(e.tickId);return o===0?s:t.inset+t.step*(o-.5)+t.bandwidth/2}else{const a=(n-s)/t.domain.length;return n-e.translationY+s-a/2}}};Ip.className="RadiusCategoryAxis";Ip.type="radius-category";A([XO(qO)],Ip.prototype,"groupPaddingInner");A([QK("scale","paddingInner"),XO(qO)],Ip.prototype,"paddingInner");A([QK("scale","paddingOuter"),XO(qO)],Ip.prototype,"paddingOuter");var yIe={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",moduleFactory:e=>new Ip(e)},{AND:JK,Default:eZ,GREATER_THAN:xIe,LESS_THAN:bIe,NUMBER_OR_NAN:tZ,Validate:iZ}=K,{LinearScale:vIe}=ki,{normalisedExtentWithMetadata:wIe}=Me,Jb=class extends PN{constructor(e){super(e,new vIe),this.shape="polygon",this.min=NaN,this.max=NaN}prepareTickData(e){var n;const{scale:t}=this,i=(n=t.getDomain)==null?void 0:n.call(t)[1];return e.filter(({tick:s})=>s!==i).sort((s,a)=>a.tick-s.tick)}getTickRadius(e){const{scale:t}=this,i=t.range[0],n=i*this.innerRadiusRatio;return i-e.translationY+n}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:s}=wIe(e,t,i);return{domain:n,clipped:s}}};Jb.className="RadiusNumberAxis";Jb.type="radius-number";A([iZ(JK(tZ,bIe("max"))),eZ(NaN)],Jb.prototype,"min");A([iZ(JK(tZ,xIe("min"))),eZ(NaN)],Jb.prototype,"max");var SIe={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",moduleFactory:e=>new Jb(e)},{BOOLEAN:NIe,POSITIVE_NUMBER:MIe,ObserveChanges:nZ,Validate:sZ}=K,QO=class extends K.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,e.animationManager.skip(!1)}};A([nZ((e,t)=>{e.ctx.animationManager.skip(!t)}),sZ(NIe)],QO.prototype,"enabled");A([nZ((e,t)=>{e.ctx.animationManager.defaultDuration=t}),sZ(MIe,{optional:!0})],QO.prototype,"duration");var IIe={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new QO(e),themeTemplate:{animation:{enabled:!0}}},{BaseModuleInstance:TIe,createElement:ZF,getLastFocus:AIe}=K,qF="canvas-overlay",aZ=class extends TIe{constructor(e,t,i){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,i!=null&&i.detached?this.element=ZF("div"):this.element=e.domManager.addChild(qF,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>e.domManager.removeChild(qF,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){const{lastFocus:t=this.lastFocus}=e??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),t==null||t.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=ZF("div","ag-charts-popover");if(t.ariaLabel!=null&&i.setAttribute("aria-label",t.ariaLabel),t.class!=null&&i.classList.add(t.class),i.replaceChildren(...e),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){const n=AIe(t.sourceEvent);n!==void 0&&(t.initialFocus.focus(),this.lastFocus=n)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){const t=this.getPopoverElement();t&&(t.style.setProperty("top","unset"),t.style.setProperty("bottom","unset"),t.style.setProperty("left",`${Math.floor(e.x)}px`),t.style.setProperty("top",`${Math.floor(e.y)}px`))}},{clamp:f1}=Me,oZ=class extends aZ{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const i=t.anchor??this.anchor,n=t.fallbackAnchor??this.fallbackAnchor,s=super.showWithChildren(e,t);return i&&this.setAnchor(i,n),K.getWindow().requestAnimationFrame(()=>{this.repositionWithinBounds()}),s}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:i}=this,n=this.getPopoverElement();if(!e||!n)return;const s=t.domManager.getBoundingClientRect(),{offsetWidth:a,offsetHeight:o}=n;let r=f1(0,e.x,s.width-a),l=f1(0,e.y,s.height-o);r!==e.x&&(i==null?void 0:i.x)!=null&&(r=f1(0,i.x-a,s.width-a)),l!==e.y&&(i==null?void 0:i.y)!=null&&(l=f1(0,i.y-o,s.height-o)),this.updatePosition({x:r,y:l})}},{createElement:BA,initMenuKeyNav:kIe,isButtonClickEvent:CIe}=K,mx=class extends oZ{show(e){const t=e.items.map(n=>this.createRow(e,n)),i=this.showWithChildren(t,e);i.classList.add("ag-charts-menu"),i.setAttribute("role","menu"),this.menuCloser=kIe({orientation:"vertical",menu:i,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var n;(n=this.menuCloser)==null||n.finishClosing(),this.menuCloser=void 0})}createRow(e,t){const{domManager:i}=this.ctx,{menuItemRole:n="menuitem"}=e,s=t.value===e.value,a=BA("div","ag-charts-menu__row");if(a.setAttribute("role",n),n==="menuitemradio"&&a.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(a.dataset.popoverId=t.value),a.classList.toggle("ag-charts-menu__row--active",s),t.icon!=null){const c=BA("span",`ag-charts-menu__icon ${i.getIconClassNames(t.icon)}`);a.appendChild(c)}const o=t.strokeWidth!=null;if(o&&(a.classList.toggle("ag-charts-menu__row--stroke-width-visible",o),a.style.setProperty("--strokeWidth",o?`${t.strokeWidth}px`:null)),t.label!=null){const c=BA("span","ag-charts-menu__label");c.textContent=this.ctx.localeManager.t(t.label),a.appendChild(c)}"altText"in t&&(a.ariaLabel=this.ctx.localeManager.t(t.altText));const r=()=>{var c;(c=e.onPress)==null||c.call(e,t)},l=c=>{CIe(c)&&(r(),c.preventDefault(),c.stopPropagation())};return a.addEventListener("keydown",l),a.addEventListener("click",l),a.addEventListener("mousemove",()=>{a.focus()}),a}},{ChartAxisDirection:DIe}=K;function LIe({x:e,y:t,labelBBox:i,bounds:n,axisPosition:s,axisDirection:a,padding:o}){let r;if(a===DIe.X){const c=-i.width/2,u=s==="bottom"?-4:-i.height+4,h=s==="bottom"?n.y+n.height+o:n.y-o;r={x:e+c,y:h+u}}else{const c=-i.height/2,u=s==="right"?-8:-i.width+8;r={x:(s==="right"?n.x+n.width+o:n.x-o)+u,y:t+c}}return r}function rZ(e,t,i){const n=e.clone();return n.x+=t==="left"?-i:0,n.y+=t==="top"?-i:0,n.width+=t==="left"||t==="right"?i:0,n.height+=t==="top"||t==="bottom"?i:0,n}var EIe='<div class="ag-charts-color-picker__palette" tabindex="0"></div><input class="ag-charts-color-picker__hue-input" tabindex="0" type="range" min="0" max="360" value="0"> <input class="ag-charts-color-picker__alpha-input" tabindex="0" type="range" min="0" max="1" value="1" step="0.01"> <label class="ag-charts-color-picker__color-field"><span class="ag-charts-color-picker__color-label">Color</span> <input class="ag-charts-color-picker__color-input" tabindex="0" value="#000"></label>',{createElement:OIe}=K,{Color:vD,clamp:m1}=Me,XF=e=>{try{const t=vD.fromString(e),[i,n,s]=t.toHSB();return[i,n,s,t.a]}catch{return}},lZ=class extends oZ{constructor(e,t){super(e,"color-picker",t),this.hasChanged=!1,this.hideFns.push(()=>{var i;this.hasChanged&&((i=this.onChangeHide)==null||i.call(this))})}show(e){this.hasChanged=!1,this.onChangeHide=e.onChangeHide;const{element:t,initialFocus:i}=this.createColorPicker(e),n=this.showWithChildren([t],{initialFocus:i,...e});n.classList.add("ag-charts-color-picker"),n.setAttribute("role","dialog")}createColorPicker(e){let[t,i,n,s]=XF(e.color??"#f00")??[0,1,.5,1];s=e.opacity??s;const a=OIe("div","ag-charts-color-picker__content");a.innerHTML=EIe,a.ariaLabel=this.ctx.localeManager.t("ariaLabelColorPicker");const o=a.querySelector(".ag-charts-color-picker__palette"),r=a.querySelector(".ag-charts-color-picker__hue-input"),l=a.querySelector(".ag-charts-color-picker__alpha-input"),c=a.querySelector(".ag-charts-color-picker__color-input"),u=(f=!0)=>{var y;const x=vD.fromHSB(t,i,n,s).toHexString();if(a.style.setProperty("--h",`${t}`),a.style.setProperty("--s",`${i}`),a.style.setProperty("--v",`${n}`),a.style.setProperty("--a",`${s}`),a.style.setProperty("--color",x.slice(0,7)),a.style.setProperty("--color-a",x),r.value=`${t}`,l.value=`${s}`,l.classList.toggle("ag-charts-color-picker__alpha-input--opaque",s===1),document.activeElement!==c&&(c.value=x.toUpperCase()),f||e.color==null){const b=vD.fromHSB(t,i,n,1).toHexString();(y=e.onChange)==null||y.call(e,x,b,s)}f&&(this.hasChanged=!0)};u(!1);const h=f=>{f.preventDefault();const g=f.currentTarget;g.focus();const x=g.getBoundingClientRect(),y=({pageX:b,pageY:v})=>{i=Math.min(Math.max((b-x.left)/x.width,0),1),n=1-Math.min(Math.max((v-x.top)/x.height,0),1),u()};y(f),window.addEventListener("mousemove",y),window.addEventListener("mouseup",()=>window.removeEventListener("mousemove",y),{once:!0})};return a.addEventListener("mousedown",f=>{f.stopPropagation()}),a.addEventListener("keydown",f=>{switch(f.stopPropagation(),f.key){case"Enter":case"Escape":this.hide();break;default:return}f.preventDefault()}),o.addEventListener("mousedown",h),o.addEventListener("keydown",f=>{if(f.key==="ArrowLeft")i=m1(0,i-.01,1);else if(f.key==="ArrowRight")i=m1(0,i+.01,1);else if(f.key==="ArrowUp")n=m1(0,n+.01,1);else if(f.key==="ArrowDown")n=m1(0,n-.01,1);else return;f.preventDefault(),u()}),r.addEventListener("input",f=>{t=f.currentTarget.valueAsNumber??0,u()}),l.addEventListener("input",f=>{s=f.currentTarget.valueAsNumber??0,u()}),c.addEventListener("input",f=>{const g=XF(f.currentTarget.value);g!=null&&([t,i,n,s]=g,u())}),c.addEventListener("blur",()=>u()),c.addEventListener("keydown",f=>{f.key==="Enter"&&(f.currentTarget.blur(),u())}),{element:a,initialFocus:o}}},jIe='<div contenteditable="plaintext-only" class="ag-charts-text-input__textarea" tabindex="0"></div>',{focusCursorAtEnd:RIe}=K,QF="text-input",JF="canvas-overlay",PIe=class extends K.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.layout={getTextInputCoords:()=>({x:0,y:0}),getTextPosition:()=>"center",alignment:"center",textAlign:"center"},this.visible=!1,this.element=e.domManager.addChild(JF,QF),this.element.classList.add("ag-charts-text-input"),this.destroyFns.push(()=>e.domManager.removeChild(JF,QF))}setKeyDownHandler(e){this.element.addEventListener("keydown",e),this.destroyFns.push(()=>this.element.removeEventListener("keydown",e))}show(e){var i,n,s,a,o,r,l,c,u;this.element.innerHTML=jIe;const t=this.element.firstElementChild;t.isContentEditable||(t.contentEditable="true"),t.setAttribute("placeholder",this.ctx.localeManager.t(e.placeholderText??"inputTextareaPlaceholder")),(i=e.styles)!=null&&i.placeholderColor&&t.style.setProperty("--ag-charts-input-placeholder-color",(n=e.styles)==null?void 0:n.placeholderColor),t.innerText=e.text??"",t.style.color=((s=e.styles)==null?void 0:s.color)??"inherit",t.style.fontFamily=((a=e.styles)==null?void 0:a.fontFamily)??"inherit",t.style.fontSize=(o=e.styles)!=null&&o.fontSize?`${e.styles.fontSize}px`:"inherit",t.style.fontStyle=((r=e.styles)==null?void 0:r.fontStyle)??"inherit",t.style.fontWeight=typeof((l=e.styles)==null?void 0:l.fontWeight)=="number"?`${e.styles.fontWeight}`:((c=e.styles)==null?void 0:c.fontWeight)??"inherit",RIe(t),t.addEventListener("input",()=>{var h;this.updatePosition(),(h=e.onChange)==null||h.call(e,this.getValue(),this.getBBox())}),t.addEventListener("click",h=>{h.stopPropagation()}),e.layout&&(this.layout=e.layout,this.updatePosition()),(u=e.onChange)==null||u.call(e,this.getValue(),this.getBBox()),this.visible=!0}hide(){this.element.innerHTML="",this.layout={getTextInputCoords:()=>({x:0,y:0}),getTextPosition:()=>"center",alignment:"center",textAlign:"center"},this.visible=!1}isVisible(){return this.visible}updateColor(e){this.element.firstElementChild&&(this.element.firstElementChild.style.color=e)}updateFontSize(e){if(this.element.firstElementChild)return this.element.firstElementChild.style.fontSize=`${e}px`,this.updatePosition(),this.getBBox()}getValue(){if(this.element.firstElementChild)return this.element.firstElementChild.innerText.trim()}updatePosition(){const{element:e}=this,t=e.firstElementChild;if(!t)return;const i=this.ctx.domManager.getBoundingClientRect(),{width:n,getTextInputCoords:s,getTextPosition:a,alignment:o,textAlign:r}=this.layout;e.style.setProperty("width",n?`${n}px`:"unset");const l=t.getBoundingClientRect(),c=s(l.height);let u=c.x;o==="center"?u-=(n??l.width)/2:o==="right"&&(u-=n??l.width);const h=a();let f=c.y;h==="center"?f-=l.height/2:h==="bottom"&&(f-=l.height),e.style.setProperty("top",`${f}px`),e.style.setProperty("left",`${u}px`),e.style.setProperty("max-width",`${i.width-u}px`),e.style.setProperty("text-align",o),t.style.setProperty("text-align",r)}getBBox(){const{left:e,top:t,width:i,height:n}=this.element.getBoundingClientRect();return new ae.BBox(e,t,i,n)}},{BOOLEAN:zIe,Validate:cZ,UNION:_Ie}=K,FIe=_Ie(["x","y","xy"],"an axis type"),JO=class{constructor(){this.enabled=!0,this.axes="y"}};A([cZ(zIe)],JO.prototype,"enabled");A([cZ(FIe,{optional:!0})],JO.prototype,"axes");var ej=(e=>(e.Line="line",e.HorizontalLine="horizontal-line",e.VerticalLine="vertical-line",e.DisjointChannel="disjoint-channel",e.ParallelChannel="parallel-channel",e.Callout="callout",e.Comment="comment",e.Note="note",e.Text="text",e.Arrow="arrow",e.ArrowUp="arrow-up",e.ArrowDown="arrow-down",e.DateRange="date-range",e.PriceRange="price-range",e.DatePriceRange="date-price-range",e.QuickDatePriceRange="quick-date-price-range",e))(ej||{}),BIe=Object.values(ej),VIe=["line","horizontal-line","vertical-line","disjoint-channel","parallel-channel","callout","comment","note","text","arrow","arrow-up","arrow-down"],UIe=["line-menu","text-menu","shape-menu","measurer-menu"];function eB(e){for(const t of BIe)if(t===e)return t}var{BOOLEAN:fb,COLOR_STRING:tj,DATE:ij,FONT_STYLE:GIe,FONT_WEIGHT:WIe,FUNCTION:HIe,LINE_DASH:YIe,LINE_STYLE:$Ie,NUMBER:op,OBJECT:mb,OR:nj,POSITIVE_NUMBER:sj,RATIO:uZ,STRING:yg,TEXT_ALIGN:KIe,UNION:zN,BaseProperties:Tp,Validate:gt}=K,cS=class extends Tp{};A([gt(nj(yg,op,ij))],cS.prototype,"x");A([gt(op)],cS.prototype,"y");var ZIe=class extends Is(Wc(fZ(Tp))){},aj=class extends Is(Wc(Cl(lj(xg(Tp))))){constructor(){super(...arguments),this.cornerRadius=2}};A([gt(fb)],aj.prototype,"enabled");A([gt(sj)],aj.prototype,"cornerRadius");var qIe=class extends Cl(Tp){},XIe=class extends Is(Wc(Cl(Tp))){},Ap=class extends xg(Tp){constructor(){super(...arguments),this.label="",this.position="top",this.alignment="left"}};A([gt(yg)],Ap.prototype,"label");A([gt(zN(["top","center","bottom"]),{optional:!0})],Ap.prototype,"position");A([gt(zN(["left","center","right"]),{optional:!0})],Ap.prototype,"alignment");var ev=class extends xg(Tp){constructor(){super(...arguments),this.label=""}};A([gt(yg)],ev.prototype,"label");A([gt(zN(["top","inside","bottom"]),{optional:!0})],ev.prototype,"position");A([gt(zN(["left","center","right"]),{optional:!0})],ev.prototype,"alignment");function kp(e){class t extends JIe(fZ(e)){constructor(){super(...arguments),this.id=Me.generateUUID()}isValidWithContext(n,s){return super.isValid(s)}}return t}function oj(e){class t extends e{constructor(){super(...arguments),this.start=new cS,this.end=new cS}}return A([gt(mb)],t.prototype,"start"),A([gt(mb)],t.prototype,"end"),t}function dZ(e){class t extends e{}return A([gt(nj(yg,op,ij))],t.prototype,"x"),A([gt(op)],t.prototype,"y"),t}function hZ(e){class t extends e{}return A([gt(nj(yg,op,ij))],t.prototype,"value"),t}function rj(e){class t extends e{constructor(){super(...arguments),this.background=new qIe}}return A([gt(mb,{optional:!0})],t.prototype,"background"),t}function jd(e){class t extends e{constructor(){super(...arguments),this.handle=new XIe}}return A([gt(mb,{optional:!0})],t.prototype,"handle"),t}function pZ(e){class t extends e{constructor(){super(...arguments),this.axisLabel=new aj}}return A([gt(mb,{optional:!0})],t.prototype,"axisLabel"),t}function lj(e){class t extends e{constructor(){super(...arguments),this.textAlign="center"}}return A([gt(sj,{optional:!0})],t.prototype,"padding"),A([gt(KIe,{optional:!0})],t.prototype,"textAlign"),A([gt(HIe,{optional:!0})],t.prototype,"formatter"),t}function QIe(e){class t extends e{}return t}function cj(e){class t extends e{}return A([gt(fb,{optional:!0})],t.prototype,"extendStart"),A([gt(fb,{optional:!0})],t.prototype,"extendEnd"),t}function JIe(e){class t extends e{}return A([gt(fb,{optional:!0})],t.prototype,"locked"),t}function uj(e){class t extends e{setLocaleManager(n){this.localeManager??(this.localeManager=n)}}return t}function fZ(e){class t extends e{}return A([gt(fb,{optional:!0})],t.prototype,"visible"),t}function Cl(e){class t extends e{}return A([gt(tj,{optional:!0})],t.prototype,"fill"),A([gt(uZ,{optional:!0})],t.prototype,"fillOpacity"),t}function Is(e){class t extends e{}return A([gt(tj,{optional:!0})],t.prototype,"stroke"),A([gt(uZ,{optional:!0})],t.prototype,"strokeOpacity"),A([gt(op,{optional:!0})],t.prototype,"strokeWidth"),t}function Wc(e){class t extends e{constructor(){super(...arguments),this.lineCap=void 0,this.computedLineDash=void 0}}return A([gt(YIe,{optional:!0})],t.prototype,"lineDash"),A([gt(op,{optional:!0})],t.prototype,"lineDashOffset"),A([gt($Ie,{optional:!0})],t.prototype,"lineStyle"),t}function xg(e){class t extends e{constructor(){super(...arguments),this.fontSize=12,this.fontFamily="Verdana, sans-serif"}}return A([gt(GIe,{optional:!0})],t.prototype,"fontStyle"),A([gt(WIe,{optional:!0})],t.prototype,"fontWeight"),A([gt(sj)],t.prototype,"fontSize"),A([gt(yg)],t.prototype,"fontFamily"),A([gt(tj,{optional:!0})],t.prototype,"color"),t}function rp(e,t){if(e.start==null||e.end==null)return;const i=hi(e.start,t),n=hi(e.end,t);if(!(i==null||n==null))return{x1:i.x,y1:i.y,x2:n.x,y2:n.y}}function hi(e,t){const i=Xh(e.x,t.xAxis),n=Xh(e.y,t.yAxis);return{x:i,y:n}}function Xh(e,t){if(e==null)return 0;const i=(t.scaleBandwidth()??0)/2;return t.scaleConvert(e)+i}function gn(e,t){const i=gb(e.x,t.xAxis),n=gb(e.y,t.yAxis);return{x:i,y:n}}function gb(e,t){const i=(t.scaleBandwidth()??0)/2;return t.continuous?t.scaleInvert(e-i):t.scaleInvertNearest(e-i)}var{BaseProperties:eTe}=K,dj=class extends kp(oj(jd(eTe))){constructor(){super(...arguments),this.snapToAngle=45}isValidWithContext(e,t){return super.isValid(t)}getDefaultColor(e){}getDefaultOpacity(e){}},{STRING:tTe,Validate:iTe}=K,mZ=class extends uj(lj(xg(dj))){constructor(){super(...arguments),this.text="",this.position="top",this.alignment="left",this.placement="inside",this.placeholderText="inputTextareaPlaceholder"}isValidWithContext(e,t){return super.isValid(t)}getDefaultColor(e){return this.color}getDefaultOpacity(e){}getPlaceholderColor(){}getPadding(){const{padding:e=0}=this;return{top:e,right:e,bottom:e,left:e}}getText(){const e=this.text.length==0;let t=this.text;return e&&(t=this.placeholderText??"",this.localeManager&&(t=this.localeManager.t(t))),{text:t,isPlaceholder:e}}getTextInputCoords(e,t){return hi(this.end,e)}getTextPosition(){return this.position}};A([iTe(tTe)],mZ.prototype,"text");var{STRING:nTe,Validate:sTe,isObject:aTe}=K,{Color:tB}=Me,oTe={top:6,right:12,bottom:9,left:12},Fa=class extends Cl(Is(mZ)){constructor(){super(...arguments),this.type="callout",this.position="bottom",this.alignment="left"}static is(e){return aTe(e)&&e.type==="callout"}getDefaultColor(e){switch(e){case"fill-color":return this.fill;case"line-color":return this.stroke;case"text-color":default:return this.color}}getDefaultOpacity(e){switch(e){case"fill-color":return this.fillOpacity;case"line-color":return this.strokeOpacity;case"text-color":default:return}}getPlaceholderColor(){const{r:e,g:t,b:i}=tB.fromString(this.color??"#888888");return new tB(e,t,i,.66).toString()}getPadding(){const{padding:e}=this;return e==null?{...oTe}:{top:e,right:e,bottom:e,left:e}}getTextInputCoords(e,t){const i=super.getTextInputCoords(e,t),n=this.getPadding(),s=typeof n=="number"?n:(n==null?void 0:n.left)??0,a=typeof n=="number"?n:(n==null?void 0:n.bottom)??0;return{x:i.x+s,y:i.y-a}}};A([sTe(nTe)],Fa.prototype,"type");var{STRING:rTe,BaseProperties:lTe,Validate:cTe}=K,_N=class extends kp(dZ(jd(lj(xg(lTe))))){constructor(){super(...arguments),this.text="",this.position="top",this.alignment="left",this.placement="inside",this.placeholderText="inputTextareaPlaceholder"}isValidWithContext(e,t){return super.isValid(t)}getDefaultColor(e){return this.color}getDefaultOpacity(e){}getPlaceholderColor(){}getPadding(){const{padding:e=0}=this;return{top:e,right:e,bottom:e,left:e}}getText(){const e=this.text.length==0;return{text:e?this.placeholderText??"":this.text,isPlaceholder:e}}getTextInputCoords(e,t){return hi(this,e)}getTextPosition(){return this.position}};A([cTe(rTe)],_N.prototype,"text");var{STRING:uTe,Validate:dTe,isObject:hTe}=K,{Color:iB}=Me,g1={top:8,right:14,bottom:8,left:14},wo=class extends Cl(Is(_N)){constructor(){super(...arguments),this.type="comment",this.position="bottom",this.alignment="left"}static is(e){return hTe(e)&&e.type==="comment"}getDefaultColor(e){switch(e){case"fill-color":return this.fill;case"line-color":return this.stroke;case"text-color":default:return this.color}}getDefaultOpacity(e){switch(e){case"fill-color":return this.fillOpacity;case"line-color":return this.strokeOpacity;case"text-color":default:return}}getPlaceholderColor(){const{r:e,g:t,b:i}=iB.fromString(this.color??"#888888");return new iB(e,t,i,.66).toString()}getPadding(){const{padding:e,fontSize:t}=this;return e==null?{top:Math.max(t*.4,g1.top),bottom:Math.max(t*.4,g1.bottom),left:Math.max(t*.8,g1.left),right:Math.max(t*.8,g1.right)}:{top:e,right:e,bottom:e,left:e}}getTextInputCoords(e,t){const i=super.getTextInputCoords(e,t),n=this.getPadding();return{x:i.x+n.left,y:i.y-n.bottom}}};A([dTe(uTe)],wo.prototype,"type");var{Vec2:bh}=K;function yb(e,t){return e?"dashed":t??"solid"}function gZ(e,t){switch(t){case"solid":return[];case"dashed":return[e*4,e*2];case"dotted":return[0,e*2]}}function bg(e,t,i,n){const s=yb(e,i);return t??e??gZ(n??1,s)}function vg(e,t,i){const n=yb(t,i);return e??n==="dotted"?"round":void 0}function pTe(e,t){const[i,n]=bh.from(e),s=t.height,a=bh.gradient(n,i,s),o=bh.intercept(n,a,s),r=[{x:i.x,y:s??0},{x:i.x,y:s==null?t.height:s-t.height}];if(a===1/0)return r;let l=[bh.intersectAtY(a,o,0,s),bh.intersectAtY(a,o,t.height,s),bh.intersectAtX(a,o,0,s),bh.intersectAtX(a,o,t.width,s)];return l=l.filter(c=>c.x>=t.x&&c.x<=t.width&&c.y>=t.y&&c.y<=t.height).sort((c,u)=>c.x===u.x?0:c.x<u.x?-1:1),l.length!==2?r:l}var{BOOLEAN:FN,OBJECT:wg,STRING:BN,BaseProperties:hj,Validate:Ca,isObject:VN}=K,fTe=class extends Is(hj){},pj=class extends xg(Cl(Is(hj))){constructor(){super(...arguments),this.divider=new fTe}};A([Ca(wg,{optional:!0})],pj.prototype,"divider");var wD=class extends Cl(Is(jd(hj))){constructor(){super(...arguments),this.statistics=new pj}};A([Ca(wg,{optional:!0})],wD.prototype,"statistics");var tv=class extends uj(rj(Is(Wc(dj)))){constructor(){super(...arguments),this.direction="both",this.hasDateRange=!1,this.hasPriceRange=!1,this.statistics=new pj,this.getVolume=()=>0}getDefaultColor(e){switch(e){case"fill-color":return this.background.fill;case"line-color":return this.stroke}}getDefaultOpacity(e){switch(e){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return bg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return vg(this.lineCap,this.lineDash,this.lineStyle)}};A([Ca(wg,{optional:!0})],tv.prototype,"statistics");function fj(e){class t extends e{constructor(){super(...arguments),this.hasDateRange=!0}}return t}function mj(e){class t extends e{constructor(){super(...arguments),this.hasPriceRange=!0}}return t}function gj(e){class t extends e{constructor(){super(...arguments),this.text=new Ap}getDefaultColor(n){return n==="text-color"?this.text.color:super.getDefaultColor(n)}}return A([Ca(wg,{optional:!0})],t.prototype,"text"),t}var pa=class extends fj(gj(tv)){constructor(){super(...arguments),this.type="date-range",this.direction="horizontal"}static is(e){return VN(e)&&e.type==="date-range"}};A([Ca(BN)],pa.prototype,"type");A([Ca(FN,{optional:!0})],pa.prototype,"extendAbove");A([Ca(FN,{optional:!0})],pa.prototype,"extendBelow");var fa=class extends mj(gj(tv)){constructor(){super(...arguments),this.type="price-range",this.direction="vertical"}static is(e){return VN(e)&&e.type==="price-range"}};A([Ca(BN)],fa.prototype,"type");A([Ca(FN,{optional:!0})],fa.prototype,"extendLeft");A([Ca(FN,{optional:!0})],fa.prototype,"extendRight");var or=class extends fj(mj(gj(tv))){constructor(){super(...arguments),this.type="date-price-range",this.direction="both"}static is(e){return VN(e)&&e.type==="date-price-range"}};A([Ca(BN)],or.prototype,"type");var Gs=class extends fj(mj(tv)){constructor(){super(...arguments),this.type="quick-date-price-range",this.up=new wD,this.down=new wD,this.direction="both"}static is(e){return VN(e)&&e.type==="quick-date-price-range"}};A([Ca(BN)],Gs.prototype,"type");A([Ca(wg,{optional:!0})],Gs.prototype,"up");A([Ca(wg,{optional:!0})],Gs.prototype,"down");var{TextWrapper:mTe,CachedTextMeasurerPool:gTe}=K,{BBox:yTe}=ae,UN=1.38;function yZ(e){return{font:{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight},textAlign:e.textAlign,textBaseline:e.position=="center"?"middle":e.position,lineHeight:UN,avoidOrphans:!1,textWrap:"always"}}function GN(e,t,i){return i?mTe.wrapText(t,{...yZ(e),maxWidth:i}):t}function xTe(e,t){const i=yZ(e),{lineMetrics:n,width:s}=gTe.measureLines(t,i),a=n.length*(e.fontSize??14)*UN;return{width:s,height:a}}function yj(e,t,i,n){let s=(n==null?void 0:n.width)??0,a=(n==null?void 0:n.height)??0;if(!n){const o=e.width!=null?GN(e,t,e.width):t;({width:s,height:a}=xTe(e,o))}return new yTe(i.x,i.y,s,a)}function xZ(e,t,i,n,{x:s,y:a}){const{visible:o=!0,fontFamily:r,fontSize:l=14,fontStyle:c,fontWeight:u,textAlign:h}=n,f=l*UN,g=n.position=="center"?"middle":n.position,x=i?n.getPlaceholderColor():n.color;e.setProperties({x:s,y:a,visible:o,text:t,fill:x,fontFamily:r,fontSize:l,fontStyle:c,fontWeight:u,textAlign:h,lineHeight:f,textBaseline:g})}var{OBJECT:bTe,STRING:vTe,BaseProperties:wTe,Validate:bZ,isObject:STe}=K,{clamp:NTe}=Me,MTe=10,ITe=11,vZ=20,TTe=22,ATe=10,wZ=vZ+ATe,SZ=34,kTe=class extends Cl(Is(wTe)){},hs=class extends Cl(Is(_N)){constructor(){super(...arguments),this.type="note",this.background=new kTe,this.position="bottom",this.alignment="center",this.width=200}static is(e){return STe(e)&&e.type==="note"}getDefaultColor(e){switch(e){case"line-color":return this.fill;case"text-color":return this.color}}getDefaultOpacity(e){switch(e){case"line-color":return this.fillOpacity;case"text-color":return}}getPadding(){const e=this.padding??MTe;return{top:e,right:e,bottom:e,left:e}}getTextInputCoords(e,t){const{width:i,text:n}=this,{seriesRect:s}=e,a=super.getTextInputCoords(e,t),o=this.getPadding().top,r=yj(this,n,a,void 0);r.x=NTe(i/2,r.x,s.width-i/2);const l=r.y-wZ-o*2,c=r.y+ITe+o*2,u=Math.max(r.height,t);return l-u-SZ<s.y?(r.y=c,this.position="top"):(r.y=l+o,this.position="bottom"),{x:r.x,y:r.y}}};A([bZ(vTe)],hs.prototype,"type");A([bZ(bTe,{optional:!0})],hs.prototype,"background");var{BaseProperties:CTe}=K,DTe=class extends kp(dZ(jd(CTe))){isValidWithContext(e,t){return super.isValid(t)}getDefaultColor(e){}getDefaultOpacity(e){}},xj=class NZ extends Cl(DTe){constructor(){super(...arguments),this.size=32}static is(t){return t instanceof NZ}getDefaultColor(t){return t==="fill-color"?this.fill:void 0}getDefaultOpacity(t){return t==="fill-color"?this.fillOpacity:void 0}},{Logger:SD}=Me;function xb(e,t,i){let n=!0;return n&&(n=Ac(e,t.start,i&&`${i}[start] `)),n&&(n=Ac(e,t.end,i&&`${i}[end] `)),n}function MZ(e,t,i){const n=t.direction==="horizontal"?e.yAxis:e.xAxis,s=ND(t.value,n);return!s&&i&&SD.warnOnce(`${i}is outside the axis domain, ignoring. - value: [${t.value}]]`),s}function Ac(e,t,i){if(t.x==null||t.y==null)return i&&SD.warnOnce(`${i}requires both an [x] and [y] property, ignoring.`),!1;const n=ND(t.x,e.xAxis),s=ND(t.y,e.yAxis);if(!n||!s){let a="x & y domains";return n&&(a="y domain"),s&&(a="x domain"),i&&SD.warnOnce(`${i}is outside the ${a}, ignoring. - x: [${t.x}], y: ${t.y}]`),!1}return!0}function ND(e,t){const i=t.scaleDomain();return i&&ki.OrdinalTimeScale.is(t.scale)?e>=i[0]&&e<=i.at(-1):!0}function LTe(e){return(e==null?void 0:e.x)!=null&&(e==null?void 0:e.y)!=null}var{OBJECT:IZ,STRING:TZ,BaseProperties:AZ,Validate:WN,isObject:kZ}=K,Yn=class extends kp(hZ(jd(pZ(Is(Wc(AZ)))))){constructor(){super(...arguments),this.direction="horizontal",this.type="horizontal-line",this.text=new Ap}static is(e){return kZ(e)&&e.type==="horizontal-line"}isValidWithContext(e,t){return super.isValid(t)&&MZ(e,this,t)}getDefaultColor(e){return this.stroke}getDefaultOpacity(e){return this.strokeOpacity}getLineDash(){return bg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return vg(this.lineCap,this.lineDash,this.lineStyle)}};A([WN(TZ)],Yn.prototype,"type");A([WN(IZ,{optional:!0})],Yn.prototype,"text");var ur=class extends kp(hZ(jd(pZ(Is(Wc(AZ)))))){constructor(){super(...arguments),this.direction="vertical",this.type="vertical-line",this.text=new Ap}static is(e){return kZ(e)&&e.type==="vertical-line"}isValidWithContext(e,t){return super.isValid(t)&&MZ(e,this,t)}getDefaultColor(e){return this.stroke}getDefaultOpacity(e){return this.strokeOpacity}getLineDash(){return bg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return vg(this.lineCap,this.lineDash,this.lineStyle)}};A([WN(TZ)],ur.prototype,"type");A([WN(IZ,{optional:!0})],ur.prototype,"text");var{NUMBER:CZ,OBJECT:ETe,STRING:OTe,BaseProperties:jTe,Validate:HN,isObject:RTe}=K,ma=class extends kp(rj(oj(jd(cj(Is(Wc(jTe))))))){constructor(){super(...arguments),this.type="disjoint-channel",this.text=new ev,this.snapToAngle=45}static is(e){return RTe(e)&&e.type==="disjoint-channel"}get bottom(){const e={start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}};return typeof e.start.y=="number"&&typeof e.end.y=="number"?(e.start.y-=this.startHeight,e.end.y-=this.endHeight):Me.Logger.warnOnce(`Annotation [${this.type}] can only be used with a numeric y-axis.`),e}isValidWithContext(e,t){return super.isValid(t)&&xb(e,this,t)&&xb(e,this.bottom,t)}getDefaultColor(e){switch(e){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(e){switch(e){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return bg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return vg(this.lineCap,this.lineDash,this.lineStyle)}};A([HN(OTe)],ma.prototype,"type");A([HN(CZ)],ma.prototype,"startHeight");A([HN(CZ)],ma.prototype,"endHeight");A([HN(ETe,{optional:!0})],ma.prototype,"text");var{OBJECT:PTe,STRING:DZ,Validate:bj,isObject:LZ}=K,vj=class extends uj(QIe(cj(Is(Wc(dj))))){constructor(){super(...arguments),this.text=new Ap}isValidWithContext(e,t){return super.isValid(t)&&xb(e,this,t)}getDefaultColor(e){switch(e){case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(e){return this.strokeOpacity}getLineDash(){return bg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return vg(this.lineCap,this.lineDash,this.lineStyle)}};A([bj(PTe,{optional:!0})],vj.prototype,"text");var rr=class extends vj{constructor(){super(...arguments),this.type="arrow",this.endCap="arrow"}static is(e){return LZ(e)&&e.type==="arrow"}};A([bj(DZ)],rr.prototype,"type");var lr=class extends vj{constructor(){super(...arguments),this.type="line"}static is(e){return LZ(e)&&e.type==="line"}};A([bj(DZ)],lr.prototype,"type");var{NUMBER:zTe,STRING:_Te,OBJECT:EZ,BaseProperties:FTe,Validate:YN,isObject:BTe}=K,ga=class extends kp(rj(oj(jd(cj(Is(Wc(FTe))))))){constructor(){super(...arguments),this.type="parallel-channel",this.middle=new ZIe,this.text=new ev,this.snapToAngle=45}static is(e){return BTe(e)&&e.type==="parallel-channel"}get bottom(){const e={start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}};return typeof e.start.y=="number"&&typeof e.end.y=="number"?(e.start.y-=this.height,e.end.y-=this.height):Me.Logger.warnOnce(`Annotation [${this.type}] can only be used with a numeric y-axis.`),e}isValidWithContext(e,t){return super.isValid(t)&&xb(e,this,t)&&xb(e,this.bottom,t)}getDefaultColor(e){switch(e){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(e){switch(e){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return bg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return vg(this.lineCap,this.lineDash,this.lineStyle)}};A([YN(_Te)],ga.prototype,"type");A([YN(zTe)],ga.prototype,"height");A([YN(EZ,{optional:!0})],ga.prototype,"middle");A([YN(EZ,{optional:!0})],ga.prototype,"text");var{STRING:VTe,Validate:UTe,isObject:GTe}=K,cr=class extends _N{constructor(){super(...arguments),this.type="text",this.position="bottom"}static is(e){return GTe(e)&&e.type==="text"}};A([UTe(VTe)],cr.prototype,"type");function Wu(e){return Gs.is(e)}function $N(e){return lr.is(e)||Yn.is(e)||ur.is(e)||rr.is(e)}function Sc(e){return ma.is(e)||ga.is(e)}function rl(e){return Fa.is(e)||wo.is(e)||hs.is(e)||cr.is(e)}function iv(e){return pa.is(e)||fa.is(e)||or.is(e)||Gs.is(e)}var{isObject:WTe}=K;function nB(e){return rl(e)&&!hs.is(e)}function Ru(e){return $N(e)||Sc(e)||iv(e)&&!Gs.is(e)}function HTe(e){return $N(e)||Sc(e)||iv(e)||Fa.is(e)||hs.is(e)}function YTe(e){return hs.is(e)}function $Te(e){return Sc(e)||iv(e)||Fa.is(e)||wo.is(e)||xj.is(e)}function KTe(e){return rl(e)&&!hs.is(e)}function Nm(e){return($N(e)||Sc(e)||iv(e))&&!Wu(e)&&WTe(e.text)}function ZTe(e,t){"fontSize"in e&&(e.fontSize=t),Nm(e)&&(e.text.fontSize=t)}function OZ(e,t){const i=(t==null?void 0:t.strokeWidth)??e.strokeWidth??1,n=(t==null?void 0:t.type)??e.lineStyle,s=n??yb(e.lineDash,n),a=gZ(i,s);e.strokeWidth=i,e.computedLineDash=a,e.lineStyle=s,e.lineCap=s==="dotted"?"round":void 0}function KN(e,t,i,n,s){switch(t){case"fill-color":{"fill"in e&&(e.fill=n),"fillOpacity"in e&&(e.fillOpacity=s),"background"in e&&(e.background.fill=n,e.background.fillOpacity=s);break}case"line-color":{"axisLabel"in e&&(e.axisLabel.fill=n,e.axisLabel.fillOpacity=s,e.axisLabel.stroke=n,e.axisLabel.strokeOpacity=s),"fill"in e&&"fillOpacity"in e&&YTe(e)?(e.fill=n,e.fillOpacity=s):("stroke"in e&&(e.stroke=n),"strokeOpacity"in e&&(e.strokeOpacity=s));break}case"text-color":{"color"in e&&(e.color=i),Nm(e)&&(e.text.color=n);break}}}var qTe=class{constructor(){this.mementoOriginatorKey="annotation-defaults",this.colors=new Map(Object.values(ej).map(e=>[e,new Map([["line-color",void 0],["fill-color",void 0],["text-color",void 0]])])),this.fontSizes=new Map([["callout",void 0],["comment",void 0],["text",void 0],["arrow",void 0],["line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineStyles=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineTextAlignments=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineTextPositions=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]])}createMemento(){return{colors:Me.deepClone(this.colors),fontSizes:Me.deepClone(this.fontSizes),lineStyles:Me.deepClone(this.lineStyles),lineTextAlignments:Me.deepClone(this.lineTextAlignments),lineTextPositions:Me.deepClone(this.lineTextPositions)}}guardMemento(e){return!0}restoreMemento(e,t,i){this.colors=Me.deepClone(i.colors),this.fontSizes=Me.deepClone(i.fontSizes),this.lineStyles=Me.deepClone(i.lineStyles),this.lineTextAlignments=Me.deepClone(i.lineTextAlignments),this.lineTextPositions=Me.deepClone(i.lineTextPositions)}setDefaultColor(e,t,i,n,s){var a;(a=this.colors.get(e))==null||a.set(t,[i,n,s])}setDefaultFontSize(e,t){this.fontSizes.set(e,t)}setDefaultLineStyleType(e,t){const i=this.lineStyles.get(e);i?i.type=t:this.lineStyles.set(e,{type:t})}setDefaultLineStyleWidth(e,t){const i=this.lineStyles.get(e);i?i.strokeWidth=t:this.lineStyles.set(e,{strokeWidth:t})}setDefaultLineTextAlignment(e,t){this.lineTextAlignments.set(e,t)}setDefaultLineTextPosition(e,t){this.lineTextPositions.set(e,t)}applyDefaults(e){for(const[t,i]of this.colors)if(e.type===t)for(const[n,[s,a,o]=[]]of i)s&&a&&o!=null&&KN(e,n,s,a,o);for(const[t,i]of this.fontSizes)e.type!==t||i==null||ZTe(e,i);for(const[t,i]of this.lineStyles)e.type!==t||i==null||OZ(e,i);for(const[t,i]of this.lineTextPositions)e.type!==t||i==null||(e.text.position=i);for(const[t,i]of this.lineTextAlignments)e.type!==t||i==null||(e.text.alignment=i)}},{StateMachine:sB,Vec2:aB}=K,Ts=class extends sB{constructor(e){const t=({shiftKey:i,context:n})=>{var o;e.setSnapping(i);const s=e.datum(),a=e.getHoverCoords();a&&((o=e.node())==null||o.drag(s,a,n,i),e.update())};super("idle",{idle:{dragStart:{target:"dragging",action:({offset:i,context:n})=>{var s;this.hasMoved=!1,this.dragStart=i,(s=e.node())==null||s.dragStart(e.datum(),i,n)}}},dragging:{keyDown:t,keyUp:t,drag:({offset:i,context:n})=>{var o;this.hasMoved=aB.lengthSquared(aB.sub(i,this.dragStart))>0;const s=e.datum(),a=e.getSnapping();(o=e.node())==null||o.drag(s,i,n,a),e.update()},dragEnd:{target:sB.parent,action:()=>{var i;(i=e.node())==null||i.stopDragging(),e.stopInteracting(),this.hasMoved&&e.recordAction("Move annotation"),e.update()}}}}),this.debug=Me.Debug.create(!0,"annotations"),this.hasMoved=!1}},{STRING:XTe,Validate:QTe,isObject:JTe}=K,oc=class extends xj{constructor(){super(...arguments),this.type="arrow-down"}static is(e){return JTe(e)&&e.type==="arrow-down"}};A([QTe(XTe)],oc.prototype,"type");var jZ=class RZ extends ae.Group{constructor(){super(...arguments),this.active=!1,this.locked=!1,this.visible=!1,this.zIndex=1}drag(t){const{handle:i,locked:n}=this;return n?{point:{x:i.x,y:i.y},offset:{x:0,y:0}}:{point:t,offset:{x:t.x-i.x,y:t.y-i.y}}}toggleActive(t){this.active=t,t||(this.handle.strokeWidth=RZ.INACTIVE_STROKE_WIDTH)}toggleHovered(t){this.glow.visible=!this.locked&&t,this.glow.dirtyPath=!0}toggleDragging(t){this.locked||(this.handle.visible=!t,this.glow.visible=this.glow.visible&&!t,this.handle.dirtyPath=!0,this.glow.dirtyPath=!0)}toggleLocked(t){this.locked=t}getCursor(){}containsPoint(t,i){return this.handle.containsPoint(t,i)}};jZ.INACTIVE_STROKE_WIDTH=2;var td=jZ,wj=class PZ extends td{constructor(){super(),this.handle=new ae.Circle,this.glow=new ae.Circle,this.append([this.handle]),this.handle.size=PZ.HANDLE_SIZE,this.handle.strokeWidth=td.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2}update(t){this.handle.setProperties({...t,strokeWidth:td.INACTIVE_STROKE_WIDTH})}drag(t){return{point:t,offset:{x:0,y:0}}}};wj.HANDLE_SIZE=7;wj.GLOW_SIZE=9;var Pu=wj,ZN=class da extends td{constructor(){super(),this.handle=new ae.Rect,this.glow=new ae.Rect,this.gradient="horizontal",this.append([this.glow,this.handle]),this.handle.cornerRadius=da.CORNER_RADIUS,this.handle.width=da.HANDLE_SIZE,this.handle.height=da.HANDLE_SIZE,this.handle.strokeWidth=td.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2,this.glow.cornerRadius=da.CORNER_RADIUS,this.glow.width=da.GLOW_SIZE,this.glow.height=da.GLOW_SIZE,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}toggleLocked(t){if(super.toggleLocked(t),t){const i=(da.HANDLE_SIZE-Pu.HANDLE_SIZE)/2;this.handle.cornerRadius=1,this.handle.fill=this.handle.stroke,this.handle.strokeWidth=0,this.handle.x+=i,this.handle.y+=i,this.handle.width=Pu.HANDLE_SIZE,this.handle.height=Pu.HANDLE_SIZE,this.glow.width=Pu.GLOW_SIZE,this.glow.height=Pu.GLOW_SIZE}else this.handle.cornerRadius=da.CORNER_RADIUS,this.handle.width=da.HANDLE_SIZE,this.handle.height=da.HANDLE_SIZE,this.glow.width=da.GLOW_SIZE,this.glow.height=da.GLOW_SIZE,this.cachedStyles&&this.handle.setProperties(this.cachedStyles)}update(t){if(this.cachedStyles={...t},this.active||delete t.strokeWidth,this.locked){delete t.fill,delete t.strokeWidth;const i=(da.HANDLE_SIZE-Pu.HANDLE_SIZE)/2;t.x-=i,t.y-=i,this.cachedStyles.x-=i,this.cachedStyles.y-=i}this.handle.setProperties(t),this.glow.setProperties({...t,x:(t.x??this.glow.x)-2,y:(t.y??this.glow.y)-2,strokeWidth:0,fill:t.stroke})}drag(t){return this.locked?{point:t,offset:{x:0,y:0}}:this.gradient==="vertical"?{point:{x:t.x,y:this.handle.y},offset:{x:t.x-this.handle.x,y:0}}:{point:{x:this.handle.x,y:t.y},offset:{x:0,y:t.y-this.handle.y}}}getCursor(){if(!this.locked)return this.gradient==="vertical"?"col-resize":"row-resize"}};ZN.HANDLE_SIZE=12;ZN.GLOW_SIZE=16;ZN.CORNER_RADIUS=4;var fm=ZN,Sj=class gx extends td{constructor(){super(),this.handle=new ae.Circle,this.glow=new ae.Circle,this.append([this.glow,this.handle]),this.handle.size=gx.HANDLE_SIZE,this.handle.strokeWidth=td.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2,this.glow.size=gx.GLOW_SIZE,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}toggleLocked(t){super.toggleLocked(t),t?(this.handle.fill=this.handle.stroke,this.handle.strokeWidth=0,this.handle.size=Pu.HANDLE_SIZE,this.glow.size=Pu.GLOW_SIZE):(this.handle.size=gx.HANDLE_SIZE,this.glow.size=gx.GLOW_SIZE,this.cachedStyles&&this.handle.setProperties(this.cachedStyles))}update(t){this.cachedStyles={...t},this.active||delete t.strokeWidth,this.locked&&(delete t.fill,delete t.strokeWidth),this.handle.setProperties(t),this.glow.setProperties({...t,strokeWidth:0,fill:t.stroke})}getCursor(){return"pointer"}};Sj.HANDLE_SIZE=11;Sj.GLOW_SIZE=17;var Ln=Sj,{ZIndexMap:eAe,isObject:tAe}=K,$s=class extends ae.Group{constructor(){super(...arguments),this.name="AnnotationScene",this.zIndex=eAe.CHART_ANNOTATION}static isCheck(e,t){return tAe(e)&&Object.hasOwn(e,"type")&&e.type===t}toggleHovered(e){this.toggleHandles(e)}*nonHandleChildren(){for(const e of this.children())e instanceof td||(yield e)}computeBBoxWithoutHandles(){return ae.Transformable.toCanvas(this,ae.Group.computeChildrenBBox(this.nonHandleChildren()))}},{Vec2:VA}=K,zZ=class extends $s{constructor(){super(...arguments),this.handle=new Ln,this.anchor={x:0,y:0,position:"above"}}update(e,t){const i=hi(e,t);this.updateHandle(e,i),this.anchor=this.updateAnchor(e,i,t)}dragStart(e,t,i){this.dragState={offset:t,handle:hi(e,i)}}drag(e,t,i){const{dragState:n}=this;if(e.locked||!n)return;const s=VA.add(n.handle,VA.sub(t,n.offset)),a=gn(s,i);e.x=a.x,e.y=a.y}translate(e,t,i){const n=VA.add(hi(e,i),t),s=gn(n,i);Ac(i,s)&&(e.x=s.x,e.y=s.y)}toggleHandles(e){this.handle.visible=!!e,this.handle.toggleHovered(this.activeHandle==="handle")}toggleActive(e){this.toggleHandles(e),this.handle.toggleActive(e)}stopDragging(){this.handle.toggleDragging(!1)}copy(e,t,i){const n=hi(e,i),s=gn({x:n.x-30,y:n.y-30},i);return t.x=s.x,t.y=s.y,t}getAnchor(){return this.anchor}getCursor(){return"pointer"}containsPoint(e,t){const{handle:i}=this;return this.activeHandle=void 0,i.containsPoint(e,t)?(this.activeHandle="handle",!0):!1}getNodeAtCoords(e,t){if(this.handle.containsPoint(e,t))return"handle"}updateHandle(e,t,i){const{x:n,y:s}=this.getHandleCoords(e,t,i),a=this.getHandleStyles(e);this.handle.update({...a,x:n,y:s}),this.handle.toggleLocked(e.locked??!1)}updateAnchor(e,t,i){const n=this.getHandleCoords(e,t);return{x:n.x+i.seriesRect.x,y:n.y+i.seriesRect.y,position:this.anchor.position}}getHandleCoords(e,t,i){return{x:t.x,y:t.y}}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}}},_Z=class extends zZ{constructor(){super(),this.append([this.handle])}update(e,t){super.update(e,t);const i=hi(e,t);this.updateShape(e,i)}updateShape(e,t){this.updateShapeStyles(e),this.updateShapePath(e,t)}updateShapeStyles(e){const{shape:t}=this;t.fill=e.fill,t.fillOpacity=e.fillOpacity??1}updateShapePath(e,t){const{shape:i}=this;i.x=t.x,i.y=t.y,i.size=e.size}containsPoint(e,t){return super.containsPoint(e,t)||this.shape.containsPoint(e,t)}getNodeAtCoords(e,t){return this.shape.containsPoint(e,t)?"shape":super.getNodeAtCoords(e,t)}},Rf=class extends _Z{constructor(){super(),this.type="arrow-down",this.shape=new ae.ArrowDown,this.append([this.shape])}static is(e){return $s.isCheck(e,"arrow-down")}updateAnchor(e,t,i){const n=super.updateAnchor(e,t,i);return n.y-=e.size,n}getHandleCoords(e,t){const i=Ln.HANDLE_SIZE/2,n=super.getHandleCoords(e,t);return n.y+=i,n}},{StateMachine:y1}=K,FZ=class extends y1{constructor(e){const t=({point:n})=>{const s=this.createDatum(),{x:a,y:o}=n();s.set({x:a,y:o}),e.create(s)},i=()=>{var n;(n=e.node())==null||n.toggleActive(!0),e.showAnnotationOptions(),e.update()};super("start",{start:{click:{target:"waiting-first-render",action:t},drag:{target:"waiting-first-render",action:t},cancel:y1.parent,reset:y1.parent},"waiting-first-render":{render:{target:y1.parent,action:i}}}),this.debug=Me.Debug.create(!0,"annotations")}},iAe=class extends FZ{createDatum(){return new oc}},oB={type:"arrow-down",datum:oc,scene:Rf,isDatum:oc.is,translate:(e,t,i,n)=>{oc.is(t)&&Rf.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(oc.is(t)&&oc.is(i)&&Rf.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{oc.is(t)&&Rf.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getNode:i})=>new iAe({...e,create:t("arrow-down"),node:i(Rf.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(oc.is),node:i(Rf.is)})},{STRING:nAe,Validate:sAe,isObject:aAe}=K,rc=class extends xj{constructor(){super(...arguments),this.type="arrow-up"}static is(e){return aAe(e)&&e.type==="arrow-up"}};A([sAe(nAe)],rc.prototype,"type");var Pf=class extends _Z{constructor(){super(),this.type="arrow-up",this.shape=new ae.ArrowUp,this.append([this.shape])}static is(e){return $s.isCheck(e,"arrow-up")}getHandleCoords(e,t){const i=Ln.HANDLE_SIZE/2,n=super.getHandleCoords(e,t);return n.y-=i,n}},oAe=class extends FZ{createDatum(){return new rc}},rB={type:"arrow-up",datum:rc,scene:Pf,isDatum:rc.is,translate:(e,t,i,n)=>{rc.is(t)&&Pf.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(rc.is(t)&&rc.is(i)&&Pf.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{rc.is(t)&&Pf.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getNode:i})=>new oAe({...e,create:t("arrow-up"),node:i(Pf.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(rc.is),node:i(Pf.is)})},{toRadians:rAe}=ae;function Nj({x:e,y:t},i,n,s=1){const{x:a,y:o}=i,r=Math.sqrt(Math.pow(e-a,2)+Math.pow(t-o,2)),l=Math.atan2(t-o,e-a),c=rAe(n),u=Math.round(l/c)*c;return{x:a+r*Math.cos(u),y:o+r*Math.sin(u)*s}}var{Vec2:UA}=K,BZ=class extends $s{extendLine({x1:e,y1:t,x2:i,y2:n},s,a){const o={x1:e,y1:t,x2:i,y2:n};if(!s.extendStart&&!s.extendEnd)return o;const[r,l]=pTe(o,a.yAxis.bounds),c=o.x2<o.x1,u=o.y1>=o.y2,h=o.x2===o.x1;return s.extendEnd&&(h?o.y2=u?l.y:r.y:(o.x2=c?r.x:l.x,o.y2=c?r.y:l.y)),s.extendStart&&(h?o.y1=u?r.y:l.y:(o.x1=c?l.x:r.x,o.y1=c?l.y:r.y)),o}dragStart(e,t,i){this.dragState={offset:t,start:hi(e.start,i),end:hi(e.end,i)}}drag(e,t,i,n){e.locked||(this.activeHandle?this.dragHandle(e,t,i,n):this.dragAll(e,t,i))}dragAll(e,t,i){const{dragState:n}=this;n&&this.translatePoints({datum:e,start:n.start,end:n.end,translation:UA.sub(t,n.offset),context:i})}translatePoints({datum:e,start:t,end:i,translation:n,context:s}){const a=UA.add(t,n),o=UA.add(i,n),r=gn(a,s),l=gn(o,s),{xAxis:c,yAxis:u}=s,h=(g,x,y)=>x>=g&&x<=y,f=[a,o].concat(...this.getOtherCoords(e,a,o,s));f.every(g=>h(c.bounds.x,g.x,c.bounds.x+c.bounds.width))&&(e.start.x=r.x,e.end.x=l.x),f.every(g=>h(u.bounds.y,g.y,u.bounds.y+u.bounds.height))&&(e.start.y=r.y,e.end.y=l.y)}translate(e,t,i){this.translatePoints({datum:e,start:hi(e.start,i),end:hi(e.end,i),translation:t,context:i})}copy(e,t,i){const n=rp(e,i);if(!n)return;const s=this.computeBBoxWithoutHandles();return this.translatePoints({datum:t,start:{x:n.x1,y:n.y1},end:{x:n.x2,y:n.y2},translation:{x:-s.width/2,y:-s.height/2},context:i}),t}getOtherCoords(e,t,i,n){return[]}},{Vec4:lB}=K,Mj=class extends BZ{constructor(){super(...arguments),this.start=new Ln,this.end=new Ln,this.anchor={x:0,y:0,position:"above"}}update(e,t){const i=rp(e,t);i!=null&&(this.updateHandles(e,i),this.updateAnchor(e,i,t))}toggleHandles(e){if(typeof e=="boolean")this.start.visible=e,this.end.visible=e;else for(const[t,i]of Object.entries(e))this[t].visible=i;this.start.toggleHovered(this.activeHandle==="start"),this.end.toggleHovered(this.activeHandle==="end")}toggleActive(e){this.toggleHandles(e),this.start.toggleActive(e),this.end.toggleActive(e)}dragHandle(e,t,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=n?this.snapToAngle(e,t,i):gn(this[s].drag(t).point,i);!o||!Ac(i,o)||(e[s].x=o.x,e[s].y=o.y)}snapToAngle(e,t,i){const{activeHandle:n}=this,a=["start","end"].find(r=>r!==n);if(!n||!a)return;this[n].toggleDragging(!0);const o=hi(e[a],i);return gn(Nj(t,o,e.snapToAngle),i)}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1)}getAnchor(){return this.anchor}getCursor(){return"pointer"}containsPoint(e,t){const{start:i,end:n}=this;return this.activeHandle=void 0,i.containsPoint(e,t)?(this.activeHandle="start",!0):n.containsPoint(e,t)?(this.activeHandle="end",!0):!1}getNodeAtCoords(e,t){if(this.start.containsPoint(e,t)||this.end.containsPoint(e,t))return"handle"}updateHandles(e,t,i){this.start.update({...this.getHandleStyles(e,"start"),...this.getHandleCoords(e,t,"start")}),this.end.update({...this.getHandleStyles(e,"end"),...this.getHandleCoords(e,t,"end",i)}),this.start.toggleLocked(e.locked??!1),this.end.toggleLocked(e.locked??!1)}updateAnchor(e,t,i,n){this.anchor={x:t.x1+i.seriesRect.x,y:t.y1+i.seriesRect.y,position:this.anchor.position}}getHandleCoords(e,t,i,n){return i==="start"?lB.start(t):lB.end(t)}getHandleStyles(e,t){return{fill:e.handle.fill,stroke:e.handle.stroke,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}}},{Vec2:cB,Vec4:uB}=K,lAe=class extends Mj{constructor(){super(...arguments),this.label=new ae.Text({zIndex:1}),this.anchor={x:0,y:0,position:"above-left"}}setTextInputBBox(e){this.textInputBBox=e,this.markDirty(ae.RedrawType.MINOR)}update(e,t){const i=rp(e,t);if(i==null)return;const n=this.getTextBBox(e,i);this.updateLabel(e,n,i),this.updateHandles(e,i,n),this.updateShape(e,n,i),this.updateAnchor(e,i,t,n)}dragHandle(e,t,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=cB.add(a.end,cB.sub(t,a.offset)),r=n?this.snapToAngle(e,o,i):gn(o,i);!r||!Ac(i,r)||(e[s].x=r.x,e[s].y=r.y)}containsPoint(e,t){const{label:i}=this;return super.containsPoint(e,t)||i.containsPoint(e,t)}getNodeAtCoords(e,t){return this.label.containsPoint(e,t)?"text":super.getNodeAtCoords(e,t)}getTextBBox(e,t){const{text:i}=e.getText();return yj(e,i,uB.end(t),this.textInputBBox)}updateLabel(e,t,i){const{text:n,isPlaceholder:s}=e.getText();xZ(this.label,n,s,e,this.getLabelCoords(e,t,i))}updateShape(e,t,i){}getLabelCoords(e,t,i){return uB.end(i)}getHandleStyles(e,t){return{...super.getHandleStyles(e,t),stroke:e.handle.stroke??e.color}}},{drawCorner:cAe}=ae,zf=class extends lAe{constructor(){super(),this.type="callout",this.shape=new ae.Path,this.append([this.shape,this.label,this.start,this.end])}static is(e){return $s.isCheck(e,"callout")}drag(e,t,i,n){e.locked||(this.activeHandle==="end"?this.dragHandle(e,t,i,n):this.dragAll(e,t,i))}getLabelCoords(e,t,i){const n=e.getPadding(),{bodyBounds:s={x:0,y:0,width:0,height:0}}=this.getDimensions(e,t,i)??{};return{x:s.x+n.left,y:s.y-n.bottom}}getHandleStyles(e,t){return t==="start"?{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}:{fill:void 0,strokeWidth:0}}updateAnchor(e,t,i,n){const{bodyBounds:s}=this.getDimensions(e,n,t)??{},a=s??n;this.anchor={x:a.x+i.seriesRect.x,y:a.y+i.seriesRect.y-a.height,position:this.anchor.position}}updateShape(e,t,i){const{shape:n}=this;n.fill=e.fill,n.fillOpacity=e.fillOpacity??1,n.stroke=e.stroke,n.strokeWidth=e.strokeWidth??1,n.strokeOpacity=e.strokeOpacity??1;const{tailPoint:s,bodyBounds:a}=this.getDimensions(e,t,i)??{};!s||!a||this.updatePath(s,a)}updatePath(e,t){const{x:i,y:n}=e,{x:s,y:a,width:o,height:r}=t,l=a-r,c=s+o,u=this.calculateCalloutPlacement({x:i,y:n},t),h=8,f=[{coordinates:{x0:s,x1:s+h,y0:l+h,y1:l,cx:u==="topLeft"?i:s+h,cy:u==="topLeft"?n:l+h},type:u==="topLeft"?"calloutCorner":"corner"},{coordinates:{x0:s+h,x1:c-h,y0:l,y1:l,cx:i,cy:n},type:u==="top"?"calloutSide":"side"},{coordinates:{x0:c-h,x1:c,y0:l,y1:l+h,cx:u==="topRight"?i:c-h,cy:u==="topRight"?n:l+h},type:u==="topRight"?"calloutCorner":"corner"},{coordinates:{x0:c,x1:c,y0:l+h,y1:a-h,cx:i,cy:n},type:u==="right"?"calloutSide":"side"},{coordinates:{x0:c,x1:c-h,y0:a-h,y1:a,cx:u==="bottomRight"?i:c-h,cy:u==="bottomRight"?n:a-h},type:u==="bottomRight"?"calloutCorner":"corner"},{coordinates:{x0:c-h,x1:s+h,y0:a,y1:a,cx:i,cy:n},type:u==="bottom"?"calloutSide":"side"},{coordinates:{x0:s+h,x1:s,y0:a,y1:a-h,cx:u==="bottomLeft"?i:s+h,cy:u==="bottomLeft"?n:a-h},type:u==="bottomLeft"?"calloutCorner":"corner"},{coordinates:{x0:s,x1:s,y0:a-h,y1:l+h,cx:i,cy:n},type:u==="left"?"calloutSide":"side"}],{path:g}=this.shape;g.clear(),g.moveTo(s,l+h),f.forEach(({coordinates:x,type:y})=>{this.drawPath(g,x,h,y)}),g.closePath()}drawPath(e,{x0:t,y0:i,x1:n,y1:s,cx:a,cy:o},r,l){switch(l){case"calloutCorner":{e.lineTo(a,o),e.lineTo(n,s);break}case"corner":{cAe(e,{x0:t,x1:n,y0:i,y1:s,cx:a,cy:o},r,!1);break}case"calloutSide":{if(t!==n){const u=t>n?-1:1,h=Math.min(t,n)+Math.abs(n-t)/2;e.lineTo(h-6*u,i),e.lineTo(a,o),e.lineTo(h+6*u,i),e.lineTo(n,s)}else{const u=i>s?-1:1,h=Math.min(i,s)+Math.abs(i-s)/2;e.lineTo(t,h-6*u),e.lineTo(a,o),e.lineTo(t,h+6*u),e.lineTo(n,s)}break}case"side":default:{e.lineTo(n,s);break}}}calculateCalloutPlacement(e,t){const i=t.x+t.width,n=t.y-t.height;let s,a;return e.x>i?s="right":e.x<t.x&&(s="left"),e.y>t.y?a="bottom":e.y<n&&(a="top"),s&&a?`${a}${s[0].toUpperCase()}${s.substring(1)}`:a??s}getDimensions(e,t,i){const{fontSize:n}=e,s=e.getPadding(),a=s.left+s.right,o=s.top+s.bottom,r=t.width+a,l=Math.max(t.height+o,n+o);return{tailPoint:{x:i.x1,y:i.y1},bodyBounds:{x:t.x,y:t.y,width:r,height:l}}}containsPoint(e,t){const{start:i,end:n,shape:s}=this;if(this.activeHandle=void 0,i.containsPoint(e,t))return this.activeHandle="start",!0;const a=n.containsPoint(e,t)||s.containsPoint(e,t);return a&&(this.activeHandle="end"),a}};function Ij({key:e}){return e==="Escape"}function Tj({key:e,shiftKey:t}){return!t&&e==="Enter"}var{StateMachine:ir}=K,uAe=class extends ir{constructor(e){const t=({point:f})=>{const g=this.createDatum(),x=f();g.set({start:x,end:x,visible:!0}),e.create(g)},i=()=>{var f;(f=e.node())==null||f.toggleActive(!0)},n=()=>{e.showTextInput();const f=e.datum();f&&(f.visible=!1)},s=()=>{e.hideTextInput();const f=e.datum();f&&(f.visible=!0),e.deselect()},a=f=>{const g=e.node();g==null||g.setTextInputBBox(f),e.update()},o=({point:f})=>{var g,x,y;(g=e.datum())==null||g.set({end:f()}),(x=e.node())==null||x.toggleActive(!0),(y=e.node())==null||y.toggleHandles({end:!1}),e.update()},r=()=>{var f;e.showAnnotationOptions(),(f=e.node())==null||f.toggleHandles({end:!0})},l=({colorPickerType:f,colorOpacity:g,color:x,opacity:y})=>{const b=e.datum();b&&(f==="text-color"&&e.updateTextInputColor(x),KN(b,f,g,x,y),e.update())},c=f=>{const g=e.datum(),x=e.node();!g||!x||!rl(g)||(g.fontSize=f,e.updateTextInputFontSize(f),e.update())},u=()=>{e.delete()},h=({textInputValue:f,bbox:g})=>{var x;if(f!=null&&f.length>0){const y=e.datum();if(!rl(y))return;const b=GN(y,f,g.width);y==null||y.set({text:b}),e.update(),e.recordAction(`Create ${(x=e.node())==null?void 0:x.type} annotation`)}else e.delete()};super("start",{start:{click:{target:"waiting-first-render",action:t},dragStart:{target:"waiting-first-render",action:t},cancel:ir.parent,reset:ir.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:o,drag:o,click:{target:"edit",action:r},dragEnd:{target:"edit",action:r},reset:{target:ir.parent,action:u},cancel:{target:ir.parent,action:u}},edit:{onEnter:n,updateTextInputBBox:a,color:l,fontSize:c,keyDown:[{guard:Ij,target:ir.parent,action:u},{guard:Tj,target:ir.parent,action:h}],click:{target:ir.parent,action:h},dragStart:{target:ir.parent,action:h},zoomChange:{target:ir.parent,action:h},onExit:s,cancel:{target:ir.parent,action:u}}}),this.debug=Me.Debug.create(!0,"annotations")}},dAe=class extends uAe{createDatum(){return new Fa}},dB={type:"callout",datum:Fa,scene:zf,isDatum:Fa.is,translate:(e,t,i,n)=>{if(Fa.is(t)&&zf.is(e))return e.translate(t,i,n)},copy:(e,t,i,n)=>{if(Fa.is(t)&&Fa.is(i)&&zf.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{Fa.is(t)&&zf.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new dAe({...e,create:t("callout"),datum:i(Fa.is),node:n(zf.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(Fa.is),node:i(zf.is)})},Aj=class extends zZ{constructor(){super(...arguments),this.label=new ae.Text({zIndex:1}),this.anchor={x:0,y:0,position:"above-left"}}setTextInputBBox(e){this.textInputBBox=e,this.markDirty(ae.RedrawType.MINOR)}update(e,t){const i=hi(e,t),n=this.getTextBBox(e,i,t);this.updateLabel(e,n),this.updateHandle(e,i,n),this.updateShape(e,n),this.anchor=this.updateAnchor(e,n,t)}copy(e,t,i){const n=hi(e,i),s=this.getTextBBox(e,n,i),a=e.getPadding(),o=a.left+a.right,r=a.top+a.bottom,l=(s.width+o)/2,c=s.height+r,u=gn({x:n.x-l,y:n.y-c},i);return t.x=u.x,t.y=u.y,t}containsPoint(e,t){const{label:i}=this;return super.containsPoint(e,t)||i.visible&&i.containsPoint(e,t)}getNodeAtCoords(e,t){return this.label.visible&&this.label.containsPoint(e,t)?"text":super.getNodeAtCoords(e,t)}getTextBBox(e,t,i){const{text:n}=e.getText();return yj(e,n,{x:t.x,y:t.y},this.textInputBBox)}updateLabel(e,t){const{text:i,isPlaceholder:n}=e.getText();xZ(this.label,i,n,e,this.getLabelCoords(e,t))}updateShape(e,t){}updateAnchor(e,t,i){return{x:t.x+i.seriesRect.x,y:t.y+i.seriesRect.y-t.height,position:this.anchor.position}}getLabelCoords(e,t){return t}getHandleCoords(e,t,i){return i}getHandleStyles(e){const t=super.getHandleStyles(e);return t.stroke=e.handle.stroke??e.color,t}},{drawCorner:GA}=ae,_f=class extends Aj{constructor(){super(),this.type="comment",this.shape=new ae.Path,this.append([this.shape,this.label,this.handle])}static is(e){return $s.isCheck(e,"comment")}updateShape(e,t){const{shape:i}=this;i.fill=e.fill,i.fillOpacity=e.fillOpacity??1,i.stroke=e.stroke??"transparent",i.strokeWidth=e.strokeWidth??1,i.strokeOpacity=e.strokeOpacity??1,this.updatePath(e,t)}getLabelCoords(e,t){const i=e.getPadding();return{x:t.x+i.left,y:t.y-i.bottom}}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke??e.fill,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}}updateAnchor(e,t,i){const n=super.updateAnchor(e,t,i),s=e.getPadding();return n.y-=s.bottom+s.top,n}updatePath(e,t){const i=e.getPadding(),{x:n,y:s}=t;let{width:a,height:o}=t;const{fontSize:r}=e,l=i.left+i.right,c=i.top+i.bottom;a=a+l,o=Math.max(o+c,r+c);const u=s-o,h=n+a,f=(r*UN+c)/2,{path:g}=this.shape;g.clear(),g.moveTo(n,s),g.lineTo(n,u+f),GA(g,{x0:n,x1:n+f,y0:u+f,y1:u,cx:n+f,cy:u+f},f,!1),g.lineTo(h-f,u),GA(g,{x0:h-f,x1:h,y0:u,y1:u+f,cx:h-f,cy:u+f},f,!1),g.lineTo(h,s-f),GA(g,{x0:h,x1:h-f,y0:s-f,y1:s,cx:h-f,cy:s-f},f,!1),g.closePath()}containsPoint(e,t){return super.containsPoint(e,t)||this.shape.containsPoint(e,t)}},{StateMachine:Jl}=K,kj=class extends Jl{constructor(e){const t=({point:u})=>{const h=this.createDatum(),{x:f,y:g}=u();h.set({x:f,y:g}),e.create(h)},i=()=>{var u;(u=e.node())==null||u.toggleActive(!0),e.showAnnotationOptions(),e.update()},n=()=>{e.showTextInput();const u=e.datum();u&&(u.visible=!1)},s=()=>{e.hideTextInput();const u=e.datum();u&&(u.visible=!0),e.deselect()},a=u=>{const h=e.node();h==null||h.setTextInputBBox(u),e.update()},o=({colorPickerType:u,colorOpacity:h,color:f,opacity:g})=>{const x=e.datum();x&&(u==="text-color"&&e.updateTextInputColor(f),KN(x,u,h,f,g),e.update())},r=u=>{const h=e.datum(),f=e.node();!h||!f||!rl(h)||(h.fontSize=u,e.updateTextInputFontSize(u),e.update())},l=()=>{e.delete()},c=({textInputValue:u,bbox:h})=>{var f;if(u!=null&&u.length>0){const g=e.datum();if(!rl(g))return;const x=GN(g,u,h.width);g==null||g.set({text:x}),e.update(),e.recordAction(`Create ${(f=e.node())==null?void 0:f.type} annotation`)}else e.delete()};super("start",{start:{click:{target:"waiting-first-render",action:t},dragStart:{target:"waiting-first-render",action:t},cancel:Jl.parent,reset:Jl.parent},"waiting-first-render":{render:{target:"edit",action:i}},edit:{onEnter:n,updateTextInputBBox:a,color:o,fontSize:r,keyDown:[{guard:Ij,target:Jl.parent,action:l},{guard:Tj,target:Jl.parent,action:c}],click:{target:Jl.parent,action:c},dragStart:{target:Jl.parent,action:c},zoomChange:{target:Jl.parent,action:c},onExit:s,cancel:{target:Jl.parent,action:l}}}),this.debug=Me.Debug.create(!0,"annotations")}},hAe=class extends kj{createDatum(){return new wo}},hB={type:"comment",datum:wo,scene:_f,isDatum:wo.is,translate:(e,t,i,n)=>{wo.is(t)&&_f.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(wo.is(t)&&wo.is(i)&&_f.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{wo.is(t)&&_f.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new hAe({...e,create:t("comment"),datum:i(wo.is),node:n(_f.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(wo.is),node:i(_f.is)})},{calculateLabelTranslation:pAe,ChartAxisDirection:fAe}=K,VZ=class extends ae.Group{constructor(){super({name:"AnnotationAxisLabelGroup"}),this.label=new ae.Text({zIndex:1}),this.rect=new ae.Rect;const{label:e}=this;e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.textBaseline="middle",e.textAlign="center",this.append([this.rect,this.label])}update(e){this.updateLabel(e),this.updateRect(e),this.updatePosition(e)}updateLabel({value:e,styles:t,context:i}){const{label:n}=this,{fontWeight:s,fontSize:a,fontStyle:o,fontFamily:r,textAlign:l,color:c="white",formatter:u}=t;n.setProperties({fontWeight:s,fontSize:a,fontStyle:o,fontFamily:r,textAlign:l,fill:c}),n.text=this.getFormattedValue(e,u??i.scaleValueFormatter())}updateRect({styles:e}){const{rect:t}=this,{cornerRadius:i,fill:n,fillOpacity:s,stroke:a,strokeOpacity:o}=e;t.setProperties({cornerRadius:i,fill:n,fillOpacity:s,stroke:a,strokeOpacity:o})}updatePosition({x:e,y:t,context:i,styles:{padding:n}}){var x;const{label:s,rect:a}=this,o=(x=s.getBBox())==null?void 0:x.clone(),r=8,l=5;o.grow(n??r,"horizontal"),o.grow(n??l,"vertical");const c=i.direction===fAe.X?l/2:r,{xTranslation:u,yTranslation:h}=pAe({yDirection:!0,padding:i.labelPadding-c,position:i.position??"left",bbox:o}),f=e+u,g=t+h;s.x=f,s.y=g,a.x=f-o.width/2,a.y=g-o.height/2,a.height=o.height,a.width=o.width}getFormattedValue(e,t){return(t==null?void 0:t(e))??String(e)}};VZ.className="AxisLabel";var{Vec2:$r}=K,pr=class extends ae.Line{constructor(){super(...arguments),this.growCollisionBox=9}setProperties(e,t){return super.setProperties(e,t),this.updateCollisionBBox(),this}updateCollisionBBox(){const{growCollisionBox:e,strokeWidth:t,x1:i,y1:n,x2:s,y2:a}=this;let o=t+e;o%2===0&&(o+=1);const r=$r.from(i,n-Math.floor(o/2)),l=$r.from(s,a),c=$r.distance(r,l);this.collisionBBox=new ae.BBox(r.x,r.y,c,o)}isPointInPath(e,t){const{collisionBBox:i,x1:n,y1:s,x2:a,y2:o}=this;if(!i)return!1;const r=$r.from(n,s),l=$r.from(a,o),c=$r.sub($r.from(e,t),r),u=$r.sub(l,r),h=$r.rotate(c,$r.angle(c,u),r);return i.containsPoint(h.x,h.y)??!1}render(e){this.applyClipMask(e.ctx),super.render(e),this.closeClipMask(e.ctx)}setClipMask(e){K.jsonDiff(this.clipMask,e)!=null&&this.markDirty(ae.RedrawType.MAJOR),this.clipMask=e}applyClipMask(e){const{clipMask:t}=this;if(!t)return;const{x:i,y:n,radius:s}=t;e.save(),e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.ellipse(i,n,s,s,0,Math.PI*2,0,!0),e.clip()}closeClipMask(e){this.clipMask&&e.restore()}},pB=class extends ae.TransformableText{constructor(){super(...arguments),this.growCollisionBox={top:4,right:4,bottom:4,left:4}}isPointInPath(e,t){const i=this.fromParentPoint(e,t),n=this.computeBBoxWithoutTransforms();return n?n.grow(this.growCollisionBox).containsPoint(i.x,i.y):!1}},{Vec2:cs}=K,nv=class Oh{static updateLineText(t,i,n){var y,b;if(!((y=i.text)!=null&&y.label)&&this.text&&(this.removeChild(this.text),t.setClipMask(),this.text=void 0),!((b=i.text)!=null&&b.label))return;this.text==null&&(this.text=new pB,this.appendChild(this.text));const{alignment:s,position:a}=i.text,o=Oh.getNumbers(n,i.text.fontSize,i.strokeWidth),{point:r,textBaseline:l}=Oh.positionAndAlignment(o,a,s);Oh.setProperties(this.text,i.text,r,o.angle,l);const{x:c,y:u,width:h,height:f}=this.text.getBBox(),g=cs.length(cs.from(h,f)),x={x:c+h/2,y:u+f/2,radius:g/2+cs.length(o.offset)};return a==="center"?t.setClipMask(x):t.setClipMask(),{clipMask:x,numbers:o}}static updateChannelText(t,i,n,s){var g,x;if(!((g=i.text)!=null&&g.label)&&this.text&&(this.removeChild(this.text),this.text=void 0),!((x=i.text)!=null&&x.label))return;this.text==null&&(this.text=new pB,this.appendChild(this.text));const{alignment:a,position:o}=i.text,[r,l]=n.y1<=s.y1?[n,s]:[s,n];let c=r;o==="bottom"?c=l:o==="inside"&&(c={x1:(r.x1+l.x1)/2,y1:(r.y1+l.y1)/2,x2:(r.x2+l.x2)/2,y2:(r.y2+l.y2)/2});const u=Oh.getNumbers(c,i.text.fontSize,i.strokeWidth),{point:h,textBaseline:f}=Oh.positionAndAlignment(u,o==="inside"?"center":o,a,t);Oh.setProperties(this.text,i.text,h,u.angle,f)}static getNumbers(t,i,n){let[s,a]=cs.from(t);s.x>a.x&&([s,a]=[a,s]);const o=cs.normalized(cs.sub(a,s)),r=cs.angle(o),l=cs.multiply(o,Ln.HANDLE_SIZE/2+(i??14)/2),c=cs.multiply(o,(n??2)/2+(i??14)/3);return{left:s,right:a,normal:o,angle:r,inset:l,offset:c}}static positionAndAlignment({left:t,right:i,normal:n,angle:s,inset:a,offset:o},r,l,c){let u;l==="right"?u=cs.sub(i,a):l==="center"?u=cs.add(t,cs.multiply(n,cs.distance(t,i)/2)):u=cs.add(t,a);let h="bottom";return r==="bottom"?(u=cs.rotate(o,s+Math.PI/2,u),h="top"):r==="center"&&!c?h="middle":u=cs.rotate(o,s-Math.PI/2,u),{point:u,textBaseline:h}}static setProperties(t,i,n,s,a){t.setProperties({text:i.label,x:n.x,y:n.y,rotation:s,rotationCenterX:n.x,rotationCenterY:n.y,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,textAlign:i.alignment,textBaseline:a})}},{ChartAxisDirection:mAe,Vec2:Ff,Vec4:WA}=K,No=class extends $s{constructor(){super(),this.type="cross-line",this.line=new pr,this.middle=new fm,this.isHorizontal=!1,this.append([this.line,this.middle])}static is(e){return $s.isCheck(e,"cross-line")}update(e,t){const{seriesRect:i}=t;this.seriesRect=i,this.isHorizontal=Yn.is(e);const n=this.isHorizontal?t.yAxis:t.xAxis,s=this.convertCrossLine(e,n);if(s==null){this.visible=!1;return}this.visible=e.visible??!0,this.visible&&(this.updateLine(e,s),this.updateHandle(e,s),this.updateText(e,s),this.updateAxisLabel(e,n,s))}updateLine(e,t){const{line:i}=this,{lineDashOffset:n,stroke:s,strokeWidth:a,strokeOpacity:o}=e,{x1:r,y1:l,x2:c,y2:u}=t;i.setProperties({x1:r,y1:l,x2:c,y2:u,lineCap:e.getLineCap(),lineDash:e.getLineDash(),lineDashOffset:n,stroke:s,strokeWidth:a,strokeOpacity:o,fillOpacity:0})}updateHandle(e,t){const{middle:i}=this,{locked:n,stroke:s,strokeWidth:a,strokeOpacity:o}=e,r={fill:e.handle.fill,stroke:e.handle.stroke??s,strokeOpacity:e.handle.strokeOpacity??o,strokeWidth:e.handle.strokeWidth??a},l=Ff.sub(WA.center(t),Ff.from(i.handle.width/2,i.handle.height/2));i.gradient=this.isHorizontal?"horizontal":"vertical",i.update({...r,...l}),i.toggleLocked(n??!1)}updateText(e,t){nv.updateLineText.call(this,this.line,e,t)}createAxisLabel(e){const t=new VZ;return e.attachLabel(t),t}updateAxisLabel(e,t,i){this.axisLabel||(this.axisLabel=this.createAxisLabel(t));const{axisLabel:n,seriesRect:s}=this,{direction:a,position:o}=t;if(e.axisLabel.enabled){n.visible=this.visible;const r=o==="left"||o==="top"?WA.start(i):WA.end(i),l=a===mAe.X?r.x:r.y;if(!t.inRange(l)){n.visible=!1;return}n.update({...Ff.add(r,Ff.required(s)),value:e.value,styles:e.axisLabel,context:t})}else n.visible=!1}toggleHandles(e){this.middle.visible=e,this.middle.toggleHovered(this.activeHandle==="middle")}destroy(){var e;super.destroy(),(e=this.axisLabel)==null||e.destroy()}toggleActive(e){this.toggleHandles(e),this.middle.toggleActive(e)}dragStart(e,t,i){const n=Yn.is(e)?{x:t.x,y:Xh(e.value,i.yAxis)}:{x:Xh(e.value,i.xAxis),y:t.y};this.dragState={offset:t,middle:n}}drag(e,t,i){const{activeHandle:n,dragState:s}=this;if(e.locked)return;let a;if(n)this[n].toggleDragging(!0),a=this[n].drag(t).point;else if(s)a=Ff.add(s.middle,Ff.sub(t,s.offset));else return;const o=gn(a,i),r=Yn.is(e);e.set({value:r?o.y:o.x})}translate(e,{x:t,y:i},n){if(e.locked)return;const{axisContext:s,translation:a}=Yn.is(e)?{axisContext:n.yAxis,translation:i}:{axisContext:n.xAxis,translation:t},o=Xh(e.value,s)+a,r=gb(o,s);isNaN(r)||e.set({value:r})}stopDragging(){this.middle.toggleDragging(!1)}copy(e,t,i){const n=Yn.is(e),s=this.isHorizontal?i.yAxis:i.xAxis,a=this.convertCrossLine(e,s);if(!a)return;const o=n?-30:0,r=n?0:-30,l=gn({x:a.x1+r,y:a.y1+o},i);return t.set({value:n?l.y:l.x}),t}getCursor(){return this.activeHandle==null?"pointer":this[this.activeHandle].getCursor()}containsPoint(e,t){const{middle:i,line:n,text:s}=this;return this.activeHandle=void 0,i.containsPoint(e,t)?(this.activeHandle="middle",!0):n.isPointInPath(e,t)||!!(s!=null&&s.containsPoint(e,t))}getNodeAtCoords(e,t){var i;if((i=this.text)!=null&&i.containsPoint(e,t))return"text";if(this.line.isPointInPath(e,t))return"line";if(this.middle.containsPoint(e,t))return"handle"}getAnchor(){const e=this.computeBBoxWithoutHandles();return this.isHorizontal?{x:e.x+e.width/2,y:e.y}:{x:e.x+e.width,y:e.y+e.height/2,position:"right"}}convertCrossLine(e,t){if(e.value==null)return;let i=0,n=0,s=0,a=0;const{bounds:o,scaleConvert:r,scaleBandwidth:l}=t,c=(l()??0)/2;if(Yn.is(e)){const u=r(e.value)+c;n=o.width,s=u,a=u}else{const u=r(e.value)+c;i=u,n=u,a=o.height}return{x1:i,y1:s,x2:n,y2:a}}},{StateMachine:x1}=K,UZ=class extends x1{constructor(e,t){const i=({point:s})=>{const a=e==="horizontal",o=a?new Yn:new ur,{x:r,y:l}=s();o.set({value:a?l:r}),t.create(o),t.recordAction(`Create ${a?"horizontal-line":"vertical-line"} annotation`)},n=()=>{var s;(s=t.node())==null||s.toggleActive(!0),t.showAnnotationOptions(),t.update()};super("start",{start:{click:{target:"waiting-first-render",action:i},drag:{target:"waiting-first-render",action:i},reset:x1.parent,cancel:x1.parent},"waiting-first-render":{render:{target:x1.parent,action:n}}}),this.debug=Me.Debug.create(!0,"annotations")}},fB={type:"horizontal-line",datum:Yn,scene:No,isDatum:Yn.is,translate:(e,t,i,n)=>{Yn.is(t)&&No.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(Yn.is(t)&&Yn.is(i)&&No.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{Yn.is(t)&&No.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getNode:i})=>new UZ("horizontal",{...e,create:t("horizontal-line"),node:i(No.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(Yn.is),node:i(No.is)})},mB={type:"vertical-line",datum:ur,scene:No,isDatum:ur.is,translate:(e,t,i,n)=>{ur.is(t)&&No.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(ur.is(t)&&ur.is(i)&&No.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{ur.is(t)&&No.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getNode:i})=>new UZ("vertical",{...e,create:t("vertical-line"),node:i(No.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(ur.is),node:i(No.is)})},{Vec4:gAe}=K,GZ=class{static updateBackground(e,t,i,n){var c;const{background:s}=this,{seriesRect:a}=n;s.path.clear(!0);const o=gAe.from(0,0,a.width,a.height),r=this.getBackgroundPoints(e,t,i,o);for(let u=0;u<r.length;u++){const h=r[u];u===0?s.path.moveTo(h.x,h.y):s.path.lineTo(h.x,h.y)}s.path.closePath(),s.checkPathDirty();const l=((c=this.getBackgroundStyles)==null?void 0:c.call(this,e))??e.background;s.setProperties({fill:l.fill,fillOpacity:l.fillOpacity})}},WZ=class extends BZ{constructor(){super(...arguments),this.handles={},this.topLine=new pr,this.bottomLine=new pr,this.background=new ae.Path({zIndex:-1}),this.anchor={x:0,y:0},this.updateBackground=GZ.updateBackground.bind(this)}update(e,t){const{locked:i,visible:n}=e,s=rp(e,t),a=rp(e.bottom,t);if(s==null||a==null){this.visible=!1;return}else this.visible=n??!0;const o=this.extendLine(s,e,t),r=this.extendLine(a,e,t);this.updateLines(e,o,r,t,s,a),this.updateHandles(e,s,a),this.updateText(e,s,a),this.updateBackground(e,o,r,t),this.updateAnchor(s,a);for(const l of Object.values(this.handles))l.toggleLocked(i??!1)}snapToAngle(e,t,i,n,s,a){const{handles:o}=this,r=o[n].handle,l=o[i].drag(e).point;return gn(Nj(l,r,s,a),t)}toggleHandles(e){const{handles:t}=this;if(typeof e=="boolean"){for(const[i,n]of Object.entries(t))n.visible=e,n.toggleHovered(this.activeHandle===i);return}for(const[i,n]of Object.entries(e)){const s=t[i];s.visible=n??!0,s.toggleHovered(this.activeHandle===i)}}toggleActive(e){this.toggleHandles(e);for(const t of Object.values(this.handles))t.toggleActive(e)}stopDragging(){const{activeHandle:e,handles:t}=this;e!=null&&t[e].toggleDragging(!1)}getAnchor(){return this.anchor}getCursor(){return this.activeHandle==null?"pointer":this.handles[this.activeHandle].getCursor()}containsPoint(e,t){const{handles:i,topLine:n,bottomLine:s,text:a}=this;this.activeHandle=void 0;for(const[o,r]of Object.entries(i))if(r.containsPoint(e,t))return this.activeHandle=o,!0;return n.containsPoint(e,t)||s.containsPoint(e,t)||!!(a!=null&&a.containsPoint(e,t))}getNodeAtCoords(e,t){var i;if((i=this.text)!=null&&i.containsPoint(e,t))return"text";if(this.topLine.containsPoint(e,t)||this.bottomLine.containsPoint(e,t))return"line";for(const[n,s]of Object.entries(this.handles))if(s.containsPoint(e,t))return"handle"}updateAnchor(e,t){const{x:i,y:n}=ae.Transformable.toCanvasPoint(this.topLine,(e.x1+e.x2)/2,Math.min(e.y1,e.y2,t.y1,t.y2));this.anchor.x=i,this.anchor.y=n}},{Vec2:yo,Vec4:b1}=K,Bf=class extends WZ{constructor(){super(),this.type="disjoint-channel",this.handles={topLeft:new Ln,topRight:new Ln,bottomLeft:new Ln,bottomRight:new fm},this.updateText=nv.updateChannelText.bind(this,!1),this.append([this.background,this.topLine,this.bottomLine,...Object.values(this.handles)])}static is(e){return $s.isCheck(e,"disjoint-channel")}dragHandle(e,t,i,n){const{activeHandle:s,handles:a}=this;if(s==null)return;const{offset:o}=a[s].drag(t);a[s].toggleDragging(!0);const r=u=>gn(u,i),l=e.toJson(),c=e.snapToAngle;switch(s){case"topLeft":case"bottomLeft":{const u=s==="topLeft"?1:-1,h=n?this.snapToAngle(t,i,"topLeft","topRight",c,u):r({x:a.topLeft.handle.x+o.x,y:a.topLeft.handle.y+o.y*u}),f=n?this.snapToAngle(t,i,"bottomLeft","bottomRight",c,-u):r({x:a.bottomLeft.handle.x+o.x,y:a.bottomLeft.handle.y+o.y*-u});if(!h||h.y==null||!f||f.y==null||e.start.y==null)return;const g=e.startHeight+(h.y-e.start.y)*2;e.start.x=h.x,e.start.y=h.y,e.startHeight=g;break}case"topRight":{const u=n?this.snapToAngle(t,i,"topRight","topLeft",c):r({x:a.topRight.handle.x+o.x,y:a.topRight.handle.y+o.y});if(!u||u.y==null||e.end.y==null)return;const h=e.endHeight+(u.y-e.end.y)*2;e.end.x=u.x,e.end.y=u.y,e.endHeight=h;break}case"bottomRight":{const u=r({x:a.bottomLeft.handle.x+o.x,y:a.bottomLeft.handle.y+o.y}),h=r({x:a.bottomRight.handle.x+o.x,y:a.bottomRight.handle.y+o.y});if(!u||!h||e.start.y==null||e.end.y==null)return;const f=e.end.y-h.y,g=e.startHeight-(e.endHeight-f);e.startHeight=g,e.endHeight=f}}e.isValidWithContext(i)||e.set(l)}getOtherCoords(e,t,i,n){const s=hi(e.bottom.start,n).y-hi(e.start,n).y,a=hi(e.bottom.end,n).y-hi(e.end,n).y,o=yo.add(t,yo.from(0,s)),r=yo.add(i,yo.from(0,a));return[o,r]}updateLines(e,t,i){const{topLine:n,bottomLine:s}=this,{lineDashOffset:a,stroke:o,strokeOpacity:r,strokeWidth:l}=e,c={lineCap:e.getLineCap(),lineDash:e.getLineDash(),lineDashOffset:a,stroke:o,strokeOpacity:r,strokeWidth:l};n.setProperties({...t,...c}),s.setProperties({...i,...c})}updateHandles(e,t,i){const{handles:{topLeft:n,topRight:s,bottomLeft:a,bottomRight:o}}=this,r={fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth};n.update({...r,...b1.start(t)}),s.update({...r,...b1.end(t)}),a.update({...r,...b1.start(i)}),o.update({...r,...yo.sub(b1.end(i),yo.from(o.handle.width/2,o.handle.height/2))})}getBackgroundPoints(e,t,i,n){const s=t.x1>t.x2,a=t.y1>t.y2,o=a?n.y2:n.y1,r=a?n.y1:n.y2,l=yo.from(t);return e.extendEnd&&t.y2===r&&l.push(yo.from(s?n.x1:n.x2,a?n.y1:n.y2)),e.extendEnd&&i.y2===o&&l.push(yo.from(s?n.x1:n.x2,a?n.y2:n.y1)),l.push(...yo.from(i).reverse()),e.extendStart&&i.y1===r&&l.push(yo.from(s?n.x2:n.x1,a?n.y1:n.y2)),e.extendStart&&t.y1===o&&l.push(yo.from(s?n.x2:n.x1,a?n.y2:n.y1)),l}},{StateMachine:Iu}=K,yAe=class extends Iu{constructor(e){const t=({point:r})=>{const l=new ma,c=r();l.set({start:c,end:c,startHeight:0,endHeight:0}),e.create(l),e.addPostUpdateFns(()=>{var u;return(u=e.node())==null?void 0:u.toggleActive(!0)},()=>{var u;return(u=e.node())==null?void 0:u.toggleHandles({topLeft:!0,topRight:!1,bottomLeft:!1,bottomRight:!1})})},i=({point:r})=>{const l=e.datum();l==null||l.set({end:r(l==null?void 0:l.start,l==null?void 0:l.snapToAngle)}),e.update()},n=()=>{var r;(r=e.node())==null||r.toggleHandles({topRight:!0}),e.update()},s=({point:r})=>{var x;const l=e.datum();if((l==null?void 0:l.start.y)==null||(l==null?void 0:l.end.y)==null)return;const c=r().y,u=l.end.y-(c??0),h=(l.start.y-l.end.y)*2+u,f={x:l.start.x,y:l.start.y-h},g={x:l.end.x,y:c};(x=e.node())==null||x.toggleHandles({bottomLeft:!0,bottomRight:!0}),!(!e.validatePoint(f)||!e.validatePoint(g))&&(l.set({startHeight:h,endHeight:u}),e.update())},a=({point:r})=>{var x;const l=e.datum();if((l==null?void 0:l.start.y)==null||(l==null?void 0:l.end.y)==null)return;const c=r().y,u=l.end.y-(c??0),h=(l.start.y-l.end.y)*2+u,f={x:l.start.x,y:l.start.y-u},g={x:l.end.x,y:c};(x=e.node())==null||x.toggleHandles(!0),!(!e.validatePoint(f)||!e.validatePoint(g))&&(l.set({startHeight:h,endHeight:u}),e.recordAction("Create disjoint-channel annotation"),e.showAnnotationOptions(),e.update())},o=()=>e.delete();super("start",{start:{click:{target:"end",action:t},drag:{target:"end",action:t},reset:Iu.parent},end:{hover:i,drag:i,keyDown:i,keyUp:i,click:{target:"height",action:n},dragEnd:{target:"height",action:n},reset:{target:Iu.parent,action:o},cancel:{target:Iu.parent,action:o}},height:{hover:s,click:{target:Iu.parent,action:a},drag:{target:Iu.parent,action:a},reset:{target:Iu.parent,action:o},cancel:{target:Iu.parent,action:o}}}),this.debug=Me.Debug.create(!0,"annotations")}},gB={type:"disjoint-channel",datum:ma,scene:Bf,isDatum:ma.is,translate:(e,t,i,n)=>{ma.is(t)&&Bf.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(ma.is(t)&&ma.is(i)&&Bf.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{ma.is(t)&&Bf.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new yAe({...e,create:t("disjoint-channel"),datum:i(ma.is),node:n(Bf.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(ma.is),node:i(Bf.is)})},{Vec2:Gy}=K,xAe=class extends ae.Group{},uS=class extends xAe{constructor(){super(),this.type="arrow",this.path=new ae.Path,this.armLength=6,this.append([this.path])}update(e){const{path:t}=this,{x:i,y:n,angle:s,...a}=e,o=Gy.from(i,n),r=3*Math.PI/4,l=this.armLength+(e.strokeWidth??0)*2,c=Gy.rotate(Gy.from(0,l),s+r,o),u=Gy.rotate(Gy.from(l,0),s-r,o);t.setProperties(a),t.fillOpacity=0,t.path.clear(),t.path.moveTo(c.x,c.y),t.path.lineTo(o.x,o.y),t.path.lineTo(u.x,u.y)}},{Vec2:nr,Vec4:yB}=K,Mo=class extends Mj{constructor(){super(),this.type="line",this.line=new pr,this.append([this.line,this.start,this.end])}static is(e){return $s.isCheck(e,"line")}update(e,t){let i=rp(e,t);if(i==null){this.visible=!1;return}i=yB.round(i),this.visible=e.visible??!0,this.visible&&(this.updateLine(e,i,t),this.updateHandles(e,i),this.updateText(e,i),this.updateCaps(e,i),this.updateAnchor(e,i,t))}updateLine(e,t,i){const{line:n}=this,{lineDashOffset:s,stroke:a,strokeWidth:o,strokeOpacity:r}=e,l=this.extendLine(t,e,i);n.setProperties({...l,lineCap:e.getLineCap(),lineDash:e.getLineDash(),lineDashOffset:s,stroke:a,strokeWidth:o,strokeOpacity:r,fillOpacity:0})}updateText(e,t){nv.updateLineText.call(this,this.line,e,t)}updateCaps(e,t){if(!e.startCap&&this.startCap&&(this.removeChild(this.startCap),this.startCap=void 0),!e.endCap&&this.endCap&&(this.removeChild(this.endCap),this.endCap=void 0),!e.startCap&&!e.endCap)return;const{stroke:i,strokeWidth:n,strokeOpacity:s}=e,[a,o]=nr.from(t),r=nr.angle(nr.sub(o,a));e.startCap&&(this.startCap&&this.startCap.type!==e.startCap&&(this.removeChild(this.startCap),this.startCap=void 0),this.startCap==null&&(this.startCap=new uS,this.append([this.startCap])),this.startCap.update({x:a.x,y:a.y,angle:r-Math.PI,stroke:i,strokeWidth:n,strokeOpacity:s})),e.endCap&&(this.endCap&&this.endCap.type!==e.endCap&&(this.removeChild(this.endCap),this.endCap=void 0),this.endCap==null&&(this.endCap=new uS,this.append([this.endCap])),this.endCap.update({x:o.x,y:o.y,angle:r,stroke:i,strokeWidth:n,strokeOpacity:s}))}updateAnchor(e,t,i,n){const s=yB.topCenter(t);nr.apply(this.anchor,ae.Transformable.toCanvasPoint(this.line,s.x,s.y))}containsPoint(e,t){const{line:i,text:n}=this;return super.containsPoint(e,t)||i.isPointInPath(e,t)||!!(n!=null&&n.containsPoint(e,t))}getNodeAtCoords(e,t){var i;return(i=this.text)!=null&&i.containsPoint(e,t)?"text":this.line.isPointInPath(e,t)?"line":super.getNodeAtCoords(e,t)}getHandleCoords(e,t,i,n){const{startCap:s,endCap:a}=this;let[o,r]=nr.from(t);const l=nr.angle(nr.sub(r,o));return s&&(o=nr.rotate(nr.from(0,-Ln.HANDLE_SIZE/2),l,o)),a&&(r=nr.rotate(nr.from(0,Ln.HANDLE_SIZE/2),l,r)),i==="start"?o:r}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth}}},{StateMachine:Vf}=K,HZ=class extends Vf{constructor(e){const t=({point:o})=>{const r=this.createDatum(),l=o();r.set({start:l,end:l}),e.create(r),e.addPostUpdateFns(()=>{var c;return(c=e.node())==null?void 0:c.toggleActive(!0)},()=>{var c;return(c=e.node())==null?void 0:c.toggleHandles({start:!0,end:!1})})},i=({point:o})=>{const r=e.datum();r==null||r.set({end:o(r==null?void 0:r.start,r==null?void 0:r.snapToAngle)}),e.update()},n=()=>{var o;(o=e.node())==null||o.toggleHandles({end:!0}),e.update()},s=()=>e.delete(),a=()=>{var o;e.showAnnotationOptions(),e.recordAction(`Create ${(o=e.datum())==null?void 0:o.type} annotation`)};super("start",{start:{reset:Vf.parent,click:{target:"end",action:t},drag:{target:"end",action:t}},end:{hover:i,keyDown:i,keyUp:i,click:{target:Vf.parent,action:n},drag:i,dragEnd:{target:Vf.parent,action:n},reset:{target:Vf.parent,action:s},cancel:{target:Vf.parent,action:s},onExit:a}}),this.debug=Me.Debug.create(!0,"annotations")}},bAe=class extends HZ{createDatum(){return new rr}},vAe=class extends HZ{createDatum(){return new lr}},xB={type:"line",datum:lr,scene:Mo,isDatum:lr.is,translate:(e,t,i,n)=>{lr.is(t)&&Mo.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(lr.is(t)&&lr.is(i)&&Mo.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{lr.is(t)&&Mo.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new vAe({...e,create:t("line"),datum:i(lr.is),node:n(Mo.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(lr.is),node:i(Mo.is)})},bB={type:"arrow",datum:rr,scene:Mo,isDatum:rr.is,translate:(e,t,i,n)=>{rr.is(t)&&Mo.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(rr.is(t)&&rr.is(i)&&Mo.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{rr.is(t)&&Mo.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new bAe({...e,create:t("arrow"),datum:i(rr.is),node:n(Mo.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(rr.is),node:i(Mo.is)})};function vB(e,t=0,i=0){let n=t;for(const s of e)if(Array.isArray(s)){for(const a of s)wB(a,n);n+=ae.Group.computeChildrenBBox(s).width+i}else wB(s,n),n+=s.getBBox().width+i}function wAe(e,t=0,i=0){let n=t;for(const s of e)if(Array.isArray(s)){for(const a of s)SB(a,n);n+=ae.Group.computeChildrenBBox(s).height+i}else SB(s,n),n+=s.getBBox().height+i}function wB(e,t){"x1"in e?(e.x2=t+(e.x2-e.x1),e.x1=t):e.x=t}function SB(e,t){"y1"in e?(e.y2=t+(e.y2-e.y1),e.y1=t):e.y=t}function NB(e,t){"x1"in e?(e.x1+=t,e.x2+=t):e.x+=t}function MB(e,t){"y1"in e?(e.y1+=t,e.y2+=t):e.y+=t}var{Vec4:SAe}=K,YZ=class extends ae.Group{constructor(){super(),this.name="MeasurerStatisticsScene",this.background=new ae.Rect,this.dateRangeBarsText=new ae.Text,this.dateRangeDivider=new ae.Line,this.dateRangeValueText=new ae.Text,this.priceRangeValueText=new ae.Text,this.priceRangeDivider=new ae.Line,this.priceRangePercentageText=new ae.Text,this.volumeText=new ae.Text,this.volumeFormatter=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2}),this.append([this.background,this.dateRangeBarsText,this.dateRangeDivider,this.dateRangeValueText,this.priceRangeValueText,this.priceRangeDivider,this.priceRangePercentageText,this.volumeText])}update(e,t,i,n,s,a){this.verticalDirection=s;const o=this.updateStatistics(e,t,i,a),r=ae.Group.computeChildrenBBox(o.flat()),l=10;r.grow(l),this.updateBackground(e,r,l),this.reposition(o,l,n)}updateStatistics(e,t,i,n){const{dateRangeBarsText:s,dateRangeDivider:a,dateRangeValueText:o,priceRangeValueText:r,priceRangeDivider:l,priceRangePercentageText:c,volumeText:u}=this,h=8,f=6,g=e.statistics.fontSize+3,x=-2,y=this.getTextStyles(e),b={...this.getDividerStyles(e),x1:0,y1:0,x2:0,y2:g},v=[s,a,o],S=[r,l,c],N=[];return t.priceRange&&(r.setProperties({...y,text:this.formatPriceRangeValue(t.priceRange.value,n)}),l.setProperties(b),c.setProperties({...y,text:this.formatPriceRangePercentage(t.priceRange.percentage,n)}),vB(S,i.x,h),N.push(S)),t.dateRange&&(s.setProperties({...y,text:this.formatDateRangeBars(t.dateRange.bars,n)}),a.setProperties(b),o.setProperties({...y,text:this.formatDateRangeValue(t.dateRange.value)}),vB(v,i.x,h),N.push(v)),t.volume!=null&&(u.setProperties({...y,x:i.x,text:this.formatVolume(t.volume,n)}),N.push(u)),wAe(N,i.y,f),l.y1+=x,l.y2+=x,a.y1+=x,a.y2+=x,N}updateBackground(e,t,i){const n=this.getBackgroundStyles(e);this.background.setProperties({...n,...t,x:t.x-t.width/2+i,y:t.y})}reposition(e,t,i){const{width:n,height:s}=i.seriesRect,a=SAe.from(this.background.getBBox());let o=0;a.x1<0&&(o=-a.x1),a.x2>n&&(o=n-a.x2);const r=Math.min(t,s-a.y2);for(const l of e)if(Array.isArray(l)){const c=ae.Group.computeChildrenBBox(l).width;for(const u of l)NB(u,o-c/2),MB(u,r)}else NB(l,o-l.getBBox().width/2),MB(l,r);this.background.x+=o,this.background.y+=r}getTextStyles(e){return{fill:e.statistics.color,fontFamily:e.statistics.fontFamily,fontSize:e.statistics.fontSize,fontStyle:e.statistics.fontStyle,fontWeight:e.statistics.fontWeight,textBaseline:"top"}}getDividerStyles(e){return{stroke:e.statistics.divider.stroke,strokeOpacity:e.statistics.divider.strokeOpacity,strokeWidth:e.statistics.divider.strokeWidth}}getBackgroundStyles(e){return{fill:e.statistics.fill,stroke:e.statistics.stroke,strokeOpacity:e.statistics.strokeOpacity,strokeWidth:e.statistics.strokeWidth,cornerRadius:4}}formatDateRangeBars(e,t){return(t==null?void 0:t.t("measurerDateRangeBars",{value:e}))??`${e}`}formatDateRangeValue(e){const t=[],i=e>=0?"":"-";e=Math.abs(e);const n=1e3*60,s=n*60,a=s*24,o=Math.floor(e/n),r=Math.floor(e/s),l=Math.floor(e/a),c=r%(a/s),u=o%(s/n);return l>=1&&t.push(`${l}d`),r>=1&&(e<a||c!==0)&&t.push(`${c}h`),(e<s||u!==0)&&t.push(`${u}m`),t[0]=`${i}${t[0]}`,t.join(" ")}formatPriceRangeValue(e,t){return(t==null?void 0:t.t("measurerPriceRangeValue",{value:Number(e.toFixed(2))}))??`${e}`}formatPriceRangePercentage(e,t){return(t==null?void 0:t.t("measurerPriceRangePercent",{value:e}))??`${e}`}formatVolume(e,t){const i=isNaN(e)?"":this.volumeFormatter.format(e);return(t==null?void 0:t.t("measurerVolume",{value:i}))??i}},NAe=class extends YZ{getDirectionStyles(e){return this.verticalDirection==="down"?e.down.statistics:e.up.statistics}getTextStyles(e){const t=this.getDirectionStyles(e);return{...super.getTextStyles(e),fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight}}getDividerStyles(e){const t=this.getDirectionStyles(e);return{stroke:t.divider.stroke,strokeOpacity:t.divider.strokeOpacity,strokeWidth:t.divider.strokeWidth}}getBackgroundStyles(e){const t=this.getDirectionStyles(e);return{...super.getBackgroundStyles(e),fill:t.fill,stroke:t.stroke,strokeOpacity:t.strokeOpacity,strokeWidth:t.strokeWidth}}},{Vec2:Kr,Vec4:vh}=K,pn=class extends Mj{constructor(){super(),this.type="measurer",this.horizontalLine=new pr,this.verticalLine=new pr,this.horizontalStartLine=new pr,this.horizontalEndLine=new pr,this.verticalStartLine=new pr,this.verticalEndLine=new pr,this.horizontalEndCap=new uS,this.verticalEndCap=new uS,this.background=new ae.Path({zIndex:-1}),this.updateBackground=GZ.updateBackground.bind(this),this.statistics=this.createStatisticsScene(),this.statistics.zIndex=1,this.append([this.background,this.verticalStartLine,this.verticalEndLine,this.horizontalStartLine,this.horizontalEndLine,this.horizontalLine,this.verticalLine,this.horizontalEndCap,this.verticalEndCap,this.start,this.end,this.statistics])}static is(e){return $s.isCheck(e,"measurer")}createStatisticsScene(){return new YZ}update(e,t){const i=rp(e,t);if(i==null){this.visible=!1;return}if(this.visible=e.visible??!0,!this.visible)return;const n=this.extendPerpendicular(i,e,t),s={...n,y2:n.y1},a={...n,y1:n.y2};this.verticalDirection=i.y1<i.y2?"down":"up",this.updateVisibilities(e),this.updateLines(e,i),this.updateHandles(e,i),this.updateText(e,i),this.updateCaps(e,i),this.updateBoundingLines(e,n),this.updateBackground(e,s,a,t),this.updateStatistics(e,i,t),this.updateAnchor(e,i,t)}extendPerpendicular(e,t,i){const n={x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)},[s,a]=Kr.from(i.yAxis.bounds);return pa.is(t)?(t.extendAbove&&(n.y1=s.y),t.extendBelow&&(n.y2=a.y)):fa.is(t)&&(t.extendLeft&&(n.x1=s.x),t.extendRight&&(n.x2=a.x)),n}updateVisibilities(e){const{horizontalStartLine:t,horizontalEndLine:i,horizontalEndCap:n,verticalStartLine:s,verticalEndLine:a,verticalEndCap:o}=this,{direction:r}=e;s.visible=r!=="vertical",a.visible=r!=="vertical",n.visible=r!=="vertical",t.visible=r!=="horizontal",i.visible=r!=="horizontal",o.visible=r!=="horizontal"}updateLines(e,t){const{horizontalLine:i,verticalLine:n}=this,{direction:s}=e,{x1:a,y1:o,x2:r,y2:l}=t,c=Kr.round(vh.center(t)),u=this.getLineStyles(e);s!=="vertical"&&i.setProperties({...u,x1:a,x2:r,y1:c.y,y2:c.y}),s!=="horizontal"&&n.setProperties({...u,x1:c.x,x2:c.x,y1:o,y2:l})}updateText(e,t){const{direction:i}=e,n=Kr.round(vh.center(t));let s;const a={...t};i==="vertical"?(s=this.verticalLine,a.x1=n.x,a.x2=n.x):(s=this.horizontalLine,a.y1=n.y,a.y2=n.y);const o=nv.updateLineText.call(this,s,e,a);let r;if(i==="both"&&o&&this.text){const l=vh.from(this.text.getBBox()),{offset:c}=o.numbers;l.x1<=n.x+c.x&&l.x2>=n.x-c.x&&(r={x:n.x,y:o.clipMask.y,radius:this.text.getBBox().height/2+Kr.length(c)})}this.verticalLine.setClipMask(r)}updateCaps(e,t){const{horizontalEndCap:i,verticalEndCap:n}=this,{direction:s}=e,{x1:a,y1:o,x2:r,y2:l}=t,c=Kr.round(vh.center(t)),{stroke:u,strokeWidth:h,strokeOpacity:f}=this.getLineStyles(e),g={stroke:u,strokeWidth:h,strokeOpacity:f};if(s!=="vertical"){const x=a<=r?0:Math.PI;let y=r;s==="horizontal"&&(y+=a<=r?-2:2),i.update({...g,x:y,y:c.y,angle:x})}if(s!=="horizontal"){const x=o<=l?Math.PI/2:Math.PI/-2;let y=l;s==="vertical"&&(y+=o<=l?-2:2),n.update({...g,x:c.x,y,angle:x})}}updateBoundingLines(e,t){const{verticalStartLine:i,verticalEndLine:n,horizontalStartLine:s,horizontalEndLine:a}=this,{direction:o}=e,{x1:r,y1:l,x2:c,y2:u}=t,h=this.getLineStyles(e);o==="horizontal"&&(i.setProperties({...h,x1:r,y1:l,x2:r,y2:u}),n.setProperties({...h,x1:c,y1:l,x2:c,y2:u})),o==="vertical"&&(s.setProperties({...h,x1:r,y1:l,x2:c,y2:l}),a.setProperties({...h,x1:r,y1:u,x2:c,y2:u}))}updateStatistics(e,t,i){const n=Kr.add(vh.bottomCenter(t),Kr.from(0,10)),s={volume:this.getVolume(e)};e.hasPriceRange&&(s.priceRange={percentage:this.getPriceRangePercentage(e),value:this.getPriceRangeValue(e)}),e.hasDateRange&&(s.dateRange={bars:this.getDateRangeBars(t,i),value:this.getDateRangeValue(e)}),this.statistics.update(e,s,n,i,this.verticalDirection,e.localeManager)}updateAnchor(e,t,i,n){const s=vh.topCenter(t);Kr.apply(this.anchor,ae.Transformable.toCanvasPoint(this.horizontalLine,s.x,s.y))}getBackgroundPoints(e,t,i,n){const[s,a]=Kr.from(t),[o,r]=Kr.from(i);return[s,a,r,o]}getLineStyles(e){const{lineDashOffset:t,stroke:i,strokeWidth:n,strokeOpacity:s}=e;return{lineCap:e.getLineCap(),lineDash:e.getLineDash(),lineDashOffset:t,stroke:i,strokeWidth:n,strokeOpacity:s,fillOpacity:0}}getBackgroundStyles(e){const{background:t}=e;return{fill:t.fill,fillOpacity:t.fillOpacity}}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth}}containsPoint(e,t){const{horizontalLine:i,text:n,verticalLine:s,horizontalStartLine:a,horizontalEndLine:o,verticalStartLine:r,verticalEndLine:l}=this;return super.containsPoint(e,t)||i.isPointInPath(e,t)||s.isPointInPath(e,t)||a.visible&&a.isPointInPath(e,t)||o.visible&&o.isPointInPath(e,t)||r.visible&&r.isPointInPath(e,t)||l.visible&&l.isPointInPath(e,t)||!!(n!=null&&n.containsPoint(e,t))}getNodeAtCoords(e,t){var i;return(i=this.text)!=null&&i.containsPoint(e,t)?"text":this.start.containsPoint(e,t)||this.end.containsPoint(e,t)?"handle":"line"}getDateRangeBars(e,t){const i=e.x1<=e.x2?1:-1;return Math.round(vh.width(e)/t.xAxis.scaleStep())*i}getDateRangeValue(e){if(e.start.x==null||e.end.x==null||!(e.start.x instanceof Date)||!(e.end.x instanceof Date))throw new Error("Can not create a date range measurement of non-date x-axis.");return e.end.x.getTime()-e.start.x.getTime()}getPriceRangePercentage(e){if(e.start.y==null||e.end.y==null)throw new Error("Can not create a price range measurement of a non-numeric y-axis");return(e.end.y-e.start.y)/e.start.y}getPriceRangeValue(e){if(e.start.y==null||e.end.y==null)throw new Error("Can not create a price range measurement of a non-numeric y-axis");return e.end.y-e.start.y}getVolume(e){var t;return(t=e.getVolume)==null?void 0:t.call(e,e.start.x,e.end.x)}},Uf=class extends pn{constructor(){super(...arguments),this.type="quick-measurer"}static is(e){return $s.isCheck(e,"quick-measurer")}createStatisticsScene(){return new NAe}getDirectionStyles(e){return this.verticalDirection==="down"?e.down:e.up}getLineStyles(e){const t=this.getDirectionStyles(e);return{...super.getLineStyles(e),stroke:t.stroke,strokeWidth:t.strokeWidth,strokeOpacity:t.strokeOpacity}}getBackgroundStyles(e){const t=this.getDirectionStyles(e);return{fill:t.fill,fillOpacity:t.fillOpacity}}getHandleStyles(e){const t=this.getDirectionStyles(e);return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth}}},{StateMachine:Gf}=K,qN=class extends Gf{constructor(e){const t=({point:o})=>{const r=this.createDatum(),l=o();r.set({start:l,end:l}),e.create(r)},i=({point:o})=>{var l,c;const r=e.datum();r==null||r.set({end:o()}),(l=e.node())==null||l.toggleActive(!0),(c=e.node())==null||c.toggleHandles({end:!1}),e.update()},n=()=>{var o;(o=e.node())==null||o.toggleHandles({end:!0})},s=()=>e.delete(),a=()=>{var o;e.showAnnotationOptions(),!Wu(e.datum())&&e.recordAction(`Create ${(o=e.node())==null?void 0:o.type} annotation`)};super("start",{start:{reset:Gf.parent,click:{target:"end",action:t},drag:{target:"end",action:t}},end:{hover:i,click:{target:Gf.parent,action:n},dragEnd:{target:Gf.parent,action:n},drag:i,reset:{target:Gf.parent,action:s},cancel:{target:Gf.parent,action:s},onExit:a}}),this.debug=Me.Debug.create(!0,"annotations")}},MAe=class extends qN{createDatum(){return new pa}},IAe=class extends qN{createDatum(){return new fa}},TAe=class extends qN{createDatum(){return new or}},AAe=class extends qN{createDatum(){return new Gs}},IB={type:"date-range",datum:pa,scene:pn,isDatum:pa.is,translate:(e,t,i,n)=>{pa.is(t)&&pn.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(pa.is(t)&&pa.is(i)&&pn.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{pa.is(t)&&pn.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new MAe({...e,create:t("date-range"),datum:i(pa.is),node:n(pn.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(pa.is),node:i(pn.is)})},TB={type:"price-range",datum:fa,scene:pn,isDatum:fa.is,translate:(e,t,i,n)=>{fa.is(t)&&pn.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(fa.is(t)&&fa.is(i)&&pn.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{fa.is(t)&&pn.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new IAe({...e,create:t("date-range"),datum:i(fa.is),node:n(pn.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(fa.is),node:i(pn.is)})},AB={type:"date-price-range",datum:or,scene:pn,isDatum:or.is,translate:(e,t,i,n)=>{or.is(t)&&pn.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(or.is(t)&&or.is(i)&&pn.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{or.is(t)&&pn.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new TAe({...e,create:t("date-range"),datum:i(or.is),node:n(pn.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(or.is),node:i(pn.is)})},kB={type:"quick-date-price-range",datum:Gs,scene:Uf,isDatum:Gs.is,translate:(e,t,i,n)=>{Gs.is(t)&&Uf.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(Gs.is(t)&&Gs.is(i)&&Uf.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{Gs.is(t)&&Uf.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new AAe({...e,create:t("quick-date-price-range"),datum:i(Gs.is),node:n(Uf.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(Gs.is),node:i(Uf.is)})},{ZIndexMap:CB,TextWrapper:kAe}=K,{clamp:CAe}=Me,Wf=class extends Aj{constructor(){super(),this.type="note",this.shape=new ae.Rect,this.iconBackground=new ae.SvgPath("M22 1.83333C22 0.820811 21.1792 0 20.1667 0H1.83333C0.820811 0 0 0.82081 0 1.83333V13.9868C0 14.9994 0.820811 15.8202 1.83333 15.8202L5.88971 15.8202C6.44575 15.8202 6.97175 16.0725 7.31971 16.5062L9.57006 19.3112C10.304 20.2259 11.6962 20.2259 12.4301 19.3112L14.6804 16.5062C15.0284 16.0725 15.5544 15.8202 16.1104 15.8202L20.1667 15.8202C21.1792 15.8202 22 14.9994 22 13.9868V1.83333Z"),this.iconLines=new ae.SvgPath("M17.1114 5.75C17.1114 6.16421 16.7756 6.5 16.3614 6.5H5.63916C5.22495 6.5 4.88916 6.16421 4.88916 5.75V5.75C4.88916 5.33579 5.22495 5 5.63916 5H16.3614C16.7756 5 17.1114 5.33579 17.1114 5.75V5.75ZM17.1114 9.25C17.1114 9.66421 16.7756 10 16.3614 10H5.63916C5.22495 10 4.88916 9.66421 4.88916 9.25V9.25C4.88916 8.83579 5.22495 8.5 5.63916 8.5H16.3614C16.7756 8.5 17.1114 8.83579 17.1114 9.25V9.25Z"),this.active=!1,this.shape.visible=!1,this.label.visible=!1,this.iconBackground.fillShadow=new ae.DropShadow,this.append([this.shape,this.label,this.iconBackground,this.iconLines,this.handle])}static is(e){return $s.isCheck(e,"note")}update(e,t){this.updateIcon(e,t),super.update(e,t)}getTextBBox(e,t,i){const n=super.getTextBBox(e,t,i),{seriesRect:s}=i;n.x-=e.width/2,n.x=CAe(0,n.x,s.width-e.width);const a=e.getPadding().top,o=n.y-wZ-a*2,r=n.y+Ln.HANDLE_SIZE+a*2;return o-n.height-SZ<s.y?(n.y=r,e.position="top"):(n.y=o+a,e.position="bottom"),n}updateLabel(e,t){const i=e.visible===!1?!1:this.label.visible;super.updateLabel(e,t),this.label.visible=i,this.label.text=kAe.wrapText(e.text,{font:{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight},avoidOrphans:!1,textAlign:e.textAlign,textBaseline:"hanging",textWrap:"always",maxWidth:200})}updateShape(e,t){const{shape:i}=this;i.fill=e.background.fill,i.fillOpacity=e.background.fillOpacity??1,i.stroke=e.background.stroke,i.strokeOpacity=e.background.strokeOpacity??1,i.strokeWidth=e.background.strokeWidth??1,i.cornerRadius=4;const n=e.getPadding().top,s=e.position==="top";i.x=t.x-n,i.width=e.width+n*2,i.height=t.height+n*2,i.y=t.y+(s?0:-t.height)-n}updateIcon(e,t){const{active:i,iconBackground:n,iconLines:s}=this,{x:a,y:o}=hi(e,t);n.x=a-TTe/2,n.y=o-vZ,s.x=n.x,s.y=n.y,n.fill=e.fill,n.fillOpacity=e.fillOpacity??1,n.stroke=e.stroke,n.strokeOpacity=e.strokeOpacity??1,n.strokeWidth=e.strokeWidth??1,s.fill=e.stroke,i?n.fillShadow.color=e.fill??"rgba(0, 0, 0, 0.22)":n.fillShadow.color="rgba(0, 0, 0, 0.22)"}updateAnchor(e,t,i){const n=e.getPadding().top,s=e.position==="top",a=s?1:-1;return{x:t.x+i.seriesRect.x+e.width/2,y:t.y+i.seriesRect.y+a*(t.height+n),position:s?"below":"above"}}getHandleCoords(e,t,i){return{x:t.x,y:t.y+Ln.HANDLE_SIZE/2+4}}getHandleStyles(e){return{fill:e.handle.fill,stroke:e.handle.stroke??e.fill,strokeOpacity:e.handle.strokeOpacity,strokeWidth:e.handle.strokeWidth}}toggleHovered(e){super.toggleHovered(e),this.label.visible=e,this.shape.visible=e,this.zIndex=e?CB.CHART_ANNOTATION_FOCUSED:CB.CHART_ANNOTATION}toggleActive(e){super.toggleActive(e),this.label.visible=e,this.shape.visible=e,this.active=e}containsPoint(e,t){return this.shape.visible&&this.shape.containsPoint(e,t)||this.iconBackground.containsPoint(e,t)?!0:super.containsPoint(e,t)}},DAe=class extends kj{createDatum(){return new hs}},DB={type:"note",datum:hs,scene:Wf,isDatum:hs.is,translate:(e,t,i,n)=>{hs.is(t)&&Wf.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(hs.is(t)&&hs.is(i)&&Wf.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{hs.is(t)&&Wf.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new DAe({...e,create:t("note"),datum:i(hs.is),node:n(Wf.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(hs.is),node:i(Wf.is)})},{Vec2:la,Vec4:Hf}=K,Yf=class extends WZ{constructor(){super(),this.type="parallel-channel",this.handles={topLeft:new Ln,topMiddle:new fm,topRight:new Ln,bottomLeft:new Ln,bottomMiddle:new fm,bottomRight:new Ln},this.middleLine=new pr,this.updateText=nv.updateChannelText.bind(this,!0),this.append([this.background,this.topLine,this.middleLine,this.bottomLine,...Object.values(this.handles)])}static is(e){return $s.isCheck(e,"parallel-channel")}dragHandle(e,t,i,n){const{activeHandle:s,handles:a}=this;if(s==null)return;const{offset:o}=a[s].drag(t);a[s].toggleDragging(!0);const r=e.toJson();let l=[],c=[];switch(s){case"topLeft":case"bottomLeft":l=["topLeft","bottomLeft"],c=["topRight","bottomRight"];break;case"topMiddle":l=["topLeft","topRight"],o.y-=fm.HANDLE_SIZE/2;break;case"topRight":case"bottomRight":l=["topRight","bottomRight"],c=["topLeft","bottomLeft"];break;case"bottomMiddle":l=["bottomLeft","bottomRight"],o.y-=fm.HANDLE_SIZE/2;break}const u=e.snapToAngle,h=l.map((f,g)=>n&&c[g]?this.snapToAngle(t,i,f,c[g],u):gn(la.add(a[f].handle,o),i)).filter(LTe);if(!h.some(f=>!Ac(i,f))){if((s==="topMiddle"||s==="bottomMiddle")&&e.start.y!=null){const f=gn(la.add(a.topLeft.handle,o),i);Ac(i,f)&&(s==="topMiddle"?e.height+=f.y-e.start.y:e.height-=f.y-e.start.y)}for(const[f,g]of h.entries())switch(l[f]){case"topLeft":e.start.x=g.x,e.start.y=g.y;break;case"topRight":e.end.x=g.x,e.end.y=g.y;break}e.isValidWithContext(i)||e.set(r)}}getOtherCoords(e,t,i,n){const s=hi(e.bottom.start,n).y-hi(e.start,n).y,a=la.add(t,la.from(0,s)),o=la.add(i,la.from(0,s));return[a,o]}containsPoint(e,t){return super.containsPoint(e,t)||this.middleLine.visible&&this.middleLine.strokeWidth>0&&this.middleLine.containsPoint(e,t)}getNodeAtCoords(e,t){return this.middleLine.visible&&this.middleLine.strokeWidth>0&&this.middleLine.containsPoint(e,t)?"line":super.getNodeAtCoords(e,t)}updateLines(e,t,i,n,s,a){const{topLine:o,middleLine:r,bottomLine:l}=this,{lineDashOffset:c,stroke:u,strokeOpacity:h,strokeWidth:f}=e,g=e.getLineDash(),x={lineCap:e.getLineCap(),lineDash:g,lineDashOffset:c,stroke:u,strokeOpacity:h,strokeWidth:f};o.setProperties({...t,...x}),l.setProperties({...i,...x});const y=this.extendLine({x1:s.x1,y1:a.y1+(s.y1-a.y1)/2,x2:s.x2,y2:a.y2+(s.y2-a.y2)/2},e,n);r.setProperties({...y,lineDash:e.middle.lineDash??g,lineDashOffset:e.middle.lineDashOffset??c,stroke:e.middle.stroke??u,strokeOpacity:e.middle.strokeOpacity??h,strokeWidth:e.middle.strokeWidth??f,visible:e.middle.visible??!0})}updateHandles(e,t,i){const{handles:{topLeft:n,topMiddle:s,topRight:a,bottomLeft:o,bottomMiddle:r,bottomRight:l}}=this,c={fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth};n.update({...c,...Hf.start(t)}),a.update({...c,...Hf.end(t)}),o.update({...c,...Hf.start(i)}),l.update({...c,...Hf.end(i)}),s.update({...c,...la.sub(Hf.center(t),la.from(s.handle.width/2,s.handle.height/2))}),r.update({...c,...la.sub(Hf.center(i),la.from(r.handle.width/2,r.handle.height/2))})}getBackgroundPoints(e,t,i,n){const s=t.x1>t.x2,a=t.y1>t.y2,o=t.x1!==i.x1&&t.y1!==i.y1,r=t.x2!==i.x2&&t.y2!==i.y2,l=la.from(t);return e.extendEnd&&r&&l.push(la.from(s?n.x1:n.x2,a?n.y1:n.y2)),l.push(...la.from(i).reverse()),e.extendStart&&o&&l.push(la.from(s?n.x2:n.x1,a?n.y2:n.y1)),l}},{StateMachine:Tu}=K,LAe=class extends Tu{constructor(e){const t=({point:r})=>{const l=new ga,c=r();l.set({start:c,end:c,height:0}),e.create(l),e.addPostUpdateFns(()=>{var u;return(u=e.node())==null?void 0:u.toggleActive(!0)},()=>{var u;return(u=e.node())==null?void 0:u.toggleHandles({topLeft:!0,topMiddle:!1,topRight:!1,bottomLeft:!1,bottomMiddle:!1,bottomRight:!1})})},i=({point:r})=>{const l=e.datum();l==null||l.set({end:r(l==null?void 0:l.start,l==null?void 0:l.snapToAngle),height:0}),e.update()},n=()=>{var r;(r=e.node())==null||r.toggleHandles({topRight:!0}),e.update()},s=({point:r})=>{var f;const l=e.datum();if((l==null?void 0:l.start.y)==null||(l==null?void 0:l.end.y)==null)return;const c=r().y,u=l.end.y-(c??0),h=l.start.y-u;(f=e.node())==null||f.toggleHandles({bottomLeft:!0,bottomRight:!0}),!(!e.validatePoint({x:l.start.x,y:h})||!e.validatePoint({x:l.end.x,y:c}))&&(l.set({height:u}),e.update())},a=({point:r})=>{var f;const l=e.datum();if((l==null?void 0:l.start.y)==null||(l==null?void 0:l.end.y)==null)return;const c=r().y,u=l.end.y-(c??0),h=l.start.y-u;(f=e.node())==null||f.toggleHandles(!0),!(!e.validatePoint({x:l.start.x,y:h})||!e.validatePoint({x:l.end.x,y:c}))&&(l.set({height:u}),e.recordAction("Create parallel-channel annotation"),e.showAnnotationOptions(),e.update())},o=()=>e.delete();super("start",{start:{click:{target:"end",action:t},drag:{target:"end",action:t},reset:Tu.parent},end:{hover:i,drag:i,keyDown:i,keyUp:i,click:{target:"height",action:n},dragEnd:{target:"height",action:n},reset:{target:Tu.parent,action:o},cancel:{target:Tu.parent,action:o}},height:{hover:s,click:{target:Tu.parent,action:a},drag:{target:Tu.parent,action:a},reset:{target:Tu.parent,action:o},cancel:{target:Tu.parent,action:o}}}),this.debug=Me.Debug.create(!0,"annotations")}},LB={type:"parallel-channel",datum:ga,scene:Yf,isDatum:ga.is,translate:(e,t,i,n)=>{ga.is(t)&&Yf.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(ga.is(t)&&ga.is(i)&&Yf.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{ga.is(t)&&Yf.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new LAe({...e,create:t("parallel-channel"),datum:i(ga.is),node:n(Yf.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(ga.is),node:i(Yf.is)})},$f=class extends Aj{constructor(){super(),this.type="text",this.append([this.label,this.handle])}static is(e){return $s.isCheck(e,"text")}getHandleCoords(e,t){const i=Ln.HANDLE_SIZE/2;return{x:t.x+i,y:t.y+2+i}}},EAe=class extends kj{createDatum(){return new cr}},EB={type:"text",datum:cr,scene:$f,isDatum:cr.is,translate:(e,t,i,n)=>{cr.is(t)&&$f.is(e)&&e.translate(t,i,n)},copy:(e,t,i,n)=>{if(cr.is(t)&&cr.is(i)&&$f.is(e))return e.copy(t,i,n)},update:(e,t,i)=>{cr.is(t)&&$f.is(e)&&e.update(t,i)},createState:(e,{createDatum:t,getDatum:i,getNode:n})=>new EAe({...e,create:t("text"),datum:i(cr.is),node:n($f.is)}),dragState:(e,{getDatum:t,getNode:i})=>new Ts({...e,datum:t(cr.is),node:i($f.is)})},_a={[xB.type]:xB,[fB.type]:fB,[mB.type]:mB,[LB.type]:LB,[gB.type]:gB,[dB.type]:dB,[hB.type]:hB,[DB.type]:DB,[EB.type]:EB,[bB.type]:bB,[rB.type]:rB,[oB.type]:oB,[IB.type]:IB,[TB.type]:TB,[AB.type]:AB,[kB.type]:kB};function lc(e){for(const{isDatum:t}of Object.values(_a))if(t(e))return e}var OAe=[{label:"toolbarAnnotationsTrendLine",icon:"trend-line-drawing",value:"line"},{label:"toolbarAnnotationsHorizontalLine",icon:"horizontal-line-drawing",value:"horizontal-line"},{label:"toolbarAnnotationsVerticalLine",icon:"vertical-line-drawing",value:"vertical-line"},{label:"toolbarAnnotationsParallelChannel",icon:"parallel-channel-drawing",value:"parallel-channel"},{label:"toolbarAnnotationsDisjointChannel",icon:"disjoint-channel-drawing",value:"disjoint-channel"}],jAe=[{label:"toolbarAnnotationsText",icon:"text-annotation",value:"text"},{label:"toolbarAnnotationsComment",icon:"comment-annotation",value:"comment"},{label:"toolbarAnnotationsCallout",icon:"callout-annotation",value:"callout"},{label:"toolbarAnnotationsNote",icon:"note-annotation",value:"note"}],RAe=[{label:"toolbarAnnotationsArrow",icon:"arrow-drawing",value:"arrow"},{label:"toolbarAnnotationsArrowUp",icon:"arrow-up-drawing",value:"arrow-up"},{label:"toolbarAnnotationsArrowDown",icon:"arrow-down-drawing",value:"arrow-down"}],PAe=[{label:"toolbarAnnotationsQuickDatePriceRange",icon:"measurer-drawing",value:"quick-date-price-range"},{label:"toolbarAnnotationsDateRange",icon:"date-range-drawing",value:"date-range"},{label:"toolbarAnnotationsPriceRange",icon:"price-range-drawing",value:"price-range"},{label:"toolbarAnnotationsDatePriceRange",icon:"date-price-range-drawing",value:"date-price-range"}],$Z=[{strokeWidth:1,label:"1",value:1},{strokeWidth:2,label:"2",value:2},{strokeWidth:3,label:"3",value:3},{strokeWidth:4,label:"4",value:4},{strokeWidth:8,label:"8",value:8}],Wy=[{icon:"line-style-solid",altText:"iconAltTextLineStyleSolid",value:"solid"},{icon:"line-style-dashed",altText:"iconAltTextLineStyleDashed",value:"dashed"},{icon:"line-style-dotted",altText:"iconAltTextLineStyleDotted",value:"dotted"}],KZ=[{label:"10",value:10},{label:"12",value:12},{label:"14",value:14},{label:"16",value:16},{label:"18",value:18},{label:"22",value:22},{label:"28",value:28},{label:"36",value:36},{label:"46",value:46}],{StateMachine:zAe}=K,_Ae=class extends zAe{constructor(e){const t=I=>()=>{if(this.active==null)return;const C=e.datum(this.active);if(I(C))return C},i=I=>()=>{if(this.active==null)return;const C=e.node(this.active);if(I(C))return C},n=I=>C=>{e.create(I,C),this.active=e.selectLast()},s=()=>{this.active!=null&&e.delete(this.active),this.active=void 0,e.select()},a={createDatum:n,getDatum:t,getNode:i},o={...e,delete:s,showTextInput:()=>{this.active!=null&&e.showTextInput(this.active)},deselect:()=>{const I=this.active;this.active=void 0,this.hovered=void 0,e.select(this.active,I)},showAnnotationOptions:()=>{this.active!=null&&e.showAnnotationOptions(this.active)}},r=Object.fromEntries(Object.entries(_a).map(([I,C])=>[I,C.createState(o,a)])),l={...e,setSnapping:I=>{this.snapping=I},getSnapping:()=>this.snapping,getHoverCoords:()=>e.getHoverCoords()},c=Object.fromEntries(Object.entries(_a).map(([I,C])=>[I,C.dragState(l,a)])),u=({colorPickerType:I,colorOpacity:C,color:L,opacity:O})=>{const P=e.datum(this.active);P&&(I==="text-color"&&e.updateTextInputColor(L),KN(P,I,C,L,O),e.update())},h=I=>{const C=e.datum(this.active),L=e.node(this.active);!C||!L||(rl(C)?(C.fontSize=I,e.updateTextInputFontSize(I)):Nm(C)&&(C.text.fontSize=I),e.update())},f=I=>{const C=e.datum(this.active),L=e.node(this.active);!C||!L||!Ru(C)||(OZ(C,I),e.update())},g=I=>{const C=e.node(this.active);!C||!("setTextInputBBox"in C)||(C.setTextInputBBox(I),e.update())},x=({textInputValue:I,bbox:C})=>{const L=e.datum(this.active);if(I!=null&&I.length>0){if(!rl(L))return;const O=GN(L,I,C.width);L.set({text:O}),e.update(),e.recordAction(`Change ${L.type} annotation text`)}else e.delete(this.active),e.recordAction(`Delete ${L==null?void 0:L.type} annotation`)},y=()=>{e.updateTextInputBBox(void 0)},b=()=>this.active!=null,v=()=>this.copied!=null,S=()=>{if(this.active==null)return!1;const I=e.datum(this.active);return I?Nm(I)&&!I.locked:!1},N=()=>this.active!=null&&!Wu(e.datum(this.active)),M=()=>this.hovered!=null;super("idle",{idle:{onEnter:()=>{e.select(this.active,this.active);const I=e.getHoverCoords();I&&(this.hovered=e.hoverAtCoords(I,this.active))},hover:({offset:I})=>{this.hovered=e.hoverAtCoords(I,this.active)},keyDown:({shiftKey:I})=>{this.snapping=I},keyUp:({shiftKey:I})=>{this.snapping=I},translate:{guard:b,action:({translation:I})=>{e.startInteracting(),e.translate(this.active,I),e.update()}},translateEnd:{guard:b,action:()=>{e.stopInteracting()}},copy:{guard:N,action:()=>{this.copied=e.copy(this.active)}},cut:{guard:N,action:()=>{this.copied=e.copy(this.active),s()}},paste:{guard:v,action:()=>{e.paste(this.copied)}},selectLast:()=>{const I=this.active;this.active=e.selectLast(),e.select(this.active,I)},click:[{guard:()=>{if(this.active==null||this.hovered!==this.active)return!1;const I=e.datum(this.active);return I?rl(I)&&!I.locked:!1},target:"text-input"},{action:()=>{const I=this.active;this.active=this.hovered,e.select(this.hovered,I)}}],dblclick:{guard:S,action:({offset:I})=>{const C=e.getNodeAtCoords(I,this.active)==="text"?"text":"line";e.showAnnotationSettings(this.active,void 0,C)}},dragStart:[{guard:M,target:"dragging",action:()=>{const I=this.active;this.active=this.hovered,e.select(this.hovered,I),e.startInteracting()}},{action:()=>{const I=this.active;this.active=this.hovered,e.select(this.hovered,I)}}],color:{guard:b,action:u},fontSize:{guard:b,action:h},lineProps:{guard:b,action:I=>{const C=lc(e.datum(this.active));C==null||C.set(I),e.update(),e.recordAction(`Change ${C==null?void 0:C.type} ${Object.entries(I).map(([L,O])=>`${L} to ${O}`).join(", ")}`)}},lineStyle:{guard:b,action:f},lineText:{guard:b,action:I=>{const C=lc(e.datum(this.active));Nm(C)&&(Sc(C)&&I.position==="center"&&(I.position="inside"),C.text.set(I),e.update())}},updateTextInputBBox:{guard:b,action:g},toolbarPressSettings:{guard:S,action:I=>{e.showAnnotationSettings(this.active,I)}},reset:()=>{var I;this.active!=null&&((I=e.node(this.active))==null||I.toggleActive(!1)),this.hovered=void 0,this.active=void 0,e.select(this.active,this.active),e.resetToIdle()},delete:()=>{if(this.active==null)return;e.delete(this.active);const I=e.datum(this.active);Wu(I)||e.recordAction(`Delete ${I==null?void 0:I.type} annotation`)},deleteAll:()=>{e.deleteAll()},...r},dragging:{onEnter:(I,C)=>{if(this.active==null)return;const L=e.getAnnotationType(this.active);L&&(this.transition(L),this.transition("dragStart",C))},...c},"text-input":{onEnter:()=>{if(this.active==null)return;const I=lc(e.datum(this.active));!I||!("getTextInputCoords"in I)||(e.startInteracting(),e.showTextInput(this.active),I.visible=!1,e.update())},updateTextInputBBox:{guard:b,action:g},zoomChange:{target:"idle",action:x},click:{target:"idle",action:x},drag:{target:"idle",action:x},keyDown:[{guard:Ij,target:"idle",action:y},{guard:Tj,target:"idle",action:x}],color:{guard:b,action:u},fontSize:{guard:b,action:h},cancel:{target:"idle",action:y},onExit:()=>{e.stopInteracting(),e.hideTextInput();const I=this.active;if(this.active=this.hovered=void 0,e.select(this.active,I),I==null)return;const C=e.datum(I),L=e.node(I);!C||!L||(C.visible=!0)}}}),this.debug=Me.Debug.create(!0,"annotations"),this.snapping=!1}getActive(){return this.active}isActive(e){return e===this.active}},{BaseModuleInstance:FAe,InteractionState:Hy,Validate:BAe,BOOLEAN:VAe,createElement:UAe,REGIONS:GAe,ChartAxisDirection:WAe}=K,jh="ag-charts-annotations__axis-button",ZZ=class extends FAe{constructor(e,t,i,n){super(),this.ctx=e,this.axisCtx=t,this.onButtonClick=i,this.seriesRect=n,this.enabled=!0,this.snap=!1,this.padding=0;const{button:s,wrapper:a}=this.setup();this.wrapper=a,this.button=s,this.toggleVisibility(!1),this.updateButtonElement(),this.snap=t.scaleBandwidth()>0;const o=this.ctx.regionManager.getRegion(GAe.SERIES),r=Hy.Default|Hy.Annotations|Hy.AnnotationsSelected;this.destroyFns.push(o.addListener("hover",l=>this.show(l),r),o.addListener("drag",l=>this.show(l),Hy.Annotations|Hy.AnnotationsSelected),o.addListener("leave",()=>this.hide(),r),e.highlightManager.addListener("highlight-change",l=>this.onHighlightChange(l)),e.keyNavManager.addListener("nav-hori",()=>this.onKeyPress()),e.keyNavManager.addListener("nav-vert",()=>this.onKeyPress()),e.zoomManager.addListener("zoom-pan-start",()=>this.hide()),e.zoomManager.addListener("zoom-change",()=>this.hide()),()=>this.destroyElements(),()=>this.wrapper.remove(),()=>this.button.remove())}update(e,t){this.seriesRect=e,this.padding=t}setup(){const e=this.ctx.domManager.addChild("canvas-overlay",`${jh}-${this.axisCtx.axisId}`);e.classList.add(`${jh}-wrapper`);const t=UAe("button");return t.classList.add(jh),t.tabIndex=-1,e.appendChild(t),{wrapper:e,button:t}}destroyElements(){this.ctx.domManager.removeChild("canvas-overlay",jh)}show(e){const{offsetX:t,offsetY:i}=e;if(!(this.enabled&&this.seriesRect.containsPoint(t,i))){this.hide();return}this.toggleVisibility(!0);const n=this.getButtonCoordinates({x:t,y:i});this.coords=this.getAxisCoordinates(n),this.updatePosition(n)}hide(){this.toggleVisibility(!1)}onHighlightChange(e){e.currentHighlight||this.hide()}onKeyPress(){this.snap||this.hide()}getButtonCoordinates({x:e,y:t}){const{axisCtx:{direction:i,position:n},seriesRect:s,snap:a,axisCtx:o,padding:r}=this,{clientWidth:l,clientHeight:c}=this.button,[u,h]=[s.y,s.y+s.height],[f,g]=[s.x,s.x+s.width];if(a&&(e=Xh(gb(e-s.x,o),o)+s.x,t=Xh(gb(t-s.y,o),o)+s.y),i===WAe.X){const y=c-Math.max(0,r-5);e=e-l/2,t=n==="top"?u-c+y:h-y}else{const y=l-Math.max(0,r-9);e=n==="left"?f-l+y:g-y,t=t-c/2}return{x:e,y:t}}getAxisCoordinates(e){const{seriesRect:t}=this,{clientWidth:i,clientHeight:n}=this.button,s=e.x-t.x+i/2,a=e.y-t.y+n/2;return{x:s,y:a}}toggleVisibility(e){const{button:t}=this;if(t==null)return;const i=this.enabled&&e;this.toggleClass("-hidden",!i)}toggleClass(e,t){this.wrapper.classList.toggle(`${jh}-wrapper-${e}`,t)}updatePosition({x:e,y:t}){this.wrapper.style.transform=`translate(${Math.round(e)}px, ${Math.round(t)}px)`}updateButtonElement(){const{button:e,ctx:t}=this;e.onclick=K.makeAccessibleClickListener(e,()=>this.onButtonClick(this.coords)),e.innerHTML=`<span class="${t.domManager.getIconClassNames("zoom-in")} ${jh}-icon"></span>`}};A([BAe(VAe)],ZZ.prototype,"enabled");var{Vec2:si,createButton:v1,createCheckbox:HAe,createElement:Au,createElementId:OB,createIcon:YAe,createSelect:$Ae,createTextArea:KAe,initRovingTabIndex:jB,getWindow:ZAe,mapValues:HA}=K,{Color:RB,setAttribute:qAe,setAttributes:YA}=Me,qZ=class MD extends aZ{constructor(t,i){super(t,i),this.colorPicker=new lZ(this.ctx,{detached:!0}),this.destroyFns.push(t.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)))}showWithChildren(t,i){i.initialFocus??(i.initialFocus=this.initialFocus);const n=super.showWithChildren(t,i);return n.classList.add("ag-charts-dialog"),n.setAttribute("role","dialog"),n.addEventListener("mousedown",s=>{var a;(a=s.target.classList)!=null&&a.contains("ag-charts-dialog__color-picker-button")||this.colorPicker.hide()}),n.addEventListener("keydown",this.onKeyDown.bind(this)),ZAe().requestAnimationFrame(()=>this.reposition()),this.colorPicker.attachTo(this),n}updatePosition(t){super.updatePosition(t);const{anchor:i,fallbackAnchor:n}=this.getColorPickerAnchors()??{};i&&this.colorPicker.setAnchor(i,n)}createTabs(t,i,n){const s=Au("div","ag-charts-dialog__tabs"),a=HA(n,()=>OB("ag-charts-dialog__tab")),o=HA(n,()=>OB("ag-charts-dialog__tab-panel"));for(const[g,x]of Object.entries(n))YA(x.panel,{id:o[g],role:"tabpanel","aria-labelledby":a[g]});const r=g=>{var x;for(const[y,b]of Object.entries(n))b.panel.classList.toggle("ag-charts-dialog__tab-panel--active",y===g),u[y].classList.toggle("ag-charts-dialog__tab-button--active",y===g),qAe(u[y],"aria-selected",y===g),y===g&&((x=b.onShow)==null||x.call(b))},l=Au("div","ag-charts-dialog__header");l.addEventListener("mousedown",g=>{g.target instanceof Element&&g.target.classList.contains("ag-charts-dialog__header")&&this.onDragStart(g)});const c=this.createHeaderDragHandle(),u=HA(n,(g,x)=>v1({label:this.ctx.localeManager.t(g.label),onPress:()=>r(x)},{id:a[x],class:"ag-charts-dialog__tab-button",role:"tab","aria-controls":o[x]})),h=Au("div","ag-charts-dialog__tab-list");YA(h,{role:"tablist","aria-label":this.ctx.localeManager.t(t)}),h.append(...Object.values(u));const f=this.createHeaderCloseButton();return l.append(c,h,f),s.append(l,...Object.values(n).map(g=>g.panel)),r(i),jB({orientation:"horizontal",buttons:Object.values(u)}),this.initialFocus=u[i],s}createTabPanel(){return Au("div","ag-charts-dialog__tab-panel")}createInputGroupLine(){return Au("div","ag-charts-dialog__input-group-line")}createRadioGroup({label:t,options:i,value:n,onChange:s}){const a=this.createInputGroup(t);YA(a,{role:"radiogroup",tabindex:-1,"aria-label":this.ctx.localeManager.t(t)});const o="ag-charts-dialog__button--active",r=[];for(const l of i){const{icon:c,altText:u}=l,h=this.ctx.localeManager.t(u),f=v1({icon:c,altText:h,onPress:()=>{for(const g of Array.from(a.children))g.classList.remove(o),g.ariaChecked="false";f.classList.add(o),f.ariaChecked="true",s(l.value)}},{"aria-checked":l.value===n,class:"ag-charts-dialog__button",role:"radio",title:h});l.value===n&&f.classList.add(o),a.appendChild(f),r.push(f)}return jB({orientation:"horizontal",buttons:r}),a}createSelect({altText:t,label:i,options:n,value:s,onChange:a}){const o=this.createInputGroup(i),r=this.ctx.localeManager.t(t),l=$Ae({value:s,options:n,onChange:a},{class:"ag-charts-dialog__select","aria-label":r,title:r});return o.append(l),o}createTextArea({placeholder:t,value:i,onChange:n}){const s=t?this.ctx.localeManager.t(t):void 0;return KAe({value:i,onChange:n},{placeholder:s})}createCheckbox({label:t,checked:i,onChange:n}){const s=`ag-charts__${t}`,a=this.createInputGroup(t,{for:s}),o=HAe({checked:i,onChange:n},{class:"ag-charts-dialog__checkbox",role:"switch",id:s});return a.append(o),a}createColorPicker({color:t,opacity:i,label:n,altText:s,onChange:a,onChangeHide:o}){const r=this.createInputGroup(n),l=this.ctx.localeManager.t(s),c=v1({label:l,onPress:u=>{const{anchor:h,fallbackAnchor:f}=this.getColorPickerAnchors(c)??{};this.colorPicker.show({anchor:h,fallbackAnchor:f,color:t,opacity:i,sourceEvent:u,onChange:(g,x,y)=>{c.style.setProperty("--color",g),a(g,x,y)},onChangeHide:o})}},{"aria-label":l,tabindex:0,class:"ag-charts-dialog__color-picker-button",title:l});if(t){const u=RB.fromHexString(t),h=new RB(u.r,u.g,u.b,i);c.style.setProperty("--color",h.toHexString())}return r.append(c),this.hideFns.push(()=>{this.colorPicker.hide()}),r}createHeaderDragHandle(){const t=Au("div","ag-charts-dialog__drag-handle"),i=YAe("drag-handle");return t.append(i),t.addEventListener("mousedown",n=>this.onDragStart(n,t)),t}createHeaderCloseButton(){return v1({icon:"close",altText:this.ctx.localeManager.t("iconAltTextClose"),onPress:()=>this.hide()},{class:"ag-charts-dialog__close-button"})}createInputGroup(t,i){const n=Au("div","ag-charts-dialog__input-group"),s=Au("label","ag-charts-dialog__input-group-label");return s.innerText=this.ctx.localeManager.t(t),i!=null&&i.for&&s.setAttribute("for",i.for),n.appendChild(s),n}onLayoutComplete(t){this.seriesRect=t.series.paddedRect,this.reposition()}onKeyDown(t){t.altKey||t.ctrlKey||t.metaKey||t.isComposing||t.key!=="Escape"||this.hide()}onDragStart(t,i){const n=this.getPopoverElement();if(!n)return;const{ctx:{domManager:s}}=this;t.preventDefault(),this.dragStartState={client:si.from(t.clientX,t.clientY),position:si.from(Number(n.style.getPropertyValue("left").replace("px","")),Number(n.style.getPropertyValue("top").replace("px","")))},i==null||i.classList.add("ag-charts-dialog__drag-handle--dragging");const a=this.onDrag.bind(this),o=()=>{s.removeEventListener("mousemove",a),i==null||i.classList.remove("ag-charts-dialog__drag-handle--dragging")};s.addEventListener("mousemove",a),s.addEventListener("mouseup",o,{once:!0}),n.addEventListener("mouseup",()=>o,{once:!0})}onDrag(t){const{dragStartState:i}=this,n=this.getPopoverElement();if(!i||!n)return;const s=si.sub(si.from(t.clientX,t.clientY),i.client),a=si.add(i.position,s),o=this.ctx.domManager.getBoundingClientRect();a.x>=o.x&&a.x+n.offsetWidth<=o.width&&n.style.setProperty("left",`${a.x}px`),a.y>=o.y&&a.y+n.offsetHeight<=o.height&&n.style.setProperty("top",`${a.y}px`)}reposition(){const{seriesRect:t,ctx:i}=this,n=i.domManager.getBoundingClientRect(),s=this.getPopoverElement();if(!t||!s)return;const a=si.from(0,t.y),o=si.from(n.width,t.height),r=si.from(s),l=si.from(.5,1);let c;if(t.width>1e3){const u=si.sub(si.add(a,si.multiply(o,l)),si.multiply(r,l));c=si.sub(u,si.from(0,MD.offset))}else{const u=si.sub(si.add(a,o),r);c=si.sub(u,MD.offset)}this.updatePosition(c)}getColorPickerAnchors(t){if(t&&(this.colorPickerAnchorElement=t),!this.colorPickerAnchorElement)return;const i=this.colorPickerAnchorElement.getBoundingClientRect(),n=this.ctx.domManager.getBoundingClientRect(),s=si.sub(si.from(i.x,i.y),si.from(n.left,n.top)),a=si.add(s,si.from(0,i.height+5)),o=si.sub(s,si.from(0,5));return{anchor:a,fallbackAnchor:o}}};qZ.offset=60;var XAe=qZ,{focusCursorAtEnd:QAe}=K,JAe=class extends XAe{constructor(e){super(e,"settings")}show(e,t){const i=this.createLinearLineTab(e,t),n=this.createLinearTextTab(e,t);let s="dialogHeaderLine";Sc(e)?s="dialogHeaderChannel":e.type==="date-range"?s="dialogHeaderDateRange":e.type==="price-range"?s="dialogHeaderPriceRange":e.type==="date-price-range"&&(s="dialogHeaderDatePriceRange");const a=this.createTabs("ariaLabelSettingsTabBar",t.initialSelectedTab,{line:{label:s,panel:i},text:{label:"dialogHeaderText",panel:n.panel,onShow:n.onShow}});this.showWithChildren([a],t).classList.add("ag-charts-dialog--annotation-settings")}createLinearLineTab(e,t){const i=this.createTabPanel(),n=this.createInputGroupLine(),s=this.createInputGroupLine(),a=this.createColorPickerInput("line-color",e.getDefaultColor("line-color"),e.getDefaultOpacity("line-color"),t.onChangeLineColor,t.onChangeHideLineColor),o=this.createStrokeWidthSelect(e.strokeWidth??2,t.onChangeLineStyleWidth),r=this.createLineStyleRadioGroup(e.lineStyle??"solid",t.onChangeLineStyleType);if("background"in e){const l=this.createColorPickerInput("fill-color",e.getDefaultColor("fill-color"),e.getDefaultOpacity("fill-color"),t.onChangeFillColor,t.onChangeHideFillColor);n.append(a,l),s.append(o,r)}else n.append(a,o),s.append(r);return i.append(n,s),"extendStart"in e&&"extendEnd"in e&&i.append(this.createCheckbox({label:Sc(e)?"dialogInputExtendChannelStart":"dialogInputExtendLineStart",checked:e.extendStart??!1,onChange:l=>t.onChangeLine({extendStart:l})}),this.createCheckbox({label:Sc(e)?"dialogInputExtendChannelEnd":"dialogInputExtendLineEnd",checked:e.extendEnd??!1,onChange:l=>t.onChangeLine({extendEnd:l})})),"extendAbove"in e&&"extendBelow"in e&&i.append(this.createCheckbox({label:"dialogInputExtendAbove",checked:e.extendAbove??!1,onChange:l=>t.onChangeLine({extendAbove:l})}),this.createCheckbox({label:"dialogInputExtendBelow",checked:e.extendBelow??!1,onChange:l=>t.onChangeLine({extendBelow:l})})),"extendLeft"in e&&"extendRight"in e&&i.append(this.createCheckbox({label:"dialogInputExtendLeft",checked:e.extendLeft??!1,onChange:l=>t.onChangeLine({extendLeft:l})}),this.createCheckbox({label:"dialogInputExtendRight",checked:e.extendRight??!1,onChange:l=>t.onChangeLine({extendRight:l})})),i}createLinearTextTab(e,t){const i=this.createTabPanel(),n=this.createTextArea({placeholder:"inputTextareaPlaceholder",value:e.text.label,onChange:h=>t.onChangeText({label:h})}),s=this.createInputGroupLine(),a=this.createFontSizeSelect(e.text.fontSize,t.onChangeTextFontSize),o=this.createColorPickerInput("text-color",e.text.color,1,t.onChangeTextColor,t.onChangeHideTextColor);s.append(a,o);const r=this.createInputGroupLine(),l=e.text.position==="inside"?"center":e.text.position,c=this.createPositionRadioGroup(l??"top",h=>t.onChangeText({position:h})),u=this.createAlignmentRadioGroup(e.text.alignment??"center",h=>t.onChangeText({alignment:h}));return r.append(c,u),i.append(n,s,r),{panel:i,onShow:()=>QAe(n)}}createColorPickerInput(e,t,i,n,s){const a=e==="fill-color"?"dialogInputFillColorPicker":"dialogInputColorPicker",o=e==="fill-color"?"dialogInputFillColorPickerAltText":"dialogInputColorPickerAltText";return this.createColorPicker({label:a,altText:o,color:t,opacity:i,onChange:n,onChangeHide:s})}createStrokeWidthSelect(e,t){return this.createSelect({label:"dialogInputStrokeWidth",altText:"dialogInputStrokeWidthAltText",options:$Z.map(({label:i,value:n})=>({label:i,value:`${n}`})),value:String(e),onChange:i=>t(Number(i))})}createLineStyleRadioGroup(e,t){return this.createRadioGroup({label:"dialogInputLineStyle",options:[{icon:"line-style-solid",altText:"iconAltTextLineStyleSolid",value:"solid"},{icon:"line-style-dashed",altText:"iconAltTextLineStyleDashed",value:"dashed"},{icon:"line-style-dotted",altText:"iconAltTextLineStyleDotted",value:"dotted"}],value:e,onChange:t})}createFontSizeSelect(e,t){return this.createSelect({label:"dialogInputFontSize",altText:"dialogInputFontSizeAltText",options:KZ.map(({label:i,value:n})=>({label:i,value:String(n)})),value:String(e),onChange:i=>t(Number(i))})}createPositionRadioGroup(e,t){return this.createRadioGroup({label:"dialogInputPosition",options:[{icon:"position-top",altText:"iconAltTextPositionTop",value:"top"},{icon:"position-center",altText:"iconAltTextPositionCenter",value:"center"},{icon:"position-bottom",altText:"iconAltTextPositionBottom",value:"bottom"}],value:e,onChange:t})}createAlignmentRadioGroup(e,t){return this.createRadioGroup({label:"dialogInputAlign",options:[{icon:"align-left",altText:"iconAltTextAlignLeft",value:"left"},{icon:"align-center",altText:"iconAltTextAlignCenter",value:"center"},{icon:"align-right",altText:"iconAltTextAlignRight",value:"right"}],value:e,onChange:t})}};function $A(e){return e.gridPadding+e.seriesAreaPadding+e.tickSize+e.label.padding}function eke(e,t,i){for(const{update:n}of Object.values(_a))n(e,t,i)}var{BOOLEAN:tke,ChartUpdateType:ike,InteractionState:ec,ObserveChanges:nke,PropertiesArray:ske,ToolbarManager:KA,Validate:ake,REGIONS:w1,ChartAxisDirection:oke,Vec2:Zr,isValidDate:ZA,keyProperty:rke,valueProperty:lke}=K,XZ=class extends K.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,this.axesButtons=new JO,this.data=void 0,this.xKey=void 0,this.volumeKey=void 0,this.annotationData=new ske(this.createAnnotationDatum),this.defaults=new qTe,this.container=new ae.Group({name:"static-annotations"}),this.annotations=new ae.Selection(this.container,this.createAnnotationScene.bind(this)),this.colorPicker=new lZ(this.ctx),this.textSizeMenu=new mx(this.ctx,"text-size"),this.lineStyleTypeMenu=new mx(this.ctx,"annotations-line-style-type"),this.lineStrokeWidthMenu=new mx(this.ctx,"annotations-line-stroke-width"),this.annotationMenu=new mx(this.ctx,"annotations"),this.settingsDialog=new JAe(this.ctx),this.textInput=new PIe(this.ctx),this.postUpdateFns=[],this.state=this.setupStateMachine(),this.setupListeners(),this.ctx.historyManager.addMementoOriginator(e.annotationManager),this.ctx.historyManager.addMementoOriginator(this.defaults),this.textInput.setKeyDownHandler(this.onTextInput.bind(this))}setupStateMachine(){const{ctx:e}=this;return new _Ae({resetToIdle:()=>{e.cursorManager.updateCursor("annotations"),e.toolbarManager.toggleGroup("annotations","annotationOptions",{visible:!1}),e.tooltipManager.unsuppressTooltip("annotations"),this.hideOverlays(),this.deleteEphemeralAnnotations(),this.resetToolbarButtonStates(),this.toggleAnnotationOptionsButtons(),this.update()},hoverAtCoords:(t,i)=>{var s;let n;return this.annotations.each((a,o,r)=>{const l=a.containsPoint(t.x,t.y);l&&(n??(n=r)),a.toggleHovered(l||i===r)}),this.ctx.cursorManager.updateCursor("annotations",n==null||(s=this.annotations.at(n))==null?void 0:s.getCursor()),n},getHoverCoords:()=>this.hoverCoords,getNodeAtCoords:(t,i)=>{const n=this.annotations.at(i);if(n)return n.getNodeAtCoords(t.x,t.y)},translate:(t,i)=>{const n=this.annotations.at(t),s=lc(this.annotationData.at(t));if(!(!n||!s))return this.translateNode(n,s,i)},copy:t=>{const i=this.annotations.at(t),n=lc(this.annotationData.at(t));if(!(!i||!n))return this.createAnnotationDatumCopy(i,n)},paste:t=>{this.createAnnotation(t.type,t,!1),this.postUpdateFns.push(()=>{this.state.transitionAsync("selectLast"),this.state.transitionAsync("copy")})},select:(t,i)=>{const{annotations:n,ctx:{toolbarManager:s,tooltipManager:a}}=this;this.hideOverlays();const o=t!=null?n.at(t):null,r=i!=null?n.at(i):null;r===o&&o!=null||(r==null||r.toggleActive(!1),s.toggleGroup("annotations","annotationOptions",{visible:!1}),o?(this.ctx.interactionManager.pushState(ec.AnnotationsSelected),o.toggleActive(!0),a.suppressTooltip("annotations"),this.toggleAnnotationOptionsButtons(),this.postUpdateFns.push(()=>{s.toggleGroup("annotations","annotationOptions",{visible:!0}),s.changeFloatingAnchor("annotationOptions",o.getAnchor())})):(this.ctx.interactionManager.popState(ec.AnnotationsSelected),this.ctx.interactionManager.popState(ec.Annotations),a.unsuppressTooltip("annotations")),s.updateButton("annotations","line-menu",{icon:void 0}),s.updateButton("annotations","text-menu",{icon:void 0}),s.updateButton("annotations","shape-menu",{icon:void 0}),s.updateButton("annotations","measurer-menu",{icon:void 0}),this.deleteEphemeralAnnotations(),this.update())},selectLast:()=>(this.ctx.interactionManager.pushState(ec.AnnotationsSelected),this.annotationData.length-1),startInteracting:()=>{this.ctx.interactionManager.pushState(ec.Annotations)},stopInteracting:()=>{this.ctx.interactionManager.popState(ec.Annotations)},create:(t,i)=>{this.createAnnotation(t,i)},delete:t=>{this.annotationData.splice(t,1)},deleteAll:()=>{this.annotationData.splice(0,this.annotationData.length)},validatePoint:t=>{const i=this.getAnnotationContext();return i?Ac(i,t):!0},getAnnotationType:t=>eB(this.annotationData[t].type),datum:t=>this.annotationData.at(t),node:t=>this.annotations.at(t),recordAction:t=>{this.recordActionAfterNextUpdate(t)},update:()=>{this.postUpdateFns.push(()=>{const t=this.state.getActive(),i=t!=null?this.annotations.at(t):null;i!=null&&e.toolbarManager.changeFloatingAnchor("annotationOptions",i.getAnchor())}),this.update()},addPostUpdateFns:(...t)=>{this.postUpdateFns.push(...t)},showTextInput:t=>{const i=lc(this.annotationData.at(t));if(!this.annotations.at(t)||!i||!("getTextInputCoords"in i)||!("getTextPosition"in i))return;const s={color:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,placeholderColor:i.getPlaceholderColor()},a=this.getAnnotationContext(),o=l=>Zr.add(i.getTextInputCoords(a,l),Zr.required(this.seriesRect)),r=()=>i.getTextPosition();this.textInput.show({styles:s,layout:{getTextInputCoords:o,getTextPosition:r,alignment:i.alignment,textAlign:i.textAlign,width:i.width},text:i.text,placeholderText:i.placeholderText,onChange:(l,c)=>{this.state.transition("updateTextInputBBox",c)}}),this.ctx.cursorManager.updateCursor("annotations",void 0)},hideTextInput:()=>{this.textInput.hide()},updateTextInputColor:t=>{this.textInput.updateColor(t)},updateTextInputFontSize:t=>{const i=this.textInput.updateFontSize(t);this.state.transition("updateTextInputBBox",i)},updateTextInputBBox:t=>{this.state.transition("updateTextInputBBox",t)},showAnnotationOptions:t=>{const i=this.annotations.at(t);!i||Wu(this.annotationData.at(t))||(this.toggleAnnotationOptionsButtons(),e.toolbarManager.toggleGroup("annotations","annotationOptions",{visible:!0}),e.toolbarManager.changeFloatingAnchor("annotationOptions",i.getAnchor()))},showAnnotationSettings:(t,i,n="line")=>{const s=this.annotationData.at(t);if(!$N(s)&&!Sc(s)&&!iv(s)||Wu(s))return;const a=l=>(c,u,h)=>{this.setColorAndDefault(s.type,l,c,u,h),this.updateToolbarColorPickerFill(l,u,h)},o=l=>()=>{this.recordActionAfterNextUpdate(`Change ${s.type} ${l} to ${s.getDefaultColor(l)}`,["annotations","defaults"]),this.update()},r={initialSelectedTab:n,ariaLabel:this.ctx.localeManager.t("ariaLabelAnnotationSettingsDialog"),sourceEvent:i,onChangeLine:l=>{this.state.transition("lineProps",l)},onChangeText:l=>{this.state.transition("lineText",l),l.alignment&&this.defaults.setDefaultLineTextAlignment(s.type,l.alignment),l.position&&this.defaults.setDefaultLineTextPosition(s.type,l.position),this.recordActionAfterNextUpdate(`Change ${s.type} text ${Object.entries(l).map(([c,u])=>`${c} to ${u}`).join(", ")}`)},onChangeFillColor:a("fill-color"),onChangeHideFillColor:o("fill-color"),onChangeLineColor:a("line-color"),onChangeHideLineColor:o("line-color"),onChangeLineStyleType:l=>{this.setLineStyleTypeAndDefault(s.type,l),this.updateToolbarLineStyleType(Wy.find(c=>c.value===l)??Wy[0])},onChangeLineStyleWidth:l=>{this.setLineStyleWidthAndDefault(s.type,l),this.updateToolbarStrokeWidth({strokeWidth:l,value:l,label:String(l)})},onChangeTextColor:a("text-color"),onChangeHideTextColor:o("text-color"),onChangeTextFontSize:l=>{this.setFontSizeAndDefault(s.type,l)}};this.settingsDialog.show(s,r)}})}setupListeners(){const{ctx:e}=this,{All:t,Default:i,Annotations:n,AnnotationsSelected:s,ZoomDrag:a}=ec,o=e.regionManager.getRegion(w1.SERIES),r=Object.values(w1).filter(c=>![w1.SERIES,w1.NAVIGATOR].includes(c)).map(c=>e.regionManager.getRegion(c)),l=i|a|n|s;this.destroyFns.push(o.addListener("hover",this.onHover.bind(this),t),o.addListener("click",this.onClick.bind(this),t),o.addListener("dblclick",this.onDoubleClick.bind(this),t),o.addListener("drag-start",this.onDragStart.bind(this),l),o.addListener("drag",this.onDrag.bind(this),l),o.addListener("drag-end",this.onDragEnd.bind(this),t),e.interactionManager.addListener("keydown",this.onKeyDown.bind(this),t),e.interactionManager.addListener("keyup",this.onKeyUp.bind(this),t),...r.map(c=>c.addListener("click",this.onCancel.bind(this),t)),e.annotationManager.addListener("restore-annotations",this.onRestoreAnnotations.bind(this)),e.toolbarManager.addListener("button-pressed",this.onToolbarButtonPress.bind(this)),e.toolbarManager.addListener("button-moved",this.onToolbarButtonMoved.bind(this)),e.toolbarManager.addListener("group-moved",this.onToolbarGroupMoved.bind(this)),e.toolbarManager.addListener("cancelled",this.onToolbarCancelled.bind(this)),e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.updateService.addListener("pre-scene-render",this.onPreRender.bind(this)),e.zoomManager.addListener("zoom-change",()=>this.onZoomChange()),e.annotationManager.attachNode(this.container),()=>this.colorPicker.destroy(),()=>e.domManager.removeStyles(jh))}destroy(){super.destroy()}async processData(e){if(!this.enabled||this.data==null||this.xKey==null||this.volumeKey==null)return;const t=[rke(this.xKey,void 0,{id:"date"}),lke(this.volumeKey,"number",{id:"volume"})],{dataModel:i,processedData:n}=await e.request("annotations",this.data,{props:t});this.dataModel=i,this.processedData=n}createAnnotationScene(e){if(e.type in _a)return new _a[e.type].scene;throw new Error(`AG Charts - Cannot create annotation scene of type [${e.type}], expected one of [${Object.keys(_a)}], ignoring.`)}createAnnotationDatum(e){if(e.type in _a)return new _a[e.type].datum().set(e);throw new Error(`AG Charts - Cannot create annotation datum of unknown type [${e.type}], expected one of [${Object.keys(_a)}], ignoring.`)}createAnnotation(e,t,i=!0){if(this.annotationData.push(t),i){const n=this.ctx.annotationManager.getAnnotationTypeStyles(e);n&&t.set(n),this.defaults.applyDefaults(t)}this.injectDatumDependencies(t),this.resetToolbarButtonStates(),this.update()}injectDatumDependencies(e){"setLocaleManager"in e&&e.setLocaleManager(this.ctx.localeManager),"getVolume"in e&&(e.getVolume=this.getDatumRangeVolume.bind(this))}getDatumRangeVolume(e,t){if(!ZA(e)||!ZA(t)||!this.dataModel||!this.processedData)return;e>t&&([e,t]=[t,e]);const i=this.dataModel.resolveProcessedDataDefById({id:"annotations"},"date"),n=this.dataModel.resolveProcessedDataDefById({id:"annotations"},"volume");return this.processedData.data.reduce((s,a)=>{const o=a.keys[i.index];return ZA(o)&&o>=e&&o<=t?s+a.values[n.index]:s},0)}translateNode(e,t,i){const n=this.getAnnotationConfig(t),s=this.getAnnotationContext();s&&n.translate(e,t,i,s)}createAnnotationDatumCopy(e,t){const i=this.getAnnotationConfig(t),n=new i.datum;n.set(t.toJson());const s=this.getAnnotationContext();if(s)return i.copy(e,t,n,s)}getAnnotationConfig(e){if(e.type in _a)return _a[e.type];throw new Error(`AG Charts - Cannot get annotation config of unknown type [${e.type}], expected one of [${Object.keys(_a)}], ignoring.`)}onRestoreAnnotations(e){this.enabled&&(this.clear(),this.annotationData.set(e.annotations),this.update())}onToolbarButtonPress(e){if(KA.isGroup("annotationOptions",e)){this.onToolbarAnnotationOptionButtonPress(e);return}if(!KA.isGroup("annotations",e)){this.reset();return}if(e.value==="clear"){this.clear(),this.recordActionAfterNextUpdate("Clear all annotations");return}if(e.value==="line-menu"){this.onToolbarButtonPressMenu(e,"toolbarAnnotationsLineAnnotations",OAe);return}if(e.value==="text-menu"){this.onToolbarButtonPressMenu(e,"toolbarAnnotationsTextAnnotations",jAe);return}if(e.value==="shape-menu"){this.onToolbarButtonPressMenu(e,"toolbarAnnotationsShapeAnnotations",RAe);return}if(e.value==="measurer-menu"){this.onToolbarButtonPressMenu(e,"toolbarAnnotationsMeasurerAnnotations",PAe);return}this.onToolbarButtonPressAnnotation(e)}onToolbarAnnotationOptionButtonPress(e){if(!KA.isGroup("annotationOptions",e))return;const{annotationData:t,state:i}=this,n=i.getActive();if(n==null)return;this.hideOverlays();const s=lc(t[n]),a=this.annotations.at(n);switch(e.value){case"line-style-type":{const o=Ru(s)?yb(s.lineDash,s.lineStyle):void 0;this.lineStyleTypeMenu.show({items:Wy,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsLineStyle"),value:o,sourceEvent:e.sourceEvent,onPress:r=>this.onLineStyleTypeMenuPress(r,s),class:"annotations__line-style-type"});break}case"line-stroke-width":{const o=Ru(s)?s.strokeWidth:void 0;this.lineStrokeWidthMenu.show({items:$Z,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsLineStrokeWidth"),value:o,sourceEvent:e.sourceEvent,onPress:r=>this.onLineStrokeWidthMenuPress(r,s),class:"annotations__line-stroke-width"});break}case"line-color":case"fill-color":case"text-color":{this.colorPicker.show({color:s==null?void 0:s.getDefaultColor(e.value),opacity:s==null?void 0:s.getDefaultOpacity(e.value),sourceEvent:e.sourceEvent,onChange:s!=null?this.onColorPickerChange.bind(this,e.value,s):void 0,onChangeHide:(o=>{this.recordActionAfterNextUpdate(`Change ${a==null?void 0:a.type} ${e.value} to ${s==null?void 0:s.getDefaultColor(o)}`,["annotations","defaults"])}).bind(this,e.value)});break}case"text-size":{const o=rl(s)?s.fontSize:void 0;this.textSizeMenu.show({items:KZ,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsTextSize"),value:o,sourceEvent:e.sourceEvent,onPress:r=>this.onTextSizeMenuPress(r,s),class:"ag-charts-annotations-text-size-menu"});break}case"delete":{this.cancel(),this.delete(),this.reset();break}case"lock":{t[n].locked=!t[n].locked,this.toggleAnnotationOptionsButtons();break}case"settings":{i.transition("toolbarPressSettings",e.sourceEvent);break}}this.update()}onToolbarButtonPressMenu(e,t,i){const{x:n,y:s,width:a}=e.rect;this.cancel(),this.reset(),this.annotationMenu.setAnchor({x:n+a+6,y:s}),this.annotationMenu.show({items:i,ariaLabel:this.ctx.localeManager.t(t),sourceEvent:e.sourceEvent,onPress:this.onAnnotationsMenuPress.bind(this,e)})}onToolbarButtonPressAnnotation(e){this.ctx.tooltipManager.suppressTooltip("annotations");const t=eB(e.value);t?this.beginAnnotationPlacement(t):(Me.Logger.errorOnce(`Can not create unknown annotation type [${e.value}], ignoring.`),this.update())}onToolbarButtonMoved(e){const{group:t,rect:i,groupRect:n,value:s}=e;if(t!=="annotationOptions")return;const a={x:i.x,y:i.y+i.height-1};switch(s){case"fill-color":case"line-color":case"text-color":{const o=Zr.add(n,Zr.from(0,n.height+4)),r={y:n.y-4};this.colorPicker.setAnchor(o,r);break}case"line-stroke-width":{this.lineStrokeWidthMenu.setAnchor(a);break}case"line-style-type":{this.lineStyleTypeMenu.setAnchor(a);break}case"text-size":{this.textSizeMenu.setAnchor(a);break}}}onToolbarGroupMoved(e){this.hideOverlays()}onColorPickerChange(e,t,i,n,s){this.setColorAndDefault(t.type,e,i,n,s),this.updateToolbarColorPickerFill(e,i)}updateToolbarColorPickerFill(e,t,i){if(t!=null&&i!=null){const{r:n,g:s,b:a}=Me.Color.fromString(t);t=Me.Color.fromArray([n,s,a,i]).toHexString()}this.ctx.toolbarManager.updateButton("annotationOptions",e,{fill:t})}updateToolbarFills(){const e=this.state.getActive(),t=e!=null?this.annotationData[e]:void 0,i=lc(t);this.updateToolbarColorPickerFill("line-color",i==null?void 0:i.getDefaultColor("line-color"),i==null?void 0:i.getDefaultOpacity("line-color")),this.updateToolbarColorPickerFill("fill-color",i==null?void 0:i.getDefaultColor("fill-color"),i==null?void 0:i.getDefaultOpacity("fill-color")),this.updateToolbarColorPickerFill("text-color",i==null?void 0:i.getDefaultColor("text-color"),i==null?void 0:i.getDefaultOpacity("text-color"))}updateToolbarFontSize(e){this.ctx.toolbarManager.updateButton("annotationOptions","text-size",{label:e!=null?String(e):void 0})}updateToolbarLineStyleType(e){this.ctx.toolbarManager.updateButton("annotationOptions","line-style-type",{icon:e.icon})}updateToolbarStrokeWidth(e){this.ctx.toolbarManager.updateButton("annotationOptions","line-stroke-width",{label:e.label,strokeWidth:e.value})}onTextSizeMenuPress(e,t){if(!nB(t))return;const i=e.value;this.setFontSizeAndDefault(t.type,i),this.textSizeMenu.hide(),this.updateToolbarFontSize(i)}onLineStyleTypeMenuPress(e,t){if(!Ru(t))return;const i=e.value;this.setLineStyleTypeAndDefault(t.type,i),this.lineStyleTypeMenu.hide(),this.updateToolbarLineStyleType(e)}onLineStrokeWidthMenuPress(e,t){if(!Ru(t))return;const i=e.value;this.setLineStyleWidthAndDefault(t.type,i),this.lineStrokeWidthMenu.hide(),this.updateToolbarStrokeWidth(e)}onAnnotationsMenuPress(e,t){const{toolbarManager:i}=this.ctx;i.toggleButton("annotations",e.id,{active:!0}),i.updateButton("annotations",e.id,{icon:t.icon}),this.beginAnnotationPlacement(t.value),this.annotationMenu.hide()}onToolbarCancelled(e){e.group==="annotations"&&this.cancelPlacementInteraction()}cancelPlacementInteraction(){this.cancel(),this.resetToolbarButtonStates(),this.reset(),this.update()}onLayoutComplete(e){var i,n;const t=e.series.paddedRect;this.seriesRect=t;for(const s of e.axes??[])s.direction===K.ChartAxisDirection.X?this.xAxis=this.getAxis(s,t,(i=this.xAxis)==null?void 0:i.button):this.yAxis=this.getAxis(s,t,(n=this.yAxis)==null?void 0:n.button)}onPreRender(){this.updateAnnotations(),this.state.transition("render")}getAxis(e,t,i){const n=this.ctx.axisManager.getAxisContext(e.direction)[0],{position:s="bottom",direction:a}=n,o=e.gridPadding+e.seriesAreaPadding,r=rZ(new ae.BBox(0,0,t.width,t.height),s,o),l=n.direction===oke.X?"vertical":"horizontal",{axesButtons:c}=this;if(this.enabled&&c.enabled&&(c.axes==="xy"||c.axes===a)){i??(i=new ZZ(this.ctx,n,f=>this.onAxisButtonClick(f,l),t));const h=$A(e);i.update(t,h)}else i==null||i.destroy(),i=void 0;return{layout:e,context:n,bounds:r,button:i}}recordActionAfterNextUpdate(e,t=["annotations"]){const{defaults:i,ctx:{annotationManager:n,historyManager:s}}=this,a=t.map(o=>o==="defaults"?i:n);this.postUpdateFns.push(()=>{s.record(e,...a)})}setColorAndDefault(e,t,i,n,s){this.state.transition("color",{colorPickerType:t,colorOpacity:i,color:n,opacity:s}),this.defaults.setDefaultColor(e,t,i,n,s)}setFontSizeAndDefault(e,t){this.state.transition("fontSize",t),this.defaults.setDefaultFontSize(e,t),this.recordActionAfterNextUpdate(`Change ${e} font size to ${t}`,["annotations","defaults"])}setLineStyleTypeAndDefault(e,t){this.state.transition("lineStyle",{type:t}),this.defaults.setDefaultLineStyleType(e,t),this.recordActionAfterNextUpdate(`Change ${e} line style to ${t}`,["annotations","defaults"])}setLineStyleWidthAndDefault(e,t){this.state.transition("lineStyle",{strokeWidth:t}),this.defaults.setDefaultLineStyleWidth(e,t),this.recordActionAfterNextUpdate(`Change ${e} stroke width to ${t}`,["annotations","defaults"])}updateAnnotations(){const{annotationData:e,annotations:t,seriesRect:i,ctx:{annotationManager:n,toolbarManager:s}}=this,a=this.getAnnotationContext();if(!i||!a)return;n.updateData(e.toJson().filter(r=>!Wu(r)));const o=e.length>0;s.toggleButton("annotations","clear",{enabled:o}),t.update(e??[],void 0,r=>r.id).each((r,l)=>{if(!this.validateDatum(l)){r.visible=!1;return}this.injectDatumDependencies(l),eke(r,l,a)}),this.postUpdateFns.forEach(r=>r()),this.postUpdateFns=[]}validateDatum(e){const t=this.getAnnotationContext();return t?e.isValidWithContext(t,`Annotation [${e.type}] `):!0}getAnnotationContext(){const{seriesRect:e,xAxis:t,yAxis:i}=this;if(e&&t&&i)return{seriesRect:e,xAxis:{...t.context,bounds:t.bounds,labelPadding:$A(t.layout)},yAxis:{...i.context,bounds:i.bounds,labelPadding:$A(t.layout)}}}getPointFn(e,t,i){return(n,s=1)=>gn(e?Nj(t,n?hi(n,i):Zr.origin(),s):t,i)}onHover(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const n=e.sourceEvent.shiftKey,s=Zr.from(e);this.hoverCoords=s;const a=this.getPointFn(n,s,i);t.transition("hover",{offset:s,point:a})}onClick(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const n=Zr.from(e),s=()=>gn(n,i),a=this.textInput.getValue(),o=this.textInput.getBBox();t.transition("click",{offset:n,point:s,textInputValue:a,bbox:o})}onDoubleClick(e){const{state:t}=this;if(!this.getAnnotationContext())return;const n=Zr.from(e);t.transition("dblclick",{offset:n})}onAxisButtonClick(e,t){this.cancel(),this.reset();const i=this.getAnnotationContext();if(!this.annotationData||!i)return;const{state:n,ctx:{toolbarManager:s,interactionManager:a}}=this;a.pushState(ec.Annotations);const o=t==="horizontal";if(n.transition(o?"horizontal-line":"vertical-line"),s.toggleGroup("annotations","annotationOptions",{visible:!1}),!e)return;const r=()=>gn(e,i);Ac(i,r())&&(n.transition("click",{point:r}),this.update())}onZoomChange(){const e=this.textInput.getValue(),t=this.textInput.getBBox();this.state.transition("zoomChange",{textInputValue:e,bbox:t})}onDragStart(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const n=Zr.from(e);this.hoverCoords=n;const s=e.sourceEvent.shiftKey,a=this.getPointFn(s,n,i),o=this.textInput.getValue(),r=this.textInput.getBBox();t.transition("dragStart",{context:i,offset:n,point:a,textInputValue:o,bbox:r})}onDrag(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const n=Zr.from(e);this.hoverCoords=n;const s=e.sourceEvent.shiftKey,a=this.getPointFn(s,n,i);t.transition("drag",{context:i,offset:n,point:a})}onDragEnd(){this.hoverCoords=void 0,this.state.transition("dragEnd")}onCancel(){this.cancel(),this.reset()}onDelete(){this.textInput.isVisible()||(this.cancel(),this.delete(),this.reset(),this.update())}onTextInput(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const{key:n,shiftKey:s}=e,a=this.textInput.getValue(),o=this.textInput.getBBox();t.transition("keyDown",{key:n,shiftKey:s,textInputValue:a,bbox:o,context:i})}onKeyDown(e){const{state:t}=this,i=this.getAnnotationContext();if(!i)return;const{sourceEvent:n}=e,{shiftKey:s,ctrlKey:a,metaKey:o}=n,r=a||o,l=a||s,c=this.hoverCoords?this.getPointFn(s,this.hoverCoords,i):void 0;this.state.transition("keyDown",{shiftKey:s,context:i,point:c});const u={x:0,y:0},h=Math.max((i==null?void 0:i.xAxis.scaleBandwidth())??0,l?10:1),f=Math.max((i==null?void 0:i.yAxis.scaleBandwidth())??0,l?10:1);switch(n.key){case"ArrowDown":u.y=f;break;case"ArrowUp":u.y=-f;break;case"ArrowLeft":u.x=-h;break;case"ArrowRight":u.x=h;break;case"Escape":this.onCancel();return;case"Backspace":case"Delete":this.onDelete();return}if((u.x||u.y)&&(t.transition("translate",{translation:u,context:i}),n.stopPropagation(),n.preventDefault()),!!r)switch(n.key){case"c":t.transition("copy");return;case"x":t.transition("cut"),this.recordActionAfterNextUpdate("Cut annotation");return;case"v":t.transition("paste"),this.recordActionAfterNextUpdate("Paste annotation");return}}onKeyUp(e){const{shiftKey:t}=e.sourceEvent,i=this.getAnnotationContext();if(!i)return;const n=this.hoverCoords?this.getPointFn(t,this.hoverCoords,i):void 0;this.state.transition("keyUp",{shiftKey:t,context:i,point:n}),this.state.transition("translateEnd")}beginAnnotationPlacement(e){this.cancel(),this.ctx.interactionManager.pushState(ec.Annotations),this.state.transition(e),this.update()}toggleAnnotationOptionsButtons(){const{annotationData:e,state:t,ctx:{toolbarManager:i}}=this,n=t.getActive();if(n==null)return;const s=lc(e.at(n)),a=(s==null?void 0:s.locked)??!1;i.toggleButton("annotationOptions","line-style-type",{enabled:!a,visible:Ru(s)}),i.toggleButton("annotationOptions","line-stroke-width",{enabled:!a,visible:Ru(s)}),i.toggleButton("annotationOptions","line-color",{enabled:!a,visible:HTe(s)}),i.toggleButton("annotationOptions","text-color",{enabled:!a,visible:KTe(s)}),i.toggleButton("annotationOptions","fill-color",{enabled:!a,visible:$Te(s)}),i.toggleButton("annotationOptions","text-size",{enabled:!a,visible:nB(s)}),i.toggleButton("annotationOptions","settings",{enabled:!a,visible:Nm(s)}),i.toggleButton("annotationOptions","delete",{enabled:!a}),i.toggleButton("annotationOptions","lock",{checked:a}),i.updateGroup("annotationOptions"),this.updateToolbarFontSize(s!=null&&"fontSize"in s?s.fontSize:void 0),this.updateToolbarFills(),this.updateToolbarLineStyles(s)}updateToolbarLineStyles(e){if(!Ru(e))return;const t=e.strokeWidth??1,i=yb(e.lineDash,e.lineStyle);this.updateToolbarStrokeWidth({strokeWidth:t,value:t,label:String(t)}),this.updateToolbarLineStyleType(Wy.find(n=>n.value===i)??Wy[0])}clear(){this.cancel(),this.deleteAll(),this.reset()}reset(){this.state.transition("reset")}cancel(){this.state.transition("cancel")}delete(){this.state.transition("delete")}deleteAll(){this.state.transition("deleteAll")}deleteEphemeralAnnotations(){for(const[e,t]of this.annotationData.entries())Wu(t)&&this.annotationData.splice(e,1)}hideOverlays(){this.colorPicker.hide({lastFocus:null}),this.textSizeMenu.hide(),this.lineStyleTypeMenu.hide(),this.lineStrokeWidthMenu.hide(),this.annotationMenu.hide(),this.settingsDialog.hide()}resetToolbarButtonStates(){const{ctx:{toolbarManager:e}}=this;for(const t of VIe)e.toggleButton("annotations",t,{active:!1});for(const t of UIe)e.toggleButton("annotations",t,{active:!1})}update(e=ike.PRE_SCENE_RENDER){this.ctx.updateService.update(e,{skipAnimations:!0})}};A([nke((e,t,i)=>{const{ctx:{annotationManager:n,stateManager:s,toolbarManager:a}}=e;t!==i&&(a.toggleGroup("annotations","annotations",{visible:!!t}),i===!1&&t===!0?s.restoreState(n):t===!1&&e.clear())}),ake(tke)],XZ.prototype,"enabled");var Jr={stroke:se.DEFAULT_ANNOTATION_COLOR,strokeOpacity:1,strokeWidth:2},Us={fill:se.DEFAULT_ANNOTATION_HANDLE_FILL,strokeOpacity:1,strokeWidth:2},XN={color:se.DEFAULT_TEXT_ANNOTATION_COLOR,fontSize:14,fontFamily:se.DEFAULT_FONT_FAMILY},PB={...XN,enabled:!0,color:"white",fill:se.DEFAULT_ANNOTATION_COLOR,fontSize:12},S1={...XN,color:se.DEFAULT_TEXT_ANNOTATION_COLOR,textAlign:"left"},Rh={...XN,position:"top",alignment:"center",color:se.DEFAULT_ANNOTATION_COLOR},ID={...XN,fontSize:12,color:se.DEFAULT_ANNOTATION_STATISTICS_COLOR,fill:se.DEFAULT_ANNOTATION_STATISTICS_FILL,stroke:se.DEFAULT_ANNOTATION_STATISTICS_STROKE,strokeWidth:1,divider:{stroke:se.DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE,strokeWidth:1,strokeOpacity:.5}},qA={...Jr,background:{fill:se.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},handle:{...Us},text:{...Rh},statistics:{...ID}},cke={type:"root",optionsKey:"annotations",packageType:"enterprise",chartTypes:["cartesian"],dependencies:["toolbar"],moduleFactory:e=>new XZ(e),themeTemplate:{annotations:{line:{...Jr,handle:{...Us},text:{...Rh}},"horizontal-line":{...Jr,handle:{...Us},axisLabel:{...PB},text:{...Rh}},"vertical-line":{...Jr,handle:{...Us},axisLabel:{...PB},text:{...Rh}},"disjoint-channel":{...Jr,background:{fill:se.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},handle:{...Us},text:{...Rh}},"parallel-channel":{...Jr,middle:{lineDash:[6,5],strokeWidth:1},background:{fill:se.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},handle:{...Us},text:{...Rh}},callout:{...Jr,...S1,color:se.DEFAULT_LABEL_COLOUR,handle:{...Us},fill:se.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},comment:{...S1,color:"white",fontWeight:700,handle:{...Us},fill:se.DEFAULT_ANNOTATION_COLOR},note:{...S1,color:se.DEFAULT_TEXTBOX_COLOR,fill:se.DEFAULT_ANNOTATION_COLOR,stroke:se.DEFAULT_ANNOTATION_HANDLE_FILL,strokeWidth:1,strokeOpacity:1,handle:{...Us},background:{fill:se.DEFAULT_TEXTBOX_FILL,stroke:se.DEFAULT_TEXTBOX_STROKE,strokeWidth:1}},text:{...S1,handle:{...Us}},arrow:{...Jr,handle:{...Us},text:{...Rh}},"arrow-up":{fill:se.PALETTE_UP_FILL,handle:{...Us,stroke:se.DEFAULT_ANNOTATION_COLOR}},"arrow-down":{fill:se.PALETTE_DOWN_FILL,handle:{...Us,stroke:se.DEFAULT_ANNOTATION_COLOR}},"date-range":{...qA},"price-range":{...qA},"date-price-range":{...qA},"quick-date-price-range":{up:{...Jr,fill:se.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2,handle:{...Us},statistics:{...ID,color:"#fff",fill:se.DEFAULT_ANNOTATION_BACKGROUND_FILL,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...Jr,stroke:se.DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE,fill:se.DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL,fillOpacity:.2,handle:{...Us,stroke:se.DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE},statistics:{...ID,color:"#fff",fill:se.DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}}}}},{BaseProperties:uke,ObserveChanges:dke,ProxyProperty:hke,Validate:Cp,NUMBER:QN,POSITIVE_NUMBER:QZ,RATIO:pke,createElement:fke,calculatePlacement:mke}=K,Dl=class extends uke{constructor(){super(),this.opacity=1,this.loadedSynchronously=!0,this.containerWidth=0,this.containerHeight=0,this.onLoad=void 0,this.onImageLoad=()=>{var t;this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),(t=this.onLoad)==null||t.call(this))},this.imageElement=fke("img"),this.imageElement.onload=this.onImageLoad,this.node=new ae.Image(this.imageElement)}get complete(){return this.imageElement.width>0&&this.imageElement.height>0}performLayout(t,i){this.containerWidth=t,this.containerHeight=i;const n={x:0,y:0,width:t,height:i},s=mke(this.imageElement.width,this.imageElement.height,n,this);return this.node.setProperties(this.complete?{visible:!0,opacity:this.opacity,...s}:{visible:!1}),s}};A([Cp(QN,{optional:!0})],Dl.prototype,"top");A([Cp(QN,{optional:!0})],Dl.prototype,"right");A([Cp(QN,{optional:!0})],Dl.prototype,"bottom");A([Cp(QN,{optional:!0})],Dl.prototype,"left");A([Cp(QZ,{optional:!0})],Dl.prototype,"width");A([Cp(QZ,{optional:!0})],Dl.prototype,"height");A([Cp(pke)],Dl.prototype,"opacity");A([hke("imageElement.src"),dke(e=>e.loadedSynchronously=e.complete)],Dl.prototype,"url");var{ActionOnSet:gke,OBJECT:yke,Validate:xke}=K,JZ=class extends K.Background{constructor(){super(...arguments),this.image=new Dl}onLayoutComplete(e){if(super.onLayoutComplete(e),this.image){const{width:t,height:i}=e.chart;this.image.performLayout(t,i)}}onImageLoad(){this.ctx.updateService.update(K.ChartUpdateType.SCENE_RENDER)}};A([xke(yke,{optional:!0}),gke({newValue(e){this.node.appendChild(e.node),e.onLoad=()=>this.onImageLoad()},oldValue(e){this.node.removeChild(e.node),e.onLoad=void 0}})],JZ.prototype,"image");var bke={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new JZ(e)},{ActionOnSet:vke,Validate:wke,BOOLEAN:Ske}=K,XA=[{label:"toolbarSeriesTypeOHLC",icon:"ohlc-series",value:"ohlc"},{label:"toolbarSeriesTypeCandles",icon:"candlestick-series",value:"candlestick"},{label:"toolbarSeriesTypeHollowCandles",icon:"hollow-candlestick-series",value:"hollow-candlestick"},{label:"toolbarSeriesTypeLine",icon:"line-series",value:"line"},{label:"toolbarSeriesTypeStepLine",icon:"step-line-series",value:"step-line"},{label:"toolbarSeriesTypeHLC",icon:"hlc-series",value:"hlc"},{label:"toolbarSeriesTypeHighLow",icon:"high-low-series",value:"high-low"}],wh="seriesType",N1="type",eq=class extends K.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.menu=new mx(this.ctx,"chart-toolbar"),this.destroyFns.push(e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.toolbarManager.addListener("button-moved",this.onToolbarButtonMoved.bind(this)),e.toolbarManager.addListener("button-pressed",this.onToolbarButtonPressed.bind(this)))}onEnableChanged(e){this.ctx.toolbarManager.toggleGroup("chart-toolbar",wh,{visible:e})}onLayoutComplete(){var i;if(!this.enabled)return;const e=this.getChartType(),t=(i=XA.find(n=>n.value===e))==null?void 0:i.icon;t!=null&&this.ctx.toolbarManager.updateButton(wh,N1,{icon:t})}setAnchor(e){this.menu.setAnchor({x:e.x+e.width+6,y:e.y})}onToolbarButtonMoved(e){e.group===wh&&this.setAnchor(e.rect)}onToolbarButtonPressed(e){e.group===wh&&(this.setAnchor(e.rect),this.menu.show({items:XA,menuItemRole:"menuitemradio",ariaLabel:this.ctx.localeManager.t("toolbarSeriesTypeDropdown"),value:this.getChartType(),sourceEvent:e.sourceEvent,onPress:t=>{this.setChartType(t.value),this.hidePopover()},onHide:()=>{this.ctx.toolbarManager.toggleButton(wh,N1,{active:!1})}}),this.ctx.toolbarManager.toggleButton(wh,N1,{active:!0}))}hidePopover(){this.ctx.toolbarManager.toggleButton(wh,N1,{active:!1}),this.menu.hide()}setChartType(e){var i;const t={chartType:e};(i=this.ctx.chartService.publicApi)==null||i.updateDelta(t)}getChartType(){var t,i;const e=(i=(t=this.ctx.chartService.publicApi)==null?void 0:t.getOptions())==null?void 0:i.chartType;return e==null||!XA.some(n=>n.value===e)?"candlestick":e}};A([wke(Ske),vke({changeValue:function(e){this.onEnableChanged(e)}})],eq.prototype,"enabled");var Nke={type:"root",optionsKey:"chartToolbar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:e=>new eq(e)},M1="ag-chart-context-menu",I1="ag-charts-dark-context-menu",{BOOLEAN:tq,Validate:iq,createElement:QA,initMenuKeyNav:Mke,makeAccessibleClickListener:Ike,ContextMenuRegistry:T1}=K,{Logger:Tke}=Me,JA="context-menu";function Ake(e,t){const{children:i}=e??{};if(!i)return[];const n=[];for(let s=0;s<i.length;s++){const a=i[s];a instanceof t&&n.push(a)}return n}var Cj=class extends K.BaseModuleInstance{constructor(e){if(super(),this.ctx=e,this.enabled=!0,this.darkTheme=!1,this.extraActions=[],this.extraNodeActions=[],this.extraLegendItemActions=[],this.x=0,this.y=0,this.interactionManager=e.interactionManager,this.registry=e.contextMenuRegistry,this.groups={default:[],extra:[],extraSeries:[],extraNode:[],extraLegendItem:[]},this.element=e.domManager.addChild("canvas-overlay",JA),this.element.classList.add(M1),this.element.addEventListener("contextmenu",t=>t.preventDefault()),this.destroyFns.push(()=>{var t;return(t=this.element.parentNode)==null?void 0:t.removeChild(this.element)}),this.doClose(),this.destroyFns.push(e.domManager.addListener("hidden",()=>this.hide())),typeof MutationObserver<"u"){const t=new MutationObserver(()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()});t.observe(this.element,{childList:!0}),this.mutationObserver=t,this.destroyFns.push(()=>t.disconnect())}this.destroyFns.push(this.registry.registerDefaultAction({id:"download",type:"all",label:"contextMenuDownload",action:()=>{var n;const t=e.chartService.title;let i="image";t!=null&&t.enabled&&(t==null?void 0:t.text)!==void 0&&(i=t.text.replace(/\.+/,"")),(n=this.ctx.chartService.publicApi)==null||n.download({fileName:i}).catch(s=>{Tke.error("Unable to download chart",s)})}})),this.destroyFns.push(this.registry.addListener(t=>this.onContext(t)))}onContext(e){if(!this.enabled)return;e.preventDefault(),this.showEvent=e.sourceEvent,this.x=e.x,this.y=e.y,this.groups.default=this.registry.filterActions(e.type),this.pickedNode=void 0,this.pickedLegendItem=void 0,this.groups.extra=this.extraActions.map(({label:o,action:r})=>({type:"all",label:o,action:r})),T1.check("series",e)&&(this.pickedNode=e.context.pickedNode,this.pickedNode&&(this.groups.extraNode=this.extraNodeActions.map(({label:o,action:r})=>({type:"node",label:o,action:r})))),T1.check("legend",e)&&(this.pickedLegendItem=e.context.legendItem,this.pickedLegendItem&&(this.groups.extraLegendItem=this.extraLegendItemActions.map(({label:o,action:r})=>({type:"legend",label:o,action:r}))));const{default:t,extra:i,extraNode:n,extraLegendItem:s}=this.groups;[t,i,n,s].reduce((o,r)=>r.length+o,0)!==0&&this.show(e.sourceEvent)}show(e){var n;this.interactionManager.pushState(K.InteractionState.ContextMenu),this.element.classList.toggle(I1,this.darkTheme);const t=this.renderMenu();(n=this.menuCloser)==null||n.close(),this.menuElement?this.element.replaceChild(t,this.menuElement):this.element.appendChild(t),this.menuElement=t,this.element.style.display="block";const i=Ake(t,HTMLButtonElement);this.menuCloser=Mke({menu:t,buttons:i,orientation:"vertical",sourceEvent:e,autoCloseOnBlur:!0,closeCallback:()=>this.doClose()})}hide(){var e;(e=this.menuCloser)==null||e.close()}doClose(){this.interactionManager.popState(K.InteractionState.ContextMenu),this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0,this.menuCloser=void 0),this.element.style.display="none"}renderMenu(){const e=QA("div");return e.classList.add(`${M1}__menu`),e.classList.toggle(I1,this.darkTheme),e.role="menu",this.appendMenuGroup(e,this.groups.default,!1),this.appendMenuGroup(e,this.groups.extra),this.pickedNode&&this.appendMenuGroup(e,this.groups.extraNode),this.pickedLegendItem&&this.appendMenuGroup(e,this.groups.extraLegendItem),e}appendMenuGroup(e,t,i=!0){t.length!==0&&(i&&e.appendChild(this.createDividerElement()),t.forEach(n=>{const s=this.renderItem(n);s&&e.appendChild(s)}))}renderItem(e){if(e&&typeof e=="object"&&e.constructor===Object)return this.createActionElement(e)}createDividerElement(){const e=QA("div");return e.classList.add(`${M1}__divider`),e.classList.toggle(I1,this.darkTheme),e.role="separator",e}createActionElement({id:e,label:t,type:i,action:n}){const s=!!(e&&this.registry.isDisabled(e));return this.createButtonElement(i,t,n,s)}createButtonOnClick(e,t){return T1.checkCallback("legend",e,t)?i=>{if(this.pickedLegendItem){const{seriesId:n,itemId:s,enabled:a}=this.pickedLegendItem;t({type:"contextmenu",seriesId:n,itemId:s,enabled:a,event:i}),this.hide()}}:T1.checkCallback("node",e,t)?()=>{const{pickedNode:i,showEvent:n}=this,s=i==null?void 0:i.series.createNodeContextMenuActionEvent(n,i);s?t(s):Me.Logger.error("series node not found"),this.hide()}:()=>{t({type:"contextMenuEvent",event:this.showEvent}),this.hide()}}createButtonElement(e,t,i,n){const s=QA("button");return s.classList.add(`${M1}__item`),s.classList.toggle(I1,this.darkTheme),s.ariaDisabled=n.toString(),s.textContent=this.ctx.localeManager.t(t),s.role="menuitem",s.onclick=Ike(s,this.createButtonOnClick(e,i)),s.addEventListener("mouseover",()=>s.focus()),s}reposition(){let{x:e,y:t}=this;this.element.style.top="unset",this.element.style.bottom="unset";const i=this.ctx.domManager.getBoundingClientRect(),{offsetWidth:n,offsetHeight:s}=this.element;e=K.clamp(0,e,i.width-n),t=K.clamp(0,t,i.height-s),this.element.style.left=`${e}px`,this.element.style.top=`calc(${t}px - 0.5em)`}destroy(){var e;super.destroy(),(e=this.mutationObserver)==null||e.disconnect(),this.ctx.domManager.removeStyles(JA),this.ctx.domManager.removeChild("canvas-overlay",JA)}};A([iq(tq)],Cj.prototype,"enabled");A([iq(tq)],Cj.prototype,"darkTheme");var kke={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsKey:"contextMenu",moduleFactory:e=>new Cj(e),themeTemplate:{contextMenu:{enabled:!0,darkTheme:se.IS_DARK_THEME}}},{ActionOnSet:Cke,BaseProperties:Dke,BOOLEAN:nq,FUNCTION:sq,NUMBER:JN,STRING:eM,Validate:Vo}=K,{setAttribute:Lke}=Me,Eke="ag-crosshair-label",Dp=class extends ae.ChangeDetectableProperties{constructor(){super(...arguments),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0}};A([Vo(nq)],Dp.prototype,"enabled");A([Vo(eM,{optional:!0})],Dp.prototype,"className");A([Vo(JN)],Dp.prototype,"xOffset");A([Vo(JN)],Dp.prototype,"yOffset");A([Vo(eM,{optional:!0})],Dp.prototype,"format");A([Vo(sq,{optional:!0})],Dp.prototype,"renderer");var Lp=class extends Dke{constructor(e,t,i){super(),this.domManager=e,this.id=Me.createId(this),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.renderer=void 0,this.element=e.addChild("canvas-overlay",`crosshair-label-${this.id}`),this.element.classList.add(Eke),Lke(this.element,"aria-hidden",!0),this.element.setAttribute("data-key",t),this.element.setAttribute("data-axis-id",i)}show(e){const{element:t}=this,i=e.x+this.xOffset,n=e.y+this.yOffset;t.style.top=`${Math.round(n)}px`,t.style.left=`${Math.round(i)}px`,this.toggle(!0)}setLabelHtml(e){e!==void 0&&(this.element.innerHTML=e)}getBBox(){const{element:e}=this;return new ae.BBox(e.clientLeft,e.clientTop,e.clientWidth,e.clientHeight)}toggle(e){this.element.classList.toggle("ag-crosshair-label-hidden",!e)}destroy(){this.domManager.removeChild("canvas-overlay",`crosshair-label-${this.id}`)}toLabelHtml(e,t){if(typeof e=="string")return e;t=t??{};const{text:i=t.text??"",color:n=t.color,backgroundColor:s=t.backgroundColor,opacity:a=t.opacity??1}=e;return`<div class="ag-crosshair-label-content" style="${`opacity: ${a}; background-color: ${s==null?void 0:s.toLowerCase()}; color: ${n}`}">
                    <span>${i}</span>
                </div>`}};A([Vo(nq)],Lp.prototype,"enabled");A([Vo(eM,{optional:!0}),Cke({changeValue(e,t){e!==t&&(t&&this.element.classList.remove(t),e&&this.element.classList.add(e))}})],Lp.prototype,"className");A([Vo(JN)],Lp.prototype,"xOffset");A([Vo(JN)],Lp.prototype,"yOffset");A([Vo(eM,{optional:!0})],Lp.prototype,"format");A([Vo(sq,{optional:!0})],Lp.prototype,"renderer");var{Group:Oke,TranslatableLayer:jke,Line:zB,BBox:ek}=ae,{createId:Rke}=Me,{POSITIVE_NUMBER:aq,RATIO:Pke,BOOLEAN:oq,COLOR_STRING:zke,LINE_DASH:_ke,OBJECT:Fke,InteractionState:Yy,Validate:Rd,ZIndexMap:_B}=K,Hc=class extends K.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.id=Rke(this),this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.label=new Dp,this.seriesRect=new ek(0,0,0,0),this.hoverRect=new ek(0,0,0,0),this.bounds=new ek(0,0,0,0),this.crosshairGroup=new jke({name:"crosshairs",zIndex:_B.SERIES_CROSSHAIR}),this.lineGroup=this.crosshairGroup.appendChild(new Oke({name:`${this.id}-crosshair-lines`,zIndex:_B.SERIES_CROSSHAIR})),this.lineGroupSelection=ae.Selection.select(this.lineGroup,zB,!1),this.activeHighlight=void 0,this.axisCtx=e.parent,this.labels={};const t=e.regionManager.getRegion("series"),i=Yy.Default|Yy.Annotations|Yy.AnnotationsSelected;this.hideCrosshairs(),this.destroyFns.push(e.scene.attachNode(this.crosshairGroup),t.addListener("hover",n=>this.onMouseMove(n),i),t.addListener("drag",n=>this.onMouseMove(n),Yy.Annotations|Yy.AnnotationsSelected),t.addListener("leave",()=>this.onMouseOut(),i),e.keyNavManager.addListener("nav-hori",()=>this.onKeyPress()),e.keyNavManager.addListener("nav-vert",()=>this.onKeyPress()),e.zoomManager.addListener("zoom-pan-start",()=>this.onMouseOut()),e.zoomManager.addListener("zoom-change",()=>this.onMouseOut()),e.highlightManager.addListener("highlight-change",n=>this.onHighlightChange(n)),e.layoutManager.addListener("layout:complete",n=>this.layout(n)),()=>Object.entries(this.labels).forEach(([n,s])=>s.destroy()))}layout({series:{rect:e,paddedRect:t,visible:i},axes:n}){if(!(i&&n&&this.enabled))return;this.seriesRect=e,this.hoverRect=t;const{position:s="left",axisId:a}=this.axisCtx,o=n.find(h=>h.id===a);if(!o)return;this.axisLayout=o;const r=o.gridPadding+o.seriesAreaPadding;this.bounds=rZ(e,s,r);const{crosshairGroup:l,bounds:c}=this;l.translationX=Math.round(c.x),l.translationY=Math.round(c.y);const u=["pointer",...this.axisCtx.seriesKeyProperties()];this.updateSelections(u),this.updateLines(),this.updateLabels(u)}updateSelections(e){this.lineGroupSelection.update(e,t=>t.append(new zB),t=>t)}updateLabels(e){const{labels:t,ctx:i}=this;e.forEach(n=>{t[n]??(t[n]=new Lp(i.domManager,n,this.axisCtx.axisId)),this.updateLabel(t[n])}),this.labelFormatter=this.axisCtx.scaleValueFormatter(this.label.format)}updateLabel(e){const{enabled:t,className:i,xOffset:n,yOffset:s,format:a,renderer:o}=this.label;e.enabled=t,e.className=i,e.xOffset=n,e.yOffset=s,e.format=a,e.renderer=o}updateLines(){const{lineGroupSelection:e,bounds:t,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o,axisLayout:r}=this;if(!r)return;const l=this.isVertical();e.each(c=>{c.stroke=i,c.strokeWidth=n,c.strokeOpacity=s,c.lineDash=a,c.lineDashOffset=o,c.y1=0,c.y2=l?t.height:0,c.x1=0,c.x2=l?0:t.width})}isVertical(){return this.axisCtx.direction==="x"}formatValue(e){const{labelFormatter:t,axisLayout:i,ctx:{callbackCache:n}}=this;if(t){const o=n.call(t,e);if(o!==void 0)return o}const s=e%1===0,a=((i==null?void 0:i.label.fractionDigits)??0)+(s?0:1);return typeof e=="number"?e.toFixed(a):String(e)}onMouseMove(e){if(!this.enabled||this.snap)return;const{crosshairGroup:t,hoverRect:i}=this,{offsetX:n,offsetY:s}=e;if(i.containsPoint(n,s)){const a=this.getData(e);this.updatePositions(a),t.visible=!0}else this.hideCrosshairs();this.ctx.updateService.update(K.ChartUpdateType.SCENE_RENDER)}onMouseOut(){this.hideCrosshairs(),this.ctx.updateService.update(K.ChartUpdateType.SCENE_RENDER)}onKeyPress(){this.enabled&&!this.snap&&this.hideCrosshairs()}onHighlightChange(e){var o,r;if(!this.enabled)return;const{crosshairGroup:t,axisCtx:i}=this,{datum:n,series:s}=e.currentHighlight??{},a=n&&(((o=s==null?void 0:s.axes.x)==null?void 0:o.id)===i.axisId||((r=s==null?void 0:s.axes.y)==null?void 0:r.id)===i.axisId);if(this.activeHighlight=a?e.currentHighlight:void 0,!this.activeHighlight)this.hideCrosshairs();else if(this.snap){const l=this.getActiveHighlightData(this.activeHighlight);this.updatePositions(l),t.visible=!0}}isInRange(e){return this.axisCtx.inRange(e)}updatePositions(e){const{seriesRect:t,lineGroupSelection:i}=this;i.each((n,s)=>{const a=e[s];if(!a){n.visible=!1;return}n.visible=!0;const{value:o,position:r}=a;let l=0,c=0;this.isVertical()?(l=r,n.x=Math.round(l)):(c=r,n.y=Math.round(c)),this.label.enabled?this.showLabel(l+t.x,c+t.y,o,s):this.hideLabel(s)})}getData(e){const{axisCtx:t}=this,i="pointer",{datum:n,xKey:s="",yKey:a=""}=this.activeHighlight??{},{regionOffsetX:o,regionOffsetY:r}=e,l=this.isVertical(),c=l?o:r;return{[i]:{position:c,value:t.continuous?t.scaleInvert(c):(n==null?void 0:n[l?s:a])??""}}}getActiveHighlightData(e){var y;const{axisCtx:t}=this,{datum:i,series:n,xKey:s="",aggregatedValue:a,cumulativeValue:o,midPoint:r}=e,l=n.getKeyProperties(t.direction),c=t.scaleBandwidth()/2,u=((y=n.axes[t.direction])==null?void 0:y.id)===t.axisId,h=l.indexOf("yKey")>-1&&u,f=l.indexOf("xKey")>-1&&u,g=a??o;if(h&&g!==void 0){const b=t.scaleConvert(g)+c;return this.isInRange(b)?{yKey:{value:g,position:b}}:{}}if(f){const b=(this.isVertical()?r==null?void 0:r.x:r==null?void 0:r.y)??0,v=t.continuous?t.scaleInvert(b):i[s];return this.isInRange(b)?{xKey:{value:v,position:b}}:{}}const x={};return l.forEach(b=>{const v=n.properties[b],S=i[v],N=t.scaleConvert(S)+c;this.isInRange(N)&&(x[b]={value:S,position:N})}),x}getLabelHtml(e,t){const{label:{renderer:i},axisLayout:{label:{fractionDigits:n=0}={}}={}}=this,s={text:this.formatValue(e)};if(i){const a={value:e,fractionDigits:n};return t.toLabelHtml(i(a),s)}return t.toLabelHtml(s)}showLabel(e,t,i,n){const{axisCtx:{position:s,direction:a},bounds:o,axisLayout:r}=this;if(!r)return;const{label:{padding:l},tickSize:c}=r,u=l+c,h=this.labels[n],f=this.getLabelHtml(i,h);h.setLabelHtml(f);const g=h.getBBox(),x=LIe({x:e,y:t,labelBBox:g,bounds:o,axisPosition:s,axisDirection:a,padding:u});h.show(x)}hideCrosshairs(){this.crosshairGroup.visible=!1;for(const e in this.labels)this.hideLabel(e)}hideLabel(e){this.labels[e].toggle(!1)}};A([Rd(oq)],Hc.prototype,"enabled");A([Rd(zke,{optional:!0})],Hc.prototype,"stroke");A([Rd(_ke,{optional:!0})],Hc.prototype,"lineDash");A([Rd(aq)],Hc.prototype,"lineDashOffset");A([Rd(aq)],Hc.prototype,"strokeWidth");A([Rd(Pke)],Hc.prototype,"strokeOpacity");A([Rd(oq)],Hc.prototype,"snap");A([Rd(Fke)],Hc.prototype,"label");var Bke={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","ordinal-time","number","log","time"],moduleFactory:e=>new Hc(e),themeTemplate:{crosshair:{snap:!0,stroke:se.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},{BOOLEAN:Vke,FUNCTION:Uke,ActionOnSet:sv,Validate:rq}=K,Sg=class extends K.BaseModuleInstance{constructor(e){super(),this.enabled=!1,this.getData=()=>Promise.resolve(),this.dataService=e.dataService}updateCallback(e,t){this.dataService&&(e&&t!=null?this.dataService.updateCallback(t):this.dataService.clearCallback())}};A([sv({newValue(e){this.updateCallback(e,this.getData)}}),rq(Vke)],Sg.prototype,"enabled");A([sv({newValue(e){this.updateCallback(this.enabled,e)}}),rq(Uke)],Sg.prototype,"getData");A([sv({newValue(e){this.dataService.requestThrottle=e}})],Sg.prototype,"requestThrottle");A([sv({newValue(e){this.dataService.dispatchThrottle=e}})],Sg.prototype,"updateThrottle");A([sv({newValue(e){this.dataService.dispatchOnlyLatest=!e}})],Sg.prototype,"updateDuringInteraction");var Gke={type:"root",optionsKey:"dataSource",packageType:"enterprise",chartTypes:["cartesian","hierarchy","polar","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new Sg(e),themeTemplate:{dataSource:{enabled:!1}}},{nearestSquaredInContainer:Wke,partialAssign:Hke,mergeDefaults:FB}=K,{BBox:ac}=ae,Yke=class{constructor(e){this.components=e,this.union=ac.merge(e)}containsPoint(e,t){if(!this.union.containsPoint(e,t))return!1;for(const i of this.components)if(i.containsPoint(e,t))return!0;return!1}},$ke=class extends ae.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new ae.Path,this.capsPath=new ae.Path,this.bboxes=new Yke([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(e){this._datum=e}calculateCapLength(e,t){const{lengthRatio:i=1,length:n}=e,{lengthRatioMultiplier:s,lengthMax:a}=t,o=n??i*s;return Math.min(o,a)}getItemStylerParams(e,t,i){const{datum:n}=this;if(n==null||e.itemStyler==null)return;const{xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r}=e;return{...t,datum:n.datum,seriesId:n.datum.seriesId,xKey:n.xKey,yKey:n.yKey,xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r,highlighted:i}}formatStyles(e,t,i){let{cap:n,...s}=e;const a=this.getItemStylerParams(t,e,i);if(a!=null&&t.itemStyler!=null){const o=t.itemStyler(a);s=FB(o,s),n=FB(o==null?void 0:o.cap,o,n)}return{whiskerStyle:s,capsStyle:n}}applyStyling(e,t){Hke(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],e,t)}update(e,t,i){if(this.datum===void 0)return;const{whiskerStyle:n,capsStyle:s}=this.formatStyles(e,t,i),{xBar:a,yBar:o,capDefaults:r}=this.datum,l=this.whiskerPath;this.applyStyling(l,n),l.path.clear(!0),o!==void 0&&(l.path.moveTo(o.lowerPoint.x,o.lowerPoint.y),l.path.lineTo(o.upperPoint.x,o.upperPoint.y)),a!==void 0&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),l.path.closePath(),this.capLength=this.calculateCapLength(s??{},r);const c=this.capLength/2,u=this.capsPath;this.applyStyling(u,s),u.path.clear(!0),o!==void 0&&(u.path.moveTo(o.lowerPoint.x-c,o.lowerPoint.y),u.path.lineTo(o.lowerPoint.x+c,o.lowerPoint.y),u.path.moveTo(o.upperPoint.x-c,o.upperPoint.y),u.path.lineTo(o.upperPoint.x+c,o.upperPoint.y)),a!==void 0&&(u.path.moveTo(a.lowerPoint.x,a.lowerPoint.y-c),u.path.lineTo(a.lowerPoint.x,a.lowerPoint.y+c),u.path.moveTo(a.upperPoint.x,a.upperPoint.y-c),u.path.lineTo(a.upperPoint.x,a.upperPoint.y+c)),u.path.closePath()}updateBBoxes(){const{capLength:e,whiskerPath:t,capsPath:i}=this,{yBar:n,xBar:s}=this.datum??{},a=e/2,o=[];if(n!==void 0){const r=n.lowerPoint.y-n.upperPoint.y;o.push(new ac(n.lowerPoint.x,n.upperPoint.y,t.strokeWidth,r),new ac(n.lowerPoint.x-a,n.lowerPoint.y,e,i.strokeWidth),new ac(n.upperPoint.x-a,n.upperPoint.y,e,i.strokeWidth))}if(s!==void 0){const r=s.upperPoint.x-s.lowerPoint.x;o.push(new ac(s.lowerPoint.x,s.upperPoint.y,r,t.strokeWidth),new ac(s.lowerPoint.x,s.lowerPoint.y-a,i.strokeWidth,e),new ac(s.upperPoint.x,s.upperPoint.y-a,i.strokeWidth,e))}this.bboxes.components=o,this.bboxes.union=ac.merge(o)}containsPoint(e,t){return this.bboxes.containsPoint(e,t)}pickNode(e,t){return this.containsPoint(e,t)?this:void 0}nearestSquared(e,t,i){const{bboxes:n}=this;if(n.union.distanceSquared(e,t)>i)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:s}=ac.nearestBox(e,t,n.components);return{nearest:this,distanceSquared:s}}},Kke=class extends ae.Group{nearestSquared(e,t){const{nearest:i,distanceSquared:n}=Wke(e,t,{children:this.children()});if(i!==void 0&&!isNaN(n))return{datum:i.datum,distanceSquared:n}}},{BaseProperties:lq,Validate:gi,BOOLEAN:cq,COLOR_STRING:uq,FUNCTION:Zke,LINE_DASH:dq,NUMBER:qke,OBJECT:Xke,POSITIVE_NUMBER:tM,RATIO:Dj,STRING:Pd}=K,Yc=class extends lq{};A([gi(cq,{optional:!0})],Yc.prototype,"visible");A([gi(uq,{optional:!0})],Yc.prototype,"stroke");A([gi(tM,{optional:!0})],Yc.prototype,"strokeWidth");A([gi(Dj,{optional:!0})],Yc.prototype,"strokeOpacity");A([gi(dq,{optional:!0})],Yc.prototype,"lineDash");A([gi(tM,{optional:!0})],Yc.prototype,"lineDashOffset");A([gi(qke,{optional:!0})],Yc.prototype,"length");A([gi(Dj,{optional:!0})],Yc.prototype,"lengthRatio");var ts=class extends lq{constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new Yc}};A([gi(Pd,{optional:!0})],ts.prototype,"yLowerKey");A([gi(Pd,{optional:!0})],ts.prototype,"yLowerName");A([gi(Pd,{optional:!0})],ts.prototype,"yUpperKey");A([gi(Pd,{optional:!0})],ts.prototype,"yUpperName");A([gi(Pd,{optional:!0})],ts.prototype,"xLowerKey");A([gi(Pd,{optional:!0})],ts.prototype,"xLowerName");A([gi(Pd,{optional:!0})],ts.prototype,"xUpperKey");A([gi(Pd,{optional:!0})],ts.prototype,"xUpperName");A([gi(cq,{optional:!0})],ts.prototype,"visible");A([gi(uq,{optional:!0})],ts.prototype,"stroke");A([gi(tM,{optional:!0})],ts.prototype,"strokeWidth");A([gi(Dj,{optional:!0})],ts.prototype,"strokeOpacity");A([gi(dq,{optional:!0})],ts.prototype,"lineDash");A([gi(tM,{optional:!0})],ts.prototype,"lineDashOffset");A([gi(Zke,{optional:!0})],ts.prototype,"itemStyler");A([gi(Xke)],ts.prototype,"cap");var{fixNumericExtent:Qke,groupAccumulativeValueProperty:Jke,isDefined:ca,mergeDefaults:eCe,valueProperty:A1,ChartAxisDirection:tk}=K;function tCe(e){for(const t of OC)if(t===e.series.type)return e.series;throw new Error(`AG Charts - unsupported series type '${e.series.type}', error bars supported series types: ${OC.join(", ")}`)}var iCe=class yx extends K.BaseModuleInstance{constructor(t){super(),this.properties=new ts;const i=tCe(t),{annotationGroup:n,annotationSelections:s}=i;this.cartesianSeries=i,this.groupNode=new Kke({name:`${n.id}-errorBars`,zIndex:K.ZIndexMap.SERIES_LAYER,zIndexSubOrder:i.getGroupZIndexSubOrder("annotation")}),n.appendChild(this.groupNode),this.selection=ae.Selection.select(this.groupNode,()=>this.errorBarFactory()),s.add(this.selection),this.destroyFns.push(i.addListener("data-processed",a=>this.onDataProcessed(a)),i.addListener("data-update",a=>this.onDataUpdate(a)),i.addListener("visibility-changed",a=>this.onToggleSeriesItem(a)),t.highlightManager.addListener("highlight-change",a=>this.onHighlightChange(a)),()=>n.removeChild(this.groupNode),()=>s.delete(this.selection))}hasErrorBars(){const{xLowerKey:t,xUpperKey:i,yLowerKey:n,yUpperKey:s}=this.properties;return ca(t)&&ca(i)||ca(n)&&ca(s)}isStacked(){var i;const t=(i=this.cartesianSeries.seriesGrouping)==null?void 0:i.stackCount;return t==null?!1:t>0}getUnstackPropertyDefinition(t){const i=[],{xLowerKey:n,xUpperKey:s,yLowerKey:a,yUpperKey:o,xErrorsID:r,yErrorsID:l}=this.getMaybeFlippedKeys(),{xScaleType:c,yScaleType:u}=t;return a!=null&&o!=null&&i.push(A1(a,u,{id:`${l}-lower`}),A1(o,u,{id:`${l}-upper`})),n!=null&&s!=null&&i.push(A1(n,c,{id:`${r}-lower`}),A1(s,c,{id:`${r}-upper`})),i}getStackPropertyDefinition(t){var b;const i=[],{cartesianSeries:n}=this,{xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r,xErrorsID:l,yErrorsID:c}=this.getMaybeFlippedKeys(),{xScaleType:u,yScaleType:h}=t,f=((b=n.seriesGrouping)==null?void 0:b.groupIndex)??n.id,g={invalidValue:null,missingValue:0,separateNegative:!0,...n.visible?{}:{forceValue:0}},x=(v,S,N,M)=>Jke(v,"normal","current",{id:`${S}-${N}`,groupId:`errorGroup-${f}-${N}`,...g},M),y=(v,S,N,M)=>{i.push(...x(v,N,"lower",M),...x(S,N,"upper",M))};return o!=null&&r!=null&&y(o,r,c,h),s!=null&&a!=null&&y(s,a,l,u),i}getPropertyDefinitions(t){return this.isStacked()?this.getStackPropertyDefinition(t):this.getUnstackPropertyDefinition(t)}onDataProcessed(t){this.dataModel=t.dataModel,this.processedData=t.processedData}getDomain(t){const{xLowerKey:i,xUpperKey:n,xErrorsID:s,yLowerKey:a,yUpperKey:o,yErrorsID:r}=this.getMaybeFlippedKeys();if(t===tk.X?ca(i)&&ca(n):ca(a)&&ca(o)){const{dataModel:c,processedData:u,cartesianSeries:h}=this;if(c!=null&&u!=null){const f={x:s,y:r}[t],g=c.getDomain(h,`${f}-lower`,"value",u),x=c.getDomain(h,`${f}-upper`,"value",u),y=[Math.min(...g,...x),Math.max(...g,...x)];return Qke(y)}}return[]}onDataUpdate(t){this.dataModel=t.dataModel,this.processedData=t.processedData,ca(t.dataModel)&&ca(t.processedData)&&(this.createNodeData(),this.update())}getNodeData(){var t;return(t=this.cartesianSeries.contextNodeData)==null?void 0:t.nodeData}createNodeData(){var s,a;const t=this.getNodeData(),i=(s=this.cartesianSeries.axes[tk.X])==null?void 0:s.scale,n=(a=this.cartesianSeries.axes[tk.Y])==null?void 0:a.scale;if(!(!this.hasErrorBars()||!i||!n||!t))for(let o=0;o<t.length;o++){const{midPoint:r,xLower:l,xUpper:c,yLower:u,yUpper:h}=this.getDatum(t,o);if(r!=null){let f,g;ca(l)&&ca(c)&&(f={lowerPoint:{x:this.convert(i,l),y:r.y},upperPoint:{x:this.convert(i,c),y:r.y}}),ca(u)&&ca(h)&&(g={lowerPoint:{x:r.x,y:this.convert(n,u)},upperPoint:{x:r.x,y:this.convert(n,h)}}),t[o].xBar=f,t[o].yBar=g}}}getMaybeFlippedKeys(){let{xLowerKey:t,xUpperKey:i,yLowerKey:n,yUpperKey:s}=this.properties,[a,o]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([t,n]=[n,t],[i,s]=[s,i],[a,o]=[o,a]),{xLowerKey:t,xUpperKey:i,xErrorsID:a,yLowerKey:n,yUpperKey:s,yErrorsID:o}}static getDatumKey(t,i,n){if(i==null)return;const s=t.datum[i];if(s!=null){if(typeof s!="number"){Me.Logger.warnOnce(`Found [${i}] error value of type ${typeof s}. Expected number type`);return}return s+n}}getDatum(t,i){const{xLowerKey:n,xUpperKey:s,yLowerKey:a,yUpperKey:o}=this.getMaybeFlippedKeys(),r=t[i],l=r.cumulativeValue==null||!this.isStacked()?0:r.cumulativeValue-r.yValue,[c,u]=this.cartesianSeries.shouldFlipXY()?[l,0]:[0,l];return{midPoint:r.midPoint,xLower:yx.getDatumKey(r,n,c),xUpper:yx.getDatumKey(r,s,c),yLower:yx.getDatumKey(r,a,u),yUpper:yx.getDatumKey(r,o,u)}}convert(t,i){const n=(t.bandwidth??0)/2;return t.convert(i)+n}update(){const t=this.getNodeData();t!=null&&(this.selection.update(t),this.selection.each((i,n,s)=>this.updateNode(i,n,s)))}updateNode(t,i,n){t.datum=i,t.update(this.getDefaultStyle(),this.properties,!1),t.updateBBoxes()}pickNodeExact(t){const{x:i,y:n}=t,s=this.groupNode.pickNode(i,n);if(s!=null)return{datum:s.datum,distanceSquared:0}}pickNodeNearest(t){return this.groupNode.nearestSquared(t.x,t.y)}pickNodeMainAxisFirst(t){return this.groupNode.nearestSquared(t.x,t.y)}getTooltipParams(){const{xLowerKey:t,xUpperKey:i,yLowerKey:n,yUpperKey:s,xLowerName:a=t,xUpperName:o=i,yLowerName:r=n,yUpperName:l=s}=this.properties;return{xLowerKey:t,xLowerName:a,xUpperKey:i,xUpperName:o,yLowerKey:n,yLowerName:r,yUpperKey:s,yUpperName:l}}onToggleSeriesItem(t){this.groupNode.visible=t.enabled}makeStyle(t){return{visible:t.visible,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,stroke:t.stroke,strokeWidth:t.strokeWidth,strokeOpacity:t.strokeOpacity,cap:eCe(this.properties.cap,t)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(t,i,n){var a;const s=this.getNodeData();if(s!=null){for(let o=0;o<s.length;o++)if(t===s[o]){(a=this.selection.at(o))==null||a.update(i,this.properties,n);break}}}onHighlightChange(t){const{previousHighlight:i,currentHighlight:n}=t;(n==null?void 0:n.series)===this.cartesianSeries&&this.restyleHighlightChange(n,this.getHighlightStyle(),!0),(i==null?void 0:i.series)===this.cartesianSeries&&this.restyleHighlightChange(i,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new $ke}getWhiskerProperties(){const{stroke:t,strokeWidth:i,visible:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{stroke:t,strokeWidth:i,visible:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}}},nCe={series:{errorBar:{visible:!0,stroke:se.DEFAULT_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}}},sCe={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:OC,moduleFactory:e=>new iCe(e),themeTemplate:nCe},{ZIndexMap:aCe,ActionOnSet:oCe,Validate:Lj,ProxyPropertyOnWrite:hq,OBJECT:rCe,RATIO:lCe,COLOR_STRING:cCe}=K,iM=class extends K.Background{constructor(){super(...arguments),this.image=new Dl,this.fill="transparent",this.fillOpacity=void 0}createNode(){return new ae.Layer({name:"foreground",zIndex:aCe.FOREGROUND})}onLayoutComplete(e){super.onLayoutComplete(e);const{width:t,height:i}=e.chart;let n={x:0,y:0,width:t,height:i};this.image&&(n=this.image.performLayout(t,i)),this.text&&this.updateTextNode(n)}onImageLoad(){this.ctx.updateService.update(K.ChartUpdateType.SCENE_RENDER)}updateTextNode(e){const{textNode:t}=this;t.fontWeight="bold",t.fontFamily="Impact, sans-serif",t.fontSize=19,t.opacity=.7,t.fill="#9b9b9b",t.textBaseline="top";const i=this.textNode.getBBox(),n=10;t.x=e.x+e.width/2-i.width/2,t.y=e.y+e.height+n}};A([Lj(rCe,{optional:!0}),oCe({newValue(e){this.node.appendChild(e.node),e.onLoad=()=>this.onImageLoad()},oldValue(e){this.node.removeChild(e.node),e.onLoad=void 0}})],iM.prototype,"image");A([Lj(cCe,{optional:!0}),hq("rectNode","fill")],iM.prototype,"fill");A([Lj(lCe,{optional:!0}),hq("rectNode","fillOpacity")],iM.prototype,"fillOpacity");var uCe={type:"root",optionsKey:"foreground",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new iM(e)},{Validate:Ej,BOOLEAN:dCe,POSITIVE_NUMBER:pq,ZIndexMap:ik,ActionOnSet:fq,CategoryAxis:hCe,GroupedCategoryAxis:pCe,TextUtils:fCe}=K,{Padding:mCe,Logger:BB}=Me,{Group:gCe,BBox:VB,TranslatableLayer:yCe,Layer:UB}=ae,Oj=class{constructor(){this.top=0,this.bottom=0}};A([Ej(pq)],Oj.prototype,"top");A([Ej(pq)],Oj.prototype,"bottom");var nM=class extends K.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.padding=new Oj,this.root=new gCe({name:"root"}),this.seriesRoot=this.root.appendChild(new yCe({name:"Series-root",zIndex:ik.SERIES_LAYER})),this.axisGridGroup=this.root.appendChild(new UB({name:"Axes-Grids",zIndex:ik.AXIS_GRID})),this.axisGroup=this.root.appendChild(new UB({name:"Axes-Grids",zIndex:ik.AXIS_GRID})),this.data=[],this._destroyed=!1,this.miniChartAnimationPhase="initial",this.axes=[],this.series=[]}destroy(){this._destroyed||(this.destroySeries(this.series),this.axes.forEach(e=>e.destroy()),this.axes=[],this._destroyed=!0)}onSeriesChange(e,t){const i=(t==null?void 0:t.filter(n=>!e.includes(n)))??[];this.destroySeries(i);for(const n of e){if(t!=null&&t.includes(n))continue;n.rootGroup.isRoot()&&this.seriesRoot.appendChild(n.rootGroup);const s=this;n.chart={get mode(){return"standalone"},get isMiniChart(){return!0},get seriesRect(){return s.seriesRect},placeLabels(){return new Map}},n.resetAnimation(this.miniChartAnimationPhase==="initial"?"initial":"disabled")}}destroySeries(e){e==null||e.forEach(t=>{var i;t.destroy(),(i=t.rootGroup)==null||i.remove(),t.chart=void 0})}assignSeriesToAxes(){this.axes.forEach(e=>{e.boundSeries=this.series.filter(t=>t.axes[e.direction]===e)})}assignAxesToSeries(){const e={};this.axes.forEach(t=>{const i=t.direction;(e[i]??(e[i]=[])).push(t)}),this.series.forEach(t=>{t.directions.forEach(i=>{const n=e[i];if(!n){BB.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const s=t.getKeys(i),a=this.findMatchingAxis(n,s);if(!a){BB.warnOnce(`no matching axis for direction [${i}] and keys [${s}]; check series and axes configuration.`);return}t.axes[i]=a})})}findMatchingAxis(e,t){for(const i of e){if(!i.keys.length)return i;if(t){for(const n of t)if(i.keys.includes(n))return i}}}updateData(e){this.series.forEach(t=>t.setChartData(e)),this.miniChartAnimationPhase==="initial"&&this.ctx.animationManager.onBatchStop(()=>{this.miniChartAnimationPhase="ready",this.series.forEach(t=>t.resetAnimation("disabled"))})}async processData(e){this.series.some(t=>t.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes()),await Promise.all(this.series.map(t=>t.processData(e)))}computeAxisPadding(){const e=new mCe;return this.enabled&&this.axes.forEach(({position:t,thickness:i=0,line:n,label:s})=>{if(t==null)return;let a;i>0?a=i:a=(n.enabled?n.width:0)+(s.enabled?fCe.getLineHeight(s.fontSize??0)+s.padding+5:0),e[t]=Math.ceil(a)}),e}async layout(e,t){const{padding:i}=this,n=this.seriesRect!=null,s=new VB(0,0,e,t-(i.top+i.bottom));this.seriesRect=s,this.seriesRoot.translationY=i.top,this.seriesRoot.setClipRectCanvasSpace(new VB(0,-i.top,e,t)),this.axes.forEach(a=>{const{position:o="left"}=a;switch(o){case"top":case"bottom":a.range=[0,s.width],a.gridLength=s.height;break;case"right":case"left":{const r=a instanceof hCe||a instanceof pCe;a.range=r?[0,s.height]:[s.height,0],a.gridLength=s.width;break}}a.gridPadding=0,a.translation.x=0,a.translation.y=0,o==="right"?a.translation.x=e:o==="bottom"&&(a.translation.y=t),a.calculateLayout(),a.updatePosition(),a.update(n)}),await Promise.all(this.series.map(a=>a.update({seriesRect:s})))}};A([Ej(dCe)],nM.prototype,"enabled");A([fq({changeValue(e,t=[]){for(const i of t)e.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of e)t!=null&&t.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup)}})],nM.prototype,"axes");A([fq({changeValue(e,t){this.onSeriesChange(e,t)}})],nM.prototype,"series");var{ObserveChanges:xCe}=K,mq=class extends K.Navigator{constructor(e){super(e),this.miniChart=new nM(e)}updateData(e){return this.miniChart.updateData(e)}processData(e){return this.miniChart.processData(e)}onLayoutStart(e){if(super.onLayoutStart(e),this.enabled){const{top:t,bottom:i}=this.miniChart.computeAxisPadding();e.layoutBox.shrink(t+i,"bottom"),this.y-=i}}async onLayoutComplete(e){super.onLayoutComplete(e),await this.miniChart.layout(this.width,this.height)}};A([xCe((e,t,i)=>{e.updateBackground(i==null?void 0:i.root,t==null?void 0:t.root)})],mq.prototype,"miniChart");var bCe={type:"root",optionsKey:"navigator",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:e=>new mq(e),themeTemplate:{...K.NavigatorModule.themeTemplate,navigator:{...K.NavigatorModule.themeTemplate.navigator,miniChart:{enabled:!1,label:{color:se.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:se.DEFAULT_FONT_FAMILY,formatter:void 0,padding:0},padding:{top:0,bottom:0}}}}},{CachedTextMeasurerPool:$y,ZIndexMap:vCe,LayoutElement:wCe,Validate:Js,BaseProperties:SCe,OBJECT:Ng,BOOLEAN:NCe,STRING:Mg,COLOR_STRING:MCe,RATIO:ICe,valueProperty:TCe,TextUtils:ACe}=K,{Label:Ky,Rect:kCe,Text:Tn}=ae,GB={ohlc:62,candlestick:62,"hollow-candlestick":62,line:96,"step-line":96,"range-area":30,hlc:184,"high-low":800},CCe={up:"positive",down:"negative"},DCe={hlc:"altNeutral"},jj=class extends SCe{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};A([Js(MCe)],jj.prototype,"fill");A([Js(ICe)],jj.prototype,"fillOpacity");var Da=class extends K.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.openKey=void 0,this.highKey=void 0,this.lowKey=void 0,this.closeKey=void 0,this.volumeKey=void 0,this.title=new Ky,this.positive=new Ky,this.negative=new Ky,this.neutral=new Ky,this.altNeutral=new Ky,this.background=new jj,this.layoutStyle="block",this.id="status-bar",this.data=void 0,this.labelGroup=new ae.TranslatableLayer({name:"StatusBar",zIndex:vCe.STATUS_BAR}),this.backgroundNode=this.labelGroup.appendChild(new kCe),this.labels=[{label:"O",configuration:2,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),id:"openValue",key:"openKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"H",configuration:16,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),id:"highValue",key:"highKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"H",configuration:256,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),style:"neutral",id:"highValue",key:"highKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"L",configuration:8,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),id:"lowValue",key:"lowKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"L",configuration:512,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),style:"neutral",id:"lowValue",key:"lowKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"C",configuration:4,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),id:"closeValue",key:"closeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"C",configuration:128,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),id:"closeValue",key:"closeKey",style:"neutral",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"",configuration:64,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),style:"neutral",id:"closeValue",key:"closeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})},{label:"Vol",configuration:32,title:this.labelGroup.appendChild(new Tn),value:this.labelGroup.appendChild(new Tn),id:"volumeValue",key:"volumeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})}],this.highlightManager=e.highlightManager,this.labelGroup.visible=!1,this.destroyFns.push(e.scene.attachNode(this.labelGroup),e.layoutManager.registerElement(wCe.Overlay,t=>this.startPerformLayout(t)),e.layoutManager.addListener("layout:complete",t=>this.onLayoutComplete(t)),e.highlightManager.addListener("highlight-change",()=>this.updateHighlight()))}async processData(e){if(!this.enabled||this.data==null)return;const t=[];for(const s of this.labels){const{id:a,key:o}=s,r=this[o];r==null?s.domain=void 0:t.push(TCe(r,"number",{id:a}))}if(t.length===0)return;const{processedData:i,dataModel:n}=await e.request(this.id,this.data,{props:t});for(const s of this.labels){const{id:a,key:o}=s;this[o]!=null&&(s.domain=n.getDomain(this,a,"value",i))}}startPerformLayout(e){if(this.labelGroup.translationX=0,this.labelGroup.translationY=0,!this.enabled)return;const{layoutBox:t}=e,i=4,n=12,s=0,a=8;this.labelGroup.translationY=t.y+s;const o=Math.max(this.title.fontSize,this.positive.fontSize,this.negative.fontSize),r=ACe.getLineHeight(o),l=GB[this.getChartType()]??0;let c=0,u,h="alphabetic";if(this.layoutStyle==="block")t.shrink(s+r+a,"top"),u=o+(r-o)/2;else{const{title:f}=this.ctx.chartService;if(h="top",u=s+f.padding,f.enabled){const g=f.node.getBBox();c=g.x+g.width+n}else c=f.padding}for(const{label:f,configuration:g,title:x,value:y,domain:b,formatter:v}of this.labels){if(b==null||(l&g)===0){x.visible=!1,y.visible=!1;continue}const S=Math.max($y.measureText(v.format(b[0]),{font:this.positive.getFont(),textBaseline:h,textAlign:"left"}).width,$y.measureText(v.format(b[1]),{font:this.positive.getFont(),textBaseline:h,textAlign:"left"}).width,$y.measureText(v.format(b[0]),{font:this.negative.getFont(),textBaseline:h,textAlign:"left"}).width,$y.measureText(v.format(b[1]),{font:this.negative.getFont(),textBaseline:h,textAlign:"left"}).width);x.visible=!0,y.visible=!0;const N=$y.measureText(f,{font:this.title.getFont(),textBaseline:h,textAlign:"left"});x.setFont(this.title),x.fill=this.title.color,x.text=f,x.textBaseline=h,x.y=u,x.x=c,c+=N.width+i,y.textBaseline=h,y.y=u,y.x=c,c+=S+n}this.backgroundNode.x=0,this.backgroundNode.y=0,this.backgroundNode.width=c-n,this.backgroundNode.height=r+s+a,this.backgroundNode.fill=this.background.fill,this.backgroundNode.fillOpacity=this.background.fillOpacity}onLayoutComplete(e){this.labelGroup.translationX=e.series.rect.x,this.updateHighlight()}updateHighlight(){var s;if(!this.enabled)return;const e=this.highlightManager.getActiveHighlight(),t=(e==null?void 0:e.datum)??((s=this.data)==null?void 0:s.at(-1));if(t==null){this.labelGroup.visible=!1;return}this.labelGroup.visible=!0;const i=e==null?void 0:e.itemId;let n=i!=null?CCe[i]:void 0;n==null&&this.openKey!=null&&this.closeKey!=null&&(t[this.openKey]<t[this.closeKey]?n="positive":n="negative");for(const{domain:a,value:o,key:r,formatter:l,style:c}of this.labels){if(a==null)continue;let u=c??n??"neutral";u==="neutral"&&(u=DCe[this.getChartType()]??u);const h=this[r],f=h!=null?t==null?void 0:t[h]:void 0;o.setFont(this[u]),o.fill=this[u].color,o.text=typeof f=="number"?l.format(f):""}}getChartType(){var t,i;let e=(i=(t=this.ctx.chartService.publicApi)==null?void 0:t.getOptions())==null?void 0:i.chartType;return(e==null||GB[e]==null)&&(e="candlestick"),e}};A([Js(NCe)],Da.prototype,"enabled");A([Js(Mg,{optional:!0})],Da.prototype,"openKey");A([Js(Mg,{optional:!0})],Da.prototype,"highKey");A([Js(Mg,{optional:!0})],Da.prototype,"lowKey");A([Js(Mg,{optional:!0})],Da.prototype,"closeKey");A([Js(Mg,{optional:!0})],Da.prototype,"volumeKey");A([Js(Ng)],Da.prototype,"title");A([Js(Ng)],Da.prototype,"positive");A([Js(Ng)],Da.prototype,"negative");A([Js(Ng)],Da.prototype,"neutral");A([Js(Ng)],Da.prototype,"altNeutral");A([Js(Ng)],Da.prototype,"background");A([Js(Mg)],Da.prototype,"layoutStyle");var LCe={type:"root",identifier:"status-bar",optionsKey:"statusBar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:e=>new Da(e),themeTemplate:{statusBar:{enabled:!1,layoutStyle:se.DEFAULT_CAPTION_LAYOUT_STYLE,title:{color:se.DEFAULT_LABEL_COLOUR},positive:{color:se.PALETTE_UP_STROKE},negative:{color:se.PALETTE_DOWN_STROKE},neutral:{color:se.PALETTE_NEUTRAL_STROKE},background:{fill:se.DEFAULT_BACKGROUND_COLOUR,fillOpacity:.5},altNeutral:{color:"gray"}}}},{BOOLEAN:Rj,STRING:ECe,UNION:OCe,BaseProperties:jCe,CartesianAxis:WB,ChartUpdateType:HB,isDate:RCe,isDefined:PCe,isFiniteNumber:k1,unique:zCe,ObserveChanges:av,TooltipManager:_Ce,Validate:ov}=K,{Logger:FCe}=Me,Ep=class extends jCe{constructor(e){super(),this.moduleContext=e,this.enabled=!1,this.axes="x",this.nodeInteraction=!0,this.zoom=!0}updateSiblings(e){const{syncManager:t}=this.moduleContext;for(const i of t.getGroupSiblings(e??this.groupId))this.updateChart(i)}updateChart(e,t=HB.UPDATE_DATA){e.ctx.updateService.update(t,{skipSync:!0})}enabledZoomSync(){const{syncManager:e,zoomManager:t}=this.moduleContext;this.disableZoomSync=t.addListener("zoom-change",()=>{var i;for(const n of e.getGroupSiblings(this.groupId))(i=n.modulesManager.getModule("sync"))!=null&&i.zoom&&n.ctx.zoomManager.updateZoom("sync",this.mergeZoom(n))})}enabledNodeInteractionSync(){const{highlightManager:e,syncManager:t}=this.moduleContext;this.disableNodeInteractionSync=e.addListener("highlight-change",i=>{var n,s,a,o,r,l,c;for(const u of t.getGroupSiblings(this.groupId))if((n=u.modulesManager.getModule("sync"))!=null&&n.nodeInteraction){if(!((s=i.currentHighlight)!=null&&s.datum)){u.ctx.highlightManager.updateHighlight(u.id),u.ctx.tooltipManager.removeTooltip(u.id);continue}for(const h of u.axes){const f=this.axes==="xy"?"x":this.axes;if(!WB.is(h)||h.direction!==f)continue;const g=u.series.map(x=>{const y=x.getKeys(h.direction);if(h.keys.length&&!h.keys.some(I=>y.includes(I)))return;const{nodeData:b}=x.contextNodeData;if(!(b!=null&&b.length))return;const v=b[0][`${h.direction}Key`];let S=i.currentHighlight.datum[v];const N=RCe(S);N&&(S=S.getTime());const M=b.find(I=>{const C=I.datum[v];return N?C.getTime()===S:C===S});return M?{series:x,nodeDatum:M}:null}).filter(PCe);if(g.length<2&&((a=g[0])==null?void 0:a.nodeDatum)!==u.ctx.highlightManager.getActiveHighlight()){const{series:x,nodeDatum:y}=g[0]??{};if(u.ctx.highlightManager.updateHighlight(u.id,y),y){const b=((o=y.midPoint)==null?void 0:o.x)??((r=y.point)==null?void 0:r.x)??0,v=((l=y.midPoint)==null?void 0:l.y)??((c=y.point)==null?void 0:c.y)??0,S=_Ce.makeTooltipMeta({type:"hover",offsetX:b,offsetY:v},y);delete S.lastPointerEvent,u.ctx.tooltipManager.updateTooltip(u.id,S,x.getTooltipHtml(y))}else u.ctx.tooltipManager.removeTooltip(u.id);this.updateChart(u,HB.SERIES_UPDATE)}}}})}getSyncedDomain(e){if(!WB.is(e)||this.axes!=="xy"&&this.axes!==e.direction)return;const{syncManager:t}=this.moduleContext,i=t.getGroup(this.groupId),[{axes:n}]=i,{direction:s,min:a,max:o,nice:r,reverse:l}=e;for(const c of n)if(s===c.direction&&(r!==c.nice||l!==c.reverse||a!==c.min&&(k1(a)||k1(c.min))||o!==c.max&&(k1(o)||k1(c.max)))){FCe.warnOnce("To allow synchronization, ensure that all charts have matching min, max, nice, and reverse properties on the synchronized axes."),this.enabled=!1;return}return zCe(i.flatMap(c=>c.series).filter(c=>{if(c.visible){const u=c.getKeys(e.direction);return e.keys.length?e.keys.some(h=>u.includes(h)):!0}}).flatMap(c=>c.getDomain(e.direction)))}mergeZoom(e){var n;const{zoomManager:t}=this.moduleContext;if(this.axes==="xy")return t.getZoom();const i=e.ctx.zoomManager.getZoom()??{};return i[this.axes]=(n=t.getZoom())==null?void 0:n[this.axes],i}onEnabledChange(){const{syncManager:e}=this.moduleContext;this.enabled?e.subscribe(this.groupId):e.unsubscribe(this.groupId),this.updateSiblings(),this.onNodeInteractionChange(),this.onZoomChange()}onGroupIdChange(e,t){if(!this.enabled||e===t)return;const{syncManager:i}=this.moduleContext;i.unsubscribe(t),i.subscribe(e),this.updateSiblings(t),this.updateSiblings(e)}onAxesChange(){if(!this.enabled)return;const{syncManager:e}=this.moduleContext;this.updateChart(e.getChart())}onNodeInteractionChange(){var e;this.enabled&&this.nodeInteraction?this.enabledNodeInteractionSync():(e=this.disableNodeInteractionSync)==null||e.call(this)}onZoomChange(){var e;this.enabled&&this.zoom?this.enabledZoomSync():(e=this.disableZoomSync)==null||e.call(this)}destroy(){var t;const{syncManager:e}=this.moduleContext;e.unsubscribe(this.groupId),this.updateSiblings(),(t=this.disableZoomSync)==null||t.call(this)}};Ep.className="Sync";A([ov(Rj),av(e=>e.onEnabledChange())],Ep.prototype,"enabled");A([ov(ECe,{optional:!0}),av((e,t,i)=>e.onGroupIdChange(t,i))],Ep.prototype,"groupId");A([ov(OCe(["x","y","xy"],"an axis")),av(e=>e.onAxesChange())],Ep.prototype,"axes");A([ov(Rj),av(e=>e.onNodeInteractionChange())],Ep.prototype,"nodeInteraction");A([ov(Rj),av(e=>e.onZoomChange())],Ep.prototype,"zoom");var BCe={type:"root",optionsKey:"sync",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:e=>new Ep(e),themeTemplate:{sync:{enabled:!1}}},{COLOR_STRING:VCe,RATIO:UCe,Validate:gq}=K,sM=class extends ae.Rect{constructor(){super(...arguments),this.fill="rgb(33, 150, 243)",this.fillOpacity=.2}};sM.className="ZoomRect";A([gq(VCe)],sM.prototype,"fill");A([gq(UCe)],sM.prototype,"fillOpacity");var{clamp:GCe,isEqual:YB,round:$B}=K,Dt={min:0,max:1},TD="end",AD="middle",C1=(e,t=Dt.min,i=Dt.max)=>GCe(t,e,i);function Pj(){return{x:{...Dt},y:{...Dt}}}function En(e){return e.x.max-e.x.min}function Lo(e){return e.y.max-e.y.min}function kD(e,t,i=1e-10){return YB(e.min,t.min,i)&&YB(e.max,t.max,i)}function CD(e,t,i){return kD(e.x,t.x,i)&&kD(e.y,t.y,i)}function zj(e,t,i){const n=$B(En(e),10)<=t,s=$B(Lo(e),10)<=i;return n||s}function bs(e){var t,i,n,s;return{x:{min:((t=e==null?void 0:e.x)==null?void 0:t.min)??Dt.min,max:((i=e==null?void 0:e.x)==null?void 0:i.max)??Dt.max},y:{min:((n=e==null?void 0:e.y)==null?void 0:n.min)??Dt.min,max:((s=e==null?void 0:e.y)==null?void 0:s.max)??Dt.max}}}function pl(e,t,i){if(!e)return{x:0,y:0};const n=C1(t-e.x,0,e.x+e.width),s=C1(i-e.y,0,e.y+e.height),a=1/e.width*n,o=1-1/e.height*s;return{x:C1(a),y:C1(o)}}function lp(e,t,i){return{x:{min:e.x.min+t,max:e.x.max+t},y:{min:e.y.min+i,max:e.y.max+i}}}function yq(e,t,i){return{x:{min:e.x.min,max:e.x.min+En(e)*t},y:{min:e.y.min,max:e.y.min+Lo(e)*i}}}function KB(e,t,i){const n=En(e),s=Lo(e),a=e.x.min+n/2,o=e.y.min+s/2;return{x:{min:a-n*t/2,max:a+n*t/2},y:{min:o-s*i/2,max:o+s*i/2}}}function fr(e,t,i,n){const{min:s,max:a}=t,o=s+(a-s)/2,r=e.max-e.min;switch(i){case"start":return{min:s,max:t.min+r};case"end":return{min:t.max-r,max:a};case"middle":return{min:o-r/2,max:o+r/2};case"pointer":return DD(e,t,n??o);default:return{min:s,max:a}}}function DD(e,t,i){const n=e.max-e.min,s=t.max-t.min,a=i*(1-(s-n)),o=i-a,r=e.min+o,l=e.max+o;return{min:r,max:l}}function WCe(e,t,i){return{x:{min:e.x.min*t,max:e.x.max*t},y:{min:e.y.min*i,max:e.y.max*i}}}function Ha(e){const t=Pj();return t.x=dS(e.x),t.y=dS(e.y),t}function dS(e){const t=e.max-e.min;let i=e.max>Dt.max?Dt.max-t:e.min,n=e.min<Dt.min?t:e.max;return i=Math.max(Dt.min,i),n=Math.min(Dt.max,n),{min:i,max:n}}function ZB({min:e,max:t},i,n){if(t===i.max)e=t-n;else if(e===i.min)t=e+n;else{const s=i.min+(i.max-i.min)/2;e=s-n/2,t=s+n/2}return{min:e,max:t}}var HCe=class{update(e,t,i,n,s,a){return this.oldZoom??(this.oldZoom=bs(t===K.ChartAxisDirection.X?{...s,x:a}:{...s,y:a})),this.updateCoords(e.offsetX,e.offsetY),this.updateZoom(t,i,n)}stop(){this.coords=void 0,this.oldZoom=void 0}updateCoords(e,t){this.coords?(this.coords.x2=e,this.coords.y2=t):this.coords={x1:e,y1:t,x2:e,y2:t}}updateZoom(e,t,i){const{coords:n,oldZoom:s}=this;let a=bs(s);if(!n||!s)return e===K.ChartAxisDirection.X?a.x:a.y;const o=pl(i,n.x1,n.y1),r=pl(i,n.x2,n.y2);if(e===K.ChartAxisDirection.X){const c=(r.x-o.x)*En(s);return a.x.max+=c,a.x=fr(a.x,s.x,t,o.x),a=Ha(a),a.x}const l=(r.y-o.y)*Lo(s);return a.y.max-=l,a.y=fr(a.y,s.y,t,o.y),a=Ha(a),a.y}},nk="zoom-action",sk="pan-action",YCe=class{constructor(e,t,i,n,s){this.contextMenuRegistry=e,this.zoomManager=t,this.getModuleProperties=i,this.getRect=n,this.updateZoom=s}registerActions(e,t){if(!e)return;const{contextMenuRegistry:i}=this,n=i.registerDefaultAction({id:nk,type:"series",label:"contextMenuZoomToCursor",action:this.onZoomToHere.bind(this)}),s=i.registerDefaultAction({id:sk,type:"series",label:"contextMenuPanToCursor",action:this.onPanToHere.bind(this)});return this.toggleActions(t),()=>{n(),s()}}toggleActions(e){const{contextMenuRegistry:t}=this,{minRatioX:i,minRatioY:n}=this.getModuleProperties();zj(e,i,n)?t.disableAction(nk):t.enableAction(nk),CD(e,Pj())?t.disableAction(sk):t.enableAction(sk)}onZoomToHere({event:e}){const t=this.getRect(),{enabled:i,isScalingX:n,isScalingY:s,minRatioX:a,minRatioY:o}=this.getModuleProperties();if(!i||!t||!e||!e.target||!(e instanceof MouseEvent))return;const r=bs(this.zoomManager.getZoom()),l=pl(t,e.offsetX,e.offsetX),c=l.x*En(r),u=l.y*Lo(r),h=Dt.max-Dt.min,f=h/2;let g={x:{min:l.x-f,max:l.x+f},y:{min:l.y-f,max:l.y+f}};g=KB(g,n?a:h,s?o:h),g=lp(g,r.x.min-l.x+c,r.y.min-l.y+u),this.updateZoom(Ha(g))}onPanToHere({event:e}){const t=this.getRect(),{enabled:i}=this.getModuleProperties();if(!i||!t||!e||!e.target||!(e instanceof MouseEvent))return;const n=bs(this.zoomManager.getZoom()),s=pl(t,e.offsetX,e.offsetY),a=En(n),o=Lo(n),r=s.x*a,l=s.y*o,c=(Dt.max-Dt.min)/2;let u={x:{min:s.x-c,max:s.x+c},y:{min:s.y-c,max:s.y+c}};u=KB(u,a,o),u=lp(u,n.x.min-s.x+r,n.y.min-s.y+l),this.updateZoom(Ha(u))}},qB=16,$Ce={off:1,short:.01,long:.002},KCe=class{constructor(){this.deceleration=1,this.zoomCoordsHistoryIndex=0,this.coordsHistory=[]}get decelerationValue(){const{deceleration:e}=this;return Math.max(typeof e=="number"?e:$Ce[e]??1,1e-4)}addListener(e,t){return this.onUpdate=t,()=>{this.onUpdate=void 0}}stopInteractions(){this.inertiaHandle!=null&&(cancelAnimationFrame(this.inertiaHandle),this.inertiaHandle=void 0)}update(e){var a;this.updateCoords(e.offsetX,e.offsetY);const{x1:t=0,y1:i=0,x2:n=0,y2:s=0}=this.coords??{};(a=this.onUpdate)==null||a.call(this,{type:"update",deltaX:t-n,deltaY:i-s})}start(){this.coordsMonitorTimeout=setInterval(this.recordCurrentZoomCoords.bind(this),16)}stop(){const{coordsHistory:e}=this;let t=0,i=0,n=0;if(e.length>0){const s=this.zoomCoordsHistoryIndex%qB;let a=s-1;a<0&&(a=e.length-1);let o=s;o>=e.length&&(o=0);const r=e[a],l=e[o];t=r.x-l.x,i=r.y-l.y,n=r.t-l.t}if(this.coords=void 0,clearInterval(this.coordsMonitorTimeout),this.coordsMonitorTimeout=void 0,this.zoomCoordsHistoryIndex=0,this.coordsHistory.length=0,n>0&&this.decelerationValue<1){const s=t/n,a=i/n,o=Math.hypot(s,a),r=Math.atan2(a,s),l=performance.now();this.inertiaHandle=K.getWindow().requestAnimationFrame(c=>{this.animateInertia(c,c,l,o,r)})}}recordCurrentZoomCoords(){const{coords:e,coordsHistory:t,zoomCoordsHistoryIndex:i}=this;if(!e)return;const{x2:n,y2:s}=e,a=Date.now();t[i%qB]={x:n,y:s,t:a},this.zoomCoordsHistoryIndex+=1}animateInertia(e,t,i,n,s){var c;const a=1-this.decelerationValue,o=-n/Math.log(a),r=n*(a**(t-i)-1)/Math.log(a),l=n*(a**(e-i)-1)/Math.log(a);(c=this.onUpdate)==null||c.call(this,{type:"update",deltaX:-Math.cos(s)*(l-r),deltaY:-Math.sin(s)*(l-r)}),!(l>=o-1)&&(this.inertiaHandle=requestAnimationFrame(u=>{this.animateInertia(u,e,i,n,s)}))}updateCoords(e,t){this.coords?this.coords={x1:this.coords.x2,y1:this.coords.y2,x2:e,y2:t}:this.coords={x1:e,y1:t,x2:e,y2:t}}translateZooms(e,t,i,n){const s=pl(e,e.x+Math.abs(i),e.y+e.height-Math.abs(n)),a=Math.sign(i)*s.x,o=-Math.sign(n)*s.y,r={};for(const[l,{direction:c,zoom:u}]of Object.entries(t)){if(u&&u.min===Dt.min&&u.max===Dt.max)continue;let h=bs({[c]:u});h=Ha(lp(h,a*En(h),o*Lo(h))),r[l]={direction:c,zoom:h[c]}}return r}},{AND:xq,DATE:bq,NUMBER:vq,OR:wq,ObserveChanges:Sq,Validate:Nq}=K,hS=class{constructor(e){this.onChange=e}getRange(){return this.getRangeWithValues(this.start,this.end)}getInitialRange(){return this.getRangeWithValues(this.initialStart,this.initialEnd)}updateDomain(e){this.domain=e}restore(e,t){this.initialStart=e,this.initialEnd=t,this.start=e,this.end=t,this.onChange(this.getRange())}extendToEnd(e){return this.extendWith(t=>Number(t)-e)}extendWith(e){var s;if(!this.domain)return;const[,t]=this.domain;if(t==null)return;const i=e(t),n=this.start!==i||this.end!==t;return this.end=t,this.start=i,n||(s=this.onChange)==null||s.call(this,this.getRange()),{start:i,end:t}}updateWith(e){var s;if(!this.domain)return;let[t,i]=this.domain;[t,i]=e(t,i);const n=this.start!==t||this.end!==i;return this.end=i,this.start=t,n||(s=this.onChange)==null||s.call(this,this.getRange()),{start:t,end:i}}extendAll(){var n;if(!this.domain)return;const[e,t]=this.domain,i=this.start!==e||this.end!==t;this.start=e,this.end=t,i||(n=this.onChange)==null||n.call(this,this.getRange())}getRangeWithValues(e,t){let[i,n]=this.domain??[];if(e==null&&t==null||i==null||n==null)return;i=Number(i),n=Number(n);let s=0,a=1;return e!=null&&(s=(Number(e)-i)/(n-i)),t!=null&&(a=(Number(t)-i)/(n-i)),{min:s,max:a}}};A([Sq((e,t)=>{var n;e.initialStart??(e.initialStart=t);const i=e.getRangeWithValues(t,e.end);i&&((n=e.onChange)==null||n.call(e,i))}),Nq(xq(wq(bq,vq)),{optional:!0})],hS.prototype,"start");A([Sq((e,t)=>{var n;e.initialEnd??(e.initialEnd=t);const i=e.getRangeWithValues(e.start,t);i&&((n=e.onChange)==null||n.call(e,i))}),Nq(xq(wq(bq,vq)),{optional:!0})],hS.prototype,"end");var{AND:Mq,GREATER_THAN:ZCe,LESS_THAN:qCe,RATIO:Iq,ObserveChanges:Tq,Validate:Aq}=K,{Logger:kq}=Me,pS=class{constructor(e){this.onChange=e,this.hasRestored=!1}getRatio(){return this.getRatioWithValues(this.start,this.end)}getInitialRatio(){return this.getRatioWithValues(this.initialStart,this.initialEnd)}restore(e,t){this.hasRestored=!0,this.initialStart=e,this.initialEnd=t,this.start=e,this.end=t,this.onChange(this.getRatio())}getRatioWithValues(e,t){if(!(e==null&&t==null))return{min:e??Dt.min,max:t??Dt.max}}};A([Tq((e,t)=>{var n;e.initialStart==null&&!e.hasRestored&&kq.warnOnce("Property [zoom.ratioX] is deprecated. Use [initialState.zoom.ratioX] instead."),e.initialStart??(e.initialStart=t);const i=e.getRatioWithValues(t,e.end);i&&((n=e.onChange)==null||n.call(e,i))}),Aq(Mq(Iq,qCe("end")),{optional:!0})],pS.prototype,"start");A([Tq((e,t)=>{var n;e.initialEnd==null&&!e.hasRestored&&kq.warnOnce("Property [zoom.ratioY] is deprecated. Use [initialState.zoom.ratioY] instead."),e.initialEnd??(e.initialEnd=t);const i=e.getRatioWithValues(e.start,t);i&&((n=e.onChange)==null||n.call(e,i))}),Aq(Mq(Iq,ZCe("start")),{optional:!0})],pS.prototype,"end");var XCe=200,QCe=class{update(e,t,i,n){const s=e.deltaX*t*XCe;return this.translateZooms(i,n,s)}translateZooms(e,t,i){const n={},s=pl(e,e.x+Math.abs(i),0),a=i<0?-s.x:s.x;for(const[o,{direction:r,zoom:l}]of Object.entries(t)){if(r!==K.ChartAxisDirection.X)continue;let c=bs({x:l});c=Ha(lp(c,a*En(c),0)),n[o]={direction:r,zoom:c.x}}return n}},JCe=class{updateAxes(e,t,i,n){const s=e.sourceEvent,a={},{anchorPointX:o,anchorPointY:r,isScalingX:l,isScalingY:c,scrollingStep:u}=t,h=pl(i,s.offsetX??s.clientX,s.offsetY??s.clientY);for(const[f,{direction:g,zoom:x}]of Object.entries(n)){if(x==null)continue;let y={...x};const b=u*e.deltaY*(x.max-x.min);if(g===K.ChartAxisDirection.X&&l)y.max+=b,y=fr(y,x,o,h.x);else if(g===K.ChartAxisDirection.Y&&c)y.max+=b,y=fr(y,x,r,h.y);else continue;a[f]={direction:g,zoom:dS(y)}}return a}update(e,t,i,n){const s=e.sourceEvent,{anchorPointX:a,anchorPointY:o,isScalingX:r,isScalingY:l,scrollingStep:c}=t,u=pl(i,s.offsetX??s.clientX,s.offsetY??s.clientY),h=e.deltaY;let f=bs(n);return f.x.max+=r?c*h*En(n):0,f.y.max+=l?c*h*Lo(n):0,r&&(f.x=fr(f.x,n.x,a,u.x)),l&&(f.y=fr(f.y,n.y,o,u.y)),f=Ha(f),f}updateDelta(e,t,i){const{anchorPointX:n,anchorPointY:s,isScalingX:a,isScalingY:o,scrollingStep:r}=t;let l=bs(i);return l.x.max+=a?r*-e*En(i):0,l.y.max+=o?r*-e*Lo(i):0,a&&(l.x=fr(l.x,i.x,n)),o&&(l.y=fr(l.y,i.y,s)),l=Ha(l),l}},eDe=class{constructor(e){this.rect=e,this.rect.visible=!1}update(e,t,i,n){this.rect.visible=!0,this.updateCoords(e.offsetX,e.offsetY,t,i,n),this.updateRect(i)}stop(e,t,i){let n=bs();if(!e||!t)return n;this.coords&&(n=this.createZoomFromCoords(t,i));const s=t.width/e.width,a=t.height/e.height;return n=Ha(WCe(n,s,a)),this.reset(),n}reset(){this.coords=void 0,this.rect.visible=!1}didUpdate(){return this.rect.visible}updateCoords(e,t,i,n,s){if(!this.coords){this.coords={x1:e,y1:t,x2:e,y2:t};return}if(this.coords.x2=e,this.coords.y2=t,!n)return;const{isScalingX:a,isScalingY:o,minRatioX:r,minRatioY:l}=i,c=bs(s),u=this.getNormalisedDimensions(),h=n.width/n.height,f=c.x.max-c.x.min,g=c.y.max-c.y.min,x=r/f,y=l/g;u.width/n.width<x&&(this.coords.x2<this.coords.x1?this.coords.x2=this.coords.x1-n.width*x:this.coords.x2=this.coords.x1+n.width*x),o&&!a?u.height/n.height<y&&(this.coords.y2<this.coords.y1?this.coords.y2=this.coords.y1-n.width*x:this.coords.y2=this.coords.y1+n.height*y):this.coords.y2<this.coords.y1?this.coords.y2=Math.min(this.coords.y1-u.width/h,this.coords.y1-n.height*y):this.coords.y2=Math.max(this.coords.y1+u.width/h,this.coords.y1+n.height*y),a||(this.coords.x1=n.x,this.coords.x2=n.x+n.width),o||(this.coords.y1=n.y,this.coords.y2=n.y+n.height)}updateRect(e){if(!e)return;const{rect:t}=this,i=this.getNormalisedDimensions(),{width:n,height:s}=i;let{x:a,y:o}=i;a=Math.max(a,e.x),a-=Math.max(0,a+n-(e.x+e.width)),o=Math.max(o,e.y),o-=Math.max(0,o+s-(e.y+e.height)),t.x=a,t.y=o,t.width=n,t.height=s}createZoomFromCoords(e,t){const i=bs(t),n=this.getNormalisedDimensions(),s=pl(e,n.x,n.y+n.height),a=n.width/e.width,o=n.height/e.height;let r=yq(i,a,o);const l=s.x*(i.x.max-i.x.min),c=s.y*(i.y.max-i.y.min);return r=lp(r,l,c),r=Ha(r),r}getNormalisedDimensions(){const{x1:e=0,y1:t=0,x2:i=0,y2:n=0}=this.coords??{},s=e<=i?e:i,a=t<=n?t:n,o=e<=i?i-e:e-i,r=t<=n?n-t:t-n;return{x:s,y:a,width:o,height:r}}},{ChartAxisDirection:tDe,ToolbarManager:D1}=K,iDe=class{constructor(e,t,i,n,s){this.toolbarManager=e,this.zoomManager=t,this.getResetZoom=i,this.updateZoom=n,this.updateAxisZoom=s,this.selectedZoom=void 0,this.destroyFns=[],this.destroyFns.push(t.addListener("zoom-change",this.onZoomChanged.bind(this)))}destroy(){for(const e of this.destroyFns)e()}toggle(e,t,i){this.toggleGroups(e),e&&this.toggleButtons(t,i)}toggleButtons(e,t){const{toolbarManager:i}=this,n=CD(e,Pj()),s=zj(e,t.minRatioX,t.minRatioY),a=CD(e,this.getResetZoom());i.toggleButton("zoom","pan-start",{enabled:e.x.min>Dt.min}),i.toggleButton("zoom","pan-end",{enabled:e.x.max<Dt.max}),i.toggleButton("zoom","pan-left",{enabled:e.x.min>Dt.min}),i.toggleButton("zoom","pan-right",{enabled:e.x.max<Dt.max}),i.toggleButton("zoom","zoom-out",{enabled:!n}),i.toggleButton("zoom","zoom-in",{enabled:!s}),i.toggleButton("zoom","reset",{enabled:!a})}onButtonPress(e,t){this.onButtonPressRanges(e,t),this.onButtonPressZoom(e,t)}toggleGroups(e){var t,i;(t=this.toolbarManager)==null||t.toggleGroup("zoom","ranges",{visible:!!e}),(i=this.toolbarManager)==null||i.toggleGroup("zoom","zoom",{visible:!!e})}onButtonPressRanges(e,t){if(!D1.isGroup("ranges",e))return;const{id:i}=e,{rangeX:n}=t,s=e.value;typeof s=="number"?n.extendToEnd(s):Array.isArray(s)?n.updateWith(()=>s):typeof s=="function"&&n.updateWith(s);const a=n.getRange();this.selectedZoom=a!=null?{id:i,range:a}:void 0,this.toolbarManager.toggleGroup("zoom-toolbar","ranges",{active:!1}),this.toolbarManager.toggleButton("ranges",i,{active:!0})}onZoomChanged(e){const{selectedZoom:t}=this,{x:i}=e;this.toolbarManager.toggleGroup("zoom-toolbar","ranges",{active:!1}),t!=null&&i!=null&&kD(t.range,i)?this.toolbarManager.toggleButton("ranges",t.id,{active:!0}):this.selectedZoom=void 0}onButtonPressZoom(e,t){if(D1.isGroup("zoom",e))if(t.independentAxes&&e.value!=="reset"){const i=this.zoomManager.getAxisZooms();for(const[n,{direction:s,zoom:a}]of Object.entries(i))a!=null&&this.onButtonPressZoomAxis(e,t,n,s,a)}else this.onButtonPressZoomUnified(e,t)}onButtonPressZoomAxis(e,t,i,n,s){if(!D1.isGroup("zoom",e))return;const{anchorPointX:a,anchorPointY:o,isScalingX:r,isScalingY:l,scrollingStep:c}=t;let u={...s};const h=s.max-s.min;switch(e.value){case"pan-start":u.max=h,u.min=0;break;case"pan-end":u.min=u.max-h,u.max=Dt.max;break;case"pan-left":u.min-=h*c,u.max-=h*c;break;case"pan-right":u.min+=h*c,u.max+=h*c;break;case"zoom-in":case"zoom-out":{const f=n===tDe.X,g=f&&r||!f&&l;let x=e.value==="zoom-in"?1-c:1+c;g||(x=1);const v=f?a==="pointer"?TD:a:o==="pointer"?AD:o;u.max=u.min+(u.max-u.min)*x,u=fr(u,s,v);break}}this.updateAxisZoom(i,n,dS(u))}onButtonPressZoomUnified(e,t){if(!D1.isGroup("zoom",e))return;const{anchorPointX:i,anchorPointY:n,isScalingX:s,isScalingY:a,scrollingStep:o}=t,r=bs(this.zoomManager.getZoom());let l=bs(r);switch(e.value){case"reset":l=this.getResetZoom();break;case"pan-start":l.x.max=En(l),l.x.min=0;break;case"pan-end":l.x.min=Dt.max-En(l),l.x.max=Dt.max;break;case"pan-left":l=lp(l,-En(l)*o,0);break;case"pan-right":l=lp(l,En(l)*o,0);break;case"zoom-in":case"zoom-out":{const c=e.value==="zoom-in"?1-o:1+o,u=i==="pointer"?TD:i,h=n==="pointer"?AD:n;l=yq(l,s?c:1,a?c:1),l.x=fr(l.x,r.x,u),l.y=fr(l.y,r.y,h);break}}this.updateZoom(Ha(l))}},{ARRAY:nDe,BOOLEAN:zd,NUMBER:Cq,RATIO:Dq,REGIONS:ak,STRING:_j,UNION:aM,OR:sDe,ActionOnSet:aDe,ChartAxisDirection:Qi,ChartUpdateType:oDe,Validate:nn,ProxyProperty:rDe,arraysEqual:lDe,round:cDe}=K,XB=e=>cDe(e,10),Lq=aM(["pointer","start","middle","end"],"an anchor cord"),L1="zoom-cursor",ok="zoom-tooltip",Ig=class extends K.BaseProperties{constructor(e){super(),this.onChange=e,this.enabled=!1,this.position="floating-bottom",this.size="small",this.align="center"}};A([K.ObserveChanges(e=>{e.onChange()}),nn(zd)],Ig.prototype,"enabled");A([K.ObserveChanges(e=>{e.onChange()}),nn(nDe,{optional:!0})],Ig.prototype,"buttons");A([nn(_j)],Ig.prototype,"position");A([nn(_j)],Ig.prototype,"size");A([nn(_j)],Ig.prototype,"align");var As=class extends K.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.enableAxisDragging=!0,this.buttons=new Ig(()=>this.onZoomButtonsChange(this.enabled)),this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.panKey="alt",this.axes="x",this.scrollingStep=(Dt.max-Dt.min)/10,this.minVisibleItemsX=2,this.minVisibleItemsY=2,this.anchorPointX=TD,this.anchorPointY=AD,this.rangeX=new hS(this.onRangeChange.bind(this,Qi.X)),this.rangeY=new hS(this.onRangeChange.bind(this,Qi.Y)),this.ratioX=new pS(this.onRangeChange.bind(this,Qi.X)),this.ratioY=new pS(this.onRangeChange.bind(this,Qi.Y)),this.axisDragger=new HCe,this.panner=new KCe,this.scroller=new JCe,this.scrollPanner=new QCe,this.deceleration="short",this.dragState=0,this.axisIds={},this.axisDomains={},this.minRatioX=0,this.minRatioY=0,this.hasPerformedLayout=!1,this._destroyContextMenuActions=void 0;const t=new sM;this.selector=new eDe(t),this.contextMenu=new YCe(e.contextMenuRegistry,e.zoomManager,this.getModuleProperties.bind(this),()=>this.paddedRect,this.updateZoom.bind(this)),this.toolbar=new iDe(e.toolbarManager,e.zoomManager,this.getResetZoom.bind(this),this.updateUnifiedZoom.bind(this),this.updateAxisZoom.bind(this));const{Default:i,ZoomDrag:n,Animation:s,Annotations:a,AnnotationsSelected:o}=K.InteractionState,r=i|s|n,l=i|s,c=r|a|o,u=e.regionManager.getRegion(ak.SERIES),h=e.regionManager.getRegion(ak.HORIZONTAL_AXES),f=e.regionManager.getRegion(ak.VERTICAL_AXES),g="drag-start";this.destroyFns.push(e.scene.attachNode(t),e.regionManager.listenAll("dblclick",x=>this.onDoubleClick(x),l),e.keyNavManager.addListener("nav-zoom",x=>this.onNavZoom(x)),u.addListener("drag",x=>this.onDrag(x),r),u.addListener(g,x=>this.onDragStart(x),r),u.addListener("drag-end",x=>this.onDragEnd(x),r),f.addListener("drag",x=>this.onDrag(x),r),f.addListener(g,x=>this.onDragStart(x),r),f.addListener("drag-end",x=>this.onDragEnd(x),r),f.addListener("leave",()=>this.onAxisLeave(),l),f.addListener("hover",x=>this.onAxisHover(x,Qi.Y)),h.addListener("drag",x=>this.onDrag(x),r),h.addListener(g,x=>this.onDragStart(x),r),h.addListener("drag-end",x=>this.onDragEnd(x),r),h.addListener("leave",()=>this.onAxisLeave(),l),h.addListener("hover",x=>this.onAxisHover(x,Qi.X)),u.addListener("wheel",x=>this.onWheel(x),c),e.gestureDetector.addListener("pinch-move",x=>this.onPinchMove(x)),e.toolbarManager.addListener("button-pressed",x=>this.toolbar.onButtonPress(x,this.getModuleProperties())),e.layoutManager.addListener("layout:complete",x=>this.onLayoutComplete(x)),e.updateService.addListener("update-complete",x=>this.onUpdateComplete(x)),e.zoomManager.addListener("zoom-change",x=>this.onZoomChange(x)),e.zoomManager.addListener("zoom-pan-start",x=>this.onZoomPanStart(x)),e.zoomManager.addListener("restore-zoom",x=>this.onRestoreZoom(x)),this.panner.addListener("update",x=>this.onPanUpdate(x)),()=>this.toolbar.destroy())}destroy(){var e;super.destroy(),(e=this._destroyContextMenuActions)==null||e.call(this)}onEnabledChange(e){var n;if(!this.contextMenu||!this.toolbar)return;const t=this.getZoom(),i=this.getModuleProperties({enabled:e});(n=this._destroyContextMenuActions)==null||n.call(this),this._destroyContextMenuActions=this.contextMenu.registerActions(e,t),this.onZoomButtonsChange(e),this.toolbar.toggle(e,t,i)}onZoomButtonsChange(e){if(!this.buttons)return;const t=this.buttons.toJson();t.enabled&&(t.enabled=e),this.ctx.toolbarManager.proxyGroupOptions("zoom","zoom",t)}onRangeChange(e,t){const i=this.axisIds[e];!i||!t||this.updateAxisZoom(i,e,t)}onDoubleClick(e){const{enabled:t,enableDoubleClickToReset:i,hoveredAxis:n}=this;if(!t||!i)return;const s=this.getResetZoom();if(n){const{id:a,direction:o}=n;this.updateAxisZoom(a,o,s[o])}else e.preventZoomDblClick||this.updateZoom(s)}onDragStart(e){const{enabled:t,enableAxisDragging:i,enablePanning:n,enableSelecting:s,hoveredAxis:a,ctx:{cursorManager:o,zoomManager:r}}=this;if(!t||e.button!==0)return;this.panner.stopInteractions();let l=0;if(i&&a)l=1;else{const c=this.isPanningKeyPressed(e.sourceEvent);n&&(!s||c)?(o.updateCursor(L1,"grabbing"),l=2,this.panner.start()):s&&!this.isMinZoom(this.getZoom())&&!c&&(l=3)}(this.dragState=l)!==0&&r.fireZoomPanStartEvent("zoom")}onDrag(e){const{anchorPointX:t,anchorPointY:i,axisDragger:n,dragState:s,enabled:a,paddedRect:o,panner:r,selector:l,seriesRect:c,hoveredAxis:u,ctx:{interactionManager:h,tooltipManager:f,updateService:g,zoomManager:x}}=this;if(!a||!o||!c)return;h.pushState(K.InteractionState.ZoomDrag);const y=this.getZoom();switch(s){case 1:{if(!u)break;const{id:b,direction:v}=u,S=v===K.ChartAxisDirection.X?t:i,N=x.getAxisZoom(b),M=n.update(e,v,S,c,y,N);this.updateAxisZoom(b,v,M);break}case 2:r.update(e);break;case 3:l.update(e,this.getModuleProperties(),o,y);break;case 0:return}f.updateTooltip(ok),g.update(oDe.PERFORM_LAYOUT,{skipAnimations:!0})}onDragEnd(e){const{axisDragger:t,dragState:i,enabled:n,panner:s,selector:a,ctx:{cursorManager:o,interactionManager:r,tooltipManager:l}}=this;if(r.popState(K.InteractionState.ZoomDrag),!(!n||i===0)){switch(i){case 1:t.stop();break;case 2:s.stop();break;case 3:{if(!a.didUpdate())break;const c=this.getZoom();if(this.isMinZoom(c))break;const u=a.stop(this.seriesRect,this.paddedRect,c);this.updateZoom(u);break}}this.dragState=0,o.updateCursor(L1),l.removeTooltip(ok)}}onNavZoom(e){const{enabled:t,enableScrolling:i,scroller:n}=this;!t||!i||(e.preventDefault(),this.updateZoom(n.updateDelta(e.delta,this.getModuleProperties(),this.getZoom())))}onWheel(e){const{enabled:t,enablePanning:i,enableScrolling:n,paddedRect:s}=this;if(!t||!n||!s)return;const a=e.sourceEvent,{deltaX:o,deltaY:r}=a,l=o!=null&&r!=null&&Math.abs(o)>Math.abs(r);i&&l?this.onWheelPanning(e):this.onWheelScrolling(e)}onWheelPanning(e){const{scrollingStep:t,scrollPanner:i,seriesRect:n,ctx:{zoomManager:s}}=this;if(!n)return;e.preventDefault();const a=i.update(e,t,n,s.getAxisZooms());for(const[o,{direction:r,zoom:l}]of Object.entries(a))this.updateAxisZoom(o,r,l)}onWheelScrolling(e){const{enableAxisDragging:t,enableIndependentAxes:i,hoveredAxis:n,scroller:s,seriesRect:a,ctx:{zoomManager:o}}=this;if(!a)return;e.preventDefault();const r=t&&n!=null;let l=this.isScalingX(),c=this.isScalingY();r&&(l=n.direction===K.ChartAxisDirection.X,c=!l);const u=this.getModuleProperties({isScalingX:l,isScalingY:c});if(i===!0){const h=s.updateAxes(e,u,a,o.getAxisZooms());for(const[f,{direction:g,zoom:x}]of Object.entries(h))r&&n.id!==f||this.updateAxisZoom(f,g,x)}else{const h=s.update(e,u,a,this.getZoom());this.updateUnifiedZoom(h)}}onAxisLeave(){const{enabled:e,ctx:{cursorManager:t}}=this;e&&(this.hoveredAxis=void 0,t.updateCursor(L1))}onAxisHover(e,t){const{enabled:i,enableAxisDragging:n,ctx:{cursorManager:s}}=this;i&&(this.hoveredAxis={id:e.bboxProviderId??"unknown",direction:t},n&&s.updateCursor(L1,t===Qi.X?"ew-resize":"ns-resize"))}onPinchMove(e){const{enabled:t,enableScrolling:i,paddedRect:n,seriesRect:s}=this;if(!t||!i||!n||!s)return;const a=this.getZoom(),o=bs(a),r=e.deltaDistance*-.01,l=pl(s,e.origin.x,e.origin.y);this.isScalingX()&&(o.x.max+=r*En(a),o.x=DD(o.x,a.x,l.x)),this.isScalingY()&&(o.y.max+=r*(a.y.max-a.y.min),o.y=DD(o.y,a.y,l.y)),this.updateZoom(Ha(o)),e.preventDefault()}onLayoutComplete(e){const{enabled:t,rangeX:i,rangeY:n,ratioX:s,ratioY:a}=this;if(!t)return;const{series:{rect:o,paddedRect:r,shouldFlipXY:l},axes:c}=e;if(this.seriesRect=o,this.paddedRect=r,this.shouldFlipXY=l,this.restoreEvent&&(this.restoreZoom(this.restoreEvent),this.restoreEvent=void 0),this.hasPerformedLayout=!0,!this.updateAxes(c))return;i.updateDomain(this.axisDomains[Qi.X]),n.updateDomain(this.axisDomains[Qi.Y]);const h={x:i.getRange()??s.getRatio(),y:n.getRange()??a.getRatio()};(h.x!=null||h.y!=null)&&this.updateZoom(Ha(bs(h)))}onUpdateComplete(e){const{minRect:t,minVisibleRect:i}=e,{enabled:n,minVisibleItemsX:s,minVisibleItemsY:a,paddedRect:o,shouldFlipXY:r}=this;if(!n||!o||!t||!i)return;const l=this.getZoom(),c=r?a:s,u=r?s:a,h=i.width*c/o.width,f=i.height*u/o.height,g=XB(h*En(l)),x=XB(f*Lo(l));this.isScalingX()&&(this.minRatioX=Math.min(1,g)),this.isScalingY()&&(this.minRatioY=Math.min(1,x)),this.minRatioX||(this.minRatioX=this.minRatioY||0),this.minRatioY||(this.minRatioY=this.minRatioX||0)}onZoomChange(e){e.callerId!=="zoom"&&this.panner.stopInteractions();const t=this.getZoom(),i=this.getModuleProperties();this.contextMenu.toggleActions(t),this.toolbar.toggleButtons(t,i)}onRestoreZoom(e){this.hasPerformedLayout?this.restoreZoom(e):this.restoreEvent=e}onZoomPanStart(e){e.callerId==="zoom"&&this.panner.stopInteractions()}onPanUpdate(e){const{panner:t,seriesRect:i,ctx:{tooltipManager:n,zoomManager:s}}=this;if(!i)return;const a=t.translateZooms(i,s.getAxisZooms(),e.deltaX,e.deltaY);for(const[o,{direction:r,zoom:l}]of Object.entries(a))this.updateAxisZoom(o,r,l);n.updateTooltip(ok)}updateAxes(e){if(!e)return;const t=this.getPrimaryAxis(e,Qi.X),i=this.getPrimaryAxis(e,Qi.Y);if(!(!t||!i))return this.axisIds={[Qi.X]:t.axisId,[Qi.Y]:i.axisId},this.axisDomains={[Qi.X]:t.domain,[Qi.Y]:i.domain},t.changed||i.changed}getPrimaryAxis(e,t){const i=e.find(o=>o.direction===t);if(!i)return;let n=[i.domain[0],i.domain.at(-1)];n[0]instanceof Date&&n[1]instanceof Date&&(n=[n[0].getTime(),n[1].getTime()]);const s=this.axisDomains[t],a=s==null||!lDe(s,n);return{axisId:i.id,changed:a,domain:n}}isPanningKeyPressed(e){switch(this.panKey){case"alt":return e.altKey;case"ctrl":return e.ctrlKey;case"shift":return e.shiftKey;case"meta":return e.metaKey}}isScalingX(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="y":this.axes==="x"}isScalingY(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="x":this.axes==="y"}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMinZoom(e){return zj(e,this.minRatioX,this.minRatioY)}updateZoom(e){this.enableIndependentAxes?this.updatePrimaryAxisZooms(e):this.updateUnifiedZoom(e)}updatePrimaryAxisZooms(e){const t=this.axisIds[Qi.X],i=this.axisIds[Qi.Y];t&&this.updateAxisZoom(t,Qi.X,e.x),i&&this.updateAxisZoom(i,Qi.Y,e.y)}updateUnifiedZoom(e){const{minRatioX:t,minRatioY:i,ctx:{zoomManager:n}}=this,s=En(e),a=Lo(e),o=this.getZoom(),r=s<=En(o)&&s<t,l=a<=Lo(o)&&a<i;r&&(e.x=ZB(e.x,o.x,t)),l&&(e.y=ZB(e.y,o.y,i)),n.updateZoom("zoom",e)}updateAxisZoom(e,t,i){const{enableIndependentAxes:n,minRatioX:s,minRatioY:a,ctx:{zoomManager:o}}=this;if(!i)return;const r=this.getZoom();if(n!==!0){r[t]=i,this.updateUnifiedZoom(r);return}const l=i.max-i.min,c=r[t].max-r[t].min,u=t===Qi.X?s:a;l<=c&&l<u||o.updateAxisZoom("zoom",e,i)}restoreZoom(e){const{rangeX:t,rangeY:i,ratioX:n,ratioY:s}=e;t&&this.rangeX.restore(t.start,t.end),i&&this.rangeY.restore(i.start,i.end),n&&!t&&this.ratioX.restore(n.start,n.end),s&&!i&&this.ratioY.restore(s.start,s.end)}getZoom(){return bs(this.ctx.zoomManager.getZoom())}getResetZoom(){const e=this.rangeX.getInitialRange()??this.ratioX.getInitialRatio()??Dt,t=this.rangeY.getInitialRange()??this.ratioY.getInitialRatio()??Dt;return{x:e,y:t}}getModuleProperties(e){return{anchorPointX:(e==null?void 0:e.anchorPointX)??this.getAnchorPointX(),anchorPointY:(e==null?void 0:e.anchorPointY)??this.getAnchorPointY(),enabled:(e==null?void 0:e.enabled)??this.enabled,independentAxes:(e==null?void 0:e.independentAxes)??this.enableIndependentAxes===!0,isScalingX:(e==null?void 0:e.isScalingX)??this.isScalingX(),isScalingY:(e==null?void 0:e.isScalingY)??this.isScalingY(),minRatioX:(e==null?void 0:e.minRatioX)??this.minRatioX,minRatioY:(e==null?void 0:e.minRatioY)??this.minRatioY,rangeX:(e==null?void 0:e.rangeX)??this.rangeX,scrollingStep:(e==null?void 0:e.scrollingStep)??this.scrollingStep}}};A([aDe({newValue(e){this.onEnabledChange(e)}}),nn(zd)],As.prototype,"enabled");A([nn(zd)],As.prototype,"enableAxisDragging");A([nn(zd)],As.prototype,"enableDoubleClickToReset");A([nn(zd,{optional:!0})],As.prototype,"enableIndependentAxes");A([nn(zd)],As.prototype,"enablePanning");A([nn(zd)],As.prototype,"enableScrolling");A([nn(zd)],As.prototype,"enableSelecting");A([nn(aM(["alt","ctrl","meta","shift"],"a pan key"))],As.prototype,"panKey");A([nn(aM(["x","y","xy"],"an axis"))],As.prototype,"axes");A([nn(Dq)],As.prototype,"scrollingStep");A([nn(Cq.restrict({min:1}))],As.prototype,"minVisibleItemsX");A([nn(Cq.restrict({min:1}))],As.prototype,"minVisibleItemsY");A([nn(Lq)],As.prototype,"anchorPointX");A([nn(Lq)],As.prototype,"anchorPointY");A([rDe("panner.deceleration"),nn(sDe(Dq,aM(["off","short","long"],"a deceleration")))],As.prototype,"deceleration");var uDe={enabled:!0,buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out",section:"scale"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in",section:"scale"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left",section:"pan"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right",section:"pan"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset",section:"reset"}]},dDe={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian","topology"],dependencies:["toolbar"],moduleFactory:e=>new As(e),themeTemplate:{zoom:{anchorPointX:"end",anchorPointY:"middle",axes:"x",buttons:uDe,enabled:!1,enableAxisDragging:!0,enableDoubleClickToReset:!0,enablePanning:!0,enableScrolling:!0,enableSelecting:!1,deceleration:"short",minVisibleItemsX:2,minVisibleItemsY:2,panKey:"alt",scrollingStep:.1}}},{BOOLEAN:Eq,OBJECT:hDe,POSITION:pDe,POSITIVE_NUMBER:Fj,BaseProperties:fDe,AxisTicks:mDe,ZIndexMap:gDe,ProxyProperty:Bj,Validate:Op,LayoutElement:yDe}=K,{Group:xDe,Rect:bDe,Triangle:vDe,TranslatableLayer:wDe,LinearGradient:SDe}=ae,{createId:NDe}=Me,Vj=class extends fDe{constructor(){super(...arguments),this.thickness=16,this.preferredLength=100}};A([Op(Fj)],Vj.prototype,"thickness");A([Op(Fj)],Vj.prototype,"preferredLength");var oM=class{constructor(e){this.axisTicks=e}};A([Bj("axisTicks.label")],oM.prototype,"label");A([Bj("axisTicks.interval")],oM.prototype,"interval");A([Bj("axisTicks.padding")],oM.prototype,"padding");var jp=class{constructor(e){this.ctx=e,this.id=NDe(this),this.legendGroup=new wDe({name:"legend",zIndex:gDe.LEGEND}),this.gradientRect=new bDe,this.arrow=new vDe,this.ticksGroup=new xDe({name:"legend-axis-group"}),this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=!1,this.gradient=new Vj,this.spacing=20,this.data=[],this.highlightManager=e.highlightManager,this.axisTicks=new mDe,this.axisTicks.attachAxis(this.ticksGroup),this.scale=new oM(this.axisTicks),this.legendGroup.append([this.gradientRect,this.arrow,this.ticksGroup]),this.destroyFns.push(e.highlightManager.addListener("highlight-change",()=>this.onChartHoverChange()),e.layoutManager.registerElement(yDe.Legend,t=>this.onStartLayout(t)),()=>this.legendGroup.remove())}isVertical(){return this.position==="right"||this.position==="left"}destroy(){this.destroyFns.forEach(e=>e())}attachLegend(e){e.appendChild(this.legendGroup)}onStartLayout(e){const[t]=this.data;if(!this.enabled||!(t!=null&&t.enabled)){this.legendGroup.visible=!1;return}const{colorRange:i}=this.normalizeColorArrays(t);this.updateGradientRect(e.layoutBox,i);const n=this.updateAxis(t),{left:s,top:a}=this.getMeasurements(e.layoutBox,n);this.updateArrow(),this.legendGroup.visible=!0,this.legendGroup.translationX=s,this.legendGroup.translationY=a}normalizeColorArrays(e){let t=e.colorDomain.slice();const i=e.colorRange.slice();if(t.length===i.length)return{colorDomain:t,colorRange:i};t.length>i.length&&i.splice(t.length);const[n,s]=t,a=i.length;return t=i.map((o,r)=>r===0?n:r===a-1?s:n+(s-n)*r/(a-1)),{colorDomain:t,colorRange:i}}updateGradientRect(e,t){const{gradientRect:i}=this,{preferredLength:n,thickness:s}=this.gradient;let a;this.isVertical()?(a=0,i.width=s,i.height=Math.min(e.height,n)):(a=90,i.width=Math.min(e.width,n),i.height=s);const o=new SDe("oklch",t.map((r,l)=>({offset:l/(t.length-1),color:r})),a);i.fill=o}updateAxis(e){const{axisTicks:t}=this,i=this.isVertical(),n=this.reverseOrder!==i;return t.position=this.position,t.translationX=i?this.gradient.thickness:0,t.translationY=i?0:this.gradient.thickness,t.scale.domain=n?e.colorDomain.slice().reverse():e.colorDomain,t.scale.range=i?[0,this.gradientRect.height]:[0,this.gradientRect.width],t.calculateLayout()}updateArrow(){const e=this.highlightManager.getActiveHighlight(),{arrow:t}=this;if((e==null?void 0:e.colorValue)==null){t.visible=!1;return}const{scale:i,label:n}=this.axisTicks,s=n.fontSize??0,a=i.convert(e.colorValue);let{x:o,y:r}=this.gradientRect,l=Math.PI;this.isVertical()?(o-=s/2,r+=a,l/=2):(o+=a,r-=s/2),t.visible=!0,t.fill=n.color,t.rotation=l,t.size=s,t.translationX=o,t.translationY=r}getMeasurements(e,t){let{x:i,y:n}=e,{width:s,height:a}=this.gradientRect;switch(this.isVertical()?s+=t.width+5:a+=t.height+5,this.position){case"left":n+=e.height/2-a/2,e.shrink(s+this.spacing,"left");break;case"right":i+=e.width-s,n+=e.height/2-a/2,e.shrink(s+this.spacing,"right");break;case"top":i+=e.width/2-s/2,e.shrink(a+this.spacing,"top");break;case"bottom":i+=e.width/2-s/2,n+=e.height-a,e.shrink(a+this.spacing,"bottom")}return{top:n,left:i}}onChartHoverChange(){this.enabled&&this.updateArrow()}};jp.className="GradientLegend";A([Op(Eq)],jp.prototype,"enabled");A([Op(pDe)],jp.prototype,"position");A([Op(Eq)],jp.prototype,"reverseOrder");A([Op(hDe)],jp.prototype,"gradient");A([Op(Fj)],jp.prototype,"spacing");var MDe={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient",moduleFactory:e=>new jp(e),themeTemplate:{enabled:!1,position:"bottom",spacing:20,scale:{padding:13,label:{color:se.DEFAULT_LABEL_COLOUR,fontSize:se.FONT_SIZE.SMALL,fontFamily:se.DEFAULT_FONT_FAMILY},interval:{minSpacing:1}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1}},IDe=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let i=e[0],n=e[1],s=e[2],a=e[3];i=this.ff(i,n,s,a,t[0],7,-680876936),a=this.ff(a,i,n,s,t[1],12,-389564586),s=this.ff(s,a,i,n,t[2],17,606105819),n=this.ff(n,s,a,i,t[3],22,-1044525330),i=this.ff(i,n,s,a,t[4],7,-176418897),a=this.ff(a,i,n,s,t[5],12,1200080426),s=this.ff(s,a,i,n,t[6],17,-1473231341),n=this.ff(n,s,a,i,t[7],22,-45705983),i=this.ff(i,n,s,a,t[8],7,1770035416),a=this.ff(a,i,n,s,t[9],12,-1958414417),s=this.ff(s,a,i,n,t[10],17,-42063),n=this.ff(n,s,a,i,t[11],22,-1990404162),i=this.ff(i,n,s,a,t[12],7,1804603682),a=this.ff(a,i,n,s,t[13],12,-40341101),s=this.ff(s,a,i,n,t[14],17,-1502002290),n=this.ff(n,s,a,i,t[15],22,1236535329),i=this.gg(i,n,s,a,t[1],5,-165796510),a=this.gg(a,i,n,s,t[6],9,-1069501632),s=this.gg(s,a,i,n,t[11],14,643717713),n=this.gg(n,s,a,i,t[0],20,-373897302),i=this.gg(i,n,s,a,t[5],5,-701558691),a=this.gg(a,i,n,s,t[10],9,38016083),s=this.gg(s,a,i,n,t[15],14,-660478335),n=this.gg(n,s,a,i,t[4],20,-405537848),i=this.gg(i,n,s,a,t[9],5,568446438),a=this.gg(a,i,n,s,t[14],9,-1019803690),s=this.gg(s,a,i,n,t[3],14,-187363961),n=this.gg(n,s,a,i,t[8],20,1163531501),i=this.gg(i,n,s,a,t[13],5,-1444681467),a=this.gg(a,i,n,s,t[2],9,-51403784),s=this.gg(s,a,i,n,t[7],14,1735328473),n=this.gg(n,s,a,i,t[12],20,-1926607734),i=this.hh(i,n,s,a,t[5],4,-378558),a=this.hh(a,i,n,s,t[8],11,-2022574463),s=this.hh(s,a,i,n,t[11],16,1839030562),n=this.hh(n,s,a,i,t[14],23,-35309556),i=this.hh(i,n,s,a,t[1],4,-1530992060),a=this.hh(a,i,n,s,t[4],11,1272893353),s=this.hh(s,a,i,n,t[7],16,-155497632),n=this.hh(n,s,a,i,t[10],23,-1094730640),i=this.hh(i,n,s,a,t[13],4,681279174),a=this.hh(a,i,n,s,t[0],11,-358537222),s=this.hh(s,a,i,n,t[3],16,-722521979),n=this.hh(n,s,a,i,t[6],23,76029189),i=this.hh(i,n,s,a,t[9],4,-640364487),a=this.hh(a,i,n,s,t[12],11,-421815835),s=this.hh(s,a,i,n,t[15],16,530742520),n=this.hh(n,s,a,i,t[2],23,-995338651),i=this.ii(i,n,s,a,t[0],6,-198630844),a=this.ii(a,i,n,s,t[7],10,1126891415),s=this.ii(s,a,i,n,t[14],15,-1416354905),n=this.ii(n,s,a,i,t[5],21,-57434055),i=this.ii(i,n,s,a,t[12],6,1700485571),a=this.ii(a,i,n,s,t[3],10,-1894986606),s=this.ii(s,a,i,n,t[10],15,-1051523),n=this.ii(n,s,a,i,t[1],21,-2054922799),i=this.ii(i,n,s,a,t[8],6,1873313359),a=this.ii(a,i,n,s,t[15],10,-30611744),s=this.ii(s,a,i,n,t[6],15,-1560198380),n=this.ii(n,s,a,i,t[13],21,1309151649),i=this.ii(i,n,s,a,t[4],6,-145523070),a=this.ii(a,i,n,s,t[11],10,-1120210379),s=this.ii(s,a,i,n,t[2],15,718787259),n=this.ii(n,s,a,i,t[9],21,-343485551),e[0]=this.add32(i,e[0]),e[1]=this.add32(n,e[1]),e[2]=this.add32(s,e[2]),e[3]=this.add32(a,e[3])}cmn(e,t,i,n,s,a){return t=this.add32(this.add32(t,e),this.add32(n,a)),this.add32(t<<s|t>>>32-s,i)}ff(e,t,i,n,s,a,o){return this.cmn(t&i|~t&n,e,t,s,a,o)}gg(e,t,i,n,s,a,o){return this.cmn(t&n|i&~n,e,t,s,a,o)}hh(e,t,i,n,s,a,o){return this.cmn(t^i^n,e,t,s,a,o)}ii(e,t,i,n,s,a,o){return this.cmn(i^(t|~n),e,t,s,a,o)}md51(e){const t=e.length,i=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)this.md5cycle(i,this.md5blk(e.substring(n-64,n)));e=e.substring(n-64);const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)s[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(s[n>>2]|=128<<(n%4<<3),n>55)for(this.md5cycle(i,s),n=0;n<16;n++)s[n]=0;return s[14]=t*8,this.md5cycle(i,s),i}md5blk(e){const t=[];for(let i=0;i<64;i+=4)t[i>>2]=e.charCodeAt(i)+(e.charCodeAt(i+1)<<8)+(e.charCodeAt(i+2)<<16)+(e.charCodeAt(i+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let i="",n=0;for(;n<4;n++)i+=t[e>>n*8+4&15]+t[e>>n*8&15];return i}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const i=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(i>>16)<<16|i&65535}};function rk(e){return e==null||e.length===0}var E1={"01":"GRID","02":"CHARTS","0102":"BOTH"},QB="https://ag-grid.com/charts/licensing/",Oq=class bo{constructor(t){this.gridContext=!1,this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new IDe,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(this.licenseKey,this.gridContext),i=`AG ${t.currentLicenseType==="BOTH"?"Grid and ":""}Charts Enterprise`,n=t.suppliedLicenseType===void 0?"":`AG ${t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(i);else if(t.expired){const s=bo.getChartsReleaseDate(),a=bo.formatDate(s);this.outputExpiredKey(t.expiry,a,n)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,i,n):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,i,n)}static extractExpiry(t){const i=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(bo.decode(i),10))}static extractLicenseComponents(t){let i=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const n=i.length-32,s=i.substring(n),a=i.substring(0,n),[o,r,l]=bo.extractBracketedInformation(i);return{md5:s,license:a,version:o,isTrial:r,type:l}}getLicenseDetails(t,i=!1){const n="CHARTS";if(rk(t))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:n};const s=bo.getChartsReleaseDate(),{md5:a,license:o,version:r,isTrial:l,type:c}=bo.extractLicenseComponents(t);let u=a===this.md5.md5(o)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,h,f,g=null,x=!1,y;function b(){h=g<new Date,f=void 0}if(u&&(g=bo.extractExpiry(o),u=!isNaN(g.getTime()),u))switch(f=s>g,r){case"legacy":case"2":{u=!1;break}case"3":rk(c)?u=!1:(y=c,c!==E1["02"]&&c!==E1["0102"]?(u=!1,x=!0):l&&b())}return u?{licenseKey:t,valid:u,expiry:bo.formatDate(g),expired:f,version:r,isTrial:l,trialExpired:h,invalidLicenseTypeForCombo:i?y!=="BOTH":void 0,incorrectLicenseType:x,currentLicenseType:n,suppliedLicenseType:y}:{licenseKey:t,valid:u,incorrectLicenseType:x,currentLicenseType:n,suppliedLicenseType:y}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!rk(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage??""}getHostname(){if(!this.document)return"localhost";const t=this.document.defaultView??window;if(!t)return"localhost";const i=t.location,{hostname:n=""}=i;return n}isForceWatermark(){var n;if(!this.document)return!1;const t=((n=this.document)==null?void 0:n.defaultView)??typeof window<"u"?window:void 0;if(!t)return!1;const{pathname:i}=t.location;return i?i.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=t.getDate(),s=t.getMonth(),a=t.getFullYear();return n+" "+i[s]+" "+a}static getChartsReleaseDate(){return new Date(parseInt(bo.decode(bo.RELEASE_INFORMATION),10))}static decode(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,a,o,r,l,c,u,h=0;const f=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;h<f.length;)r=i.indexOf(f.charAt(h++)),l=i.indexOf(f.charAt(h++)),c=i.indexOf(f.charAt(h++)),u=i.indexOf(f.charAt(h++)),s=r<<2|l>>4,a=(l&15)<<4|c>>2,o=(c&3)<<6|u,n=n+String.fromCharCode(s),c!=64&&(n=n+String.fromCharCode(a)),u!=64&&(n=n+String.fromCharCode(o));return n=bo.utf8_decode(n),n}static utf8_decode(t){t=t.replace(/rn/g,"n");let i="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?i+=String.fromCharCode(s):s>127&&s<2048?(i+=String.fromCharCode(s>>6|192),i+=String.fromCharCode(s&63|128)):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128),i+=String.fromCharCode(s&63|128))}return i}setLicenseKey(t,i=!1){this.gridContext=i,this.licenseKey=t}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const i=t.match(/\[(.*?)\]/g).map(r=>r.replace("[","").replace("]",""));if(!i||i.length===0)return["legacy",!1,void 0];const n=i.filter(r=>r==="TRIAL").length===1,s=i.filter(r=>r.indexOf("v")===0)[0],a=s?s.replace("v",""):"legacy",o=E1[i.filter(r=>E1[r])[0]];return[a,n,o]}centerPadAndOutput(t){const i=this.totalMessageLength-t.length;console.error(t.padStart(i/2+t.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(t,i="*",n=""){console.error(t.padEnd(this.totalMessageLength-n.length,i)+n)}outputInvalidLicenseKey(t,i,n){this.gridContext||(t?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${n} only and does not cover you for ${i}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${QB}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${QB}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""))),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t,i,n){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${n} expired on ${t}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(t){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${t} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(t,i,n){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${n} released before ${t}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="License Expired"}};Oq.RELEASE_INFORMATION="MTczMTQ5NDc0NzMyNw==";var TDe=Oq,{createElement:ADe}=K;function kDe(e,t){const i=e.addChild("canvas-overlay","watermark"),n=ADe("span");n.innerText=t,i.addEventListener("animationend",()=>{e.removeChild("canvas-overlay","watermark"),e.removeStyles("watermark")}),i.classList.add("ag-watermark"),i.appendChild(n)}function CDe(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function DDe(e){return(t,i)=>e?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var{ScalableGroup:LDe,Rect:Kf,Line:Zy,BBox:EDe,Selection:JB}=ae,{Logger:ODe}=Me,jDe=class extends LDe{constructor(){super(),this.append([new Kf({tag:0}),new Kf({tag:0}),new Kf({tag:2}),new Kf({tag:1}),new Zy({tag:3}),new Zy({tag:3}),new Zy({tag:4}),new Zy({tag:4})])}updateDatumStyles(e,t,i,n){const{bandwidth:s,scaledValues:{xValue:a,medianValue:o}}=e;let{minValue:r,q1Value:l,q3Value:c,maxValue:u}=e.scaledValues;(i&&!n||!i&&n)&&([u,c,l,r]=[r,l,c,u]);const h=(Z,W,ee,oe)=>i?{y:Z,x:W,width:oe,height:ee}:{x:Z,y:W,width:ee,height:oe},f=(Z,W,ee)=>i?{y1:Z,y2:W,x:ee}:{x1:Z,x2:W,y:ee},g=(Z,W,ee)=>i?{x1:W,x2:ee,y:Z}:{x:Z,y1:W,y2:ee},x=(Z,W,ee,oe)=>({x:Z,y:W,width:ee,height:oe}=h(Z,W,ee,oe),new EDe(Z,W,ee,oe)),{fill:y,fillOpacity:b,stroke:v,strokeWidth:S,strokeOpacity:N,lineDash:M,lineDashOffset:I,cornerRadius:C,cap:L,whisker:O}=t,P=JB.select(this,Kf),z=P.selectByTag(0),[V]=P.selectByTag(2),[G]=P.selectByTag(1),H=P.selectByTag(3),B=P.selectByTag(4);O.strokeWidth>s&&(O.strokeWidth=s);const $=h(l,a,c-l,s);V.setProperties($),z[0].setProperties($),z[0].setProperties({cornerRadius:C,clipBBox:x(l,a,Math.round(o-l+S/2),s)}),z[1].setProperties($),z[1].setProperties({cornerRadius:C,clipBBox:x(Math.round(o-S/2),a,Math.floor(c-o+S/2),s)});const Q=Math.max(Math.round(o-S/2),l+S),X=Math.min(Math.round(o+S/2),c-S);G.setProperties($),G.setProperties({visible:Q<X,cornerRadius:C,clipBBox:x(Q,a+S,X-Q,Math.max(0,s-S*2))});const Y=Math.floor(a+s*(1-L.lengthRatio)/2),q=Math.ceil(a+s*(1+L.lengthRatio)/2);B[0].setProperties(g(r,Y,q)),B[1].setProperties(g(u,Y,q)),H[0].setProperties(f(Math.round(r+O.strokeWidth/2),l,Math.floor(a+s/2))),H[1].setProperties(f(c,Math.round(u-O.strokeWidth/2),Math.floor(a+s/2)));for(const Z of z)Z.setProperties({fill:y,fillOpacity:b,strokeWidth:S*2,strokeOpacity:0});G.setProperties({fill:v,fillOpacity:N,strokeWidth:0});for(const Z of[...H,...B])Z.setProperties(O);V.setProperties({stroke:v,strokeWidth:S,strokeOpacity:N,lineDash:M,lineDashOffset:I,cornerRadius:C,fillOpacity:0})}distanceSquared(e,t){const i=JB.selectByClass(this,Kf,Zy);return K.nearestSquared(e,t,i).distanceSquared}get midPoint(){const e=this.datum;return e.midPoint===void 0?(ODe.error("BoxPlotGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):e.midPoint}},{BaseProperties:jq,AbstractBarSeriesProperties:RDe,SeriesTooltip:PDe,Validate:Ot,COLOR_STRING:rM,FUNCTION:zDe,LINE_DASH:Rq,OBJECT:Uj,POSITIVE_NUMBER:rv,RATIO:lM,STRING:to,mergeDefaults:_De}=K,Pq=class extends jq{constructor(){super(...arguments),this.lengthRatio=.5}};A([Ot(lM)],Pq.prototype,"lengthRatio");var Tg=class extends jq{};A([Ot(rM,{optional:!0})],Tg.prototype,"stroke");A([Ot(rv)],Tg.prototype,"strokeWidth");A([Ot(lM)],Tg.prototype,"strokeOpacity");A([Ot(Rq,{optional:!0})],Tg.prototype,"lineDash");A([Ot(rv)],Tg.prototype,"lineDashOffset");var ei=class extends RDe{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new Pq,this.whisker=new Tg,this.tooltip=new PDe,this.backgroundFill="white"}toJson(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:n,lineDashOffset:s}=this,a=super.toJson();return a.whisker=_De(a.whisker,{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:n,lineDashOffset:s}),a}};A([Ot(to)],ei.prototype,"xKey");A([Ot(to)],ei.prototype,"minKey");A([Ot(to)],ei.prototype,"q1Key");A([Ot(to)],ei.prototype,"medianKey");A([Ot(to)],ei.prototype,"q3Key");A([Ot(to)],ei.prototype,"maxKey");A([Ot(to,{optional:!0})],ei.prototype,"xName");A([Ot(to,{optional:!0})],ei.prototype,"yName");A([Ot(to,{optional:!0})],ei.prototype,"minName");A([Ot(to,{optional:!0})],ei.prototype,"q1Name");A([Ot(to,{optional:!0})],ei.prototype,"medianName");A([Ot(to,{optional:!0})],ei.prototype,"q3Name");A([Ot(to,{optional:!0})],ei.prototype,"maxName");A([Ot(rM,{optional:!0})],ei.prototype,"fill");A([Ot(lM)],ei.prototype,"fillOpacity");A([Ot(rM)],ei.prototype,"stroke");A([Ot(rv)],ei.prototype,"strokeWidth");A([Ot(lM)],ei.prototype,"strokeOpacity");A([Ot(Rq)],ei.prototype,"lineDash");A([Ot(rv)],ei.prototype,"lineDashOffset");A([Ot(rv)],ei.prototype,"cornerRadius");A([Ot(zDe,{optional:!0})],ei.prototype,"itemStyler");A([Ot(Uj)],ei.prototype,"cap");A([Ot(Uj)],ei.prototype,"whisker");A([Ot(Uj)],ei.prototype,"tooltip");A([Ot(rM)],ei.prototype,"backgroundFill");var{extractDecoratedProperties:e6,fixNumericExtent:FDe,keyProperty:BDe,mergeDefaults:lk,SeriesNodePickMode:t6,SMALLEST_KEY_INTERVAL:VDe,valueProperty:qy,diff:UDe,animationValidation:GDe,convertValuesToScaleByDefs:WDe,computeBarFocusBounds:HDe}=K,{motion:i6}=ae,{ContinuousScale:YDe}=ki,{Color:B6e}=Me,$De=class extends K.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.minKey=n.properties.minKey,this.q1Key=n.properties.q1Key,this.medianKey=n.properties.medianKey,this.q3Key=n.properties.q3Key,this.maxKey=n.properties.maxKey}},Gj=class extends K.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[t6.NEAREST_NODE,t6.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},pathsPerSeries:[],hasHighlightedLabels:!0}),this.properties=new ei,this.NodeEvent=$De}async processData(e){var y,b,v;if(!this.properties.isValid()||!this.visible)return;const{xKey:t,minKey:i,q1Key:n,medianKey:s,q3Key:a,maxKey:o}=this.properties,r=!this.ctx.animationManager.isSkipped(),l=(y=this.getCategoryAxis())==null?void 0:y.scale,c=(b=this.getValueAxis())==null?void 0:b.scale,{isContinuousX:u,xScaleType:h,yScaleType:f}=this.getScaleInformation({xScale:l,yScale:c}),g=[];r&&this.processedData&&g.push(UDe(this.processedData)),r&&g.push(GDe());const{processedData:x}=await this.requestDataModel(e,this.data,{props:[BDe(t,h,{id:"xValue"}),qy(i,f,{id:"minValue"}),qy(n,f,{id:"q1Value"}),qy(s,f,{id:"medianValue"}),qy(a,f,{id:"q3Value"}),qy(o,f,{id:"maxValue"}),...u?[VDe]:[],...g]});this.smallestDataInterval=(v=x.reduced)==null?void 0:v.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e===this.getBarDirection()){const o=i.getDomain(this,"minValue","value",t),r=i.getDomain(this,"maxValue","value",t);return FDe([Math.min(...o),Math.max(...r)])}const{index:n,def:s}=i.resolveProcessedDataDefById(this,"xValue"),a=t.domain.keys[n];return s.type==="key"&&s.valueType==="category"?a:this.padBandExtent(a)}async createNodeData(){const{visible:e,dataModel:t}=this,i=this.getCategoryAxis(),n=this.getValueAxis();if(!(t&&i&&n))return;const{xKey:s,fill:a,fillOpacity:o,stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:u,lineDashOffset:h,cap:f,whisker:g}=this.properties,x=[],y=t.resolveProcessedDataDefsByIds(this,["xValue","minValue","q1Value","medianValue","q3Value","maxValue"]),{barWidth:b,groupIndex:v}=this.updateGroupScale(i),S=YDe.is(i.scale)?b*-.5:0,{groupScale:N,processedData:M}=this,I=this.isVertical(),C={itemId:s,nodeData:x,labelData:[],scales:this.calculateScaling(),visible:this.visible};return e&&(M==null||M.data.forEach(({datum:L,keys:O,values:P})=>{const{xValue:z,minValue:V,q1Value:G,medianValue:H,q3Value:B,maxValue:$}=t.resolveProcessedDataDefsValues(y,{keys:O,values:P});if([V,G,H,B,$].some(oe=>typeof oe!="number")||V>G||G>H||H>B||B>$)return;const Q=WDe({defs:y,values:{xValue:z,minValue:V,q1Value:G,medianValue:H,q3Value:B,maxValue:$},xAxis:i,yAxis:n});Q.xValue+=Math.round(N.convert(String(v)))+S;const X=Math.round(b),Y=Math.abs(Q.q3Value-Q.q1Value),q=Q.xValue+X/2,Z=Math.min(Q.q3Value,Q.q1Value)+Y/2,W={x:I?q:Z,y:I?Z:q};let ee;I?ee={x:W.x-X/2,y:Q.minValue,width:X,height:Q.maxValue-Q.minValue}:ee={x:Q.minValue,y:W.y-X/2,width:Q.maxValue-Q.minValue,height:X},x.push({series:this,itemId:z,datum:L,xKey:s,bandwidth:X,scaledValues:Q,cap:f,whisker:g,fill:a,fillOpacity:o,stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:u,lineDashOffset:h,midPoint:W,focusRect:ee})})),C}getLegendData(e){const{id:t,data:i}=this,{xKey:n,yName:s,fill:a,fillOpacity:o,stroke:r,strokeWidth:l,strokeOpacity:c,showInLegend:u,legendItemName:h,visible:f}=this.properties;return!u||!(i!=null&&i.length)||!n||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:f,label:{text:h??s??t},symbols:[{marker:{fill:a,fillOpacity:o,stroke:r,strokeOpacity:c,strokeWidth:l}}],legendItemName:h}]}getTooltipHtml(e){const{xKey:t,minKey:i,q1Key:n,medianKey:s,q3Key:a,maxKey:o,xName:r,yName:l,minName:c,q1Name:u,medianName:h,q3Name:f,maxName:g,tooltip:x,fill:y}=this.properties,{datum:b,itemId:v}=e,S=this.getCategoryAxis(),N=this.getValueAxis();if(!S||!N||!this.properties.isValid())return K.EMPTY_TOOLTIP_CONTENT;const M=Me.sanitizeHtml(l),C=[[t,r,S],[i,c,N],[n,u,N],[s,h,N],[a,f,N],[o,g,N]].map(([O,P,z])=>Me.sanitizeHtml(`${P??O}: ${z.formatDatum(b[O])}`)).join(M?"<br/>":", "),{fill:L}=this.getFormattedStyles(e);return x.toTooltipHtml({title:M,content:C,backgroundColor:y},{seriesId:this.id,itemId:v,datum:b,fill:y,xKey:t,minKey:i,q1Key:n,medianKey:s,q3Key:a,maxKey:o,xName:r,minName:c,q1Name:u,medianName:h,q3Name:f,maxName:g,yName:l,title:M,color:y??L})}animateEmptyUpdateReady({datumSelection:e}){const t=this.isVertical(),{from:i,to:n}=CDe(t);i6.resetMotion([e],DDe(t)),i6.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[e],i,n,{phase:"initial"})}isLabelEnabled(){return!1}async updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}async updateDatumNodes({datumSelection:e,isHighlight:t}){var s;const i=this.isVertical(),n=(s=this.getValueAxis())==null?void 0:s.isReversed();e.each((a,o)=>{let r=this.getFormattedStyles(o,t);t&&(r=lk(this.properties.highlightStyle.item,r));const{stroke:l,strokeWidth:c,strokeOpacity:u,lineDash:h,lineDashOffset:f}=r;r.whisker=lk(r.whisker,{stroke:l,strokeWidth:c,strokeOpacity:u,lineDash:h,lineDashOffset:f}),a.updateDatumStyles(o,r,i,n)})}async updateLabelNodes(e){}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}nodeFactory(){return new jDe}getFormattedStyles(e,t=!1){const{id:i,ctx:{callbackCache:n},properties:s}=this,{xKey:a,minKey:o,q1Key:r,medianKey:l,q3Key:c,maxKey:u,itemStyler:h,backgroundFill:f,cornerRadius:g}=s,{datum:x,stroke:y,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:N,cap:M,whisker:I}=e;let C,L;C=e.fill,L=s.fillOpacity;const O={fill:C,fillOpacity:L,stroke:y,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:N,cornerRadius:g,cap:e6(M),whisker:e6(I)};if(h){const P=n.call(h,{datum:x,seriesId:i,highlighted:t,...O,xKey:a,minKey:o,q1Key:r,medianKey:l,q3Key:c,maxKey:u});if(P)return lk(P,O)}return O}computeFocusBounds({datumIndex:e,seriesRect:t}){var i;return HDe((i=this.contextNodeData)==null?void 0:i.nodeData[e].focusRect,this.contentGroup,t)}};Gj.className="BoxPlotSeries";Gj.type="box-plot";var KDe={series:{direction:"vertical",strokeWidth:2},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[se.CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},{Color:ck}=Me,ZDe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",moduleFactory:e=>new Gj(e),tooltipDefaults:{range:"exact"},defaultAxes:se.swapAxisCondition([{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:se.CARTESIAN_POSITION.BOTTOM}],e=>(e==null?void 0:e.direction)==="horizontal"),themeTemplate:KDe,groupable:!0,paletteFactory:({takeColors:e,themeTemplateParameters:t})=>{const i=t.get(se.DEFAULT_BACKGROUND_COLOUR),n=(Array.isArray(i)?i[0]:i)??"white",{fills:[s],strokes:[a]}=e(1);let o;try{o=ck.mix(ck.fromString(n),ck.fromString(s),.3).toString()}catch{o=s}return{fill:o,stroke:a,backgroundFill:n}}},{AbstractBarSeriesProperties:qDe,BaseProperties:Wj,PropertiesArray:XDe,SeriesTooltip:QDe,Validate:Zt,ARRAY:JDe,COLOR_STRING:Ag,LINE_DASH:zq,OBJECT:Hj,POSITIVE_NUMBER:kg,RATIO:Cg,STRING:cM}=K,$c=class extends Wj{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.lengthRatio=.75}};A([Zt(Ag)],$c.prototype,"fill");A([Zt(Cg)],$c.prototype,"fillOpacity");A([Zt(Ag)],$c.prototype,"stroke");A([Zt(kg)],$c.prototype,"strokeWidth");A([Zt(Cg)],$c.prototype,"strokeOpacity");A([Zt(zq)],$c.prototype,"lineDash");A([Zt(kg)],$c.prototype,"lineDashOffset");A([Zt(Cg)],$c.prototype,"lengthRatio");var _q=class extends Wj{};A([Zt(kg,{optional:!0})],_q.prototype,"max");var uM=class extends Wj{constructor(){super(...arguments),this.color="lightgrey"}};A([Zt(Ag)],uM.prototype,"color");A([Zt(kg,{optional:!0})],uM.prototype,"stop");var zn=class extends qDe{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.widthRatio=.5,this.colorRanges=new XDe(uM),this.target=new $c,this.scale=new _q,this.tooltip=new QDe,this.backgroundFill="white"}};A([Zt(cM)],zn.prototype,"valueKey");A([Zt(cM,{optional:!0})],zn.prototype,"valueName");A([Zt(cM,{optional:!0})],zn.prototype,"targetKey");A([Zt(cM,{optional:!0})],zn.prototype,"targetName");A([Zt(Ag)],zn.prototype,"fill");A([Zt(Cg)],zn.prototype,"fillOpacity");A([Zt(Ag)],zn.prototype,"stroke");A([Zt(kg)],zn.prototype,"strokeWidth");A([Zt(Cg)],zn.prototype,"strokeOpacity");A([Zt(zq)],zn.prototype,"lineDash");A([Zt(kg)],zn.prototype,"lineDashOffset");A([Zt(Cg)],zn.prototype,"widthRatio");A([Zt(JDe.restrict({minLength:0}))],zn.prototype,"colorRanges");A([Zt(Hj)],zn.prototype,"target");A([Zt(Hj)],zn.prototype,"scale");A([Zt(Hj)],zn.prototype,"tooltip");A([Zt(Ag)],zn.prototype,"backgroundFill");var{animationValidation:e2e,collapsedStartingBarPosition:n6,diff:t2e,keyProperty:i2e,partialAssign:uk,prepareBarAnimationFunctions:s6,resetBarSelectionsFn:n2e,seriesLabelFadeInAnimation:a6,valueProperty:o6,createDatumId:s2e,computeBarFocusBounds:a2e}=K,{fromToMotion:r6}=ae.motion,{sanitizeHtml:l6,Color:dk}=Me,c6=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],o2e=class extends K.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:{y:["targetKey","valueKey"]},directionNames:{y:["targetName","valueName"]},pickModes:[K.SeriesNodePickMode.NEAREST_NODE,K.SeriesNodePickMode.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,animationResetFns:{datum:n2e}}),this.properties=new zn,this.normalizedColorRanges=[],this.colorRangesGroup=new ae.Group({name:`${this.id}-colorRanges`}),this.colorRangesSelection=ae.Selection.select(this.colorRangesGroup,ae.Rect,!1),this.rootGroup.append(this.colorRangesGroup),this.targetLinesSelection=ae.Selection.select(this.annotationGroup,ae.Line,!1)}destroy(){this.rootGroup.removeChild(this.colorRangesGroup),super.destroy()}async processData(e){var l,c;if(!this.properties.isValid()||!this.data||!this.visible)return;const{valueKey:t,targetKey:i}=this.properties,n=(l=this.getCategoryAxis())==null?void 0:l.scale,s=(c=this.getValueAxis())==null?void 0:c.scale,{xScaleType:a,yScaleType:o}=this.getScaleInformation({xScale:n,yScale:s}),r=[];i!==void 0&&r.push(o6(i,o,{id:"target"})),this.ctx.animationManager.isSkipped()||(this.processedData!==void 0&&r.push(t2e(this.processedData)),r.push(e2e())),await this.requestDataModel(e,this.data.slice(0,1),{props:[i2e(t,a,{id:"xValue"}),o6(t,o,{id:"value"}),...r],groupByKeys:!0}),this.animationState.transition("updateData")}getBandScalePadding(){return{inner:0,outer:0}}getMaxValue(){var e;return Math.max(...((e=this.getValueAxis())==null?void 0:e.dataDomain.domain)??[0])}getSeriesDomain(e){var r;const{dataModel:t,processedData:i}=this;if(!t||!i)return[];const{valueKey:n,targetKey:s,valueName:a,scale:o}=this.properties;if(e===this.getCategoryDirection())return[a??n];if(e==((r=this.getValueAxis())==null?void 0:r.direction)){const l=t.getDomain(this,"value","value",i),c=s===void 0?[]:t.getDomain(this,"target","value",i);return[0,o.max??Math.max(...l,...c)]}throw new Error(`unknown direction ${e}`)}getKeys(e){return e===this.getBarDirection()?[this.properties.valueKey]:super.getKeys(e)}async createNodeData(){var y,b;const{dataModel:e,processedData:t}=this,{valueKey:i,targetKey:n,widthRatio:s,target:{lengthRatio:a}}=this.properties,o=(y=this.getCategoryAxis())==null?void 0:y.scale,r=(b=this.getValueAxis())==null?void 0:b.scale;if(!i||!e||!t||!o||!r||s===void 0||a===void 0)return;const l=o.bandwidth??NaN,c=this.getMaxValue(),u=e.resolveProcessedDataIndexById(this,"value"),h=n===void 0?NaN:e.resolveProcessedDataIndexById(this,"target"),f={itemId:i,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return f;for(const{datum:v,values:S}of t.data){if(!Array.isArray(v)||v.length<1)continue;S[0][u]<0&&Me.Logger.warnOnce("negative values are not supported, clipping to 0.");const N=this.properties.valueName??this.properties.valueKey,M=Math.min(c,Math.max(0,S[0][u])),I=r.convert(M),C=s*l,L=r.convert(0),O=this.getBarDirection()===K.ChartAxisDirection.X,P={x:l*(1-s)/2,y:Math.min(I,L),width:C,height:Math.abs(L-I)};O&&([P.x,P.y,P.width,P.height]=[P.y,P.x,P.height,P.width]);let z;if(S[0][h]<0&&Me.Logger.warnOnce("negative targets are not supported, ignoring."),this.properties.targetKey&&S[0][h]>=0){const G=a*l,H=Math.min(c,S[0][h]);if(!isNaN(H)&&H!==void 0){const B=r.convert(H);let $=l*(1-a)/2,Q=$+G,[X,Y]=[B,B];O&&([$,Q,X,Y]=[X,Y,$,Q]),z={value:H,x1:$,x2:Q,y1:X,y2:Y}}}const V={series:this,datum:v[0],xKey:i,xValue:N,yKey:i,yValue:M,cumulativeValue:M,target:z,...P,midPoint:{x:P.x+P.width/2,y:P.y+P.height/2},opacity:1};f.nodeData.push(V)}const g=[...this.getColorRanges()].sort((v,S)=>(v.stop??c)-(S.stop??c));let x=0;return this.normalizedColorRanges=g.map(v=>{const S=Math.min(c,v.stop??1/0),N={color:v.color,start:x,stop:S};return x=S,N}),f}getColorRanges(){const{colorRanges:e,fill:t,backgroundFill:i}=this.properties;if(e!==void 0&&e.length>0)return e;const n=new uM;try{n.color=dk.mix(dk.fromString(t),dk.fromString(i),.7).toString()}catch{n.color=t}return[n]}getLegendData(e){return[]}getTooltipHtml(e){const{valueKey:t,valueName:i,targetKey:n,targetName:s}=this.properties,a=this.getValueAxis(),{yValue:o,target:{value:r}={value:void 0},datum:l,itemId:c}=e;if(t===void 0||o===void 0||a===void 0)return K.EMPTY_TOOLTIP_CONTENT;const u=(g,x,y)=>{const b=l6(x??g),v=l6(a.formatDatum(y));return`<b>${b}</b>: ${v}`},h=void 0,f=n===void 0||r===void 0?u(t,i,o):`${u(t,i,o)}<br/>${u(n,s,r)}`;return this.properties.tooltip.toTooltipHtml({title:h,content:f,backgroundColor:this.properties.fill},{datum:l,itemId:c,title:h,seriesId:this.id,valueKey:t,valueName:i,targetKey:n,targetName:s,color:void 0})}isLabelEnabled(){return!1}nodeFactory(){return new ae.Rect}async updateDatumSelection(e){return this.targetLinesSelection.update(e.nodeData,void 0,void 0),e.datumSelection.update(e.nodeData,void 0,void 0)}async updateDatumNodes(e){for(const{node:t}of e.datumSelection){const i=this.properties;uk(c6,t,i)}for(const{node:t,datum:i}of this.targetLinesSelection)if(i.target===void 0)t.visible=!1;else{const n=this.properties.target;uk(["x1","x2","y1","y2"],t,i.target),uk(c6,t,n)}}async updateColorRanges(){const e=this.getValueAxis(),t=this.getCategoryAxis();if(!e||!t)return;const[i,n]=[0,Math.max(...t.scale.range)],s=this.getBarDirection()===K.ChartAxisDirection.Y?(a,o)=>{a.x=i,a.y=e.scale.convert(o.stop),a.height=e.scale.convert(o.start)-a.y,a.width=n}:(a,o)=>{a.x=e.scale.convert(o.start),a.y=i,a.height=n,a.width=e.scale.convert(o.stop)-a.x};this.colorRangesSelection.update(this.normalizedColorRanges);for(const{node:a,datum:o}of this.colorRangesSelection)s(a,o),a.fill=o.color}async updateNodes(e,t,i){await super.updateNodes(e,t,i),await this.updateColorRanges()}async updateLabelSelection(e){return e.labelSelection}async updateLabelNodes(e){}animateEmptyUpdateReady(e){const{datumSelection:t,annotationSelections:i}=e,n=s6(n6(this.isVertical(),this.axes,"normal"));r6(this.id,"nodes",this.ctx.animationManager,[t],n),a6(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){var o,r;const{datumSelection:t,annotationSelections:i}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const n=(r=(o=this.processedData)==null?void 0:o.reduced)==null?void 0:r.diff,s=s6(n6(this.isVertical(),this.axes,"normal"));r6(this.id,"nodes",this.ctx.animationManager,[t],s,(l,c)=>s2e(c.xValue),n),((n==null?void 0:n.changed)??!0)&&a6(this,"annotations",this.ctx.animationManager,...i)}computeFocusBounds({datumIndex:e,seriesRect:t}){var i;return a2e((i=this.contextNodeData)==null?void 0:i.nodeData[e],this.contentGroup,t)}},r2e={series:{direction:"vertical",strokeWidth:0,strokeOpacity:1,fillOpacity:1,widthRatio:.5,target:{strokeWidth:3,strokeOpacity:1,lengthRatio:.75}},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,crosshair:{enabled:!1}}}},l2e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bullet",solo:!0,moduleFactory:e=>new o2e(e),tooltipDefaults:{range:"exact"},defaultAxes:se.swapAxisCondition([{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:se.CARTESIAN_POSITION.BOTTOM}],e=>(e==null?void 0:e.direction)==="horizontal"),themeTemplate:r2e,paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{const{fills:[n],strokes:[s]}=e(t),a=i.get(se.DEFAULT_BACKGROUND_COLOUR),o=(Array.isArray(a)?a[0]:a)??"white",r=i.get(se.DEFAULT_CROSS_LINES_COLOUR);return{fill:n,stroke:s,target:{stroke:r},backgroundFill:o}}},{computeBarFocusBounds:c2e,NODE_UPDATE_STATE_TO_PHASE_MAPPING:u2e}=K;function Fq(e,t){return dw(t)}function u6(e){return{toFn:(n,s,a)=>{if(a==="removed"){const{x:o,yLow:r,yHigh:l,width:c}=dw(s),u=s.itemId==="up"?r:l;return{x:o,y:u,yBottom:u,yHigh:u,yLow:u,width:c,height:0}}return dw(s)},fromFn:(n,s,a)=>{const o=e?"initial":u2e[a];if(a==="unknown"||a==="added"&&s!=null){const{x:r,y:l,yLow:c,yHigh:u,width:h,height:f}=dw(s);let g=s.itemId==="up"?c:u;return a==="unknown"&&(g=l+f/2),{x:r,y:g,yBottom:g,yHigh:g,yLow:g,width:h,height:0,phase:o}}return{x:n.x,y:n.y,yBottom:n.yBottom,yHigh:n.yHigh,yLow:n.yLow,width:n.width,height:n.height,phase:o}}}}function dw(e){const{bandwidth:t,scaledValues:{xValue:i,openValue:n,closeValue:s,highValue:a,lowValue:o}}=e,r=Math.min(n,s),l=isNaN(n)?s:Math.max(n,s),c=Math.min(a,o),u=Math.max(a,o);return{x:i,y:r,yBottom:l,yHigh:c,yLow:u,width:t,height:Math.max(l-r,.001)}}function Bq(e,t){var s;const i=(s=e.getNodeData())==null?void 0:s.at(t.datumIndex),n=i?{x:i.scaledValues.xValue,y:i.scaledValues.highValue,width:i.bandwidth,height:i.scaledValues.lowValue-i.scaledValues.highValue}:void 0;return c2e(n,e.contentGroup,t.seriesRect)}var{motion:d6}=ae,{fixNumericExtent:d2e,keyProperty:h2e,SeriesNodePickMode:h6,SMALLEST_KEY_INTERVAL:p2e,valueProperty:O1,diff:f2e,animationValidation:m2e,convertValuesToScaleByDefs:g2e}=K,{sanitizeHtml:p6,Logger:f6}=Me,{ContinuousScale:y2e}=ki,x2e=class extends K.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.openKey=n.properties.openKey,this.closeKey=n.properties.closeKey,this.highKey=n.properties.highKey,this.lowKey=n.properties.lowKey}},Vq=class extends K.AbstractBarSeries{constructor(e,t){super({moduleCtx:e,pickModes:[h6.AXIS_ALIGNED,h6.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:t}}),this.NodeEvent=x2e}animateEmptyUpdateReady({datumSelection:e}){const t=u6(!0);d6.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],t)}animateWaitingUpdateReady({datumSelection:e}){var s;const{processedData:t}=this,i=(s=t==null?void 0:t.reduced)==null?void 0:s.diff,n=u6(!1);d6.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],n,(a,o)=>String(o.xValue),i)}async processData(e){var x,y,b;if(!this.properties.isValid()||!this.visible)return;const{xKey:t,openKey:i,closeKey:n,highKey:s,lowKey:a}=this.properties,o=!this.ctx.animationManager.isSkipped(),r=(x=this.getCategoryAxis())==null?void 0:x.scale,l=(y=this.getValueAxis())==null?void 0:y.scale,{isContinuousX:c,xScaleType:u,yScaleType:h}=this.getScaleInformation({xScale:r,yScale:l}),f=[];o&&(this.processedData&&f.push(f2e(this.processedData)),f.push(m2e())),i&&f.push(O1(i,h,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{processedData:g}=await this.requestDataModel(e,this.data,{props:[h2e(t,u,{id:"xValue"}),O1(n,h,{id:"closeValue"}),O1(s,h,{id:"highValue"}),O1(a,h,{id:"lowValue"}),...c?[p2e]:[],...f]});this.smallestDataInterval=(b=g.reduced)==null?void 0:b.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];const{openKey:n}=this.properties;if(e===this.getBarDirection()){const r=i.getDomain(this,"lowValue","value",t),l=i.getDomain(this,"highValue","value",t),c=n?i.getDomain(this,"openValue","value",t):[],u=i.getDomain(this,"closeValue","value",t);return d2e([Math.min(...r,...l,...c,...u),Math.max(...l,...r,...c,...u)])}const{index:s,def:a}=i.resolveProcessedDataDefById(this,"xValue"),o=t.domain.keys[s];return a.type==="key"&&a.valueType==="category"?o:this.padBandExtent(o)}createBaseNodeData(){const{visible:e,dataModel:t}=this,i=this.getCategoryAxis(),n=this.getValueAxis();if(!(t&&i&&n))return;const s=[],{xKey:a,highKey:o,lowKey:r}=this.properties,l=t.resolveProcessedDataDefsByIds(this,["xValue","openValue","closeValue","highValue","lowValue"]),{barWidth:c,groupIndex:u}=this.updateGroupScale(i),h=y2e.is(i.scale)?c*-.5:0,{groupScale:f,processedData:g}=this,x={itemId:a,nodeData:s,labelData:[],scales:this.calculateScaling(),visible:this.visible};return e&&(g==null||g.data.forEach(({datum:y,keys:b,values:v})=>{const{xValue:S,openValue:N,closeValue:M,highValue:I,lowValue:C}=t.resolveProcessedDataDefsValues(l,{keys:b,values:v}),L=C!=null&&C<=N&&C<=M,O=I!=null&&I>=N&&I>=M;if(!L){f6.warnOnce(`invalid low value for key [${r}] in data element, low value cannot be higher than datum open or close values`);return}if(!O){f6.warnOnce(`invalid high value for key [${o}] in data element, high value cannot be lower than datum open or close values.`);return}const P=g2e({defs:l,values:{xValue:S,openValue:N,closeValue:M,highValue:I,lowValue:C},xAxis:i,yAxis:n});P.xValue+=Math.round(f.convert(String(u)))+h;const z=M>N,V=this.getSeriesItemType(z),[G,H]=z?[P.openValue,P.closeValue]:[P.closeValue,P.openValue],B=H-G,$={x:P.xValue+Math.round(c)/2,y:G+B/2};s.push({series:this,itemId:V,datum:y,xKey:a,xValue:S,openValue:N,closeValue:M,highValue:I,lowValue:C,bandwidth:c>=1?c:f.rawBandwidth,scaledValues:P,midPoint:$,aggregatedValue:M})})),x}getSeriesItemType(e){return e?"up":"down"}getItemConfig(e){return this.properties.item[e]}getLegendData(e){const{id:t,data:i}=this,{xKey:n,yName:s,item:{up:a,down:o},showInLegend:r,legendItemName:l,visible:c}=this.properties;return!r||!(i!=null&&i.length)||!n||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:c,label:{text:l??s??t},symbols:[{marker:{fill:a.fill??a.stroke,fillOpacity:a.fillOpacity??1,stroke:a.stroke,strokeWidth:a.strokeWidth??1,strokeOpacity:a.strokeOpacity??1,padding:0}},{marker:{fill:o.fill??o.stroke,fillOpacity:o.fillOpacity??1,stroke:o.stroke,strokeWidth:o.strokeWidth??1,strokeOpacity:o.strokeOpacity??1}}],legendItemName:l}]}getTooltipHtml(e){const{xKey:t,openKey:i,closeKey:n,highKey:s,lowKey:a,xName:o,yName:r,openName:l,closeName:c,highName:u,lowName:h,tooltip:f}=this.properties,{datum:g,itemId:x}=e,y=this.getCategoryAxis(),b=this.getValueAxis();if(!y||!b||!this.properties.isValid())return K.EMPTY_TOOLTIP_CONTENT;const v=C=>C.charAt(0).toUpperCase()+C.substring(1),S=p6(r),M=[[t,o,y],[i,l,b],[s,u,b],[a,h,b],[n,c,b]].map(([C,L,O])=>p6(`${L??v(C)}: ${O.formatDatum(g[C])}`)).join("<br/>"),I=this.getFormattedStyles(e);return f.toTooltipHtml({title:S,content:M,backgroundColor:I.stroke},{seriesId:this.id,highlighted:!1,datum:g,...I,xKey:t,openKey:i,closeKey:n,highKey:s,lowKey:a,xName:o,yName:r,openName:l,closeName:c,highName:u,lowName:h,title:S,color:I.fill,fill:I.fill,itemId:x})}isVertical(){return!0}isLabelEnabled(){return!1}async updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}async updateDatumNodes({datumSelection:e,isHighlight:t}){e.each((i,n)=>{const s=this.getActiveStyles(n,t);i.updateDatumStyles(n,s)})}async updateLabelNodes(e){}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}},{SceneChangeDetection:Rp,BBox:b2e,RedrawType:Pp}=ae,Kc=class extends ae.Group{constructor(){super(...arguments),this.x=0,this.y=0,this.yBottom=0,this.yHigh=0,this.yLow=0,this.width=0,this.height=0}distanceSquared(e,t){const i=ae.Selection.selectByClass(this,ae.Rect,ae.Line);return K.nearestSquared(e,t,i).distanceSquared}get midPoint(){const e=this.datum;return e.midPoint===void 0?(Me.Logger.error("CandlestickBaseGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):e.midPoint}preRender(){return this.updateCoordinates(),super.preRender()}};A([Rp({redraw:Pp.MAJOR})],Kc.prototype,"x");A([Rp({redraw:Pp.MAJOR})],Kc.prototype,"y");A([Rp({redraw:Pp.MAJOR})],Kc.prototype,"yBottom");A([Rp({redraw:Pp.MAJOR})],Kc.prototype,"yHigh");A([Rp({redraw:Pp.MAJOR})],Kc.prototype,"yLow");A([Rp({redraw:Pp.MAJOR})],Kc.prototype,"width");A([Rp({redraw:Pp.MAJOR})],Kc.prototype,"height");var v2e=class extends Kc{constructor(){super(),this.append([new ae.Rect({tag:0}),new ae.Line({tag:1}),new ae.Line({tag:2})])}updateCoordinates(){const{x:e,y:t,yBottom:i,yHigh:n,yLow:s,width:a,height:o}=this,r=ae.Selection.select(this,ae.Rect),[l]=r.selectByTag(0),[c]=r.selectByTag(1),[u]=r.selectByTag(2);if(a===0||o===0){l.visible=!1,c.visible=!1,u.visible=!1;return}l.visible=!0,c.visible=!0,u.visible=!0,l.setProperties({x:e,y:t,width:a,height:o,crisp:!0,clipBBox:new b2e(e,t,a,o)});const h=a/2;c.setProperties({y1:Math.round(s+c.strokeWidth/2),y2:i,x:e+h}),u.setProperties({y1:Math.round(n+u.strokeWidth/2),y2:t,x:e+h})}updateDatumStyles(e,t){const{bandwidth:i}=e,{fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c,wick:u={},cornerRadius:h}=t;u.strokeWidth??(u.strokeWidth=1);const f=ae.Selection.select(this,ae.Rect),[g]=f.selectByTag(0),[x]=f.selectByTag(1),[y]=f.selectByTag(2);u.strokeWidth>i&&(u.strokeWidth=i),g.setProperties({fill:n,fillOpacity:s,strokeWidth:o,strokeOpacity:r,stroke:a,lineDash:l,lineDashOffset:c,cornerRadius:h}),x.setProperties(u),y.setProperties(u)}},{BaseProperties:Yj,AbstractBarSeriesProperties:w2e,SeriesTooltip:S2e,Validate:Bt,COLOR_STRING:$j,FUNCTION:N2e,LINE_DASH:Uq,OBJECT:lv,POSITIVE_NUMBER:cv,RATIO:Kj,STRING:Er}=K,Dg=class extends Yj{};A([Bt($j,{optional:!0})],Dg.prototype,"stroke");A([Bt(cv)],Dg.prototype,"strokeWidth");A([Bt(Kj)],Dg.prototype,"strokeOpacity");A([Bt(Uq,{optional:!0})],Dg.prototype,"lineDash");A([Bt(cv)],Dg.prototype,"lineDashOffset");var Ir=class extends Yj{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new Dg}};A([Bt($j,{optional:!0})],Ir.prototype,"fill");A([Bt(Kj)],Ir.prototype,"fillOpacity");A([Bt($j)],Ir.prototype,"stroke");A([Bt(cv)],Ir.prototype,"strokeWidth");A([Bt(Kj)],Ir.prototype,"strokeOpacity");A([Bt(Uq)],Ir.prototype,"lineDash");A([Bt(cv)],Ir.prototype,"lineDashOffset");A([Bt(cv)],Ir.prototype,"cornerRadius");A([Bt(lv)],Ir.prototype,"wick");var Zj=class extends Yj{constructor(){super(...arguments),this.up=new Ir,this.down=new Ir}};A([Bt(lv)],Zj.prototype,"up");A([Bt(lv)],Zj.prototype,"down");var ks=class extends w2e{constructor(){super(...arguments),this.tooltip=new S2e,this.item=new Zj}};A([Bt(Er)],ks.prototype,"xKey");A([Bt(Er)],ks.prototype,"openKey");A([Bt(Er)],ks.prototype,"closeKey");A([Bt(Er)],ks.prototype,"highKey");A([Bt(Er)],ks.prototype,"lowKey");A([Bt(Er,{optional:!0})],ks.prototype,"xName");A([Bt(Er,{optional:!0})],ks.prototype,"yName");A([Bt(Er,{optional:!0})],ks.prototype,"openName");A([Bt(Er,{optional:!0})],ks.prototype,"closeName");A([Bt(Er,{optional:!0})],ks.prototype,"highName");A([Bt(Er,{optional:!0})],ks.prototype,"lowName");A([Bt(lv)],ks.prototype,"tooltip");A([Bt(lv)],ks.prototype,"item");A([Bt(N2e,{optional:!0})],ks.prototype,"itemStyler");var{extractDecoratedProperties:M2e,mergeDefaults:hk}=K,qj=class extends Vq{constructor(e){super(e,Fq),this.properties=new ks}async createNodeData(){const e=this.createBaseNodeData();if(!e)return;const t=e.nodeData.map(i=>{const{fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c,wick:u,cornerRadius:h}=this.getItemConfig(i.itemId);return{...i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c,wick:u,cornerRadius:h}});return{...e,nodeData:t}}getFormattedStyles(e,t=!1){const{id:i,ctx:{callbackCache:n}}=this,{xKey:s,openKey:a,closeKey:o,highKey:r,lowKey:l,itemStyler:c}=this.properties,{fill:u,fillOpacity:h,stroke:f,strokeWidth:g,strokeOpacity:x,lineDash:y,lineDashOffset:b}=this.getItemConfig(e.itemId);if(c){const v=n.call(c,{datum:e.datum,itemId:e.itemId,seriesId:i,highlighted:t,xKey:s,openKey:a,closeKey:o,highKey:r,lowKey:l,fill:u,fillOpacity:h,stroke:f,strokeWidth:g,strokeOpacity:x,lineDash:y,lineDashOffset:b});if(v)return hk(v,this.getSeriesStyles(e))}return this.getSeriesStyles(e)}nodeFactory(){return new v2e}getSeriesStyles(e){const{fill:t,fillOpacity:i,stroke:n,strokeWidth:s,strokeOpacity:a,lineDash:o,lineDashOffset:r,wick:l,cornerRadius:c}=e;return{fill:t,fillOpacity:i,stroke:n,strokeWidth:s,strokeOpacity:a,lineDash:o,lineDashOffset:r,wick:M2e(l),cornerRadius:c}}getActiveStyles(e,t){let i=this.getFormattedStyles(e,t);t&&(i=hk(this.properties.highlightStyle.item,i));const{stroke:n,strokeWidth:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=i;return i.wick=hk(i.wick,{stroke:n,strokeWidth:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}),i}computeFocusBounds(e){return Bq(this,e)}};qj.className="CandleStickSeries";qj.type="candlestick";var I2e={series:{highlightStyle:{item:{strokeWidth:3}}},animation:{enabled:!1},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[se.CARTESIAN_AXIS_TYPE.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},T2e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",moduleFactory:e=>new qj(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.ORDINAL_TIME,position:se.CARTESIAN_POSITION.BOTTOM}],themeTemplate:I2e,groupable:!1,paletteFactory:({takeColors:e,colorsCount:t,userPalette:i,palette:n})=>{if(i==="user-indexed"){const{fills:s,strokes:a}=e(t);return{item:{up:{fill:"transparent",stroke:a[0]},down:{fill:s[0],stroke:a[0]}}}}return{item:{up:n.up,down:n.down}}}},{Logger:A2e}=Me;function m6(e,t,i){i||(t=k2e(t));const n=new Map;for(const a of e)n.set(a.id,{datum:a,linksBefore:[],linksAfter:[],maxPathLengthBefore:-1,maxPathLengthAfter:-1});let s=0;return n.forEach((a,o)=>{s=Math.max(s,LD(n,t,a,o,-1,[])+LD(n,t,a,o,1,[])+1)}),{links:t,nodeGraph:n,maxPathLength:s}}function Gq(e,t,i,n){const s=n.indexOf(t);if(s!==-1){for(let o=s;o<n.length;o+=1)i.add(n[o]);return}n.push(t);const{toNode:a}=t;for(const o of e)o.fromNode===a&&Gq(e,o,i,n);n.pop()}function k2e(e){const t=new Set;for(const i of e)Gq(e,i,t,[]);return t.size!==0&&A2e.warnOnce("Some links formed circular references. These will be removed from the output."),t.size===0?e:e.filter(i=>!t.has(i))}function LD(e,t,i,n,s,a){if(a.includes(n))return 1/0;let o=s===-1?i.maxPathLengthBefore:i.maxPathLengthAfter;if(o===-1){o=0;const r=s===-1?i.linksBefore:i.linksAfter;for(const l of t){const{fromNode:c,toNode:u}=l,h=s===-1?u.id:c.id,f=s===-1?c.id:u.id,g=n===h?e.get(f):void 0;g!=null&&(r.push({node:g,link:l}),a==null||a.push(n),o=Math.max(o,LD(e,t,g,f,s,a)+1),a==null||a.pop())}s===-1?i.maxPathLengthBefore=o:i.maxPathLengthAfter=o}return o}var{DataModelSeries:C2e,DataController:D2e,Validate:L2e,ARRAY:E2e,keyProperty:O2e,valueProperty:j1}=K,{Selection:Sh,Group:Zf,TransformableText:j2e}=ae,Xj=class extends C2e{constructor(){super(...arguments),this._chartNodes=void 0,this.nodeCount=0,this.linkCount=0,this.nodesDataController=new D2e("standalone"),this.nodesDataModel=void 0,this.nodesProcessedData=void 0,this.processedNodes=new Map,this.linkGroup=this.contentGroup.appendChild(new Zf({name:"linkGroup"})),this.nodeGroup=this.contentGroup.appendChild(new Zf({name:"nodeGroup"})),this.focusLinkGroup=this.highlightNode.appendChild(new Zf({name:"linkGroup"})),this.focusNodeGroup=this.highlightNode.appendChild(new Zf({name:"nodeGroup"})),this.highlightLinkGroup=this.highlightNode.appendChild(new Zf({name:"linkGroup"})),this.highlightNodeGroup=this.highlightNode.appendChild(new Zf({name:"nodeGroup"})),this.labelSelection=Sh.select(this.labelGroup,j2e),this.linkSelection=Sh.select(this.linkGroup,()=>this.linkFactory()),this.nodeSelection=Sh.select(this.nodeGroup,()=>this.nodeFactory()),this.focusLinkSelection=Sh.select(this.focusLinkGroup,()=>this.linkFactory()),this.focusNodeSelection=Sh.select(this.focusNodeGroup,()=>this.nodeFactory()),this.highlightLinkSelection=Sh.select(this.highlightLinkGroup,()=>this.linkFactory()),this.highlightNodeSelection=Sh.select(this.highlightNodeGroup,()=>this.nodeFactory())}get nodes(){return this.properties.nodes??this._chartNodes}setChartNodes(e){this._chartNodes=e,this.nodes===e&&(this.nodeDataRefresh=!0)}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}async processData(e){const{nodesDataController:t,data:i,nodes:n}=this;if(i==null||!this.properties.isValid())return;const{fromKey:s,toKey:a,sizeKey:o,idKey:r,labelKey:l}=this.properties,c=n!=null?t.request(this.id,n,{props:[O2e(r,void 0,{id:"idValue",includeProperty:!1}),...l!=null?[j1(l,void 0,{id:"labelValue",includeProperty:!1})]:[]],groupByKeys:!0}):null,u=this.requestDataModel(e,i,{props:[j1(s,void 0,{id:"fromValue",includeProperty:!1}),j1(a,void 0,{id:"toValue",includeProperty:!1}),...o!=null?[j1(o,void 0,{id:"sizeValue",includeProperty:!1,missingValue:0})]:[]],groupByKeys:!1});n!=null&&t.execute();const[h,f]=await Promise.all([c,u]);this.nodesDataModel=h==null?void 0:h.dataModel,this.nodesProcessedData=h==null?void 0:h.processedData;const{fills:g,strokes:x}=this.properties,y=new Map;if(h==null){const b=f.dataModel.resolveProcessedDataIndexById(this,"fromValue"),v=f.dataModel.resolveProcessedDataIndexById(this,"toValue"),S=N=>{const M=y.size,I=N,C=g[M%g.length],L=x[M%x.length];return{series:this,itemId:void 0,datum:{},type:1,index:M,id:N,label:I,fill:C,stroke:L}};f.processedData.data.forEach(({values:N})=>{const M=N[b],I=N[v];M==null||I==null||(y.has(M)||y.set(M,S(M)),y.has(I)||y.set(I,S(I)))})}else{const b=h.dataModel.resolveProcessedDataIndexById(this,"idValue"),v=l!=null?h.dataModel.resolveProcessedDataIndexById(this,"labelValue"):void 0;h.processedData.data.forEach(({datum:S,keys:N,values:M},I)=>{const C=M[0],L=N[b],O=v!=null?C[v]:void 0,P=g[I%g.length],z=x[I%x.length];y.set(L,{series:this,itemId:void 0,datum:S,type:1,index:I,id:L,label:O,fill:P,stroke:z})})}this.processedNodes=y}getNodeGraph(e,t,{includeCircularReferences:i}){const{dataModel:n,processedData:s}=this;if(n==null||s==null){const{links:x,nodeGraph:y,maxPathLength:b}=m6(new Map().values(),[],i);return this.nodeCount=0,this.linkCount=0,{nodeGraph:y,links:x,maxPathLength:b}}const{sizeKey:a}=this.properties,o=n.resolveProcessedDataIndexById(this,"fromValue"),r=n.resolveProcessedDataIndexById(this,"toValue"),l=a!=null?n.resolveProcessedDataIndexById(this,"sizeValue"):void 0,c=new Map;this.processedNodes.forEach(x=>{const y=e(x);c.set(x.id,y)});const u=[];s.data.forEach(({datum:x,values:y},b)=>{const v=y[o],S=y[r],N=l!=null?y[l]:1,M=c.get(v),I=c.get(S);if(N<=0||M==null||I==null)return;const C=t({series:this,itemId:void 0,datum:x,type:0,index:b,fromNode:M,toNode:I,size:N});u.push(C)});const{links:h,nodeGraph:f,maxPathLength:g}=m6(c.values(),u,i);return this.nodeCount=f.size,this.linkCount=h.length,{nodeGraph:f,links:h,maxPathLength:g}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(e){var u,h,f;const{seriesRect:t}=e,i={seriesRectWidth:(t==null?void 0:t.width)??0,seriesRectHeight:(t==null?void 0:t.height)??0};(this._nodeDataDependencies==null||this._nodeDataDependencies.seriesRectWidth!==i.seriesRectWidth||this._nodeDataDependencies.seriesRectHeight!==i.seriesRectHeight)&&(this._nodeDataDependencies=i),await this.updateSelections();const n=((u=this.contextNodeData)==null?void 0:u.nodeData)??[],s=((h=this.contextNodeData)==null?void 0:h.labelData)??[];let a=(f=this.ctx.highlightManager)==null?void 0:f.getActiveHighlight();if((a==null?void 0:a.series)===this&&a.type==null){const{itemId:g}=a;a=g!=null?n.find(x=>x.type===1&&x.id===g):void 0}else(a==null?void 0:a.series)!==this&&(a=void 0);this.contentGroup.visible=this.visible,this.contentGroup.opacity=a!=null?this.properties.highlightStyle.series.dimOpacity??1:1,this.labelSelection=await this.updateLabelSelection({labelData:s,labelSelection:this.labelSelection}),await this.updateLabelNodes({labelSelection:this.labelSelection}),this.linkSelection=await this.updateLinkSelection({nodeData:n.filter(g=>g.type===0),datumSelection:this.linkSelection}),await this.updateLinkNodes({datumSelection:this.linkSelection,isHighlight:!1}),this.nodeSelection=await this.updateNodeSelection({nodeData:n.filter(g=>g.type===1),datumSelection:this.nodeSelection}),await this.updateNodeNodes({datumSelection:this.nodeSelection,isHighlight:!1});let o,r,l,c;(a==null?void 0:a.type)===1?(o=n.filter(g=>g.type===0&&(g.toNode===a||g.fromNode===a)),r=o.map(g=>g.fromNode===a?g.toNode:g.fromNode),r.push(a),l=[],c=[a]):(a==null?void 0:a.type)===0?(o=[a],r=[a.fromNode,a.toNode],l=[a],c=[]):(o=[],r=[],l=[],c=[]),this.focusLinkSelection=await this.updateLinkSelection({nodeData:o,datumSelection:this.focusLinkSelection}),await this.updateLinkNodes({datumSelection:this.focusLinkSelection,isHighlight:!1}),this.focusNodeSelection=await this.updateNodeSelection({nodeData:r,datumSelection:this.focusNodeSelection}),await this.updateNodeNodes({datumSelection:this.focusNodeSelection,isHighlight:!1}),this.highlightLinkSelection=await this.updateLinkSelection({nodeData:l,datumSelection:this.highlightLinkSelection}),await this.updateLinkNodes({datumSelection:this.highlightLinkSelection,isHighlight:!0}),this.highlightNodeSelection=await this.updateNodeSelection({nodeData:c,datumSelection:this.highlightNodeSelection}),await this.updateNodeNodes({datumSelection:this.highlightNodeSelection,isHighlight:!0})}resetAnimation(e){}getSeriesDomain(e){return[]}getLegendData(e){return e!=="category"?[]:Array.from(this.processedNodes.values(),({id:t,label:i,fill:n,stroke:s})=>({legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:!0,label:{text:i??t},symbols:[{marker:{fill:n,fillOpacity:1,stroke:s,strokeWidth:0,strokeOpacity:1}}]}))}pickNodeClosestDatum({x:e,y:t}){let i=1/0,n;return this.linkSelection.each((s,a)=>{const o=s.containsPoint(e,t)?0:1/0;o<i&&(i=o,n=a)}),this.nodeSelection.each((s,a)=>{const o=s.distanceSquared(e,t);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}getDatumAriaText(e,t){if(e.type===0)return this.ctx.localeManager.t("ariaAnnounceFlowProportionLink",{index:e.index+1,count:this.linkCount,from:e.fromNode.id,to:e.toNode.id,size:e.size,sizeName:this.properties.sizeName??this.properties.sizeKey});if(e.type===1)return this.ctx.localeManager.t("ariaAnnounceFlowProportionNode",{index:e.index+1,count:this.nodeCount,description:t})}};A([L2e(E2e,{optional:!0,property:"nodes"})],Xj.prototype,"_chartNodes");var{BBox:R2e,Path:P2e,ScenePathChangeDetection:_d}=ae;function fS({radius:e,startAngle:t,endAngle:i,tension:n}){const s=e*Math.cos(t),a=e*Math.sin(t),o=e*Math.cos(i),r=e*Math.sin(i),l=s*n,c=a*n,u=o*n,h=r*n;return{x:[s,l,u,o],y:[a,c,h,r]}}var Zc=class extends P2e{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=0,this.startAngle1=0,this.endAngle1=0,this.startAngle2=0,this.endAngle2=0,this.tension=1}computeBBox(){const{centerX:e,centerY:t,radius:i,startAngle1:n,endAngle1:s,startAngle2:a,endAngle2:o,tension:r}=this,l=fS({radius:i,startAngle:n,endAngle:o,tension:r}),c=fS({radius:i,startAngle:a,endAngle:s,tension:r}),u=Math.min(...l.x,...c.x),h=Math.max(...l.x,...c.x)-u,f=Math.min(...l.y,...c.y),g=Math.max(...l.y,...c.y)-f;return new R2e(e+u,t+f,h,g)}tensionedCurveTo(e,t,i,n,s,a,o,r){const{path:l,tension:c}=this,u=1-c;l.cubicCurveTo((i-e)*u+e,(n-t)*u+t,(s-o)*u+o,(a-r)*u+r,o,r)}updatePath(){const{path:e,centerX:t,centerY:i,radius:n}=this;let{startAngle1:s,endAngle1:a,startAngle2:o,endAngle2:r}=this;s>o&&([s,o]=[o,s],[a,r]=[r,a]),e.clear();const l=t+n*Math.cos(s),c=i+n*Math.sin(s);e.moveTo(l,c),this.tensionedCurveTo(l,c,t,i,t,i,t+n*Math.cos(r),i+n*Math.sin(r)),e.arc(t,i,n,r,o,!0),this.tensionedCurveTo(t+n*Math.cos(o),i+n*Math.sin(o),t,i,t,i,t+n*Math.cos(a),i+n*Math.sin(a)),e.arc(t,i,n,a,s,!0),e.closePath()}};A([_d()],Zc.prototype,"centerX");A([_d()],Zc.prototype,"centerY");A([_d()],Zc.prototype,"radius");A([_d()],Zc.prototype,"startAngle1");A([_d()],Zc.prototype,"endAngle1");A([_d()],Zc.prototype,"startAngle2");A([_d()],Zc.prototype,"endAngle2");A([_d()],Zc.prototype,"tension");var{BaseProperties:Wq,SeriesTooltip:z2e,SeriesProperties:_2e,ARRAY:F2e,COLOR_STRING:dM,COLOR_STRING_ARRAY:Hq,FUNCTION:Yq,LINE_DASH:$q,OBJECT:hM,POSITIVE_NUMBER:Fd,RATIO:uv,STRING:Bd,Validate:vt}=K,{Label:B2e}=ae,Qj=class extends B2e{constructor(){super(...arguments),this.spacing=1,this.maxWidth=1}};A([vt(Fd)],Qj.prototype,"spacing");A([vt(Fd)],Qj.prototype,"maxWidth");var Ll=class extends Wq{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0,this.tension=0}};A([vt(dM,{optional:!0})],Ll.prototype,"fill");A([vt(uv)],Ll.prototype,"fillOpacity");A([vt(dM,{optional:!0})],Ll.prototype,"stroke");A([vt(uv)],Ll.prototype,"strokeOpacity");A([vt(Fd)],Ll.prototype,"strokeWidth");A([vt($q)],Ll.prototype,"lineDash");A([vt(Fd)],Ll.prototype,"lineDashOffset");A([vt(uv)],Ll.prototype,"tension");A([vt(Yq,{optional:!0})],Ll.prototype,"itemStyler");var Or=class extends Wq{constructor(){super(...arguments),this.spacing=1,this.width=1,this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([vt(Fd)],Or.prototype,"spacing");A([vt(Fd)],Or.prototype,"width");A([vt(dM,{optional:!0})],Or.prototype,"fill");A([vt(uv)],Or.prototype,"fillOpacity");A([vt(dM,{optional:!0})],Or.prototype,"stroke");A([vt(uv)],Or.prototype,"strokeOpacity");A([vt(Fd)],Or.prototype,"strokeWidth");A([vt($q)],Or.prototype,"lineDash");A([vt(Fd)],Or.prototype,"lineDashOffset");A([vt(Yq,{optional:!0})],Or.prototype,"itemStyler");var Cs=class extends _2e{constructor(){super(...arguments),this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.nodes=void 0,this.fills=[],this.strokes=[],this.label=new Qj,this.link=new Ll,this.node=new Or,this.tooltip=new z2e}};A([vt(Bd)],Cs.prototype,"fromKey");A([vt(Bd)],Cs.prototype,"toKey");A([vt(Bd)],Cs.prototype,"idKey");A([vt(Bd,{optional:!0})],Cs.prototype,"idName");A([vt(Bd,{optional:!0})],Cs.prototype,"labelKey");A([vt(Bd,{optional:!0})],Cs.prototype,"labelName");A([vt(Bd,{optional:!0})],Cs.prototype,"sizeKey");A([vt(Bd,{optional:!0})],Cs.prototype,"sizeName");A([vt(F2e,{optional:!0})],Cs.prototype,"nodes");A([vt(Hq)],Cs.prototype,"fills");A([vt(Hq)],Cs.prototype,"strokes");A([vt(hM)],Cs.prototype,"label");A([vt(hM)],Cs.prototype,"link");A([vt(hM)],Cs.prototype,"node");A([vt(hM)],Cs.prototype,"tooltip");var{SeriesNodePickMode:g6,CachedTextMeasurerPool:V2e,TextWrapper:U2e,TextUtils:G2e,createDatumId:y6,EMPTY_TOOLTIP_CONTENT:W2e}=K,{angleBetween:hw,normalizeAngle360:H2e,isBetweenAngles:x6,sanitizeHtml:b6,Logger:Y2e}=Me,{Sector:$2e,evaluateBezier:R1}=ae,P1=e=>e.startAngle+hw(e.startAngle,e.endAngle)/2,Jj=class extends Xj{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,pickModes:[g6.NEAREST_NODE,g6.EXACT_SHAPE_MATCH]}),this.properties=new Cs}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new Zc}nodeFactory(){return new $2e}async createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:n,toKey:s,sizeKey:a,label:{spacing:o,maxWidth:r,fontSize:l},node:{width:c,spacing:u}}=this.properties,h=t/2,f=i/2;let g=[];const{nodeGraph:x,links:y}=this.getNodeGraph(B=>({...B,size:0,centerX:h,centerY:f,innerRadius:NaN,outerRadius:NaN,startAngle:NaN,endAngle:NaN}),B=>({...B,centerX:h,centerY:f,radius:NaN,startAngle1:NaN,endAngle1:NaN,startAngle2:NaN,endAngle2:NaN}),{includeCircularReferences:!0}),b=B=>String(B);let v=0;x.forEach(({datum:B,linksBefore:$,linksAfter:Q},X)=>{const Y=$.reduce((q,{link:Z})=>q+Z.size,0)+Q.reduce((q,{link:Z})=>q+Z.size,0);if(Y===0)x.delete(X);else{B.size=Y,v+=B.size;const q=this.getLabelText(this.properties.label,{datum:B.datum,value:B.label,fromKey:n,toKey:s,sizeKey:a,size:B.size},b);B.label=String(q)}});let S=0;if(this.isLabelEnabled()){const B=this.properties.label.getFont();let $=0;x.forEach(({datum:Q})=>{const{id:X,label:Y}=Q;if(Y==null)return;const q=U2e.wrapText(Y,{maxWidth:r,font:this.properties.label,textWrap:"never"}),{width:Z}=V2e.measureText(q,{font:B,textAlign:"left",textBaseline:"middle"});$=Math.max(Z,$),g.push({id:X,text:q,centerX:h,centerY:f,angle:NaN,radius:NaN})}),S=$+o}const N=x.size;let M=Math.min(t,i)/2-c-S,I=u/M;if(S!==0&&(N*I>=1.5*Math.PI||M<=0)&&(g=[],M=Math.min(t,i)/2-c,I=u/M),N*I>=2*Math.PI||M<=0){Y2e.warnOnce("There was insufficient space to display the Chord Series.");return}const C=M,L=M+c,O=Math.max((2*Math.PI-N*I)/v,0);let P=0;x.forEach(({datum:B})=>{B.innerRadius=C,B.outerRadius=L,B.startAngle=P,B.endAngle=P+B.size*O,P=B.endAngle+I;const $=(B.innerRadius+B.outerRadius)/2,Q=P1(B);B.midPoint={x:B.centerX+$*Math.cos(Q),y:B.centerY+$*Math.sin(Q)}});const z=[];x.forEach(({datum:B,linksBefore:$,linksAfter:Q})=>{const X=P1(B),Y=[...$.map(Z=>({link:Z.link,distance:hw(P1(Z.node.datum),X),after:!1})),...Q.map(Z=>({link:Z.link,distance:hw(P1(Z.node.datum),X),after:!0}))];let q=B.startAngle;Y.sort((Z,W)=>Z.distance-W.distance).forEach(({link:Z,after:W})=>{const ee=Z.size*O;W?(Z.startAngle1=q,Z.endAngle1=q+ee):(Z.startAngle2=q,Z.endAngle2=q+ee),q+=Z.size*O}),z.push(B)});const{tension:V}=this.properties.link;y.forEach(B=>{B.radius=M;const $=fS({radius:M,startAngle:B.startAngle1,endAngle:B.endAngle2,tension:V}),Q=fS({radius:M,startAngle:B.startAngle2,endAngle:B.endAngle1,tension:V}),X=R1(...$.x,.5),Y=R1(...$.y,.5),q=R1(...Q.x,.5),Z=R1(...Q.y,.5);B.midPoint={x:B.centerX+(X+q)/2,y:B.centerY+(Y+Z)/2},z.push(B)}),g.forEach(B=>{var Q;const $=(Q=x.get(B.id))==null?void 0:Q.datum;$!=null&&(B.radius=L+o,B.angle=H2e($.startAngle+hw($.startAngle,$.endAngle)/2))}),g.sort((B,$)=>B.angle-$.angle);let G=1/0,H=-1/0;return g=g.filter(B=>{const $=G2e.getLineHeight(l),Q=Math.atan2($/2,B.radius),X=B.angle-Q,Y=B.angle+Q;return x6(G,X,Y)||x6(H,X,Y)?!1:(G=Math.min(X,G),H=Math.max(Y,H),!0)}),{itemId:e,nodeData:z,labelData:g}}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;t.each((r,{text:l,centerX:c,centerY:u,radius:h,angle:f})=>{r.visible=!0,r.translationX=c+h*Math.cos(f),r.translationY=u+h*Math.sin(f),r.text=l,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textBaseline="middle",Math.cos(f)>=0?(r.textAlign="left",r.rotation=f):(r.textAlign="right",r.rotation=f-Math.PI)})}async updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>y6([t.type,t.id]))}async updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,properties:s,ctx:{callbackCache:a}}=this,{fromKey:o,toKey:r,sizeKey:l}=this.properties,{fill:c,fillOpacity:u,stroke:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,itemStyler:y}=s.node,b=i?s.highlightStyle.item:void 0,v=this.getStrokeWidth(s.node.strokeWidth);t.each((S,N)=>{const M=c??N.fill,I=h??N.stroke;let C;if(y!=null){const{label:L,size:O}=N;C=a.call(y,{seriesId:n,datum:N.datum,label:L,size:O,fromKey:o,toKey:r,sizeKey:l,fill:M,fillOpacity:u,strokeOpacity:f,stroke:I,strokeWidth:v,lineDash:g,lineDashOffset:x,highlighted:i})}S.centerX=N.centerX,S.centerY=N.centerY,S.innerRadius=N.innerRadius,S.outerRadius=N.outerRadius,S.startAngle=N.startAngle,S.endAngle=N.endAngle,S.fill=(b==null?void 0:b.fill)??(C==null?void 0:C.fill)??M,S.fillOpacity=(b==null?void 0:b.fillOpacity)??(C==null?void 0:C.fillOpacity)??u,S.stroke=(b==null?void 0:b.stroke)??(C==null?void 0:C.stroke)??I,S.strokeOpacity=(b==null?void 0:b.strokeOpacity)??(C==null?void 0:C.strokeOpacity)??f,S.strokeWidth=(b==null?void 0:b.strokeWidth)??(C==null?void 0:C.strokeWidth)??v,S.lineDash=(b==null?void 0:b.lineDash)??(C==null?void 0:C.lineDash)??g,S.lineDashOffset=(b==null?void 0:b.lineDashOffset)??(C==null?void 0:C.lineDashOffset)??x,S.inset=S.strokeWidth/2})}async updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>y6([t.type,t.index,t.fromNode.id,t.toNode.id]))}async updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,properties:s,ctx:{callbackCache:a}}=this,{fromKey:o,toKey:r,sizeKey:l}=s,{fill:c,fillOpacity:u,stroke:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,tension:y,itemStyler:b}=s.link,v=i?s.highlightStyle.item:void 0,S=this.getStrokeWidth(s.link.strokeWidth);t.each((N,M)=>{const I=c??M.fromNode.fill,C=h??M.fromNode.stroke;let L;b!=null&&(L=a.call(b,{seriesId:n,datum:M.datum,fromKey:o,toKey:r,sizeKey:l,fill:I,fillOpacity:u,strokeOpacity:f,stroke:C,strokeWidth:S,lineDash:g,lineDashOffset:x,tension:y,highlighted:i})),N.centerX=M.centerX,N.centerY=M.centerY,N.radius=M.radius,N.startAngle1=M.startAngle1,N.endAngle1=M.endAngle1,N.startAngle2=M.startAngle2,N.endAngle2=M.endAngle2,N.fill=(v==null?void 0:v.fill)??(L==null?void 0:L.fill)??I,N.fillOpacity=(v==null?void 0:v.fillOpacity)??(L==null?void 0:L.fillOpacity)??u,N.stroke=(v==null?void 0:v.stroke)??(L==null?void 0:L.stroke)??C,N.strokeOpacity=(v==null?void 0:v.strokeOpacity)??(L==null?void 0:L.strokeOpacity)??f,N.strokeWidth=(v==null?void 0:v.strokeWidth)??(L==null?void 0:L.strokeWidth)??S,N.lineDash=(v==null?void 0:v.lineDash)??(L==null?void 0:L.lineDash)??g,N.lineDashOffset=(v==null?void 0:v.lineDashOffset)??(L==null?void 0:L.lineDashOffset)??x,N.tension=(L==null?void 0:L.tension)??y})}resetAnimation(e){}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n},properties:s}=this;if(!i||!s.isValid())return W2e;const{fromKey:a,toKey:o,sizeKey:r,sizeName:l,tooltip:c}=s,{datum:u,itemId:h,size:f}=e;let g;const x=[];let y;if(e.type===0){const{fillOpacity:S,strokeOpacity:N,strokeWidth:M,lineDash:I,lineDashOffset:C,tension:L,itemStyler:O}=s.link,{fromNode:P,toNode:z}=e;g=`${P.label??P.id} - ${z.label??z.id}`,r!=null&&x.push(b6(`${l??r}: `+f)),y=s.link.fill??P.fill;const V=s.link.stroke??P.stroke;let G;O!=null&&(G=n.call(O,{seriesId:t,datum:u.datum,fromKey:a,toKey:o,sizeKey:r,fill:y,fillOpacity:S,strokeOpacity:N,stroke:V,strokeWidth:M,lineDash:I,lineDashOffset:C,tension:L,highlighted:!0})),y=(G==null?void 0:G.fill)??y}else{const{fillOpacity:S,strokeOpacity:N,strokeWidth:M,lineDash:I,lineDashOffset:C,itemStyler:L}=s.node,{id:O,label:P}=e;g=P??O,r!=null&&x.push(b6(`${l??r}: `+f)),y=s.link.fill??e.fill;const z=s.link.stroke??e.stroke;let V;L!=null&&(V=n.call(L,{seriesId:t,datum:u.datum,label:P,size:f,fromKey:a,toKey:o,sizeKey:r,fill:y,fillOpacity:S,strokeOpacity:N,stroke:z,strokeWidth:M,lineDash:I,lineDashOffset:C,highlighted:!0})),y=(V==null?void 0:V.fill)??e.fill}const b=x.join("<br>"),v=y;return c.toTooltipHtml({title:g,content:b,backgroundColor:v},{seriesId:t,datum:u,title:g,color:v,itemId:h,fromKey:a,toKey:o,sizeKey:r,sizeName:l,size:f,...this.getModuleTooltipParams()})}getLabelData(){return[]}computeFocusBounds({datumIndex:e}){var i;const t=(i=this.contextNodeData)==null?void 0:i.nodeData[e];if((t==null?void 0:t.type)===1){for(const n of this.nodeSelection)if(n.datum===t)return n.node;return}else if((t==null?void 0:t.type)===0){for(const n of this.linkSelection)if(n.datum===t)return n.node;return}}};Jj.className="ChordSeries";Jj.type="chord";var{DEFAULT_FONT_FAMILY:K2e,DEFAULT_LABEL_COLOUR:Z2e}=se,q2e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"chord",tooltipDefaults:{range:"exact"},moduleFactory:e=>new Jj(e),themeTemplate:{series:{highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:K2e,color:Z2e,spacing:5,maxWidth:100},node:{spacing:8,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0,tension:.4}},legend:{enabled:!1,toggleSeries:!1}},paletteFactory({takeColors:e,colorsCount:t}){const{fills:i,strokes:n}=e(t);return{fills:i,strokes:n}}};function Kq(e){const{placement:t,...i}=(e==null?void 0:e.stageLabel)??{};return(e==null?void 0:e.direction)!=="horizontal"?[{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:t==="after"?se.CARTESIAN_POSITION.RIGHT:se.CARTESIAN_POSITION.LEFT,label:i},{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.BOTTOM}]:[{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:t==="before"?se.CARTESIAN_POSITION.TOP:se.CARTESIAN_POSITION.BOTTOM,label:i}]}var X2e={series:{direction:"vertical",strokeWidth:0,spacingRatio:.25,label:{enabled:!0,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_INSIDE_SERIES_LABEL_COLOUR},dropOff:{enabled:!0,fillOpacity:.2,strokeWidth:0}},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(e){return Math.abs(e.value).toFixed(e.fractionDigits??0)}}},[se.CARTESIAN_AXIS_TYPE.CATEGORY]:{line:{enabled:!1}}}},{BBox:Q2e,Path:J2e,ScenePathChangeDetection:Vd}=ae,v6=1e-6;function w6([e,t],[i,n]){return Math.abs(e-i)<=v6&&Math.abs(t-n)<=v6}var El=class extends J2e{constructor(){super(...arguments),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}get midPoint(){const{x0:e,y0:t,x1:i,y1:n,x2:s,y2:a,x3:o,y3:r}=this;return{x:(e+i+s+o)/4,y:(t+n+a+r)/4}}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c}=this;return Math.min(Me.lineDistanceSquared(e,t,i,n,s,a,1/0),Me.lineDistanceSquared(e,t,s,a,o,r,1/0),Me.lineDistanceSquared(e,t,o,r,l,c,1/0),Me.lineDistanceSquared(e,t,l,c,i,n,1/0))}computeBBox(){const{x0:e,y0:t,x1:i,y1:n,x2:s,y2:a,x3:o,y3:r}=this,l=Math.min(e,i,s,o),c=Math.max(e,i,s,o)-l,u=Math.min(t,n,a,r),h=Math.max(t,n,a,r)-u;return new Q2e(l,u,c,h)}updatePath(){const{path:e,x0:t,y0:i,x1:n,y1:s,x2:a,y2:o,x3:r,y3:l}=this,c=[[t,i],[n,s],[a,o],[r,l]];e.clear();let u,h;c.forEach(f=>{if(u!=null&&w6(u,f)||h!=null&&w6(h,f))return;const[g,x]=f;u==null?e.moveTo(g,x):e.lineTo(g,x),u??(u=f),h=f}),e.closePath()}};A([Vd()],El.prototype,"x0");A([Vd()],El.prototype,"y0");A([Vd()],El.prototype,"x1");A([Vd()],El.prototype,"y1");A([Vd()],El.prototype,"x2");A([Vd()],El.prototype,"y2");A([Vd()],El.prototype,"x3");A([Vd()],El.prototype,"y3");var{NODE_UPDATE_STATE_TO_PHASE_MAPPING:eLe}=K;function S6(e,t,i,n){const{x0:s,y0:a,x1:o,y1:r,x2:l,y2:c,x3:u,y3:h,opacity:f}=e;return i?{x0:(s+u)/2,y0:(a+h)/2,x1:(o+l)/2,y1:(r+c)/2,x2:(o+l)/2,y2:(r+c)/2,x3:(s+u)/2,y3:(a+h)/2,opacity:f}:{x0:(s+o)/2,y0:(a+r)/2,x1:(s+o)/2,y1:(a+r)/2,x2:(l+u)/2,y2:(c+h)/2,x3:(l+u)/2,y3:(c+h)/2,opacity:f}}function tLe(e,t){const i=a=>a==null;return{fromFn:(a,o,r)=>{r==="updated"&&i(o)?r="removed":r==="updated"&&i(a.previousDatum)&&(r="added");let l;r==="added"&&a.previousDatum==null&&t==="fade"||(r==="unknown"||r==="added"?l=S6(o,a.previousDatum,e):l={x0:a.x0,y0:a.y0,x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,x3:a.x3,y3:a.y3,opacity:a.opacity});const c=eLe[r];return{...l,phase:c}},toFn:(a,o,r)=>{let l;return r==="removed"&&a.datum==null&&t==="fade"||(r==="removed"||i(o)?l=S6(o,a.previousDatum,e):l=ED(a,o)),l}}}function ED(e,t){const{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c,opacity:u}=t;return{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c,opacity:u}}var{SeriesNodePickMode:N6,ZIndexMap:iLe,valueProperty:nLe,keyProperty:sLe,ChartAxisDirection:aLe,updateLabelNode:oLe,SMALLEST_KEY_INTERVAL:rLe,LARGEST_KEY_INTERVAL:lLe,diff:cLe,fixNumericExtent:uLe,seriesLabelFadeInAnimation:M6,resetMotion:dLe,resetLabelFn:hLe,animationValidation:pLe,computeBarFocusBounds:fLe}=K,{Group:mLe,Selection:gLe,PointerEvents:I6,motion:yLe}=ae,{sanitizeHtml:T6}=Me,{ContinuousScale:xLe}=ki,bLe=class extends K.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.stageKey,this.yKey=n.properties.valueKey}},Zq=class extends K.AbstractBarSeries{constructor({moduleCtx:e,animationResetFns:t}){super({moduleCtx:e,pickModes:[N6.AXIS_ALIGNED,N6.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["stageKey"],y:["valueKey"]},directionNames:{x:[],y:[]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:t.datum,label:hLe}}),this.NodeEvent=bLe,this.connectorNodeGroup=this.contentGroup.appendChild(new mLe({name:`${this.id}-series-connectorNodes`,zIndex:iLe.SERIES_LAYER,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.connectorSelection=gLe.select(this.connectorNodeGroup,()=>this.connectionFactory()),this.connectorNodeGroup.pointerEvents=I6.None}get pickModeAxis(){return"main-category"}isVertical(){return!super.isVertical()}connectionFactory(){return new El}async processData(e){var h,f,g,x;if(!this.properties.isValid())return;const{stageKey:t,valueKey:i}=this.properties,n=(h=this.getCategoryAxis())==null?void 0:h.scale,s=(f=this.getValueAxis())==null?void 0:f.scale,{isContinuousX:a,xScaleType:o,yScaleType:r}=this.getScaleInformation({xScale:n,yScale:s}),l=[];this.ctx.animationManager.isSkipped()||(this.processedData&&l.push(cLe(this.processedData)),l.push(pLe()));const c=this.visible?{}:{forceValue:0},{processedData:u}=await this.requestDataModel(e,this.data,{props:[sLe(t,o,{id:"xValue"}),nLe(i,r,{id:"yValue",...c}),...a?[rLe,lLe]:[],...l],groupByKeys:!0});this.smallestDataInterval=(g=u.reduced)==null?void 0:g.smallestKeyInterval,this.largestDataInterval=(x=u.reduced)==null?void 0:x.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[n],values:s}=t.domain;if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue");return(a==null?void 0:a.def.type)==="key"&&(a==null?void 0:a.def.valueType)==="category"?n:this.padBandExtent(n)}else{const a=i.resolveProcessedDataIndexById(this,"yValue"),o=s[a][1],r=[-o,o];return uLe(r)}}async createNodeData(){const{data:e,dataModel:t,groupScale:i,processedData:n,properties:{visible:s}}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!(e&&a&&o&&t))return;const r=a.scale,l=o.scale,c=this.getBarDirection()===aLe.X,{stageKey:u,valueKey:h,fills:f,strokes:g}=this.properties,{strokeWidth:x}=this.barStyle(),y=`${h}`,b={itemId:y,nodeData:[],labelData:[],connectorData:[],scales:this.calculateScaling(),visible:this.visible};if(!s)return b;const v=t.resolveProcessedDataIndexById(this,"xValue"),S=t.resolveProcessedDataIndexById(this,"yValue"),{barWidth:N,groupIndex:M}=this.updateGroupScale(a),I=xLe.is(r)?N*-.5:0;let C;return n==null||n.data.forEach(({keys:L,datum:O,values:P},z)=>{P.forEach((V,G)=>{const H=L[v],B=Math.round(r.convert(H))+i.convert(String(M))+I,$=V[S],Q=Math.round(l.convert(-$)),X=Math.round(l.convert($)),Y=Math.max(x,Math.abs(X-Q)),q={x:c?Math.min(X,Q):B,y:c?B:Math.min(X,Q),width:c?Y:N,height:c?N:Y},Z={x:q.x+q.width/2,y:q.y+q.height/2},W=this.createLabelData({rect:q,barAlongX:c,yDatum:$,datum:O[G]}),ee=f[z%f.length]??"black",oe=g[z%g.length]??"black",fe={index:z,valueIndex:G,series:this,itemId:y,datum:O[G],xValue:H,yValue:$,xKey:h,yKey:u,x:q.x,y:q.y,width:q.width,height:q.height,midPoint:Z,fill:ee,stroke:oe,strokeWidth:x,opacity:1,label:W};if(b.nodeData.push(fe),W!=null&&b.labelData.push(W),C!=null){const ue=C.rect;c?b.connectorData.push({datum:fe,x0:ue.x,y0:ue.y+ue.height,x1:ue.x+ue.width,y1:ue.y+ue.height,x2:q.x+q.width,y2:q.y,x3:q.x,y3:q.y,fill:C.fill,stroke:C.stroke,opacity:1}):b.connectorData.push({datum:fe,x0:ue.x+ue.width,y0:ue.y,x1:q.x,y1:q.y,x2:q.x,y2:q.y+q.height,x3:ue.x+ue.width,y3:ue.y+ue.height,fill:C.fill,stroke:C.stroke,opacity:1})}C={itemId:y,rect:q,fill:ee,stroke:oe}})}),b}async updateNodes(e,t,i){var a;await super.updateNodes(e,t,i);const{connectorSelection:n}=this,s=((a=this.contextNodeData)==null?void 0:a.connectorData)??[];this.connectorSelection=await this.updateConnectorSelection({connectorSelection:n,connectorData:s}),await this.updateConnectorNodes({connectorSelection:n})}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,n=t??[];return i.update(n,void 0,s=>this.getDatumId(s))}async updateConnectorSelection(e){const{connectorData:t,connectorSelection:i}=e;return i.update(this.connectorEnabled()?t:[],void 0,n=>this.getDatumId(n.datum))}async updateConnectorNodes(e){const{fill:t,fillOpacity:i,stroke:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}=this.connectorStyle();e.connectorSelection.each((l,c)=>{l.setProperties(ED(l,c)),l.fill=t??c.fill,l.fillOpacity=i,l.stroke=n??c.stroke,l.strokeOpacity=s,l.strokeWidth=a,l.lineDash=o,l.lineDashOffset=r})}getHighlightLabelData(e,t){const i=e.filter(n=>n.datum===t.datum);return i.length>0?i:void 0}async updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=I6.None})}async updateLabelNodes(e){e.labelSelection.each((t,i)=>{oLe(t,this.properties.label,i)})}getTooltipHtml(e){const{id:t,ctx:{callbackCache:i}}=this,n=this.getCategoryAxis(),s=this.getValueAxis();if(!this.properties.isValid()||!n||!s)return K.EMPTY_TOOLTIP_CONTENT;const{stageKey:a,valueKey:o,itemStyler:r,tooltip:l}=this.properties,{strokeWidth:c,fillOpacity:u,strokeOpacity:h,lineDash:f,lineDashOffset:g}=this.barStyle(),{datum:x,xValue:y,yValue:b,fill:v,stroke:S}=e;let N;r&&(N=i.call(r,{highlighted:!1,seriesId:t,datum:x,stageKey:a,valueKey:o,fill:v,fillOpacity:u,stroke:S,strokeWidth:c,strokeOpacity:h,lineDash:f,lineDashOffset:g}));const M=(N==null?void 0:N.fill)??v??"gray",I=T6(n.formatDatum(y)),C=T6(s.formatDatum(b)),L=I,P={title:L,content:C,backgroundColor:M};return l.toTooltipHtml(P,{itemId:void 0,datum:x,stageKey:a,valueKey:o,color:M,seriesId:t,title:L})}getLegendData(e){const{id:t,visible:i}=this;if(e!=="category")return[];const{fills:[n],strokes:[s],valueKey:a}=this.properties,{strokeWidth:o,fillOpacity:r,strokeOpacity:l}=this.barStyle();return[{legendType:"category",id:t,itemId:a,seriesId:t,enabled:i,label:{text:`${a}`},symbols:[{marker:{fill:n,stroke:s,fillOpacity:r,strokeOpacity:l,strokeWidth:o}}]}]}resetConnectorAnimation(e){const{connectorSelection:t}=this;dLe([t],ED)}resetAllAnimation(e){super.resetAllAnimation(e),this.resetConnectorAnimation(e)}animateEmptyUpdateReady({labelSelection:e}){const{connectorSelection:t}=this,i=this.isVertical(),s=tLe(i,"normal");yLe.fromToMotion(this.id,"connectors",this.ctx.animationManager,[t],s),M6(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(e){const{labelSelection:t}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id),M6(this,"labels",this.ctx.animationManager,t)}getDatumId(e){return`${e.xValue}-${e.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e,seriesRect:t}){var i;return fLe((i=this.contextNodeData)==null?void 0:i.nodeData[e],this.contentGroup,t)}},{Label:vLe}=ae,{AbstractBarSeriesProperties:wLe,SeriesTooltip:SLe,AxisLabel:NLe,Validate:ea,UNION:qq,COLOR_STRING_ARRAY:Xq,LINE_DASH:MLe,OBJECT:eR,POSITIVE_NUMBER:tR,RATIO:Qq,STRING:Jq}=K,iR=class extends vLe{constructor(){super(...arguments),this.spacing=0}};A([ea(qq(["before","middle","after"],"a placement"))],iR.prototype,"placement");A([ea(tR)],iR.prototype,"spacing");var eX=class extends NLe{};A([ea(qq(["before","after"],"a placement"))],eX.prototype,"placement");var io=class extends wLe{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new iR,this.stageLabel=new eX,this.tooltip=new SLe}};A([ea(Jq)],io.prototype,"stageKey");A([ea(Jq)],io.prototype,"valueKey");A([ea(Xq)],io.prototype,"fills");A([ea(Qq)],io.prototype,"fillOpacity");A([ea(Xq)],io.prototype,"strokes");A([ea(tR)],io.prototype,"strokeWidth");A([ea(Qq)],io.prototype,"strokeOpacity");A([ea(MLe)],io.prototype,"lineDash");A([ea(tR)],io.prototype,"lineDashOffset");A([ea(eR)],io.prototype,"label");A([ea(eR)],io.prototype,"stageLabel");A([ea(eR)],io.prototype,"tooltip");function A6(e,{x:t,y:i,width:n,height:s,opacity:a}){return{x1:t,y1:i,x2:t+n,y2:i+s,opacity:a}}var{isFiniteNumber:ILe}=K,{Line:TLe}=ae,nR=class extends Zq{constructor(e){super({moduleCtx:e,animationResetFns:{datum:A6}}),this.properties=new io}getBandScalePadding(){return{inner:1,outer:0}}connectorEnabled(){return!0}barStyle(){return{fill:void 0,fillOpacity:1,stroke:void 0,strokeOpacity:1,strokeWidth:0,lineDash:[],lineDashOffset:0}}connectorStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:n,lineDashOffset:s}=this.properties;return{fill:void 0,fillOpacity:e,stroke:void 0,strokeOpacity:t,strokeWidth:i,lineDash:n,lineDashOffset:s}}nodeFactory(){return new TLe}createLabelData({rect:e,barAlongX:t,yDatum:i,datum:n}){const{stageKey:s,valueKey:a,label:o}=this.properties,{spacing:r,placement:l}=o;let c,u,h,f;if(t)switch(c=e.x+e.width/2,h="center",l){case"before":u=e.y-r,f="bottom";break;case"after":u=e.y+e.height+r,f="top";break;default:u=e.y+e.height/2,f="middle"}else switch(u=e.y+e.height/2,f="middle",l){case"before":c=e.x-r,h="right";break;case"after":c=e.x+e.width+r,h="left";break;default:c=e.x+e.width/2,h="center"}return{x:c,y:u,textAlign:h,textBaseline:f,text:this.getLabelText(o,{itemId:a,value:i,datum:n,stageKey:s,valueKey:a},g=>ILe(g)?g.toFixed(0):String(g)),itemId:a,datum:n,series:this}}async updateDatumNodes(e){const t=e.isHighlight?this.properties.highlightStyle.item:void 0;e.datumSelection.each((i,n)=>{i.setProperties(A6(i,n)),i.stroke=t==null?void 0:t.stroke,i.strokeWidth=(t==null?void 0:t.strokeWidth)??0,i.strokeOpacity=(t==null?void 0:t.strokeOpacity)??1,i.lineDash=t==null?void 0:t.lineDash,i.lineDashOffset=(t==null?void 0:t.lineDashOffset)??0})}};nR.className="ConeFunnelSeries";nR.type="cone-funnel";var ALe={series:{direction:"vertical",strokeWidth:0,label:{enabled:!0,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_LABEL_COLOUR,placement:"before",spacing:4}},seriesArea:{padding:{top:20,bottom:20}},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(e){return Math.abs(e.value).toFixed(e.fractionDigits??0)}}},[se.CARTESIAN_AXIS_TYPE.CATEGORY]:{line:{enabled:!1}}}},kLe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"cone-funnel",moduleFactory:e=>new nR(e),solo:!0,tooltipDefaults:{range:"nearest"},defaultAxes:Kq,themeTemplate:ALe,paletteFactory:({userPalette:e,themeTemplateParameters:t,takeColors:i,colorsCount:n})=>{const{fills:s}=i(n),a=t.get(se.DEFAULT_FUNNEL_SERIES_COLOR_RANGE),o=e==="inbuilt"?a:[s[0],s[1]];return{fills:o,strokes:o.slice(0)}}},{Label:CLe,DropShadow:DLe}=ae,{AbstractBarSeriesProperties:LLe,BaseProperties:ELe,SeriesTooltip:OLe,AxisLabel:jLe,Validate:ci,UNION:RLe,BOOLEAN:PLe,COLOR_STRING_ARRAY:tX,COLOR_STRING:iX,FUNCTION:zLe,LINE_DASH:nX,OBJECT:dv,POSITIVE_NUMBER:pM,RATIO:hv,STRING:sX}=K,_Le=class extends CLe{},aX=class extends jLe{};A([ci(RLe(["before","after"],"a placement"))],aX.prototype,"placement");var qc=class extends ELe{constructor(){super(...arguments),this.enabled=!0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([ci(PLe)],qc.prototype,"enabled");A([ci(iX,{optional:!0})],qc.prototype,"fill");A([ci(hv)],qc.prototype,"fillOpacity");A([ci(iX,{optional:!0})],qc.prototype,"stroke");A([ci(pM)],qc.prototype,"strokeWidth");A([ci(hv)],qc.prototype,"strokeOpacity");A([ci(nX)],qc.prototype,"lineDash");A([ci(pM)],qc.prototype,"lineDashOffset");var is=class extends LLe{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.spacingRatio=0,this.dropOff=new qc,this.shadow=new DLe().set({enabled:!1}),this.label=new _Le,this.stageLabel=new aX,this.tooltip=new OLe}};A([ci(sX)],is.prototype,"stageKey");A([ci(sX)],is.prototype,"valueKey");A([ci(tX)],is.prototype,"fills");A([ci(hv)],is.prototype,"fillOpacity");A([ci(tX)],is.prototype,"strokes");A([ci(pM)],is.prototype,"strokeWidth");A([ci(hv)],is.prototype,"strokeOpacity");A([ci(nX)],is.prototype,"lineDash");A([ci(pM)],is.prototype,"lineDashOffset");A([ci(hv)],is.prototype,"spacingRatio");A([ci(zLe,{optional:!0})],is.prototype,"itemStyler");A([ci(dv)],is.prototype,"dropOff");A([ci(dv)],is.prototype,"shadow");A([ci(dv)],is.prototype,"label");A([ci(dv)],is.prototype,"stageLabel");A([ci(dv)],is.prototype,"tooltip");var{ChartAxisDirection:k6,getRectConfig:FLe,updateRect:BLe,checkCrisp:VLe,resetBarSelectionsFn:ULe,prepareBarAnimationFunctions:C6,midpointStartingBarPosition:D6,createDatumId:GLe,isFiniteNumber:WLe}=K,{Rect:HLe,motion:L6}=ae,sR=class extends Zq{constructor(e){super({moduleCtx:e,animationResetFns:{datum:ULe}}),this.properties=new is}getBandScalePadding(){return{inner:this.properties.spacingRatio,outer:0}}connectorEnabled(){return this.properties.dropOff.enabled}barStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:n,lineDashOffset:s}=this.properties;return{fill:void 0,fillOpacity:e,stroke:void 0,strokeOpacity:t,strokeWidth:i,lineDash:n,lineDashOffset:s}}connectorStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this.properties.dropOff;return{fill:e,fillOpacity:t,stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}}nodeFactory(){return new HLe}createLabelData({rect:e,yDatum:t,datum:i}){const{valueKey:n,stageKey:s,label:a}=this.properties;return{x:e.x+e.width/2,y:e.y+e.height/2,textAlign:"center",textBaseline:"middle",text:this.getLabelText(a,{itemId:s,value:t,datum:i,valueKey:n,stageKey:s},o=>WLe(o)?o.toFixed(0):String(o)),itemId:s,datum:i,series:this}}async updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,ctx:s}=this,{stageKey:a,valueKey:o,highlightStyle:{item:r},fillOpacity:l,strokeOpacity:c,strokeWidth:u,lineDash:h,lineDashOffset:f,itemStyler:g,shadow:x}=this.properties,y=this.axes[k6.X],b=VLe(y==null?void 0:y.scale,y==null?void 0:y.visibleRange,this.smallestDataInterval,this.largestDataInterval),v=this.getCategoryDirection()===k6.X;t.each((S,N)=>{const M={fill:N.fill,stroke:N.stroke,fillOpacity:l,strokeOpacity:c,lineDash:h,lineDashOffset:f,fillShadow:x,strokeWidth:this.getStrokeWidth(u)},I=v?N.width>0:N.height>0,C=FLe({datum:N,isHighlighted:i,style:M,highlightStyle:r,itemStyler:g,seriesId:n,ctx:s,stageKey:a,valueKey:o});C.crisp=b,C.visible=I,BLe(S,C)})}animateEmptyUpdateReady(e){super.animateEmptyUpdateReady(e);const{datumSelection:t}=e,i=this.isVertical(),s=C6(D6(i,"normal"));L6.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s)}animateWaitingUpdateReady(e){var a;super.animateWaitingUpdateReady(e);const{datumSelection:t}=e,{processedData:i}=this,n=(a=i==null?void 0:i.reduced)==null?void 0:a.diff,s=C6(D6(this.isVertical(),"fade"));L6.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s,(o,r)=>GLe(r.xValue,r.valueIndex),n)}};sR.className="FunnelSeries";sR.type="funnel";var YLe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"funnel",moduleFactory:e=>new sR(e),solo:!0,tooltipDefaults:{range:"exact"},defaultAxes:Kq,themeTemplate:X2e,paletteFactory:({takeColors:e})=>{const{fills:t,strokes:i}=e(1);return{fills:t,strokes:i}}},{CachedTextMeasurerPool:oX,TextUtils:rX,TextWrapper:mS,findMaxValue:lX}=K,{Logger:$Le}=Me;function KLe(e,t){const{fontSize:i,minimumFontSize:n=i}=e,{fontSize:s,minimumFontSize:a=s}=t,o=i-n,r=s-a;let l=e.fontSize,c=t.fontSize;const u=[{labelFontSize:i,secondaryLabelFontSize:s}];for(;l>n||c>a;){const h=o>0?(l-n)/o:-1,f=r>0?(c-a)/r:-1;h>f?l--:c--,u.push({labelFontSize:l,secondaryLabelFontSize:c})}return u.reverse(),u}function Um(e,t){return e.lineHeight!=null&&e.fontSize!=null?e.lineHeight*t/e.fontSize:rX.getLineHeight(t)}function cX(e,t,i,n,{padding:s},a){const{spacing:o=0}=t,r=2*s,l=2*s+o,c=(t.minimumFontSize??t.fontSize)+(n.minimumFontSize??n.fontSize);if(c>a(c+l,!1).height-l)return;const u=KLe(t,n),h={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},f={fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let g,x;return lX(0,u.length-1,y=>{const{labelFontSize:b,secondaryLabelFontSize:v}=u[y],S=y===0,N=Um(t,b),M=Um(n,v),I=a(N+M+l,S),C=I.width-r,L=I.height-l;if(N+M>L||((g==null||g.fontSize!==b)&&(h.fontSize=b,g=O6(t,e,C,L,h,t.wrapping,S?t.overflowStrategy:"hide")),g==null||g.width>C||g.height>L)||((x==null||x.fontSize!==v)&&(f.fontSize=v,x=O6(n,i,C,L,f,n.wrapping,S?n.overflowStrategy:"hide")),x==null))return;const O=g.height+x.height;if(!(x.width>C||O>L))return{width:Math.max(g.width,x.width),height:O+o,meta:I.meta,label:g,secondaryLabel:x}})}function bb(e,t,{padding:i},n){const s=2*i,a=Math.min(t.minimumFontSize??t.fontSize,t.fontSize),o={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return lX(a,t.fontSize,r=>{const l=Um(t,r),c=r===a,u=n(l+s,c),h=u.width-s,f=u.height-s;if(l>f)return;o.fontSize=r;const g=mS.wrapLines(e,{maxWidth:h,maxHeight:f,font:o,textWrap:t.wrapping,overflow:(c?t.overflowStrategy:void 0)??"hide"});if(!g.length)return;const x=ZLe(g,{lineHeight:l,font:o,maxWidth:h,maxHeight:f});if(x)return[{fontSize:r,lineHeight:l,...x},u.meta]})}function E6(e){return(e==null?void 0:e.minimumFontSize)!=null&&(e==null?void 0:e.fontSize)&&(e==null?void 0:e.minimumFontSize)>(e==null?void 0:e.fontSize)}function aR(e,t,i,n,s,a){const o=t.enabled?e:void 0,r=n.enabled?i:void 0;(E6(t)||E6(n))&&$Le.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;o!=null&&r!=null&&(l=cX(o,t,r,n,s,a));let c;if(l==null&&o!=null&&(c=bb(o,t,s,a)),c!=null){const[h,f]=c;l={width:h.width,height:h.height,meta:f,label:h,secondaryLabel:void 0}}let u;if(l==null&&o==null&&r!=null&&(u=bb(r,n,s,a)),u!=null){const[h,f]=u;l={width:h.width,height:h.height,meta:f,label:void 0,secondaryLabel:h}}return l}function O6(e,t,i,n,s,a,o){const r=mS.wrapLines(t,{maxWidth:i,maxHeight:n,font:s,textWrap:a,overflow:o});if(!r.length)return;const l=Um(e,s.fontSize),{width:c}=oX.measureLines(r,{font:s});return{width:c,lineHeight:l,text:r.join(`
`),height:r.length*l,fontSize:s.fontSize}}function ZLe(e,{font:t,lineHeight:i=rX.defaultLineHeight,maxWidth:n,maxHeight:s=1/0}){let a=i*e.length;for(;a>s;){if(e.length===1)return;e.pop(),e[e.length-1]=mS.appendEllipsis(e.at(-1)),a=i*e.length}const o=oX.measureLines(e,{font:t});let r,l;if(o.width>n){const c=[];l=0;for(const u of o.lineMetrics){if(u.width>n){if(!c.length)return;break}c.push(u.text),l=Math.max(l,u.width)}r=mS.appendEllipsis(c.join(`
`))}else r=e.join(`
`),l=o.width;return{text:r,width:l,height:a}}var{Validate:pv,NUMBER:qLe,POSITIVE_NUMBER:uX,TEXT_WRAP:XLe,OVERFLOW_STRATEGY:QLe}=K,Lg=class extends ae.Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}};A([pv(XLe)],Lg.prototype,"wrapping");A([pv(QLe)],Lg.prototype,"overflowStrategy");A([pv(uX,{optional:!0})],Lg.prototype,"lineHeight");A([pv(uX,{optional:!0})],Lg.prototype,"minimumFontSize");var fl=class extends Lg{constructor(){super(...arguments),this.spacing=0}};A([pv(qLe)],fl.prototype,"spacing");var fv=class extends Lg{},{CartesianSeriesProperties:JLe,SeriesTooltip:eEe,Validate:ns,AND:tEe,ARRAY:iEe,COLOR_STRING:nEe,COLOR_STRING_ARRAY:sEe,FUNCTION:aEe,OBJECT:dX,POSITIVE_NUMBER:hX,RATIO:oEe,STRING:zp,TEXT_ALIGN:rEe,VERTICAL_ALIGN:lEe}=K,_n=class extends JLe{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new fl,this.tooltip=new eEe}};A([ns(zp,{optional:!0})],_n.prototype,"title");A([ns(zp)],_n.prototype,"xKey");A([ns(zp)],_n.prototype,"yKey");A([ns(zp,{optional:!0})],_n.prototype,"colorKey");A([ns(zp,{optional:!0})],_n.prototype,"xName");A([ns(zp,{optional:!0})],_n.prototype,"yName");A([ns(zp,{optional:!0})],_n.prototype,"colorName");A([ns(tEe(sEe,iEe.restrict({minLength:1})))],_n.prototype,"colorRange");A([ns(nEe,{optional:!0})],_n.prototype,"stroke");A([ns(oEe,{optional:!0})],_n.prototype,"strokeOpacity");A([ns(hX,{optional:!0})],_n.prototype,"strokeWidth");A([ns(rEe)],_n.prototype,"textAlign");A([ns(lEe)],_n.prototype,"verticalAlign");A([ns(hX)],_n.prototype,"itemPadding");A([ns(aEe,{optional:!0})],_n.prototype,"itemStyler");A([ns(dX)],_n.prototype,"label");A([ns(dX)],_n.prototype,"tooltip");var{SeriesNodePickMode:j6,computeBarFocusBounds:cEe,getMissCount:uEe,valueProperty:pk,ChartAxisDirection:qr,DEFAULT_CARTESIAN_DIRECTION_KEYS:dEe,DEFAULT_CARTESIAN_DIRECTION_NAMES:hEe}=K,{Rect:pEe,PointerEvents:fEe}=ae,{ColorScale:mEe}=ki,{sanitizeHtml:qf,Logger:gEe}=Me,yEe=class extends K.CartesianSeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.colorKey=n.properties.colorKey}},xEe={left:-.5,center:0,right:-.5},bEe={top:-.5,middle:0,bottom:-.5},oR=class extends K.CartesianSeries{constructor(e){super({moduleCtx:e,directionKeys:dEe,directionNames:hEe,pickModes:[j6.NEAREST_NODE,j6.EXACT_SHAPE_MATCH],pathsPerSeries:[],hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new _n,this.NodeEvent=yEe,this.colorScale=new mEe}async processData(e){var x,y,b;const t=this.axes[qr.X],i=this.axes[qr.Y];if(!t||!i||!this.properties.isValid()||!((x=this.data)!=null&&x.length))return;const{xKey:n,yKey:s,colorRange:a,colorKey:o}=this.properties,r=(y=this.axes[qr.X])==null?void 0:y.scale,l=(b=this.axes[qr.Y])==null?void 0:b.scale,{xScaleType:c,yScaleType:u}=this.getScaleInformation({xScale:r,yScale:l}),h=this.colorScale.type,{dataModel:f,processedData:g}=await this.requestDataModel(e,this.data,{props:[pk(n,c,{id:"xValue"}),pk(s,u,{id:"yValue"}),...o?[pk(o,h,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const v=f.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=g.domain.values[v],this.colorScale.range=a,this.colorScale.update()}}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const n=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.data.length,a=uEe(this,i.defs.values[n].missing);return!(s===0||s===a)}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;return!t||!i?[]:e===qr.X?t.getDomain(this,"xValue","value",i):t.getDomain(this,"yValue","value",i)}async createNodeData(){var Q;const{data:e,visible:t,axes:i,dataModel:n}=this,s=i[qr.X],a=i[qr.Y];if(!(e&&n&&t&&s&&a))return;if(s.type!=="category"||a.type!=="category"){gEe.warnOnce(`Heatmap series expected axes to have "category" type, but received "${s.type}" and "${a.type}" instead.`);return}const{xKey:o,xName:r,yKey:l,yName:c,colorKey:u,colorName:h,textAlign:f,verticalAlign:g,itemPadding:x,colorRange:y,label:b}=this.properties,v=n.resolveProcessedDataIndexById(this,"xValue"),S=n.resolveProcessedDataIndexById(this,"yValue"),N=u?n.resolveProcessedDataIndexById(this,"colorValue"):void 0,M=s.scale,I=a.scale,C=(M.bandwidth??0)/2,L=(I.bandwidth??0)/2,O=this.isColorScaleValid(),P=[],z=[],V=M.bandwidth??10,G=I.bandwidth??10,H=(V-2*x)*xEe[f],B=(G-2*x)*bEe[g],$=()=>({width:V,height:G,meta:null});for(const{values:X,datum:Y}of((Q=this.processedData)==null?void 0:Q.data)??[]){const q=X[v],Z=X[S],W=M.convert(q)+C,ee=I.convert(Z)+L,oe=X[N??-1],fe=O&&oe!=null?this.colorScale.convert(oe):y[0],ue=oe==null?void 0:this.getLabelText(b,{value:oe,datum:Y,colorKey:u,colorName:h,xKey:o,yKey:l,xName:r,yName:c}),de=aR(ue,this.properties.label,void 0,this.properties.label,{padding:x},$),te={x:W,y:ee,size:0};if(P.push({series:this,itemId:l,yKey:l,xKey:o,xValue:q,yValue:Z,colorValue:oe,datum:Y,point:te,width:V,height:G,fill:fe,midPoint:{x:W,y:ee},missing:oe==null}),(de==null?void 0:de.label)!=null){const{text:he,fontSize:ge,lineHeight:xe,height:be}=de.label,{fontStyle:ye,fontFamily:we,fontWeight:_e,color:Le}=this.properties.label,Ke=te.x+H*(V-2*x),$e=te.y+B*(G-2*x)-(de.height-be)*.5;z.push({series:this,itemId:l,datum:Y,text:he,fontSize:ge,lineHeight:xe,fontStyle:ye,fontFamily:we,fontWeight:_e,color:Le,textAlign:f,verticalAlign:g,x:Ke,y:$e})}}return{itemId:this.properties.yKey??this.id,nodeData:P,labelData:z,scales:this.calculateScaling(),visible:this.visible}}nodeFactory(){return new pEe}async update(e){return this.ctx.animationManager.skipCurrentBatch(),super.update(e)}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,n=t??[];return i.update(n)}async updateDatumNodes(e){const{isHighlight:t}=e,{id:i,ctx:{callbackCache:n},properties:s}=this,{xKey:a,yKey:o,colorKey:r,itemStyler:l}=s,c=t?s.highlightStyle.item:void 0,u=(c==null?void 0:c.fillOpacity)??1,h=(c==null?void 0:c.stroke)??s.stroke,f=(c==null?void 0:c.strokeWidth)??this.getStrokeWidth(s.strokeWidth),g=(c==null?void 0:c.strokeOpacity)??s.strokeOpacity??1,x=this.axes[qr.X],[y,b]=(x==null?void 0:x.visibleRange)??[],S=!(y!==0||b!==1);e.datumSelection.each((N,M)=>{const{datum:I,point:C,width:L,height:O}=M,P=(c==null?void 0:c.fill)??M.fill;let z;l&&(z=n.call(l,{datum:I,fill:P,fillOpacity:u,stroke:h,strokeOpacity:g,strokeWidth:f,highlighted:t,xKey:a,yKey:o,colorKey:r,seriesId:i})),N.crisp=S,N.x=Math.floor(C.x-L/2),N.y=Math.floor(C.y-O/2),N.width=Math.ceil(L),N.height=Math.ceil(O),N.fill=(z==null?void 0:z.fill)??P,N.fillOpacity=(z==null?void 0:z.fillOpacity)??u,N.stroke=(z==null?void 0:z.stroke)??h,N.strokeWidth=(z==null?void 0:z.strokeWidth)??f,N.strokeOpacity=(z==null?void 0:z.strokeOpacity)??g})}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e,{enabled:n}=this.properties.label,s=n?t:[];return i.update(s)}async updateLabelNodes(e){e.labelSelection.each((t,i)=>{t.text=i.text,t.fontSize=i.fontSize,t.lineHeight=i.lineHeight,t.fontStyle=i.fontStyle,t.fontFamily=i.fontFamily,t.fontWeight=i.fontWeight,t.fill=i.color,t.textAlign=i.textAlign,t.textBaseline=i.verticalAlign,t.x=i.x,t.y=i.y,t.pointerEvents=fEe.None})}getTooltipHtml(e){const t=this.axes[qr.X],i=this.axes[qr.Y];if(!this.properties.isValid()||!t||!i)return K.EMPTY_TOOLTIP_CONTENT;const{xKey:n,yKey:s,colorKey:a,xName:o,yName:r,colorName:l,stroke:c,strokeWidth:u,strokeOpacity:h=1,colorRange:f,itemStyler:g,tooltip:x}=this.properties,{colorScale:y,id:b,ctx:{callbackCache:v}}=this,{datum:S,xValue:N,yValue:M,colorValue:I,itemId:C}=e,L=this.isColorScaleValid()?y.convert(I):f[0];let O;g&&(O=v.call(g,{datum:S,xKey:n,yKey:s,colorKey:a,fill:L,fillOpacity:1,stroke:c,strokeWidth:u,strokeOpacity:h,highlighted:!1,seriesId:b}));const P=(O==null?void 0:O.fill)??L??"gray",z=this.properties.title??r,V=qf(t.formatDatum(N)),G=qf(i.formatDatum(M));let H=`<b>${qf(o??n)}</b>: ${V}<br><b>${qf(r??s)}</b>: ${G}`;return a&&(H=`<b>${qf(l??a)}</b>: ${qf(I)}<br>`+H),x.toTooltipHtml({title:z,content:H,backgroundColor:P},{seriesId:b,datum:S,xKey:n,yKey:s,xName:o,yName:r,title:z,color:P,colorKey:a,colorName:l,itemId:C})}getLegendData(e){var t;return e!=="gradient"||!((t=this.data)!=null&&t.length)||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue")],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds({datumIndex:e,seriesRect:t}){var r;const i=(r=this.contextNodeData)==null?void 0:r.nodeData[e];if(i===void 0)return;const{width:n,height:s,midPoint:a}=i,o={x:a.x-n/2,y:a.y-s/2,width:n,height:s};return cEe(o,this.contentGroup,t)}};oR.className="HeatmapSeries";oR.type="heatmap";var vEe={series:{label:{enabled:!1,color:se.DEFAULT_LABEL_COLOUR,fontSize:se.FONT_SIZE.SMALL,fontFamily:se.DEFAULT_FONT_FAMILY,wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},wEe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",moduleFactory:e=>new oR(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:se.CARTESIAN_POSITION.BOTTOM}],themeTemplate:vEe,paletteFactory:({takeColors:e,colorsCount:t,userPalette:i,themeTemplateParameters:n})=>{const s=n.get(se.DEFAULT_DIVERGING_SERIES_COLOR_RANGE),a=n.get(se.DEFAULT_BACKGROUND_COLOUR),o=(Array.isArray(a)?a[0]:a)??"white",{fills:r,strokes:l}=e(t);return{stroke:i==="inbuilt"?o:l[0],colorRange:i==="inbuilt"?s:[r[0],r[1]]}}},{ColorScale:SEe}=ki;function pX(e){if(e==null)return[];const t=new SEe;t.domain=[0,1],t.range=e;const i=5;return Array.from({length:5},(n,s)=>t.convert(s/(i-1)))}var fX={fromFn:()=>({opacity:0,phase:"initial"}),toFn:()=>({opacity:1})};function mX(e,t){if(e==null)return"";if(t==null)return String(e);const[i,n]=t.scale.domain,s=i!==0?Math.ceil(Math.log10(Math.abs(i))):0,a=n!==0?Math.ceil(Math.log10(Math.abs(n))):0,o=Math.max(2-Math.max(s,a),0);return e.toFixed(o)}function vb(e,t,i){var a;if(t.text!=null)return t.text;const n=i??t.value,s=(a=t==null?void 0:t.formatter)==null?void 0:a.call(t,{seriesId:e.id,datum:void 0,value:n});if(s!=null)return String(s)}var rR=class extends qs{updatePath(){const{x:e,y:t,path:i,size:n}=this;i.clear(),i.moveTo(e,t-n/2),i.lineTo(e,t+n/2)}};rR.className="LineMarker";var{BaseProperties:NEe,Validate:gX,COLOR_STRING:MEe,NUMBER:IEe}=K,{ColorScale:TEe}=ki,{Logger:AEe}=Me,Eg=class extends NEe{constructor(){super(...arguments),this.color="black"}};A([gX(IEe,{optional:!0})],Eg.prototype,"stop");A([gX(MEe,{optional:!0})],Eg.prototype,"color");function kEe(e){let t;for(const{stop:i}of e)if(i!=null){if(t!=null&&i<t)return!1;t=i}return!0}function yX(e){return e.flatMap((t,i)=>{var a;const{offset:n}=t,s=(a=e.at(i+1))==null?void 0:a.color;return s!=null?[t,{offset:n,color:s}]:[t]})}function CEe(e,t){const i=t==="discrete"?1:0,n=e.map((s,a,{length:o})=>({offset:(a+i)/(o-1+i),color:s}));return t==="discrete"?yX(n):n}function xX(e,t,i,n){var g;if(e.length===0)return CEe(t,n);if(!kEe(e))return AEe.warnOnce("[fills] must have the stops defined in ascending order"),[];const s=Math.min(...i),a=Math.max(...i),o=n==="discrete",r=new Float64Array(e.length);let l=0,c=-1;for(let x=0;x<e.length;x+=1){const y=e[x];if(x>=c){c=e.length-1;for(let S=x+1;S<e.length;S+=1)if(e[S].stop!=null){c=S;break}}let{stop:b}=y;if(b==null){const S=e[l].stop,N=e[c].stop,M=S??s,I=N??a,C=o&&S==null?1:0;b=M+(I-M)*(x-l+C)/(c-l+C)}else l=x;const v=(b-s)/(a-s);r[x]=v}let u=(g=e.find(x=>x.color!=null))==null?void 0:g.color,h;const f=e.map(({color:x},y)=>{const b=r[y];return x!=null?u=x:u!=null?x=u:(h==null&&(h=new TEe,h.domain=[0,1],h.range=t),x=h.convert(b)),{offset:b,color:x}});return n==="discrete"?yX(f):f}var{MARKER_SHAPE:DEe,UNION:lR,OR:LEe}=K,fM=lR(["continuous","discrete"],"a fill mode"),bX=LEe(DEe,lR(["line"],"a marker shape")),vX=lR(["container","item"],"a corner mode"),{BaseProperties:wX,Validate:Og,OBJECT:EEe,BOOLEAN:OEe,NUMBER:cR,NUMBER_ARRAY:jEe}=K,{Logger:REe}=Me,mM=class extends wX{getSegments(e,t){var l;const{values:i,step:n,count:s}=this,a=Math.min(...e.domain),o=Math.max(...e.domain);let r;if(i!=null){const c=i.filter(u=>u>a&&u<o).sort((u,h)=>u-h);r=[a,...c,o]}else if(n!=null){const c=[];for(let u=a;u<o;u+=n)c.push(u);c.push(o),r=c}else if(s!=null){const c=s+1;r=Array.from({length:c+1},(u,h)=>h/c*(o-a)+a)}else r=(l=e.ticks)==null?void 0:l.call(e);return r!=null&&r.length>t&&(REe.warnOnce("the configured segmentation results in more than 1 item per pixel, ignoring. Supply a segmentation configuration that results in larger segments or omit this configuration"),r=void 0),r??(r=[a,o]),r}};A([Og(jEe,{optional:!0})],mM.prototype,"values");A([Og(cR,{optional:!0})],mM.prototype,"step");A([Og(cR,{optional:!0})],mM.prototype,"count");var mv=class extends wX{constructor(){super(...arguments),this.enabled=!1,this.interval=new mM,this.spacing=0}};A([Og(OEe)],mv.prototype,"enabled");A([Og(EEe)],mv.prototype,"interval");A([Og(cR)],mv.prototype,"spacing");var{BaseProperties:uR,SeriesTooltip:PEe,SeriesProperties:zEe,PropertiesArray:dR,Validate:Xe,BOOLEAN:SX,COLOR_STRING:_p,COLOR_STRING_ARRAY:_Ee,FUNCTION:FEe,LINE_DASH:hR,NUMBER:jg,OBJECT_ARRAY:pR,OBJECT:Fp,POSITIVE_NUMBER:Ol,RATIO:Bp,STRING:NX,UNION:fR}=K,{Label:BEe}=ae,VEe=fR(["before","after","middle"],"a placement"),UEe=fR(["inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end"],"an placement"),GEe=fR(["horizontal","vertical"],"an orientation"),MX=class extends BEe{};A([Xe(jg,{optional:!0})],MX.prototype,"spacing");var qn=class extends uR{constructor(){super(...arguments),this.value=0,this.label=new MX}};A([Xe(NX,{optional:!0})],qn.prototype,"text");A([Xe(jg)],qn.prototype,"value");A([Xe(bX,{optional:!0})],qn.prototype,"shape");A([Xe(VEe,{optional:!0})],qn.prototype,"placement");A([Xe(jg,{optional:!0})],qn.prototype,"spacing");A([Xe(Ol,{optional:!0})],qn.prototype,"size");A([Xe(jg,{optional:!0})],qn.prototype,"rotation");A([Xe(_p,{optional:!0})],qn.prototype,"fill");A([Xe(Bp,{optional:!0})],qn.prototype,"fillOpacity");A([Xe(_p,{optional:!0})],qn.prototype,"stroke");A([Xe(Ol,{optional:!0})],qn.prototype,"strokeWidth");A([Xe(Bp,{optional:!0})],qn.prototype,"strokeOpacity");A([Xe(hR,{optional:!0})],qn.prototype,"lineDash");A([Xe(Ol,{optional:!0})],qn.prototype,"lineDashOffset");A([Xe(Fp)],qn.prototype,"label");var no=class extends uR{constructor(){super(...arguments),this.enabled=!0,this.thicknessRatio=1,this.fills=new dR(Eg),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([Xe(SX)],no.prototype,"enabled");A([Xe(Ol,{optional:!0})],no.prototype,"thickness");A([Xe(Bp)],no.prototype,"thicknessRatio");A([Xe(pR)],no.prototype,"fills");A([Xe(fM)],no.prototype,"fillMode");A([Xe(_p,{optional:!0})],no.prototype,"fill");A([Xe(Bp)],no.prototype,"fillOpacity");A([Xe(_p)],no.prototype,"stroke");A([Xe(Ol)],no.prototype,"strokeWidth");A([Xe(Bp)],no.prototype,"strokeOpacity");A([Xe(hR)],no.prototype,"lineDash");A([Xe(Ol)],no.prototype,"lineDashOffset");var jr=class extends uR{constructor(){super(...arguments),this.fills=new dR(Eg),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black"}};A([Xe(pR)],jr.prototype,"fills");A([Xe(fM)],jr.prototype,"fillMode");A([Xe(_p,{optional:!0})],jr.prototype,"fill");A([Xe(Bp)],jr.prototype,"fillOpacity");A([Xe(_p)],jr.prototype,"stroke");A([Xe(Ol)],jr.prototype,"strokeWidth");A([Xe(Bp)],jr.prototype,"strokeOpacity");A([Xe(hR)],jr.prototype,"lineDash");A([Xe(Ol)],jr.prototype,"lineDashOffset");A([Xe(_p)],jr.prototype,"defaultFill");var gM=class extends fl{constructor(){super(...arguments),this.placement="inside-center",this.avoidCollisions=!0}};A([Xe(NX,{optional:!0})],gM.prototype,"text");A([Xe(UEe)],gM.prototype,"placement");A([Xe(SX)],gM.prototype,"avoidCollisions");var Ds=class extends zEe{constructor(){super(...arguments),this.value=0,this.segmentation=new mv,this.defaultColorRange=[],this.targets=new dR(qn),this.defaultTarget=new qn,this.direction="vertical",this.thickness=1,this.cornerRadius=0,this.cornerMode="container",this.margin=0,this.scale=new jr,this.bar=new no,this.label=new gM,this.tooltip=new PEe}};A([Xe(jg)],Ds.prototype,"value");A([Xe(Fp)],Ds.prototype,"segmentation");A([Xe(_Ee)],Ds.prototype,"defaultColorRange");A([Xe(pR)],Ds.prototype,"targets");A([Xe(Fp)],Ds.prototype,"defaultTarget");A([Xe(GEe)],Ds.prototype,"direction");A([Xe(Ol)],Ds.prototype,"thickness");A([Xe(Ol)],Ds.prototype,"cornerRadius");A([Xe(vX)],Ds.prototype,"cornerMode");A([Xe(jg)],Ds.prototype,"margin");A([Xe(Fp)],Ds.prototype,"scale");A([Xe(Fp)],Ds.prototype,"bar");A([Xe(FEe,{optional:!0})],Ds.prototype,"itemStyler");A([Xe(Fp)],Ds.prototype,"label");A([Xe(Fp)],Ds.prototype,"tooltip");var{CachedTextMeasurerPool:WEe}=K,{BBox:HEe}=ae;function mR(e){const{x0:t,y0:i,x1:n,y1:s,horizontalInset:a,verticalInset:o}=e,r=Math.min(t,n)+a,l=Math.min(i,s)+o,c=Math.max(Math.abs(n-t)-2*a,0),u=Math.max(Math.abs(s-i)-2*o,0);return{x:r,y:l,width:c,height:u}}function YEe(e,t){if(t==null)return!0;const i=mR(e),n=1e-6,s=i.x+n,a=i.y+n,o=i.x+i.width-n,r=i.y+i.height-n,l=t.x,c=t.x+t.width,u=t.y,h=t.y+t.height;return Math.max(s,l)<=Math.min(o,c)&&Math.max(a,u)<=Math.min(r,h)}function OD(e){const{clipX0:t,clipX1:i,clipY0:n,clipY1:s}=e;return t!=null&&i!=null||n!=null&&s!=null}function $Ee(e){if(!OD(e))return;const{x0:t,y0:i,x1:n,y1:s}=e,{x:a,y:o,width:r,height:l}=mR(e);let{clipX0:c,clipX1:u,clipY0:h,clipY1:f}=e;(c==null||u==null)&&(c=t,u=n),(h==null||f==null)&&(h=i,f=s);const g=Math.min(c,u),x=Math.min(h,f),y=Math.abs(u-c),b=Math.abs(f-h);return c=Math.max(a,g),h=Math.max(o,x),u=Math.min(a+r,g+y),f=Math.min(o+l,x+b),new HEe(Math.min(c,u),Math.min(h,f),Math.abs(u-c),Math.abs(f-h))}function R6(e,t){const i=e?"initial":"update";return{node:{fromFn(s,a){const o=s.previousDatum;let{x0:r,y0:l,x1:c,y1:u,clipX0:h,clipY0:f,clipX1:g,clipY1:x}=o??a;const{horizontalInset:y,verticalInset:b}=a,v=o!=null&&OD(o),S=OD(a);return v&&S||(!v&&S?({x0:r,y0:l,x1:c,y1:u,clipX0:h,clipY0:f,clipX1:g,clipY1:x}=a,e&&(t?g=a.clipX0:x=a.clipY0)):v&&!S?({x0:r,y0:l,x1:c,y1:u}=a,h=void 0,f=void 0,g=void 0,x=void 0):e&&(t?c=r:u=l)),{x0:r,y0:l,x1:c,y1:u,clipX0:h,clipY0:f,clipX1:g,clipY1:x,horizontalInset:y,verticalInset:b,phase:i}},toFn(s,a){const{x0:o,y0:r,x1:l,y1:c,clipX0:u,clipY0:h,clipX1:f,clipY1:g,horizontalInset:x,verticalInset:y}=a;return{x0:o,y0:r,x1:l,y1:c,clipX0:u,clipY0:h,clipX1:f,clipY1:g,horizontalInset:x,verticalInset:y}},applyFn(s,a){s.setProperties(pw(s,a))}}}}function pw(e,t){const{x:i,y:n,width:s,height:a}=mR(t),o=$Ee(t),r=YEe(t,o);return{x:i,y:n,width:s,height:a,clipBBox:o,visible:r}}var KEe={Before:"right",Center:"center",After:"left"},ZEe={Before:"top",Center:"middle",After:"bottom"},qEe={Before:-1,Center:-.5,After:0},XEe={Before:0,Center:-.5,After:-1};function QEe(e,t,i,n,s){const{scale:a,bar:o}=n,{padding:r,horizontal:l}=i;t.each((c,u)=>{const h=vb(e,u,s==null?void 0:s.label),f=()=>({width:a.width,height:a.height,meta:null});let g;const x=u.avoidCollisions&&u.placement!=="outside-start"&&u.placement!=="outside-end";if(h==null)return;if(x){const H=bb(h,u,{padding:r},f);g=H==null?void 0:H[0]}else{const H={fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontFamily:u.fontFamily,lineHeight:u.lineHeight},{width:B,height:$}=WEe.measureText(h,{font:H});g={text:h,fontSize:u.fontSize,lineHeight:Um(u,u.fontSize),width:B,height:$}}if(g==null){c.visible=!1;return}const y=l?a.x:a.y+a.height,b=l?a.x+a.width:a.y,v=l?o.x:o.y+o.height,S=l?o.x+o.width:o.y,N=u.spacing*(l?1:-1);let M,I,C,L;switch(u.placement){case"outside-start":M=-1/0,I=1/0,C=y-N,L="Before";break;case"outside-end":M=-1/0,I=1/0,C=b+N,L="After";break;case"inside-start":M=y,I=S,C=y+N,L="After";break;case"inside-end":M=S,I=b,C=b-N,L="Before";break;case"inside-center":M=y,I=b,C=(y+b)/2,L="Center";break;case"bar-inside":M=v,I=S,C=(v+S)/2,L="Center";break;case"bar-inside-end":M=v,I=S,C=S-N,L="Before";break;case"bar-outside-end":M=S,I=b,C=S+N,L="After";break;case"bar-end":M=-1/0,I=1/0,C=S,L="Center";break}const O=l?C:a.x+a.width/2,P=l?a.y+a.height/2:C;let z,V;l?(z=O+qEe[L]*g.width,V=z+g.width):(z=P+XEe[L]*g.height,V=z+g.height);const G=Math.min(z,V)>=Math.min(M,I)&&Math.max(z,V)<=Math.max(M,I);if(u.avoidCollisions&&!G){c.visible=!1;return}c.visible=!0,c.text=g.text,c.fontSize=g.fontSize,c.lineHeight=g.lineHeight,c.textAlign=l?KEe[L]:"center",c.textBaseline=l?"middle":ZEe[L],c.x=O,c.y=P})}var{fromToMotion:fk,resetMotion:JEe,SeriesNodePickMode:P6,StateMachine:eOe,createDatumId:z6,ChartAxisDirection:sr,CachedTextMeasurerPool:tOe,EMPTY_TOOLTIP_CONTENT:iOe}=K,{BBox:z1,Group:Xf,PointerEvents:mk,Selection:Qf,Rect:nOe,Text:_6,LinearGradient:sOe,getMarker:aOe,easing:oOe}=ae,{toRadians:rOe}=Me,lOe={before:180,middle:0,after:0},cOe={before:90,middle:0,after:-90},gR=class extends K.Series{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[P6.EXACT_SHAPE_MATCH,P6.NEAREST_NODE]}),this.canHaveAxes=!0,this.properties=new Ds,this.originX=0,this.originY=0,this.scaleGroup=this.contentGroup.appendChild(new Xf({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Xf({name:"itemGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Xf({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Xf({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Xf({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Xf({name:"itemTargetLabelGroup"})),this.scaleSelection=Qf.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Qf.select(this.itemGroup,()=>this.nodeFactory()),this.targetSelection=Qf.select(this.itemTargetGroup,t=>this.markerFactory(t)),this.targetLabelSelection=Qf.select(this.itemTargetLabelGroup,_6),this.labelSelection=Qf.select(this.itemLabelGroup,_6),this.highlightTargetSelection=Qf.select(this.highlightTargetGroup,t=>this.markerFactory(t)),this.nodeDatum={series:this,datum:{}},this.animationState=new eOe("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.itemGroup.pointerEvents=mk.None,this.itemTargetLabelGroup.pointerEvents=mk.None,this.itemLabelGroup.pointerEvents=mk.None}get horizontal(){return this.properties.direction==="horizontal"}get thickness(){return this.properties.thickness}computeInset(e,t){var o;const{label:i}=this.properties;let n;switch(i.placement){case"outside-start":n=1;break;case"outside-end":n=-1;break;default:return 0}const s=(o=i.text)==null?void 0:o.split(`
`);let a;if(e===sr.Y)a=Um(i,i.fontSize)*((s==null?void 0:s.length)??1);else{const r=i.getFont();a=(s??t.map(c=>vb(this,this.labelDatum(i,c))??"")).reduce((c,u)=>{const{width:h}=tOe.measureText(u,{font:r});return Math.max(c,h)},0)}return n*(i.spacing+a)}get hasData(){return!0}nodeFactory(){const e=new nOe;return e.crisp=!0,e}markerFactory({shape:e}){const t=e!=="line"?aOe(e):rR,i=new t;return i.size=1,i}async processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){const{axes:t,horizontal:i}=this,n=i?t[sr.X]:t[sr.Y];return mX(e,n)}createLinearGradient(e,t){const{properties:i,originX:n,originY:s,horizontal:a,axes:o}=this,{thickness:r,defaultColorRange:l}=i,c=a?o[sr.X]:o[sr.Y],{domain:u,range:h}=c.scale,f=h[1]-h[0],g=xX(e,l,u,t);return new sOe("oklch",g,a?90:0,new z1(n,s,a?f:r,a?r:f))}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:n=t.text,value:s=t.value??0,shape:a=t.shape??"triangle",rotation:o=t.rotation??0,strokeWidth:r=t.strokeWidth??0,placement:l=t.placement??"middle",spacing:c=t.spacing??0,size:u=t.size??0,fill:h=t.fill??"black",fillOpacity:f=t.fillOpacity??1,stroke:g=t.stroke??"black",strokeOpacity:x=t.strokeOpacity??1,lineDash:y=t.lineDash??[0],lineDashOffset:b=t.lineDashOffset??0}=i,{enabled:v=t.label.enabled,color:S=t.label.color??"black",fontStyle:N=t.label.fontStyle??"normal",fontWeight:M=t.label.fontWeight??"normal",fontSize:I=t.label.fontSize,fontFamily:C=t.label.fontFamily,spacing:L=t.label.spacing??0}=i.label;return{text:n,value:s,shape:a,placement:l,spacing:c,size:u,rotation:o,fill:h,fillOpacity:f,stroke:g,strokeWidth:r,strokeOpacity:x,lineDash:y,lineDashOffset:b,label:{enabled:v,color:S,fontStyle:N,fontWeight:M,fontSize:I,fontFamily:C,spacing:L}}})}getTargetPoint(e){const t=this.axes[sr.X],i=this.axes[sr.Y];if(t==null||i==null)return{x:0,y:0};const{properties:n,originX:s,originY:a,horizontal:o}=this,{thickness:r}=n,{value:l,placement:c,spacing:u,size:h}=e,f=o?t:i,g=f.scale.convert(l)-f.scale.range[0];let x;switch(c){case"before":x=-(u+h/2);break;case"after":x=r+u+h/2;break;default:x=r/2;break}return{x:s+t.range[0]+(o?g:x),y:a+i.range[0]+(o?x:g)}}getTargetLabel(e){const{size:t,placement:i,label:n}=e,{spacing:s,color:a,fontStyle:o,fontWeight:r,fontSize:l,fontFamily:c}=n,u=void 0,h=t/2+s;let f,g,x=0,y=0;return this.horizontal?(f="center",i==="after"?(g="top",y=h):(g="bottom",y=-h)):(g="middle",i==="before"?(f="right",x=-h):(f="left",x=h)),{offsetX:x,offsetY:y,fill:a,textAlign:f,textBaseline:g,fontStyle:o,fontWeight:r,fontSize:l,fontFamily:c,lineHeight:u}}labelDatum(e,t){const{placement:i,avoidCollisions:n,spacing:s,text:a,color:o,fontSize:r,minimumFontSize:l,fontStyle:c,fontWeight:u,fontFamily:h,lineHeight:f,wrapping:g,overflowStrategy:x,formatter:y=b=>this.formatLabel(b.value)}=e;return{placement:i,avoidCollisions:n,spacing:s,text:a,value:t,fill:o,fontSize:r,minimumFontSize:l,fontStyle:c,fontWeight:u,fontFamily:h,lineHeight:f,wrapping:g,overflowStrategy:x,formatter:y}}async createNodeData(){const{id:e,properties:t,originX:i,originY:n,horizontal:s}=this;if(!t.isValid())return;const{value:a,segmentation:o,thickness:r,cornerRadius:l,cornerMode:c,bar:u,scale:h,label:f}=t,g=this.getTargets(),x=this.axes[sr.X],y=this.axes[sr.Y];if(x==null||y==null)return;const b=s?x:y,v=x.scale,S=y.scale,N=b.scale;let{domain:M}=b.scale;b.isReversed()&&(M=M.slice().reverse());const I=[],C=[],L=[],O=[],[P,z]=N.range,V=Math.abs(z-P);let[G,H]=x.range;x.isReversed()&&([H,G]=[G,H]);let[B,$]=y.range;y.isReversed()&&([$,B]=[B,$]);const Q=s?v.convert(a):H,X=s?$:S.convert(a),Y=o.enabled?o.spacing/2:0,q=s?Y:0,Z=s?0:Y,W=Math.min(u.thickness??Math.round(u.thicknessRatio*r),r),ee=-(r-W)/2,oe=s?0:ee,fe=s?ee:0,ue=c==="item",de=Math.ceil(V);let te=o.enabled?o.interval.getSegments(N,de):void 0;const he=u.fill??this.createLinearGradient(u.fills,u.fillMode),ge=h.fill??(u.enabled&&h.fills.length===0?h.defaultFill:void 0)??this.createLinearGradient(h.fills,h.fillMode);if(te==null&&ue){const be=Math.min(...M),ye=Math.max(...M),we={value:a,segmentStart:be,segmentEnd:ye};if(u.enabled){const Ze=Math.min(l,W/2,V/2)*(b.isReversed()?-1:1),at=s?Ze:0,Je=s?0:Ze;I.push({series:this,itemId:"value",datum:we,type:0,x0:i+G-at-oe,y0:n+B-Je-fe,x1:i+Q+at+oe,y1:n+X+Je+fe,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:he,horizontalInset:q,verticalInset:Z})}const Le=Math.min(l,r/2,V/2)*(b.isReversed()?-1:1),Ke=s?Le:0,$e=s?0:Le;O.push({series:this,itemId:"scale",datum:we,type:0,x0:i+G-Ke,y0:n+B-$e,x1:i+H+Ke,y1:n+$+$e,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:ge,horizontalInset:q,verticalInset:Z})}else{te??(te=M);const be=i+G-oe,ye=n+B-fe,we=i+Q+oe,_e=n+X+fe;for(let Le=0;Le<te.length-1;Le+=1){const Ke=te[Le+0],$e=te[Le+1],He={value:a,segmentStart:Ke,segmentEnd:$e},Ze=Le===0,at=Le===te.length-2,Je=N.convert(Ke),Mt=N.convert($e),xi=ue||Ze?l:0,Li=ue||at?l:0,Vn=s?xi:Li,_l=Li,Yo=s?Li:xi,$o=xi;u.enabled&&I.push({series:this,itemId:`value-${Le}`,datum:He,type:0,x0:i+(s?Je:G),y0:n+(s?B:Je),x1:i+(s?Mt:H),y1:n+(s?$:Mt),clipX0:be,clipY0:ye,clipX1:we,clipY1:_e,topLeftCornerRadius:Vn,topRightCornerRadius:_l,bottomRightCornerRadius:Yo,bottomLeftCornerRadius:$o,fill:he,horizontalInset:q,verticalInset:Z}),O.push({series:this,itemId:`scale-${Le}`,datum:He,type:0,x0:i+(s?Je:G),y0:n+(s?B:Je),x1:i+(s?Mt:H),y1:n+(s?$:Mt),clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:Vn,topRightCornerRadius:_l,bottomRightCornerRadius:Yo,bottomLeftCornerRadius:$o,fill:ge,horizontalInset:q,verticalInset:Z})}}f.enabled&&L.push(this.labelDatum(f,a));const xe=s?lOe:cOe;for(let be=0;be<g.length;be+=1){const ye=g[be],{value:we,text:_e,shape:Le,size:Ke,fill:$e,fillOpacity:He,stroke:Ze,strokeWidth:at,strokeOpacity:Je,lineDash:Mt,lineDashOffset:xi}=ye,Li=this.getTargetPoint(ye),Vn=rOe(ye.rotation+xe[ye.placement]);C.push({series:this,itemId:`target-${be}`,midPoint:Li,datum:{value:we},type:1,value:we,text:_e,x:Li.x,y:Li.y,shape:Le,size:Ke,rotation:Vn,fill:$e,fillOpacity:He,stroke:Ze,strokeOpacity:Je,strokeWidth:at,lineDash:Mt,lineDashOffset:xi,label:this.getTargetLabel(ye)})}return{itemId:e,nodeData:I,targetData:C,labelData:L,scaleData:O}}async updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}async update({seriesRect:e}){var g,x,y,b;const{datumSelection:t,labelSelection:i,targetSelection:n,targetLabelSelection:s,scaleSelection:a,highlightTargetSelection:o}=this,r=this.checkResize(e);await this.updateSelections(r),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const l=((g=this.contextNodeData)==null?void 0:g.nodeData)??[],c=((x=this.contextNodeData)==null?void 0:x.labelData)??[],u=((y=this.contextNodeData)==null?void 0:y.targetData)??[],h=((b=this.contextNodeData)==null?void 0:b.scaleData)??[],f=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=await this.updateScaleSelection({scaleData:h,scaleSelection:a}),await this.updateScaleNodes({scaleSelection:a}),this.targetSelection=await this.updateTargetSelection({targetData:u,targetSelection:n}),await this.updateTargetNodes({targetSelection:n,isHighlight:!1}),this.targetLabelSelection=await this.updateTargetLabelSelection({targetData:u,targetLabelSelection:s}),await this.updateTargetLabelNodes({targetLabelSelection:s}),this.datumSelection=await this.updateDatumSelection({nodeData:l,datumSelection:t}),await this.updateDatumNodes({datumSelection:t}),this.labelSelection=await this.updateLabelSelection({labelData:c,labelSelection:i}),await this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=await this.updateTargetSelection({targetData:f!=null?[f]:[],targetSelection:o}),await this.updateTargetNodes({targetSelection:o,isHighlight:!0}),r&&this.animationState.transition("resize"),this.animationState.transition("update")}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>z6(e.nodeData.length,t.itemId))}async updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:n}=this,{bar:s}=n,{fillOpacity:a,stroke:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}=s,u=this.getStrokeWidth(s.strokeWidth),h=i.animationManager.isSkipped();t.each((f,g)=>{const{topLeftCornerRadius:x,topRightCornerRadius:y,bottomRightCornerRadius:b,bottomLeftCornerRadius:v,fill:S}=g;f.fill=S,f.fillOpacity=a,f.stroke=o,f.strokeOpacity=r,f.strokeWidth=u,f.lineDash=l,f.lineDashOffset=c,f.topLeftCornerRadius=x,f.topRightCornerRadius=y,f.bottomRightCornerRadius=b,f.bottomLeftCornerRadius=v,(h||f.previousDatum==null)&&f.setProperties(pw(f,g))})}async updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>z6(e.scaleData.length,t.itemId))}async updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i}=this.properties,{fillOpacity:n,stroke:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}=i;t.each((c,u)=>{const{topLeftCornerRadius:h,topRightCornerRadius:f,bottomRightCornerRadius:g,bottomLeftCornerRadius:x,fill:y}=u;c.fill=y,c.fillOpacity=n,c.stroke=s,c.strokeOpacity=a,c.strokeWidth=o,c.lineDash=r,c.lineDashOffset=l,c.topLeftCornerRadius=h,c.topRightCornerRadius=f,c.bottomRightCornerRadius=g,c.bottomLeftCornerRadius=x,c.setProperties(pw(c,u))})}async updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}async updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e,n=i?this.properties.highlightStyle.item:void 0;t.each((s,a)=>{const{x:o,y:r,size:l,rotation:c,fill:u,fillOpacity:h,stroke:f,strokeOpacity:g,strokeWidth:x,lineDash:y,lineDashOffset:b}=a;s.size=l,s.fill=(n==null?void 0:n.fill)??u,s.fillOpacity=(n==null?void 0:n.fillOpacity)??h,s.stroke=(n==null?void 0:n.stroke)??f,s.strokeOpacity=(n==null?void 0:n.strokeOpacity)??g,s.strokeWidth=(n==null?void 0:n.strokeWidth)??x,s.lineDash=(n==null?void 0:n.lineDash)??y,s.lineDashOffset=(n==null?void 0:n.lineDashOffset)??b,s.translationX=o,s.translationY=r,s.rotation=c})}async updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData)}async updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,n)=>{const{x:s,y:a,text:o}=n,{offsetX:r,offsetY:l,fill:c,fontStyle:u,fontWeight:h,fontSize:f,fontFamily:g,textAlign:x,textBaseline:y}=n.label;i.visible=!0,i.x=s+r,i.y=a+l,i.text=o,i.fill=c,i.fontStyle=u,i.fontWeight=h,i.fontSize=f,i.fontFamily=g,i.textAlign=x,i.textBaseline=y})}async updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>"primary")}async updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((n,s)=>{n.fill=s.fill,n.fontStyle=s.fontStyle,n.fontWeight=s.fontWeight,n.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,horizontal:i,axes:n}=this,s=n[sr.X],a=n[sr.Y];if(s==null||a==null)return;const[o,r]=s.range,[l,c]=a.range,u=this.originX+Math.min(o,r),h=this.originY+Math.min(l,c),f=Math.abs(r-o),g=Math.abs(c-l),x=(e==null?void 0:e.label)??this.properties.value;let y;if(i){const S=s.scale.convert(x);y=new z1(u,h,S-u,g)}else{const S=a.scale.convert(x);y=new z1(u,S,f,g-S)}const b={scale:new z1(u,h,f,g),bar:y},{margin:v}=this.properties;QEe(this,t,{padding:v,horizontal:i},b,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),JEe([this.datumSelection],pw),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i=0,n=0;if(this.labelSelection.each((s,a)=>{var o;s.opacity=1,i=((o=s.previousDatum)==null?void 0:o.value)??e.from??a.value,n=a.value}),!this.labelsHaveExplicitText())if(i===n)this.formatLabelText({label:n});else{const s=`${this.id}_labels`;t.animate({id:s,groupId:"label",from:{label:i},to:{label:n},phase:e.phase??"update",ease:oOe.easeOut,onUpdate:a=>this.formatLabelText(a)})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=R6(!0,this.horizontal);fk(this.id,"node",e,[this.datumSelection],t,(i,n)=>n.itemId),fk(this.id,"label",e,[this.labelSelection],fX,()=>"primary"),this.animateLabelText({from:0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=R6(!1,this.horizontal);fk(this.id,"node",e,[this.datumSelection],t,(i,n)=>n.itemId),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}pickNode(e,t){switch(t){case"event":case"context-menu":{const i=this.scaleGroup.pickNode(e.x,e.y);return i!=null?{pickMode:K.SeriesNodePickMode.EXACT_SHAPE_MATCH,match:i.datum,distance:0}:void 0}case"tooltip":case"highlight":case"highlight-tooltip":{const i=this.itemTargetGroup.pickNode(e.x,e.y);return i!=null?{pickMode:K.SeriesNodePickMode.EXACT_SHAPE_MATCH,match:i.datum,distance:0}:{pickMode:K.SeriesNodePickMode.NEAREST_NODE,match:this.nodeDatum,distance:0}}}}getTooltipHtml(e){const{id:t,properties:i}=this;if(!i.isValid())return iOe;const n=this.highlightDatum(e),s=(n==null?void 0:n.value)??i.value,a=n==null?void 0:n.text,{tooltip:o}=i,r=a??"",l=this.formatLabel(s),c=n==null?void 0:n.itemId,u=void 0,h=n==null?void 0:n.fill;return o.toTooltipHtml({title:r,content:l,backgroundColor:h},{seriesId:t,itemId:c,title:r,datum:u,color:h,value:s,...this.getModuleTooltipParams()})}pickFocus(e){var s;const t=(s=this.contextNodeData)==null?void 0:s.targetData;if(t==null||t.length===0)return;const i=Math.min(Math.max(e.datumIndex,0),t.length-1),n=t[i];for(const a of this.targetSelection)if(a.datum===n)return{bounds:a.node,showFocusBox:!0,datum:n,datumIndex:i}}getCaptionText(){const{value:e}=this.properties,t=[];return t.push(this.formatLabel(e)),t.join(". ")}};gR.className="LinearGaugeSeries";gR.type="linear-gauge";var{FONT_WEIGHT:F6,DEFAULT_FONT_FAMILY:B6,DEFAULT_HIERARCHY_FILLS:uOe,DEFAULT_LABEL_COLOUR:gk,DEFAULT_INVERTED_LABEL_COLOUR:dOe,CARTESIAN_AXIS_TYPE:V6}=se,hOe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"linear-gauge",moduleFactory:e=>new gR(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:V6.NUMBER,line:{enabled:!1}},{type:V6.NUMBER,line:{enabled:!1}}],themeTemplate:{minWidth:200,minHeight:200,series:{thickness:50,bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:1},defaultTarget:{fill:gk,stroke:gk,size:10,shape:"triangle",placement:"after",spacing:5,label:{enabled:!0,fontWeight:F6.NORMAL,fontSize:12,fontFamily:B6,color:gk,spacing:5}},label:{enabled:!1,placement:"inside-start",fontWeight:F6.NORMAL,fontSize:24,minimumFontSize:12,spacing:18,fontFamily:B6,color:dOe},margin:4,tooltip:{enabled:!1}},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{line:{enabled:!1},gridLine:{enabled:!1}}}},paletteFactory(e){const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:s}=e,{fills:a}=t(i),o=s.get(se.DEFAULT_GAUGE_SERIES_COLOR_RANGE),r=s.get(uOe),l=n==="inbuilt"?o:[a[0],a[1]];return{scale:{defaultFill:r==null?void 0:r[1],stroke:r==null?void 0:r[2]},defaultColorRange:pX(l)}}},gv={zoom:{axes:"xy",anchorPointX:"pointer",anchorPointY:"pointer"},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},pOe=1e-9;function IX(e,t,i,n){const[s,a]=e,[o,r]=t,l=o-s,c=r-a,u=l*l+c*c;let h,f;if(Math.abs(u)<pOe)h=s,f=a;else{let y=((i-s)*l+(n-a)*c)/u;y=Math.max(0,Math.min(1,y)),h=s+y*(o-s),f=a+y*(r-a)}const g=i-h,x=n-f;return g*g+x*x}function U6(e,t,i){let n=1/0,s=e[e.length-1];for(const a of e)n=Math.min(n,IX(s,a,t,i)),s=a;return Math.sqrt(n)}function jD(e){let[t,i]=e[0],n=0;for(let s=1;s<e.length;s+=1){const[a,o]=e[s],r=Math.hypot(a-t,o-i);n+=r,t=a,i=o}return n}function gS(e){if(e.length===0)return;const t=jD(e)/2;let[i,n]=e[0],s=0;for(let a=1;a<e.length;a+=1){const[o,r]=e[a],l=Math.hypot(o-i,r-n),c=s+l;if(c>t){const u=(t-s)/l,h=[i+(o-i)*u,n+(r-n)*u],f=Math.atan2(r-n,o-i);return{point:h,angle:f}}s=c,i=o,n=r}}var{LonLatBBox:fOe}=K;function _x(e,t,i,n,s){return e==null?e=new fOe(t,i,n,s):(e.lon0=Math.min(e.lon0,t),e.lat0=Math.min(e.lat0,i),e.lon1=Math.max(e.lon1,n),e.lat1=Math.max(e.lat1,s)),e}var mOe=(e,t,i)=>{let n=e,s=n;for(const a of t)if(n==null||i(n.value,a)>0)n={value:a,next:n},s=n;else{for(s=s;s.next!=null&&i(s.next.value,a)<=0;)s=s.next;s.next={value:a,next:s.next}}return n};function Vh(e,t){return e.forEach(i=>{const[n,s]=i;t=_x(t,n,s,n,s)}),t}function gOe(e){if(e.length===0)return;let t=0,i=0,n=0,[s,a]=e[e.length-1];for(const[o,r]of e){const l=s*r-o*a;n+=l,t+=(s+o)*l,i+=(a+r)*l,s=o,a=r}return n*=3,[t/n,i/n]}function yS(e,t,i){let n=!1,s=1/0;for(const a of e){let o=a[a.length-1],[r,l]=o;for(const c of a){const[u,h]=c;h>i!=l>i&&t<(r-u)*(i-h)/(l-h)+u&&(n=!n),s=Math.min(s,IX(o,c,t,i)),o=c,r=u,l=h}}return(n?-1:1)*Math.sqrt(s)}var{Path:yOe,ExtendedPath2D:xOe,BBox:bOe,ScenePathChangeDetection:TX}=ae,Rg=class extends yOe{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new xOe}computeBBox(){var e;return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),(e=this.bbox)==null?void 0:e.clone()}updatePath(){const{projectedGeometry:e}=this;this.strokePath.clear(),this.path.clear(),this.bbox=e!=null?this.drawGeometry(e,void 0):void 0}drawPath(e){super.drawPath(e),this.renderStroke(e,this.strokePath.getPath2D())}containsPoint(e,t){const{projectedGeometry:i}=this;return i==null||!this.getBBox().containsPoint(e,t)?!1:this.geometryDistance(i,e,t)<=0}distanceSquared(e,t){const{projectedGeometry:i}=this;if(i==null)return 1/0;const n=this.geometryDistance(i,e,t);return n>0?n*n:0}geometryDistance(e,t,i){const{renderMode:n,strokeWidth:s}=this,a=(n&1)!==0,o=(n&2)!==0,r=Math.max(s/2,1)+1;switch(e.type){case"GeometryCollection":return e.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,t,i)),1/0);case"MultiPolygon":return a?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(yS(c,t,i),0)),1/0):1/0;case"Polygon":return a?Math.max(yS(e.coordinates,t,i),0):1/0;case"MultiLineString":return o?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(U6(c,t,i)-r,0)),1/0):1/0;case"LineString":return o?Math.max(U6(e.coordinates,t,i)-r,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(e,t){const{renderMode:i,path:n,strokePath:s}=this,a=(i&1)!==0,o=(i&2)!==0;switch(e.type){case"GeometryCollection":e.geometries.forEach(r=>{t=this.drawGeometry(r,t)});break;case"MultiPolygon":a&&e.coordinates.forEach(r=>{t=this.drawPolygon(n,r,t)});break;case"Polygon":a&&(t=this.drawPolygon(n,e.coordinates,t));break;case"LineString":o&&(t=this.drawLineString(s,e.coordinates,t,!1));break;case"MultiLineString":o&&e.coordinates.forEach(r=>{t=this.drawLineString(s,r,t,!1)});break}return t}drawPolygon(e,t,i){if(t.length<1)return i;i=this.drawLineString(e,t[0],i,!0);for(let n=1;n<t.length;n+=1){const s=t[n];this.drawLineString(e,s,void 0,!0)}return i}drawLineString(e,t,i,n){if(t.length<2)return i;const s=n?t.length-1:t.length;for(let a=0;a<s;a+=1){const[o,r]=t[a];if(a===0?e.moveTo(o,r):e.lineTo(o,r),i==null)i=new bOe(o,r,0,0);else{const{x:l,y:c}=i,u=l+i.width,h=c+i.height;i.x=Math.min(l,o),i.y=Math.min(c,r),i.width=Math.max(u,o)-i.x,i.height=Math.max(h,r)-i.y}}return n&&e.closePath(),i}};A([TX()],Rg.prototype,"projectedGeometry");A([TX()],Rg.prototype,"renderMode");function Pg(e,t){if(e.bbox!=null){const[i,n,s,a]=e.bbox;return t=_x(t,i,n,s,a),t}switch(e.type){case"GeometryCollection":e.geometries.forEach(i=>{t=Pg(i,t)});break;case"MultiPolygon":e.coordinates.forEach(i=>{i.length>0&&(t=Vh(i[0],t))});break;case"Polygon":e.coordinates.length>0&&(t=Vh(e.coordinates[0],t));break;case"MultiLineString":e.coordinates.forEach(i=>{t=Vh(i,t)});break;case"LineString":t=Vh(e.coordinates,t);break;case"MultiPoint":e.coordinates.forEach(i=>{const[n,s]=i;t=_x(t,n,s,n,s)});break;case"Point":{const[i,n]=e.coordinates;t=_x(t,i,n,i,n);break}}return t}function xS(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(n=>{const s=xS(n);if(s==null)return;const a=Vh(s[0],void 0);if(a==null)return;const o=Math.abs(a.lat1-a.lat0)*Math.abs(a.lon1-a.lon0);(t==null||o>t)&&(t=o,i=s)}),i}case"MultiPolygon":{let t,i;return e.coordinates.forEach(n=>{const s=Vh(n[0],void 0);if(s==null)return;const a=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(t==null||a>t)&&(t=a,i=n)}),i}case"Polygon":return e.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function bS(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(n=>{const s=bS(n);if(s==null)return;const a=jD(s);a!=null&&(t==null||a>t)&&(t=a,i=s)}),i}case"MultiLineString":{let t=0,i;return e.coordinates.forEach(n=>{const s=jD(n);s>t&&(t=s,i=n)}),i}case"LineString":return e.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function yR(e,t){if(e==null)return!1;switch(e.type){case"GeometryCollection":return e.geometries.some(i=>yR(i,t));case"MultiPolygon":case"Polygon":return(t&1)!==0;case"MultiLineString":case"LineString":return(t&2)!==0;case"MultiPoint":case"Point":return(t&4)!==0}}function fd(e,t){switch(e.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:e.geometries.map(i=>fd(i,t))};case"Polygon":return{type:"Polygon",coordinates:RD(e.coordinates,t)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:vOe(e.coordinates,t)};case"MultiLineString":return{type:"MultiLineString",coordinates:RD(e.coordinates,t)};case"LineString":return{type:"LineString",coordinates:PD(e.coordinates,t)};case"MultiPoint":return{type:"MultiPoint",coordinates:PD(e.coordinates,t)};case"Point":return{type:"Point",coordinates:t.convert(e.coordinates)}}}function vOe(e,t){return e.map(i=>RD(i,t))}function RD(e,t){return e.map(i=>PD(i,t))}function PD(e,t){return e.map(i=>t.convert(i))}function AX(e){return Array.isArray(e)&&e.length>=2&&e.every(K.isFiniteNumber)}function fw(e){return Array.isArray(e)&&e.length>=2&&e.every(AX)}var G6=.001;function wOe(e){return Math.abs(e[0][0]-e[e.length-1][0])<G6&&Math.abs(e[0][1]-e[e.length-1][1])<G6}function W6(e){return Array.isArray(e)&&e.every(fw)&&e.every(wOe)}function kX(e){if(e===null)return!0;if(typeof e!="object"||e.type==null)return!1;const{type:t,coordinates:i}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every(kX);case"MultiPolygon":return Array.isArray(i)&&i.every(W6);case"Polygon":return W6(i);case"MultiLineString":return Array.isArray(i)&&i.every(fw);case"LineString":return fw(i);case"MultiPoint":return fw(i);case"Point":return AX(i)}}function SOe(e){return e!==null&&typeof e=="object"&&e.type==="Feature"&&kX(e.geometry)}function NOe(e){return e!==null&&typeof e=="object"&&e.type==="FeatureCollection"&&Array.isArray(e.features)&&e.features.every(SOe)}var jl=K.predicateWithMessage(NOe,"a GeoJSON object"),{COLOR_STRING:MOe,LINE_DASH:IOe,OBJECT:TOe,POSITIVE_NUMBER:CX,RATIO:AOe,Validate:Vp,SeriesProperties:kOe,SeriesTooltip:COe}=K,Ud=class extends kOe{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new COe}};A([Vp(jl,{optional:!0})],Ud.prototype,"topology");A([Vp(MOe)],Ud.prototype,"stroke");A([Vp(AOe)],Ud.prototype,"strokeOpacity");A([Vp(CX)],Ud.prototype,"strokeWidth");A([Vp(IOe)],Ud.prototype,"lineDash");A([Vp(CX)],Ud.prototype,"lineDashOffset");A([Vp(TOe)],Ud.prototype,"tooltip");var{createDatumId:DOe,DataModelSeries:LOe,SeriesNodePickMode:EOe,Validate:OOe}=K,{Group:jOe,Selection:ROe,PointerEvents:POe}=ae,{Logger:zOe}=Me,yM=class extends LOe{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[EOe.EXACT_SHAPE_MATCH]}),this.properties=new Ud,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new jOe({name:"itemGroup"})),this.datumSelection=ROe.select(this.itemGroup,()=>this.nodeFactory())}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}get topology(){return this.properties.topology??this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}nodeFactory(){const e=new Rg;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e.pointerEvents=POe.None,e}async processData(){const{topology:e}=this;this.topologyBounds=e==null?void 0:e.features.reduce((t,i)=>{const n=i.geometry;return n==null?t:Pg(n,t)},void 0),e==null&&zOe.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}async createNodeData(){const{id:e,topology:t,scale:i}=this;if(t==null)return;const n=[],s=[];return t.features.forEach((a,o)=>{const{geometry:r}=a,l=r!=null&&i!=null?fd(r,i):void 0;l!=null&&n.push({series:this,itemId:o,datum:a,index:o,projectedGeometry:l})}),{itemId:e,nodeData:n,labelData:s}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(){const{datumSelection:e}=this;await this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=await this.updateDatumSelection({nodeData:t,datumSelection:e}),await this.updateDatumNodes({datumSelection:e})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>DOe(t.index))}async updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{stroke:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=t,r=this.getStrokeWidth(t.strokeWidth);i.each((l,c)=>{const{projectedGeometry:u}=c;if(u==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=u,l.stroke=n,l.strokeWidth=r,l.strokeOpacity=s,l.lineDash=a,l.lineDashOffset=o})}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return K.EMPTY_TOOLTIP_CONTENT}computeFocusBounds(e){}};yM.className="MapLineBackgroundSeries";yM.type="map-line-background";A([OOe(jl,{optional:!0,property:"topology"})],yM.prototype,"_chartTopology");var{DEFAULT_HIERARCHY_STROKES:_Oe}=se,FOe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",moduleFactory:e=>new yM(e),tooltipDefaults:{range:"exact"},themeTemplate:{...gv,series:{strokeWidth:1,lineDash:[0],lineDashOffset:0}},paletteFactory:({themeTemplateParameters:e})=>{var t;return{stroke:(t=e.get(_Oe))==null?void 0:t[1]}}};function BOe(){return{fromFn:(i,n,s)=>s==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,n,s)=>s==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function DX(e,t){var n;const i=(n=e.contextNodeData)==null?void 0:n.nodeData[t.datumIndex];if(i!==void 0){for(const s of e.datumSelection.nodes())if(s.datum===i)return s}}var{AND:VOe,ARRAY:UOe,COLOR_STRING:GOe,COLOR_STRING_ARRAY:WOe,FUNCTION:HOe,LINE_DASH:YOe,NUMBER_ARRAY:$Oe,OBJECT:LX,POSITIVE_NUMBER:xR,RATIO:KOe,STRING:Rr,Validate:Ci,SeriesProperties:ZOe,SeriesTooltip:qOe}=K,{Label:XOe}=ae,yi=class extends ZOe{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new XOe,this.tooltip=new qOe}};A([Ci(jl,{optional:!0})],yi.prototype,"topology");A([Ci(Rr,{optional:!0})],yi.prototype,"title");A([Ci(Rr,{optional:!0})],yi.prototype,"legendItemName");A([Ci(Rr)],yi.prototype,"idKey");A([Ci(Rr)],yi.prototype,"topologyIdKey");A([Ci(Rr,{optional:!0})],yi.prototype,"idName");A([Ci(Rr,{optional:!0})],yi.prototype,"labelKey");A([Ci(Rr,{optional:!0})],yi.prototype,"labelName");A([Ci(Rr,{optional:!0})],yi.prototype,"sizeKey");A([Ci(Rr,{optional:!0})],yi.prototype,"sizeName");A([Ci(Rr,{optional:!0})],yi.prototype,"colorKey");A([Ci(Rr,{optional:!0})],yi.prototype,"colorName");A([Ci($Oe,{optional:!0})],yi.prototype,"sizeDomain");A([Ci(VOe(WOe,UOe.restrict({minLength:1})),{optional:!0})],yi.prototype,"colorRange");A([Ci(xR,{optional:!0})],yi.prototype,"maxStrokeWidth");A([Ci(GOe)],yi.prototype,"stroke");A([Ci(KOe)],yi.prototype,"strokeOpacity");A([Ci(xR)],yi.prototype,"strokeWidth");A([Ci(YOe)],yi.prototype,"lineDash");A([Ci(xR)],yi.prototype,"lineDashOffset");A([Ci(HOe,{optional:!0})],yi.prototype,"itemStyler");A([Ci(LX)],yi.prototype,"label");A([Ci(LX)],yi.prototype,"tooltip");var{getMissCount:QOe,createDatumId:JOe,DataModelSeries:eje,SeriesNodePickMode:H6,valueProperty:Xy,CachedTextMeasurerPool:tje,Validate:ije}=K,{ColorScale:nje,LinearScale:sje}=ki,{Selection:yk,Text:aje}=ae,{sanitizeHtml:Qy,Logger:Y6}=Me,xM=class extends eje{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[H6.EXACT_SHAPE_MATCH,H6.NEAREST_NODE]}),this.properties=new yi,this._chartTopology=void 0,this.colorScale=new nje,this.sizeScale=new sje,this.datumSelection=yk.select(this.contentGroup,()=>this.nodeFactory()),this.labelSelection=yk.select(this.labelGroup,aje),this.highlightDatumSelection=yk.select(this.highlightNode,()=>this.nodeFactory()),this._previousDatumMidPoint=void 0}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>{this.onLegendItemClick(e)}),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new Rg;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e}async processData(e){var N;if(this.data==null||!this.properties.isValid())return;const{data:t,topology:i,sizeScale:n,colorScale:s}=this,{topologyIdKey:a,idKey:o,sizeKey:r,colorKey:l,labelKey:c,sizeDomain:u,colorRange:h}=this.properties,f=new Map;i==null||i.features.forEach(M=>{var C;const I=(C=M.properties)==null?void 0:C[a];I==null||!yR(M.geometry,2)||f.set(I,M)});const g=this.sizeScale.type,x=this.colorScale.type,y=(N=this.scale)==null?void 0:N.type,{dataModel:b,processedData:v}=await this.requestDataModel(e,t,{props:[Xy(o,y,{id:"idValue",includeProperty:!1}),Xy(o,y,{id:"featureValue",includeProperty:!1,processor:()=>M=>f.get(M)}),...c!=null?[Xy(c,"band",{id:"labelValue"})]:[],...r!=null?[Xy(r,g,{id:"sizeValue"})]:[],...l!=null?[Xy(l,x,{id:"colorValue"})]:[]]}),S=b.resolveProcessedDataIndexById(this,"featureValue");if(this.topologyBounds=v.data.reduce((M,{values:I})=>{const C=I[S],L=C==null?void 0:C.geometry;return L==null?M:Pg(L,M)},void 0),r!=null){const M=b.resolveProcessedDataIndexById(this,"sizeValue"),I=v.domain.values[M]??[];n.domain=u??I}if(h!=null&&this.isColorScaleValid()){const M=b.resolveProcessedDataIndexById(this,"colorValue");s.domain=v.domain.values[M],s.range=h,s.update()}i==null&&Y6.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const n=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.data.length,a=QOe(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelDatum(e,t,i,n){if(t==null||i==null)return;const s=bS(i);if(s==null)return;const{idKey:a,idName:o,sizeKey:r,sizeName:l,colorKey:c,colorName:u,labelKey:h,labelName:f,label:g}=this.properties,x=this.getLabelText(g,{value:t,datum:e,idKey:a,idName:o,sizeKey:r,sizeName:l,colorKey:c,colorName:u,labelKey:h,labelName:f});if(x==null)return;const y=tje.measureText(String(x),{font:n}),b=gS(s);if(b==null)return;const[v,S]=b.point,{width:N,height:M}=y;return{point:{x:v,y:S,size:0},label:{width:N,height:M,text:x},marker:void 0,placement:void 0}}async createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:n,colorScale:s,properties:a,scale:o}=this,{idKey:r,sizeKey:l,colorKey:c,labelKey:u,label:h}=a;if(t==null||i==null)return;const f=this.isColorScaleValid(),g=t.resolveProcessedDataIndexById(this,"idValue"),x=t.resolveProcessedDataIndexById(this,"featureValue"),y=u!=null?t.resolveProcessedDataIndexById(this,"labelValue"):void 0,b=l!=null?t.resolveProcessedDataIndexById(this,"sizeValue"):void 0,v=c!=null?t.resolveProcessedDataIndexById(this,"colorValue"):void 0,S=a.maxStrokeWidth??a.strokeWidth;n.range=[Math.min(a.strokeWidth,S),S];const N=h.getFont(),M=new Map;i.data.forEach(({values:P})=>{var H;const z=P[g],V=(H=P[x])==null?void 0:H.geometry,G=V!=null&&o!=null?fd(V,o):void 0;z!=null&&G!=null&&M.set(z,G)});const I=[],C=[],L=[];i.data.forEach(({datum:P,values:z})=>{const V=z[g],G=v!=null?z[v]:void 0,H=b!=null?z[b]:void 0,B=y!=null?z[y]:void 0,$=f&&G!=null?s.convert(G):void 0,Q=H!=null?n.convert(H,{clampMode:"clamped"}):void 0,X=M.get(V);X==null&&L.push(V);const Y=this.getLabelDatum(P,B,X,N);Y!=null&&C.push(Y),I.push({series:this,itemId:r,datum:P,stroke:$,strokeWidth:Q,idValue:V,labelValue:B,colorValue:G,sizeValue:H,projectedGeometry:X})});const O=10;if(L.length>O){const P=L.length-O;L.length=O,L.push(`(+${P} more)`)}return L.length>0&&Y6.warnOnce("some data items do not have matches in the provided topology",L),{itemId:e,nodeData:I,labelData:C}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(){var a,o;const{datumSelection:e,labelSelection:t,highlightDatumSelection:i}=this;await this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=(a=this.ctx.highlightManager)==null?void 0:a.getActiveHighlight();n!=null&&(n.series!==this||n.datum==null)&&(n=void 0);const s=((o=this.contextNodeData)==null?void 0:o.nodeData)??[];this.datumSelection=await this.updateDatumSelection({nodeData:s,datumSelection:e}),await this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=await this.updateLabelSelection({labelSelection:t}),await this.updateLabelNodes({labelSelection:t}),this.highlightDatumSelection=await this.updateDatumSelection({nodeData:n!=null?[n]:[],datumSelection:i}),await this.updateDatumNodes({datumSelection:i,isHighlight:!0})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>JOe(t.idValue))}async updateDatumNodes(e){const{id:t,properties:i,ctx:{callbackCache:n}}=this,{datumSelection:s,isHighlight:a}=e,{idKey:o,labelKey:r,sizeKey:l,colorKey:c,stroke:u,strokeOpacity:h,lineDash:f,lineDashOffset:g,itemStyler:x}=i,y=a?i.highlightStyle.item:void 0,b=this.getStrokeWidth(i.strokeWidth);s.each((v,S)=>{const{projectedGeometry:N}=S;if(N==null){v.visible=!1,v.projectedGeometry=void 0;return}let M;x!=null&&(M=n.call(x,{seriesId:t,datum:S.datum,idKey:o,labelKey:r,sizeKey:l,colorKey:c,strokeOpacity:h,stroke:u,strokeWidth:b,lineDash:f,lineDashOffset:g,highlighted:a})),v.visible=!0,v.projectedGeometry=N,v.stroke=(y==null?void 0:y.stroke)??(M==null?void 0:M.stroke)??S.stroke??u,v.strokeWidth=Math.max((y==null?void 0:y.strokeWidth)??0,(M==null?void 0:M.strokeWidth)??S.strokeWidth??b),v.strokeOpacity=(y==null?void 0:y.strokeOpacity)??(M==null?void 0:M.strokeOpacity)??h,v.lineDash=(y==null?void 0:y.lineDash)??(M==null?void 0:M.lineDash)??f,v.lineDashOffset=(y==null?void 0:y.lineDashOffset)??(M==null?void 0:M.lineDashOffset)??g})}async updateLabelSelection(e){var i;const t=(this.isLabelEnabled()?(i=this.chart)==null?void 0:i.placeLabels().get(this):void 0)??[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;t.each((r,{x:l,y:c,width:u,height:h,text:f})=>{r.visible=!0,r.x=l+u/2,r.y=c+h/2,r.text=f,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign="center",r.textBaseline="middle"})}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:s}=e,a=t!=null&&t===e.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s}=e,{legendItemName:a}=this.properties,o=a!=null&&a===e.legendItemName;n.id===this.id||o?this.toggleSeriesItem(i,!0):t&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){var e;return((e=this.contextNodeData)==null?void 0:e.labelData)??[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(e,t);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){var o;const{_previousDatumMidPoint:t}=this;if((t==null?void 0:t.datum)===e)return t.point;const i=e.projectedGeometry,n=i!=null?bS(i):void 0,s=n!=null?(o=gS(n))==null?void 0:o.point:void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:a},a}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{title:n,legendItemName:s,idKey:a,idName:o,colorKey:r,colorName:l,colorRange:c,stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,visible:x}=this.properties;if(e==="gradient"&&r!=null&&c!=null){const y=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:x,seriesId:this.id,colorName:l,colorRange:c,colorDomain:y}]}else return e==="category"?[{legendType:"category",id:this.id,itemId:s??n??o??a,seriesId:this.id,enabled:x,label:{text:s??n??o??a},symbols:[{marker:{fill:u,fillOpacity:f,stroke:void 0,strokeWidth:0,strokeOpacity:0,enabled:!1},line:{stroke:u,strokeOpacity:f,strokeWidth:h,lineDash:g}}],legendItemName:s}]:[]}getTooltipHtml(e){const{id:t,processedData:i,properties:n,ctx:{callbackCache:s}}=this;if(!i||!n.isValid())return K.EMPTY_TOOLTIP_CONTENT;const{legendItemName:a,idKey:o,idName:r,colorKey:l,colorName:c,sizeKey:u,sizeName:h,labelKey:f,labelName:g,itemStyler:x,tooltip:y,strokeOpacity:b,lineDash:v,lineDashOffset:S}=n,{datum:N,stroke:M,idValue:I,colorValue:C,sizeValue:L,labelValue:O,itemId:P}=e,z=Qy(n.title??a)??"",V=[];V.push(Qy((r!=null?`${r}: `:"")+I)),C!=null&&V.push(Qy((c??l)+": "+C)),L!=null&&V.push(Qy((h??u)+": "+L)),O!=null&&f!==o&&V.push(Qy((g??f)+": "+O));const G=V.join("<br>");let H;x&&(H=s.call(x,{highlighted:!1,seriesId:t,datum:N,idKey:o,sizeKey:u,colorKey:l,labelKey:f,stroke:M,strokeWidth:this.getStrokeWidth(e.strokeWidth??n.strokeWidth),strokeOpacity:b,lineDash:v,lineDashOffset:S}));const B=(H==null?void 0:H.stroke)??M??n.stroke;return y.toTooltipHtml({title:z,content:G,backgroundColor:B},{seriesId:t,datum:N,idKey:o,title:z,color:B,itemId:P,sizeKey:u,colorKey:l,colorName:c,idName:r,labelKey:f,labelName:g,sizeName:h,...this.getModuleTooltipParams()})}computeFocusBounds(e){const t=DX(this,e);return t?ae.Transformable.toCanvas(t):void 0}};xM.className="MapLineSeries";xM.type="map-line";A([ije(jl,{optional:!0,property:"topology"})],xM.prototype,"_chartTopology");var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:oje,DEFAULT_FONT_FAMILY:rje,DEFAULT_LABEL_COLOUR:lje,singleSeriesPaletteFactory:cje}=se,uje={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",moduleFactory:e=>new xM(e),tooltipDefaults:{range:"exact"},themeTemplate:{...gv,series:{strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:rje,color:lje}}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:s}=e,{fill:a}=cje(e),o=s.get(oje),{fills:r}=t(i);return{colorRange:n==="inbuilt"?o:[r[0],r[1]],stroke:a}}};function EX(e,t,i){const n=Vh(e[0],void 0);if(n==null)return;const s=(n.lon0+n.lon1)/2,a=(n.lat0+n.lat1)/2,o=Math.abs(n.lon1-n.lon0),r=Math.abs(n.lat1-n.lat0),l=gOe(e[0]),[c,u]=l,h=-yS(e,c,u);let f;const g=(I,C)=>{const O=Math.max(C-h,0);return I-.5*O},x=(I,C,L)=>{const{distance:O,maxDistance:P}=i(e,I,C,L),z=Math.hypot(c-I,u-C),V=Math.min(Math.max(c,I-L/2),I+L/2),G=Math.min(Math.max(u,C-L/2),C+L/2),H=Math.hypot(c-V,u-G),B=g(O,z),$=g(P,H);return{distance:O,maxDistance:P,value:B,maxValue:$,x:I,y:C,stride:L}},y=(I,C,L,O)=>{const P=x(C,L,O);P.maxDistance>=0&&I.push(P)},b=Math.min(o,r)/2;let v={value:x(s,a,b),next:null};for(;v!=null;){const I=v.value,{distance:C,value:L,maxValue:O,x:P,y:z,stride:V}=I;if(v=v.next,C>0&&(f==null||L>f.value)&&(f=I),f!=null&&O-f.value<=t)continue;const G=V/2,H=[];y(H,P-G,z-G,G),y(H,P+G,z-G,G),y(H,P-G,z+G,G),y(H,P+G,z+G,G),H.sort($6),v=mOe(v,H,$6)}if(f==null)return;const{distance:S,x:N,y:M}=f;return{x:N,y:M,distance:S}}var $6=(e,t)=>t.maxValue-e.maxValue;function zD(e,t){const i=EX(e,t,(a,o,r,l)=>{const c=-yS(a,o,r),u=c+l*Math.SQRT2;return{distance:c,maxDistance:u}});if(i==null)return;const{x:n,y:s}=i;return[n,s]}function OX(e,t){var n,s;let i;switch(e.type){case"GeometryCollection":return e.geometries.flatMap(a=>OX(a,t));case"MultiPoint":return e.coordinates;case"Point":return[e.coordinates];case"MultiPolygon":{const a=xS(e);i=a!=null?zD(a,t):void 0;break}case"Polygon":{const a=e.coordinates;i=a!=null?zD(a,t):void 0;break}case"MultiLineString":{const a=bS(e);i=a!=null?(n=gS(a))==null?void 0:n.point:void 0;break}case"LineString":{const a=e.coordinates;i=(s=gS(a))==null?void 0:s.point;break}}return i!=null?[i]:[]}var{AND:dje,ARRAY:hje,COLOR_STRING:jX,COLOR_STRING_ARRAY:pje,FUNCTION:fje,NUMBER_ARRAY:mje,OBJECT:RX,POSITIVE_NUMBER:bR,RATIO:PX,STRING:Ls,MARKER_SHAPE:gje,Validate:Vt,SeriesProperties:yje,SeriesTooltip:xje}=K,{Label:bje,Circle:vje}=ae,{Logger:wje}=Me,zX=class extends bje{constructor(){super(...arguments),this.placement="bottom"}};A([Vt(Ls)],zX.prototype,"placement");var Ut=class extends yje{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape=vje,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.label=new zX,this.tooltip=new xje}isValid(){const e=super.isValid(),t=this.idKey!=null,i=this.latitudeKey!=null&&this.longitudeKey!=null;return!t&&!i?(wje.warnOnce("Either both [topology] and [idKey] or both [latitudeKey] and [longitudeKey] must be set to render a map marker series."),!1):e}};A([Vt(jl,{optional:!0})],Ut.prototype,"topology");A([Vt(Ls,{optional:!0})],Ut.prototype,"title");A([Vt(Ls,{optional:!0})],Ut.prototype,"legendItemName");A([Vt(Ls,{optional:!0})],Ut.prototype,"idKey");A([Vt(Ls)],Ut.prototype,"topologyIdKey");A([Vt(Ls,{optional:!0})],Ut.prototype,"idName");A([Vt(Ls,{optional:!0})],Ut.prototype,"latitudeKey");A([Vt(Ls,{optional:!0})],Ut.prototype,"latitudeName");A([Vt(Ls,{optional:!0})],Ut.prototype,"longitudeKey");A([Vt(Ls,{optional:!0})],Ut.prototype,"longitudeName");A([Vt(Ls,{optional:!0})],Ut.prototype,"labelKey");A([Vt(Ls,{optional:!0})],Ut.prototype,"labelName");A([Vt(Ls,{optional:!0})],Ut.prototype,"sizeKey");A([Vt(Ls,{optional:!0})],Ut.prototype,"sizeName");A([Vt(Ls,{optional:!0})],Ut.prototype,"colorKey");A([Vt(Ls,{optional:!0})],Ut.prototype,"colorName");A([Vt(dje(pje,hje.restrict({minLength:1})),{optional:!0})],Ut.prototype,"colorRange");A([Vt(gje)],Ut.prototype,"shape");A([Vt(bR)],Ut.prototype,"size");A([Vt(bR,{optional:!0})],Ut.prototype,"maxSize");A([Vt(mje,{optional:!0})],Ut.prototype,"sizeDomain");A([Vt(jX,{optional:!0})],Ut.prototype,"fill");A([Vt(PX)],Ut.prototype,"fillOpacity");A([Vt(jX,{optional:!0})],Ut.prototype,"stroke");A([Vt(bR)],Ut.prototype,"strokeWidth");A([Vt(PX)],Ut.prototype,"strokeOpacity");A([Vt(fje,{optional:!0})],Ut.prototype,"itemStyler");A([Vt(RX)],Ut.prototype,"label");A([Vt(RX)],Ut.prototype,"tooltip");var{CachedTextMeasurerPool:Sje,Validate:Nje,fromToMotion:Mje,StateMachine:Ije,getMissCount:Tje,createDatumId:Aje,DataModelSeries:kje,SeriesNodePickMode:K6,ZIndexMap:Cje,valueProperty:Nh,computeMarkerFocusBounds:Dje}=K,{ColorScale:Lje,LinearScale:Eje}=ki,{Layer:Oje,Selection:xk,Text:jje,getMarker:Z6}=ae,{sanitizeHtml:Jf,Logger:Rje}=Me,bM=class extends kje{constructor(e){super({moduleCtx:e,contentGroupVirtual:!0,useLabelLayer:!0,pickModes:[K6.EXACT_SHAPE_MATCH,K6.NEAREST_NODE]}),this.properties=new Ut,this._chartTopology=void 0,this.colorScale=new Lje,this.sizeScale=new Eje,this.markerGroup=this.contentGroup.appendChild(new Oje({name:"markerGroup",zIndex:Cje.SERIES_LAYER,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelSelection=xk.select(this.labelGroup,jje,!1),this.markerSelection=xk.select(this.markerGroup,()=>this.markerFactory(),!1),this.highlightMarkerSelection=xk.select(this.highlightNode,()=>this.markerFactory()),this.animationState=new Ije("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},resize:{target:"ready",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){const e=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||e)}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>{this.onLegendItemClick(e)}),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}markerFactory(){const{shape:e}=this.properties,t=Z6(e);return new t}async processData(e){var O;if(this.data==null||!this.properties.isValid())return;const{data:t,topology:i,sizeScale:n,colorScale:s}=this,{topologyIdKey:a,idKey:o,latitudeKey:r,longitudeKey:l,sizeKey:c,colorKey:u,labelKey:h,sizeDomain:f,colorRange:g}=this.properties,x=new Map;i==null||i.features.forEach(P=>{var V;const z=(V=P.properties)==null?void 0:V[a];z!=null&&x.set(z,P)});const y=this.sizeScale.type,b=this.colorScale.type,v=(O=this.scale)==null?void 0:O.type,S=r!=null&&l!=null,{dataModel:N,processedData:M}=await this.requestDataModel(e,t,{props:[...o!=null?[Nh(o,v,{id:"idValue",includeProperty:!1}),Nh(o,v,{id:"featureValue",includeProperty:!1,processor:()=>P=>x.get(P)})]:[],...S?[Nh(r,v,{id:"latValue"}),Nh(l,v,{id:"lonValue"})]:[],...h?[Nh(h,"band",{id:"labelValue"})]:[],...c?[Nh(c,y,{id:"sizeValue"})]:[],...u?[Nh(u,b,{id:"colorValue"})]:[]]}),I=o!=null?N.resolveProcessedDataIndexById(this,"featureValue"):void 0,C=S?N.resolveProcessedDataIndexById(this,"latValue"):void 0,L=S?N.resolveProcessedDataIndexById(this,"lonValue"):void 0;if(this.topologyBounds=M.data.reduce((P,{values:z})=>{const V=I!=null?z[I]:void 0,G=V==null?void 0:V.geometry;if(G!=null&&(P=Pg(G,P)),C!=null&&L!=null){const H=z[L],B=z[C];P=_x(P,H,B,H,B)}return P},void 0),c!=null){const P=N.resolveProcessedDataIndexById(this,"sizeValue"),z=M.domain.values[P]??[];n.domain=f??z}if(g!=null&&this.isColorScaleValid()){const P=N.resolveProcessedDataIndexById(this,"colorValue");s.domain=M.domain.values[P],s.range=g,s.update()}this.animationState.transition("updateData")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const n=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.data.length,a=Tje(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelDatum(e,t,i,n,s,a){if(t==null)return;const{idKey:o,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:u,longitudeName:h,sizeKey:f,sizeName:g,colorKey:x,colorName:y,labelKey:b,labelName:v,label:S}=this.properties,{placement:N}=S,M=this.getLabelText(S,{value:t,datum:e,idKey:o,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:u,longitudeName:h,sizeKey:f,sizeName:g,colorKey:x,colorName:y,labelKey:b,labelName:v});if(M==null)return;const{width:I,height:C}=Sje.measureText(String(M),{font:a});return{point:{x:i,y:n,size:s},label:{width:I,height:C,text:M},marker:Z6(this.properties.shape),placement:N}}async createNodeData(){const{id:e,dataModel:t,processedData:i,colorScale:n,sizeScale:s,properties:a,scale:o}=this,{idKey:r,latitudeKey:l,longitudeKey:c,sizeKey:u,colorKey:h,labelKey:f,label:g}=a;if(t==null||i==null||o==null)return;const x=this.isColorScaleValid(),y=l!=null&&c!=null,b=r!=null?t.resolveProcessedDataIndexById(this,"idValue"):void 0,v=r!=null?t.resolveProcessedDataIndexById(this,"featureValue"):void 0,S=y?t.resolveProcessedDataIndexById(this,"latValue"):void 0,N=y?t.resolveProcessedDataIndexById(this,"lonValue"):void 0,M=f!=null?t.resolveProcessedDataIndexById(this,"labelValue"):void 0,I=u!=null?t.resolveProcessedDataIndexById(this,"sizeValue"):void 0,C=h!=null?t.resolveProcessedDataIndexById(this,"colorValue"):void 0,L=a.maxSize??a.size;s.range=[Math.min(a.size,L),L];const O=g.getFont();let P;b!=null&&v!=null&&(P=new Map,i.data.forEach(({values:B})=>{var Y;const $=B[b],Q=(Y=B[v])==null?void 0:Y.geometry,X=Q!=null&&o!=null?fd(Q,o):void 0;$!=null&&X!=null&&P.set($,X)}));const z=[],V=[],G=[];i.data.forEach(({datum:B,values:$})=>{const Q=b!=null?$[b]:void 0,X=N!=null?$[N]:void 0,Y=S!=null?$[S]:void 0,q=C!=null?$[C]:void 0,Z=I!=null?$[I]:void 0,W=M!=null?$[M]:void 0,ee=x&&q!=null?n.convert(q):void 0,oe=Z!=null?s.convert(Z,{clampMode:"clamped"}):a.size,fe=Q!=null?P==null?void 0:P.get(Q):void 0;if(Q!=null&&fd==null&&G.push(Q),X!=null&&Y!=null){const[ue,de]=o.convert([X,Y]),te=this.getLabelDatum(B,W,ue,de,oe,O);te&&V.push(te),z.push({series:this,itemId:l,datum:B,index:-1,fill:ee,idValue:Q,lonValue:X,latValue:Y,labelValue:W,sizeValue:Z,colorValue:q,point:{x:ue,y:de,size:oe},midPoint:{x:ue,y:de}})}else fe!=null&&OX(fe,1).forEach(([ue,de],te)=>{const he=this.getLabelDatum(B,W,ue,de,oe,O);he&&V.push(he),z.push({series:this,itemId:l,datum:B,index:te,fill:ee,idValue:Q,lonValue:X,latValue:Y,labelValue:W,sizeValue:Z,colorValue:q,point:{x:ue,y:de,size:oe},midPoint:{x:ue,y:de}})})});const H=10;if(G.length>H){const B=G.length-H;G.length=H,G.push(`(+${B} more)`)}return G.length>0&&Rje.warnOnce("some data items do not have matches in the provided topology",G),{itemId:e,nodeData:z,labelData:V}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}checkScaleChange(){return this.previousScale===this.scale?!1:(this.previousScale=this.scale,!0)}async update({seriesRect:e}){var l,c;const t=this.checkResize(e),i=this.checkScaleChange(),{labelSelection:n,markerSelection:s,highlightMarkerSelection:a}=this;await this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let o=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight();o!=null&&(o.series!==this||o.datum==null)&&(o=void 0);const r=((c=this.contextNodeData)==null?void 0:c.nodeData)??[];this.labelSelection=await this.updateLabelSelection({labelSelection:n}),await this.updateLabelNodes({labelSelection:n}),this.markerSelection=await this.updateMarkerSelection({markerData:r,markerSelection:s}),await this.updateMarkerNodes({markerSelection:s,isHighlight:!1,highlightedDatum:o}),this.highlightMarkerSelection=await this.updateMarkerSelection({markerData:o!=null?[o]:[],markerSelection:a}),await this.updateMarkerNodes({markerSelection:a,isHighlight:!0,highlightedDatum:o}),(i||t)&&this.animationState.transition("resize"),this.animationState.transition("update")}async updateLabelSelection(e){var i;const t=(this.isLabelEnabled()?(i=this.chart)==null?void 0:i.placeLabels().get(this):void 0)??[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;t.each((r,{x:l,y:c,width:u,height:h,text:f})=>{r.visible=!0,r.x=l+u/2,r.y=c+h/2,r.text=f,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign="center",r.textBaseline="middle"})}async updateMarkerSelection(e){const{markerData:t,markerSelection:i}=e;return i.update(t,void 0,n=>Aje([n.index,n.idValue,n.lonValue,n.latValue]))}async updateMarkerNodes(e){const{properties:t}=this,{markerSelection:i,isHighlight:n,highlightedDatum:s}=e,{fill:a,fillOpacity:o,stroke:r,strokeOpacity:l}=t,c=n?t.highlightStyle.item:void 0,u=this.getStrokeWidth(t.strokeWidth);i.each((h,f)=>{const{datum:g,point:x}=f,y=this.getMapMarkerStyle(f,n);h.size=(y==null?void 0:y.size)??x.size,h.fill=(c==null?void 0:c.fill)??(y==null?void 0:y.fill)??f.fill??a,h.fillOpacity=(c==null?void 0:c.fillOpacity)??(y==null?void 0:y.fillOpacity)??o,h.stroke=(c==null?void 0:c.stroke)??(y==null?void 0:y.stroke)??r,h.strokeWidth=(c==null?void 0:c.strokeWidth)??(y==null?void 0:y.strokeWidth)??u,h.strokeOpacity=(c==null?void 0:c.strokeOpacity)??(y==null?void 0:y.strokeOpacity)??l,h.translationX=x.x,h.translationY=x.y,h.zIndex=!n&&s!=null&&g===s.datum?1:0})}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:s}=e,a=t!=null&&t===e.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s}=e,{legendItemName:a}=this.properties,o=a!=null&&a===e.legendItemName;n.id===this.id||o?this.toggleSeriesItem(i,!0):t&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isProcessedDataAnimatable(){return!0}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:e}=this.ctx,t=BOe();Mje(this.id,"markers",e,[this.markerSelection,this.highlightMarkerSelection],t)}getLabelData(){var e;return((e=this.contextNodeData)==null?void 0:e.labelData)??[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum(e){var a;const{x:t,y:i}=e;let n=1/0,s;return(a=this.contextNodeData)==null||a.nodeData.forEach(o=>{const{x:r,y:l,size:c}=o.point,u=Math.max(Math.abs(r-t)-c,0),h=Math.max(Math.abs(l-i)-c,0),f=u*u+h*h;f<n&&(n=f,s=o)}),s!=null?{datum:s,distance:Math.sqrt(n)}:void 0}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{title:n,legendItemName:s,idName:a,idKey:o,colorKey:r,colorName:l,colorRange:c,visible:u,shape:h,fill:f,stroke:g,fillOpacity:x,strokeOpacity:y,strokeWidth:b}=this.properties;if(e==="gradient"&&r!=null&&c!=null){const v=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:u,seriesId:this.id,colorName:l,colorRange:c,colorDomain:v}]}else return e==="category"?[{legendType:"category",id:this.id,itemId:s??n??a??o??this.id,seriesId:this.id,enabled:u,label:{text:s??n??a??o??this.id},symbols:[{marker:{shape:h,fill:f,fillOpacity:x,stroke:g,strokeWidth:b,strokeOpacity:y}}],legendItemName:s}]:[]}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n},properties:s}=this;if(!i||!this.properties.isValid())return K.EMPTY_TOOLTIP_CONTENT;const{legendItemName:a,idKey:o,idName:r,latitudeKey:l,longitudeKey:c,sizeKey:u,sizeName:h,colorKey:f,colorName:g,labelKey:x,labelName:y,itemStyler:b,tooltip:v,latitudeName:S,longitudeName:N,shape:M,size:I,fillOpacity:C,stroke:L,strokeWidth:O,strokeOpacity:P}=s,{datum:z,fill:V,idValue:G,latValue:H,lonValue:B,sizeValue:$,colorValue:Q,labelValue:X,itemId:Y}=e,q=Jf(s.title??a)??"",Z=[];G!=null&&Z.push(Jf((r!=null?`${r}: `:"")+G)),Q!=null&&Z.push(Jf((g??f)+": "+Q)),$!=null&&Z.push(Jf((h??u)+": "+$)),X!=null&&(o==null||o!==x)&&Z.push(Jf((y??x)+": "+X)),H!=null&&B!=null&&Z.push(Jf(`${Math.abs(H).toFixed(4)} ${H>=0?"N":"S"}, ${Math.abs(B).toFixed(4)} ${H>=0?"W":"E"}`));const W=Z.join("<br>");let ee;b&&(ee=n.call(b,{highlighted:!1,seriesId:t,datum:z,idKey:o,sizeKey:u,colorKey:f,labelKey:x,latitudeKey:l,longitudeKey:c,shape:M,size:I,fill:V,fillOpacity:C,stroke:L,strokeWidth:O,strokeOpacity:P}));const oe=(ee==null?void 0:ee.fill)??V??s.fill;return v.toTooltipHtml({title:q,content:W,backgroundColor:oe},{seriesId:t,datum:z,idKey:o,latitudeKey:l,longitudeKey:c,title:q,color:oe,colorKey:f,colorName:g,idName:r,itemId:Y,labelKey:x,labelName:y,latitudeName:S,longitudeName:N,sizeKey:u,sizeName:h,...this.getModuleTooltipParams()})}getMapMarkerStyle(e,t){const{id:i,properties:n,ctx:{callbackCache:s}}=this,{datum:a,point:o}=e,{idKey:r,latitudeKey:l,longitudeKey:c,labelKey:u,sizeKey:h,colorKey:f,fill:g,fillOpacity:x,stroke:y,strokeOpacity:b,shape:v,itemStyler:S}=n,N=this.getStrokeWidth(n.strokeWidth);if(S!==void 0)return s.call(S,{seriesId:i,datum:a,size:o.size,idKey:r,latitudeKey:l,longitudeKey:c,labelKey:u,sizeKey:h,colorKey:f,fill:g,fillOpacity:x,stroke:y,strokeWidth:N,strokeOpacity:b,shape:v,highlighted:t})}getFormattedMarkerStyle(e){const t=this.getMapMarkerStyle(e,!0);return{size:(t==null?void 0:t.size)??e.point.size}}computeFocusBounds(e){return Dje(this,e)}};bM.className="MapMarkerSeries";bM.type="map-marker";A([Nje(jl,{optional:!0,property:"topology"})],bM.prototype,"_chartTopology");var{DEFAULT_LABEL_COLOUR:Pje,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:zje,singleSeriesPaletteFactory:_je}=se,Fje={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",moduleFactory:e=>new bM(e),tooltipDefaults:{range:"exact"},themeTemplate:{...gv,series:{shape:"circle",maxSize:30,fillOpacity:.5,label:{color:Pje}}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:s}=e,{fill:a,stroke:o}=_je(e),r=s.get(zje),{fills:l}=t(i);return{fill:a,stroke:o,colorRange:n==="inbuilt"?r:[l[0],l[1]]}}},{COLOR_STRING:_X,LINE_DASH:Bje,OBJECT:Vje,POSITIVE_NUMBER:FX,RATIO:BX,Validate:Xc,SeriesProperties:Uje,SeriesTooltip:Gje}=K,Rl=class extends Uje{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new Gje}};A([Xc(jl,{optional:!0})],Rl.prototype,"topology");A([Xc(_X)],Rl.prototype,"fill");A([Xc(BX)],Rl.prototype,"fillOpacity");A([Xc(_X)],Rl.prototype,"stroke");A([Xc(BX)],Rl.prototype,"strokeOpacity");A([Xc(FX)],Rl.prototype,"strokeWidth");A([Xc(Bje)],Rl.prototype,"lineDash");A([Xc(FX)],Rl.prototype,"lineDashOffset");A([Xc(Vje)],Rl.prototype,"tooltip");var{createDatumId:Wje,Series:Hje,SeriesNodePickMode:Yje,Validate:$je}=K,{Selection:Kje,Group:Zje,PointerEvents:qje}=ae,{Logger:Xje}=Me,vM=class extends Hje{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[Yje.EXACT_SHAPE_MATCH]}),this.properties=new Rl,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Zje({name:"itemGroup"})),this.datumSelection=Kje.select(this.itemGroup,()=>this.nodeFactory())}get topology(){return this.properties.topology??this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}nodeFactory(){const e=new Rg;return e.renderMode=1,e.lineJoin="round",e.pointerEvents=qje.None,e}async processData(){const{topology:e}=this;this.topologyBounds=e==null?void 0:e.features.reduce((t,i)=>{const n=i.geometry;return n==null?t:Pg(n,t)},void 0),e==null&&Xje.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}async createNodeData(){const{id:e,topology:t,scale:i}=this;if(t==null)return;const n=[],s=[];return t.features.forEach((a,o)=>{const{geometry:r}=a,l=r!=null&&i!=null?fd(r,i):void 0;l!=null&&n.push({series:this,itemId:o,datum:a,index:o,projectedGeometry:l})}),{itemId:e,nodeData:n,labelData:s}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(){const{datumSelection:e}=this;await this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=await this.updateDatumSelection({nodeData:t,datumSelection:e}),await this.updateDatumNodes({datumSelection:e})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>Wje(t.index))}async updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{fill:n,fillOpacity:s,stroke:a,strokeOpacity:o,lineDash:r,lineDashOffset:l}=t,c=this.getStrokeWidth(t.strokeWidth);i.each((u,h)=>{const{projectedGeometry:f}=h;if(f==null){u.visible=!1,u.projectedGeometry=void 0;return}u.visible=!0,u.projectedGeometry=f,u.fill=n,u.fillOpacity=s,u.stroke=a,u.strokeWidth=c,u.strokeOpacity=o,u.lineDash=r,u.lineDashOffset=l})}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return K.EMPTY_TOOLTIP_CONTENT}pickFocus(e){}};vM.className="MapShapeBackgroundSeries";vM.type="map-shape-background";A([$je(jl,{optional:!0,property:"topology"})],vM.prototype,"_chartTopology");var{DEFAULT_BACKGROUND_COLOUR:Qje,DEFAULT_HIERARCHY_FILLS:Jje}=se,eRe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",moduleFactory:e=>new vM(e),tooltipDefaults:{range:"exact"},themeTemplate:{...gv,series:{stroke:Qje,strokeWidth:1}},paletteFactory:({themeTemplateParameters:e})=>{var t;return{fill:(t=e.get(Jje))==null?void 0:t[1]}}};function tRe(e,{aspectRatio:t,precision:i}){const n=EX(e,i,(l,c,u,h)=>{const f=nRe(l,c,u,t),g=f+2*h*t,x=f*Math.SQRT2,y=g*Math.SQRT2;return{distance:x,maxDistance:y}});if(n==null)return;const{x:s,y:a,distance:o}=n,r=o/Math.SQRT2;return{x:s,y:a,maxWidth:r}}function iRe(e,t,i,n,s){const[a,o]=e,[r,l]=t,c=1/s,u=r-a,h=l-o,[f,g]=o<=l?e:t,[x,y]=a<=r?e:t,[b,v]=o<=l?t:e,[S,N]=a<=r?t:e;let M=1/0;if(u!==0){const z=h/u;for(let V=0;V<=1;V+=1){const G=V===0?c:-c,H=(z*a-o-G*i+n)/(z-G);if(H>=x&&H<=S){const B=Math.abs(i-H)*2;M=Math.min(M,B)}}}else for(let z=0;z<=1;z+=1){const G=(z===0?c:-c)*(a-i)+n;if(G>=g&&G<=v){const B=Math.abs(n-G)*2*s;M=Math.min(M,B)}}const I=s,C=Math.abs((f-i)/(g-n)),L=Math.abs((b-i)/(v-n));if(v<n&&L<I){const V=Math.abs(n-v)*2*s;M=Math.min(M,V)}else if(g>n&&C<I){const V=Math.abs(n-g)*2*s;M=Math.min(M,V)}const O=Math.abs((y-n)/(x-i)),P=Math.abs((N-n)/(S-i));if(S<i&&P<c){const z=Math.abs(i-S)*2;M=Math.min(M,z)}else if(x>i&&O<c){const z=Math.abs(i-x)*2;M=Math.min(M,z)}return M}function nRe(e,t,i,n){let s=!1,a=1/0;for(const o of e){let r=o[o.length-1],[l,c]=r;for(const u of o){const[h,f]=u;f>i!=c>i&&t<(l-h)*(i-f)/(c-f)+h&&(s=!s);const g=iRe(r,u,t,i,n);a=Math.min(a,g),r=u,l=h,c=f}}return(s?1:-1)*a}function _1(e,t,i){i>=t&&(e.maxX=Math.min(e.maxX,i-t)),i<=t&&(e.minX=Math.max(e.minX,i-t))}function sRe(e,t,i,n,s,a){const o=s-a/2,r=s+a/2,[l,c]=t,[u,h]=i,f=u-l,g=h-c,[x,y]=l<=u?t:i,[b,v]=l<=u?i:t;if(f!==0){const S=g/f;for(let N=0;N<=1;N+=1){const I=((N===0?o:r)-c)/S+l;I>=x&&I<=b&&_1(e,n,I)}}else Math.max(o,Math.min(c,h))<=Math.min(r,Math.max(c,h))&&_1(e,n,l);return b<n&&v>=o&&v<=r?_1(e,n,b):x>n&&y>=o&&y<=r&&_1(e,n,x),e}function aRe(e,t,i,n){const s={minX:-1/0,maxX:1/0};for(const r of e){let l=r[r.length-1];for(const c of r)sRe(s,l,c,t,i,n),l=c}const{minX:a,maxX:o}=s;return Number.isFinite(a)&&Number.isFinite(o)?{x:t+(a+o)/2,width:o-a}:{x:t,width:0}}var{AND:oRe,ARRAY:rRe,COLOR_STRING:VX,COLOR_STRING_ARRAY:lRe,FUNCTION:cRe,LINE_DASH:uRe,OBJECT:UX,POSITIVE_NUMBER:vR,RATIO:GX,STRING:Qc,Validate:Pi,SeriesProperties:dRe,SeriesTooltip:hRe}=K,Di=class extends dRe{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new fv,this.tooltip=new hRe}};A([Pi(jl,{optional:!0})],Di.prototype,"topology");A([Pi(Qc,{optional:!0})],Di.prototype,"title");A([Pi(Qc,{optional:!0})],Di.prototype,"legendItemName");A([Pi(Qc)],Di.prototype,"idKey");A([Pi(Qc,{optional:!0})],Di.prototype,"idName");A([Pi(Qc)],Di.prototype,"topologyIdKey");A([Pi(Qc,{optional:!0})],Di.prototype,"labelKey");A([Pi(Qc,{optional:!0})],Di.prototype,"labelName");A([Pi(Qc,{optional:!0})],Di.prototype,"colorKey");A([Pi(Qc,{optional:!0})],Di.prototype,"colorName");A([Pi(oRe(lRe,rRe.restrict({minLength:1})),{optional:!0})],Di.prototype,"colorRange");A([Pi(VX)],Di.prototype,"fill");A([Pi(GX)],Di.prototype,"fillOpacity");A([Pi(VX)],Di.prototype,"stroke");A([Pi(GX)],Di.prototype,"strokeOpacity");A([Pi(vR)],Di.prototype,"strokeWidth");A([Pi(uRe)],Di.prototype,"lineDash");A([Pi(vR)],Di.prototype,"lineDashOffset");A([Pi(vR)],Di.prototype,"padding");A([Pi(cRe,{optional:!0})],Di.prototype,"itemStyler");A([Pi(UX)],Di.prototype,"label");A([Pi(UX)],Di.prototype,"tooltip");var{getMissCount:pRe,createDatumId:fRe,DataModelSeries:mRe,SeriesNodePickMode:q6,valueProperty:F1,Validate:gRe,CachedTextMeasurerPool:yRe,TextUtils:X6}=K,{ColorScale:xRe}=ki,{Group:Q6,Selection:bk,Text:bRe,PointerEvents:vRe}=ae,{sanitizeHtml:B1,Logger:J6}=Me,eV=K.MercatorScale.fixedScale(),wM=class extends mRe{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[q6.EXACT_SHAPE_MATCH,q6.NEAREST_NODE]}),this.properties=new Di,this._chartTopology=void 0,this.colorScale=new xRe,this.itemGroup=this.contentGroup.appendChild(new Q6({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Q6({name:"itemLabelGroup"})),this.datumSelection=bk.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=bk.select(this.itemLabelGroup,bRe),this.highlightDatumSelection=bk.select(this.highlightNode,()=>this.nodeFactory()),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=vRe.None}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>{this.onLegendItemClick(e)}),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new Rg;return e.renderMode=1,e.lineJoin="round",e}async processData(e){var y;if(this.data==null||!this.properties.isValid())return;const{data:t,topology:i,colorScale:n}=this,{topologyIdKey:s,idKey:a,colorKey:o,labelKey:r,colorRange:l}=this.properties,c=new Map;i==null||i.features.forEach(b=>{var S;const v=(S=b.properties)==null?void 0:S[s];v==null||!yR(b.geometry,1)||c.set(v,b)});const u=this.colorScale.type,h=(y=this.scale)==null?void 0:y.type,{dataModel:f,processedData:g}=await this.requestDataModel(e,t,{props:[F1(a,h,{id:"idValue",includeProperty:!1}),F1(a,h,{id:"featureValue",includeProperty:!1,processor:()=>b=>c.get(b)}),...r?[F1(r,"band",{id:"labelValue"})]:[],...o?[F1(o,u,{id:"colorValue"})]:[]]}),x=f.resolveProcessedDataIndexById(this,"featureValue");if(this.topologyBounds=g.data.reduce((b,{values:v})=>{const S=v[x],N=S==null?void 0:S.geometry;return N==null?b:Pg(N,b)},void 0),l!=null&&this.isColorScaleValid()){const b=f.resolveProcessedDataIndexById(this,"colorValue");n.domain=g.domain.values[b],n.range=l,n.update()}i==null&&J6.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const n=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.data.length,a=pRe(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelLayout(e,t,i,n,s){if(t==null||n==null)return;const{idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:u,padding:h,label:f}=this.properties,g=this.getLabelText(f,{value:t,datum:e,idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:u});if(g==null)return;const x=yRe.measureText(String(g),{font:i}),y=g.split(`
`).length,b=(x.width+2*h)/(y*X6.getLineHeight(f.fontSize)+2*h);if((s==null?void 0:s.geometry)===n&&(s==null?void 0:s.labelText)===g&&(s==null?void 0:s.aspectRatio)===b)return s;const v=fd(n,eV),S=xS(v);if(S==null)return;const N=tRe(S,{aspectRatio:b,precision:.001});if(N==null)return;const{x:M,y:I,maxWidth:C}=N;return{geometry:n,labelText:g,aspectRatio:b,x:M,y:I,maxWidth:C,fixedPolygon:S}}getLabelDatum(e,t){const{scale:i}=this;if(i==null)return;const{padding:n,label:s}=this.properties,{labelText:a,aspectRatio:o,x:r,y:l,maxWidth:c,fixedPolygon:u}=e,h={width:Math.ceil(c*t),height:Math.ceil(c*t/o),meta:r},f=bb(a,s,{padding:n},(M,I)=>{if(!I)return h;const C=aRe(u,r,l,M/t);return{width:C.width*t,height:M,meta:C.x}});if(f==null)return;const[{text:g,fontSize:x,lineHeight:y,width:b},v]=f;if(g===X6.EllipsisChar)return;const S=b<h.width?r:v,N=this.scale.convert(eV.invert([S,l]));return{x:N[0],y:N[1],text:g,fontSize:x,lineHeight:y}}async createNodeData(){const{id:e,dataModel:t,processedData:i,colorScale:n,properties:s,scale:a,previousLabelLayouts:o}=this,{idKey:r,colorKey:l,labelKey:c,label:u,fill:h}=s;if(t==null||i==null)return;const f=a!=null?(a.range[1][0]-a.range[0][0])/a.bounds.width:NaN,g=this.isColorScaleValid(),x=t.resolveProcessedDataIndexById(this,"idValue"),y=t.resolveProcessedDataIndexById(this,"featureValue"),b=c!=null?t.resolveProcessedDataIndexById(this,"labelValue"):void 0,v=l!=null?t.resolveProcessedDataIndexById(this,"colorValue"):void 0,S=u.getFont(),N=new Map;this.previousLabelLayouts=N;const M=[],I=[],C=[];i.data.forEach(({datum:O,values:P})=>{var Y;const z=P[x],V=v!=null?P[v]:void 0,G=b!=null?P[b]:void 0,H=(Y=P[y])==null?void 0:Y.geometry;H==null&&C.push(z);const B=g&&V!=null?n.convert(V):void 0,$=this.getLabelLayout(O,G,S,H,o==null?void 0:o.get(z));$!=null&&N.set(z,$);const Q=$!=null&&a!=null?this.getLabelDatum($,f):void 0;Q!=null&&I.push(Q);const X=H!=null&&a!=null?fd(H,a):void 0;M.push({series:this,itemId:r,datum:O,idValue:z,colorValue:V,labelValue:G,fill:B??h,projectedGeometry:X})});const L=10;if(C.length>L){const O=C.length-L;C.length=L,C.push(`(+${O} more)`)}return C.length>0&&J6.warnOnce("some data items do not have matches in the provided topology",C),{itemId:e,nodeData:M,labelData:I}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update(){var o,r,l;const{datumSelection:e,labelSelection:t,highlightDatumSelection:i}=this;await this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=(o=this.ctx.highlightManager)==null?void 0:o.getActiveHighlight();n!=null&&(n.series!==this||n.datum==null)&&(n=void 0);const s=((r=this.contextNodeData)==null?void 0:r.nodeData)??[],a=((l=this.contextNodeData)==null?void 0:l.labelData)??[];this.datumSelection=await this.updateDatumSelection({nodeData:s,datumSelection:e}),await this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=await this.updateLabelSelection({labelData:a,labelSelection:t}),await this.updateLabelNodes({labelSelection:t}),this.highlightDatumSelection=await this.updateDatumSelection({nodeData:n!=null?[n]:[],datumSelection:i}),await this.updateDatumNodes({datumSelection:i,isHighlight:!0})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>fRe(t.idValue))}async updateDatumNodes(e){const{id:t,properties:i,ctx:{callbackCache:n}}=this,{datumSelection:s,isHighlight:a}=e,{idKey:o,colorKey:r,labelKey:l,fillOpacity:c,stroke:u,strokeOpacity:h,lineDash:f,lineDashOffset:g,itemStyler:x}=i,y=a?i.highlightStyle.item:void 0,b=this.getStrokeWidth(i.strokeWidth);s.each((v,S)=>{const{projectedGeometry:N}=S;if(N==null){v.visible=!1,v.projectedGeometry=void 0;return}let M;x!=null&&(M=n.call(x,{seriesId:t,datum:S.datum,idKey:o,colorKey:r,labelKey:l,fill:S.fill,fillOpacity:c,strokeOpacity:h,stroke:u,strokeWidth:b,lineDash:f,lineDashOffset:g,highlighted:a})),v.visible=!0,v.projectedGeometry=N,v.fill=(y==null?void 0:y.fill)??(M==null?void 0:M.fill)??S.fill,v.fillOpacity=(y==null?void 0:y.fillOpacity)??(M==null?void 0:M.fillOpacity)??c,v.stroke=(y==null?void 0:y.stroke)??(M==null?void 0:M.stroke)??u,v.strokeWidth=(y==null?void 0:y.strokeWidth)??(M==null?void 0:M.strokeWidth)??b,v.strokeOpacity=(y==null?void 0:y.strokeOpacity)??(M==null?void 0:M.strokeOpacity)??h,v.lineDash=(y==null?void 0:y.lineDash)??(M==null?void 0:M.lineDash)??f,v.lineDashOffset=(y==null?void 0:y.lineDashOffset)??(M==null?void 0:M.lineDashOffset)??g})}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:s,fontFamily:a}=this.properties.label;t.each((o,{x:r,y:l,text:c,fontSize:u,lineHeight:h})=>{o.visible=!0,o.x=r,o.y=l,o.text=c,o.fill=i,o.fontStyle=n,o.fontWeight=s,o.fontSize=u,o.lineHeight=h,o.fontFamily=a,o.textAlign="center",o.textBaseline="middle"})}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:s}=e,a=t!=null&&t===e.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s}=e,{legendItemName:a}=this.properties,o=a!=null&&a===e.legendItemName;n.id===this.id||o?this.toggleSeriesItem(i,!0):t&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(e,t);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if((t==null?void 0:t.datum)===e)return t.point;const i=e.projectedGeometry,n=i!=null?xS(i):void 0,s=n!=null?zD(n,2):void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:a},a}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{title:n,legendItemName:s,idKey:a,idName:o,fill:r,fillOpacity:l,stroke:c,strokeWidth:u,strokeOpacity:h,colorKey:f,colorName:g,colorRange:x,visible:y}=this.properties;if(e==="gradient"&&f!=null&&x!=null){const b=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:y,seriesId:this.id,colorName:g,colorRange:x,colorDomain:b}]}else return e==="category"?[{legendType:"category",id:this.id,itemId:s??n??o??a,seriesId:this.id,enabled:y,label:{text:s??n??o??a},symbols:[{marker:{fill:r,fillOpacity:l,stroke:c,strokeWidth:u,strokeOpacity:h}}],legendItemName:s}]:[]}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n},properties:s}=this;if(!i||!s.isValid())return K.EMPTY_TOOLTIP_CONTENT;const{legendItemName:a,idKey:o,idName:r,colorKey:l,colorName:c,labelKey:u,labelName:h,stroke:f,strokeWidth:g,strokeOpacity:x,fillOpacity:y,lineDash:b,lineDashOffset:v,itemStyler:S,tooltip:N}=s,{datum:M,fill:I,idValue:C,colorValue:L,labelValue:O,itemId:P}=e,z=B1(s.title??a)??"",V=[];V.push(B1((r!=null?`${r}: `:"")+C)),L!=null&&V.push(B1((c??l)+": "+L)),O!=null&&u!==o&&V.push(B1((h??u)+": "+O));const G=V.join("<br>");let H;S&&(H=n.call(S,{seriesId:t,datum:M,idKey:o,colorKey:l,labelKey:u,fill:I,stroke:f,strokeWidth:this.getStrokeWidth(g),highlighted:!1,fillOpacity:y,strokeOpacity:x,lineDash:b,lineDashOffset:v}));const B=(H==null?void 0:H.fill)??I;return N.toTooltipHtml({title:z,content:G,backgroundColor:B},{seriesId:t,datum:M,idKey:o,title:z,color:B,colorKey:l,colorName:c,idName:r,itemId:P,labelKey:u,labelName:h,...this.getModuleTooltipParams()})}computeFocusBounds(e){return DX(this,e)}};wM.className="MapShapeSeries";wM.type="map-shape";A([gRe(jl,{optional:!0,property:"topology"})],wM.prototype,"_chartTopology");var{DEFAULT_INVERTED_LABEL_COLOUR:wRe,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:SRe,DEFAULT_BACKGROUND_COLOUR:NRe,singleSeriesPaletteFactory:MRe}=se,IRe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",moduleFactory:e=>new wM(e),tooltipDefaults:{range:"exact"},themeTemplate:{...gv,series:{fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:wRe,fontWeight:"bold",overflowStrategy:"hide"}}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:s}=e,{fill:a}=MRe(e),o=s.get(SRe),{fills:r}=t(i);return{fill:a,stroke:s.get(NRe),colorRange:n==="inbuilt"?o:[r[0],r[1]]}}},{isDefined:TRe,ChartAxisDirection:tc,PolarAxis:ARe,diff:kRe,fixNumericExtent:CRe,groupAccumulativeValueProperty:tV,keyProperty:DRe,mergeDefaults:LRe,normaliseGroupTo:ERe,resetLabelFn:ORe,seriesLabelFadeInAnimation:jRe,seriesLabelFadeOutAnimation:RRe,valueProperty:PRe,animationValidation:zRe,formatValue:_Re,SeriesNodePickMode:iV}=K,{BandScale:FRe}=ki,{motion:nV}=ae,{isNumber:BRe,normalizeAngle360:sV,sanitizeHtml:aV}=Me,VRe=class extends K.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},WX=class extends K.PolarSeries{constructor(e,{animationResetFns:t}){super({moduleCtx:e,useLabelLayer:!0,canHaveAxes:!0,pickModes:[iV.NEAREST_NODE,iV.EXACT_SHAPE_MATCH],animationResetFns:{...t,label:ORe}}),this.NodeEvent=VRe,this.groupScale=new FRe,this.circleCache={r:0,cx:0,cy:0}}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===tc.X)return t.getDomain(this,"angleValue","key",i);{const n=t.getDomain(this,"radiusValue-end","value",i),s=[n[0]>0?0:n[0],n[1]<0?0:n[1]];return CRe(s)}}async processData(e){var f,g;const{angleKey:t,radiusKey:i,normalizedTo:n,visible:s}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid()||!(s||a))return;const o=this.getStackId(),r=`${o}-trailing`,l=[];TRe(n)&&l.push(ERe([o,r],Math.abs(n),"range")),a&&this.processedData&&l.push(kRe(this.processedData)),a&&l.push(zRe());const c=s||!a?{}:{forceValue:0},u=(f=this.axes[tc.Y])==null?void 0:f.scale.type,h=(g=this.axes[tc.X])==null?void 0:g.scale.type;await this.requestDataModel(e,this.data,{props:[DRe(t,h,{id:"angleValue"}),PRe(i,u,{id:"radiusValue-raw",invalidValue:null,...c}),...tV(i,"normal","current",{id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:o,separateNegative:!0,...c},u),...tV(i,"trailing","current",{id:"radiusValue-start",invalidValue:null,groupId:r,separateNegative:!0,...c},u),...l]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,n=this.circleCache;return e===n.r&&t===n.cx&&i===n.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}isRadiusAxisReversed(){var e;return(e=this.axes[tc.Y])==null?void 0:e.isReversed()}async maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=await this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[tc.Y];return e instanceof ARe?this.radius*e.innerRadiusRatio:0}async createNodeData(){const{processedData:e,dataModel:t,groupScale:i}=this;if(!e||!t||!this.properties.isValid())return;const n=this.axes[tc.X],s=this.axes[tc.Y],a=n==null?void 0:n.scale,o=s==null?void 0:s.scale;if(!a||!o)return;const r=t.resolveProcessedDataIndexById(this,"radiusValue-start"),l=t.resolveProcessedDataIndexById(this,"radiusValue-end"),c=t.resolveProcessedDataIndexById(this,"radiusValue-range"),u=t.resolveProcessedDataIndexById(this,"radiusValue-raw");let h=0,f=0;n instanceof Mp&&(h=n.groupPaddingInner,f=n.paddingInner);const x=(a.bandwidth??0)*(1-f),{index:y,visibleGroupCount:b}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:b}).map((H,B)=>String(B)),i.range=[-x/2,x/2],i.paddingInner=b>1?h:0;const v=this.isRadiusAxisReversed(),S=v?this.radius:this.getAxisInnerRadius(),N=v?this.getAxisInnerRadius():this.radius,M=N+S,{angleKey:I,radiusKey:C,angleName:L,radiusName:O,label:P}=this.properties,z=(H,B,$,Q)=>{const X=this.getLabelText(P,{value:B,datum:H,angleKey:I,radiusKey:C,angleName:L,radiusName:O},_Re);if(X)return{x:$,y:Q,text:X,textAlign:"center",textBaseline:"middle"}},V=[],G={itemId:C,nodeData:V,labelData:V};return this.visible?(e.data.forEach((H,B,$)=>{const{datum:Q,keys:X,values:Y,aggValues:q}=H,Z=X[0],W=Y[u],ee=W>=0&&!Object.is(W,-0),oe=Y[r],fe=Y[l],ue=(q==null?void 0:q[c][ee?1:0])??0,de=ee===v;if(oe===void 0||fe===void 0)return;let te,he;if($.length===1)te=-.5*Math.PI,he=1.5*Math.PI;else{const Ze=a.convert(Z);te=sV(Ze+i.convert(String(y))),he=sV(te+i.bandwidth)}const ge=te+i.bandwidth/2,xe=M-o.convert(oe),be=M-o.convert(fe),ye=(xe+be)/2,we=M-o.convert(0),_e=M-o.convert(ue),Le=Math.cos(ge)*ye,Ke=Math.sin(ge)*ye,$e=this.properties.label.enabled?z(Q,W,Le,Ke):void 0,He=this.getColumnWidth(te,he);V.push({series:this,datum:Q,point:{x:Le,y:Ke,size:0},midPoint:{x:Le,y:Ke},label:$e,angleValue:Z,radiusValue:W,negative:de,innerRadius:xe,outerRadius:be,stackInnerRadius:we,stackOuterRadius:_e,startAngle:te,endAngle:he,axisInnerRadius:S,axisOuterRadius:N,columnWidth:He,index:B})}),{itemId:C,nodeData:V,labelData:V}):G}getColumnWidth(e,t){return NaN}async update({seriesRect:e}){const t=this.checkResize(e);await this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}updateSectorSelection(e,t){var x;let i=[];if(t){const y=(x=this.ctx.highlightManager)==null?void 0:x.getActiveHighlight();y!=null&&y.datum&&y.series===this&&(i=[y])}else i=this.nodeData;const{fill:n,fillOpacity:s,stroke:a,strokeOpacity:o,strokeWidth:r,lineDash:l,lineDashOffset:c,cornerRadius:u,angleKey:h,radiusKey:f}=LRe(t?this.properties.highlightStyle.item:null,this.properties),g=y=>y.angleValue;e.update(i,void 0,g).each((y,b)=>{const v=this.properties.itemStyler?this.ctx.callbackCache.call(this.properties.itemStyler,{datum:b.datum,fill:n,fillOpacity:s,stroke:a,strokeWidth:r,strokeOpacity:o,lineDash:l,lineDashOffset:c,cornerRadius:u,highlighted:t,angleKey:h,radiusKey:f,seriesId:this.id}):void 0;this.updateItemPath(y,b,t,v),y.fill=(v==null?void 0:v.fill)??n,y.fillOpacity=(v==null?void 0:v.fillOpacity)??s,y.stroke=(v==null?void 0:v.stroke)??a,y.strokeWidth=(v==null?void 0:v.strokeWidth)??r,y.strokeOpacity=(v==null?void 0:v.strokeOpacity)??o,y.lineDash=(v==null?void 0:v.lineDash)??l,y.lineDashOffset=(v==null?void 0:v.lineDashOffset)??c,y.cornerRadius=(v==null?void 0:v.cornerRadius)??u,y.lineJoin="round"})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getColumnTransitionFunctions();nV.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),jRe(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getColumnTransitionFunctions();nV.fromToMotion(this.id,"datums",t,[e],i),RRe(this,"labels",t,this.labelSelection)}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{angleKey:s,radiusKey:a,angleName:o,radiusName:r,fill:l,fillOpacity:c,stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,cornerRadius:y,itemStyler:b,tooltip:v}=this.properties,{angleValue:S,radiusValue:N,datum:M,itemId:I}=e,C=i[tc.X],L=i[tc.Y];if(!this.properties.isValid()||!(C&&L&&BRe(N))||!n)return K.EMPTY_TOOLTIP_CONTENT;const O=C.formatDatum(S),P=L.formatDatum(N),z=aV(r),V=aV(`${O}: ${P}`),{fill:G}=(b&&this.ctx.callbackCache.call(b,{highlighted:!1,seriesId:t,datum:M,angleKey:s,radiusKey:a,fill:l,fillOpacity:c,stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,cornerRadius:y}))??{fill:l};return v.toTooltipHtml({title:z,backgroundColor:l,content:V},{seriesId:t,datum:M,color:G,title:z,angleKey:s,radiusKey:a,angleName:o,radiusName:r,angleValue:S,itemId:I,radiusValue:N})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}getLegendData(e){var c;if(!((c=this.data)!=null&&c.length)||!this.properties.isValid()||e!=="category")return[];const{radiusKey:t,radiusName:i,fill:n,stroke:s,fillOpacity:a,strokeOpacity:o,strokeWidth:r,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:i??t},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:a??1,strokeOpacity:o??1,strokeWidth:r}}]}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:n}=e;n.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s}=e,o=n.id===this.id||t&&s===1;this.toggleSeriesItem(i,o)}computeLabelsBBox(){return null}},{Label:URe}=ae,{SeriesProperties:GRe,SeriesTooltip:WRe,Validate:Fn,COLOR_STRING:HX,DEGREE:HRe,FUNCTION:YRe,LINE_DASH:$Re,NUMBER:KRe,OBJECT:YX,POSITIVE_NUMBER:wR,RATIO:$X,STRING:yv}=K,sn=class extends GRe{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new URe,this.tooltip=new WRe}};A([Fn(yv)],sn.prototype,"angleKey");A([Fn(yv,{optional:!0})],sn.prototype,"angleName");A([Fn(yv)],sn.prototype,"radiusKey");A([Fn(yv,{optional:!0})],sn.prototype,"radiusName");A([Fn(HX)],sn.prototype,"fill");A([Fn($X)],sn.prototype,"fillOpacity");A([Fn(HX)],sn.prototype,"stroke");A([Fn(wR)],sn.prototype,"strokeWidth");A([Fn($X)],sn.prototype,"strokeOpacity");A([Fn($Re)],sn.prototype,"lineDash");A([Fn(wR)],sn.prototype,"lineDashOffset");A([Fn(wR)],sn.prototype,"cornerRadius");A([Fn(YRe,{optional:!0})],sn.prototype,"itemStyler");A([Fn(HRe)],sn.prototype,"rotation");A([Fn(yv,{optional:!0})],sn.prototype,"stackGroup");A([Fn(KRe,{optional:!0})],sn.prototype,"normalizedTo");A([Fn(YX)],sn.prototype,"label");A([Fn(YX)],sn.prototype,"tooltip");var{motion:ZRe}=ae;function KX(){const e={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],i=(o,r,l)=>{t.forEach(c=>{var x;const u=e[c];let h=(l==="removed"||l==="updated"?o:r)[c],f=(l==="removed"?o:r)[c];isNaN(f)&&(f=((x=o.previousDatum)==null?void 0:x[c])??NaN);const g=h-f;Math.abs(g)>Math.PI&&(h-=Math.sign(g)*2*Math.PI),u.set(r,{from:h,to:f})})},n=(o,r)=>({startAngle:e.startAngle.get(o)[r],endAngle:e.endAngle.get(o)[r]});return{calculate:i,from:o=>n(o,"from"),to:o=>n(o,"to")}}function ZX(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.startAngle)||isNaN(e.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function qRe(e){const t=KX();return{toFn:(s,a,o)=>{const{startAngle:r,endAngle:l}=t.to(a);let c,u,h,f,g;return o==="removed"?(c=s.innerRadius,u=s.innerRadius,h=s.columnWidth,f=s.axisInnerRadius,g=s.axisOuterRadius):(c=isNaN(a.innerRadius)?e:a.innerRadius,u=isNaN(a.outerRadius)?e:a.outerRadius,h=isNaN(a.columnWidth)?s.columnWidth:a.columnWidth,f=a.axisInnerRadius,g=a.axisOuterRadius),{innerRadius:c,outerRadius:u,columnWidth:h,axisInnerRadius:f,axisOuterRadius:g,startAngle:r,endAngle:l}},fromFn:(s,a,o)=>{o=ZX(s,a,o),t.calculate(s,a,o);const{startAngle:r,endAngle:l}=t.from(a);let c,u,h,f,g;o==="removed"||o==="updated"?(c=s.innerRadius,u=s.outerRadius,h=s.columnWidth,f=s.axisInnerRadius,g=s.axisOuterRadius):(c=e,u=e,h=a.columnWidth,f=a.axisInnerRadius,g=a.axisOuterRadius);const x=ZRe.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o];return{innerRadius:c,outerRadius:u,columnWidth:h,axisInnerRadius:f,axisOuterRadius:g,startAngle:r,endAngle:l,phase:x}}}}function XRe(e,{innerRadius:t,outerRadius:i,columnWidth:n,axisInnerRadius:s,axisOuterRadius:a,startAngle:o,endAngle:r}){return{innerRadius:t,outerRadius:i,columnWidth:n,axisInnerRadius:s,axisOuterRadius:a,startAngle:o,endAngle:r}}var{SectorBox:mw,motion:QRe}=ae;function SR(e){const{negative:t,innerRadius:i,outerRadius:n,stackInnerRadius:s,stackOuterRadius:a}=e;return{innerRadius:t?a:s,outerRadius:t?s:a,clipInnerRadius:t?n:i,clipOuterRadius:t?i:n}}function JRe(e){const t=KX();return{toFn:(s,a,o)=>{const{startAngle:r,endAngle:l}=t.to(a);let c,u,h;if(o==="removed")c=e,u=e,h=new mw(r,l,c,u);else{let f,g;({innerRadius:c,outerRadius:u,clipInnerRadius:f,clipOuterRadius:g}=SR(a)),isNaN(c)&&(c=e),isNaN(u)&&(u=e),isNaN(f)&&(f=e),isNaN(g)&&(g=e),h=new mw(r,l,f,g)}return{innerRadius:c,outerRadius:u,startAngle:r,endAngle:l,clipSector:h}},fromFn:(s,a,o)=>{o=ZX(s,a,o),t.calculate(s,a,o);const{startAngle:r,endAngle:l}=t.from(a);let c,u,h;o==="removed"||o==="updated"?(c=s.innerRadius,u=s.outerRadius,h=s.clipSector):(c=e,u=e),h??(h=new mw(r,l,c,u));const f=QRe.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o];return{innerRadius:c,outerRadius:u,startAngle:r,endAngle:l,clipSector:h,phase:f}}}}function ePe(e,t){const{startAngle:i,endAngle:n}=t,{innerRadius:s,outerRadius:a,clipInnerRadius:o,clipOuterRadius:r}=SR(t),l=new mw(i,n,o,r);return{innerRadius:s,outerRadius:a,startAngle:i,endAngle:n,clipSector:l}}var{Sector:tPe,SectorBox:iPe}=ae,NR=class extends WX{constructor(e){super(e,{animationResetFns:{item:ePe}}),this.properties=new sn}getStackId(){var t;return`nightingale-stack-${((t=this.seriesGrouping)==null?void 0:t.groupIndex)??this.id}-yValues`}nodeFactory(){return new tPe}updateItemPath(e,t,i,n){const{negative:s}=t;if(e.centerX=0,e.centerY=0,e.startOuterCornerRadius=s?0:this.properties.cornerRadius,e.endOuterCornerRadius=s?0:this.properties.cornerRadius,e.startInnerCornerRadius=s?this.properties.cornerRadius:0,e.endInnerCornerRadius=s?this.properties.cornerRadius:0,i){const{startAngle:a,endAngle:o}=t,{innerRadius:r,outerRadius:l,clipInnerRadius:c,clipOuterRadius:u}=SR(t);e.innerRadius=r,e.outerRadius=l,e.startAngle=a,e.endAngle=o,e.clipSector=new iPe(a,o,c,u)}}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return JRe(e)}};NR.className="NightingaleSeries";NR.type="nightingale";var nPe={series:{strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_LABEL_COLOUR}},axes:{[se.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:se.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[se.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:se.POLAR_AXIS_SHAPE.CIRCLE}}},sPe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",moduleFactory:e=>new NR(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:se.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:se.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:nPe,paletteFactory({takeColors:e,userPalette:t}){const{fills:[i],strokes:[n]}=e(1);return{fill:i,stroke:t!=="inbuilt"?n:se.DEFAULT_POLAR_SERIES_STROKE}},stackable:!0,groupable:!0,stackedByDefault:!0},aPe=class extends Kc{constructor(){super(),this.append([new ae.Line({tag:0}),new ae.Line({tag:1}),new ae.Line({tag:2})])}updateCoordinates(){const{x:e,y:t,yBottom:i,yHigh:n,yLow:s,width:a,height:o,datum:{itemId:r}}=this,l=ae.Selection.select(this,ae.Rect),[c]=l.selectByTag(0),[u]=l.selectByTag(1),[h]=l.selectByTag(2);if(a===0||o===0){c.visible=!1,u.visible=!1,h.visible=!1;return}c.visible=!0,u.visible=!0,h.visible=!0;const f=a/2;c.setProperties({x1:Math.floor(e+f),x2:Math.floor(e+f),y1:n,y2:s});const g=r==="up",x=g?i:t,y=g?t:i;u.setProperties({x1:Math.floor(e),x2:Math.floor(e+f),y:Math.round(x)}),h.setProperties({x1:Math.floor(e+f),x2:Math.floor(e+a),y:Math.round(y)})}updateDatumStyles(e,t){const i=ae.Selection.select(this,ae.Rect),[n]=i.selectByTag(0),[s]=i.selectByTag(1),[a]=i.selectByTag(2);n.setProperties(t),s.setProperties(t),a.setProperties(t)}},{BaseProperties:qX,Validate:Pl,COLOR_STRING:oPe,FUNCTION:XX,LINE_DASH:rPe,OBJECT:MR,POSITIVE_NUMBER:QX,RATIO:lPe}=K,md=class extends qX{constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([Pl(oPe)],md.prototype,"stroke");A([Pl(QX)],md.prototype,"strokeWidth");A([Pl(lPe)],md.prototype,"strokeOpacity");A([Pl(rPe)],md.prototype,"lineDash");A([Pl(QX)],md.prototype,"lineDashOffset");A([Pl(XX,{optional:!0})],md.prototype,"itemStyler");var IR=class extends qX{constructor(){super(...arguments),this.up=new md,this.down=new md}};A([Pl(MR)],IR.prototype,"up");A([Pl(MR)],IR.prototype,"down");var TR=class extends ks{constructor(){super(...arguments),this.item=new IR}};A([Pl(MR)],TR.prototype,"item");A([Pl(XX,{optional:!0})],TR.prototype,"itemStyler");var{mergeDefaults:oV}=K,AR=class extends Vq{constructor(e){super(e,Fq),this.properties=new TR}async createNodeData(){const e=this.createBaseNodeData();if(!e)return;const t=e.nodeData.map(i=>{const{stroke:n,strokeWidth:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=this.getItemConfig(i.itemId);return{...i,stroke:n,strokeWidth:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}});return{...e,nodeData:t}}getFormattedStyles(e,t=!1){const{id:i,ctx:{callbackCache:n}}=this,{xKey:s,openKey:a,closeKey:o,highKey:r,lowKey:l,itemStyler:c}=this.properties,{stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,lineDashOffset:x}=this.getItemConfig(e.itemId);if(c){const y=n.call(c,{datum:e.datum,itemId:e.itemId,seriesId:i,highlighted:t,xKey:s,openKey:a,closeKey:o,highKey:r,lowKey:l,stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,lineDashOffset:x});if(y)return oV(y,this.getSeriesStyles(e))}return this.getSeriesStyles(e)}nodeFactory(){return new aPe}getSeriesStyles(e){const{stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:s,lineDashOffset:a}=e;return{stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:s,lineDashOffset:a}}getActiveStyles(e,t){const i=this.getFormattedStyles(e,t);return t?oV(this.properties.highlightStyle.item,i):i}computeFocusBounds(e){return Bq(this,e)}};AR.className="ohlc";AR.type="ohlc";var cPe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",moduleFactory:e=>new AR(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.ORDINAL_TIME,position:se.CARTESIAN_POSITION.BOTTOM}],themeTemplate:{animation:{enabled:!1},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[se.CARTESIAN_AXIS_TYPE.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},groupable:!1,paletteFactory:({takeColors:e,colorsCount:t,userPalette:i,palette:n})=>{if(i==="user-indexed"){const{strokes:[s]}=e(t);return{item:{up:{stroke:s},down:{stroke:s}}}}return{item:{up:{stroke:n.up.stroke},down:{stroke:n.down.stroke}}}}},{Label:JX,DropShadow:uPe}=ae,{SeriesProperties:dPe,SeriesTooltip:hPe,Validate:an,UNION:pPe,COLOR_STRING_ARRAY:eQ,FUNCTION:fPe,DIRECTION:mPe,BOOLEAN:gPe,LINE_DASH:yPe,OBJECT:SM,NUMBER:xPe,POSITIVE_NUMBER:NM,RATIO:tQ,STRING:iQ}=K,bPe=class extends JX{},kR=class extends JX{constructor(){super(...arguments),this.spacing=0}};A([an(xPe)],kR.prototype,"spacing");A([an(pPe(["before","after"],"a placement"))],kR.prototype,"placement");var wn=class extends dPe{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.direction="vertical",this.reverse=void 0,this.spacing=0,this.aspectRatio=void 0,this.shadow=new uPe().set({enabled:!1}),this.label=new bPe,this.stageLabel=new kR,this.tooltip=new hPe}};A([an(iQ)],wn.prototype,"stageKey");A([an(iQ)],wn.prototype,"valueKey");A([an(eQ)],wn.prototype,"fills");A([an(tQ)],wn.prototype,"fillOpacity");A([an(eQ)],wn.prototype,"strokes");A([an(NM)],wn.prototype,"strokeWidth");A([an(tQ)],wn.prototype,"strokeOpacity");A([an(yPe)],wn.prototype,"lineDash");A([an(NM)],wn.prototype,"lineDashOffset");A([an(mPe)],wn.prototype,"direction");A([an(gPe,{optional:!0})],wn.prototype,"reverse");A([an(NM)],wn.prototype,"spacing");A([an(NM,{optional:!0})],wn.prototype,"aspectRatio");A([an(fPe,{optional:!0})],wn.prototype,"itemStyler");A([an(SM)],wn.prototype,"shadow");A([an(SM)],wn.prototype,"label");A([an(SM)],wn.prototype,"stageLabel");A([an(SM)],wn.prototype,"tooltip");var{valueProperty:rV,SeriesNodePickMode:lV,CachedTextMeasurerPool:vPe,TextUtils:wPe}=K,{BBox:vk,Group:wk,Selection:V1,Text:cV,PointerEvents:uV}=ae,{sanitizeHtml:dV}=Me,SPe=class extends K.DataModelSeries{constructor(e){super({moduleCtx:e,pickModes:[lV.EXACT_SHAPE_MATCH,lV.NEAREST_NODE]}),this.properties=new wn,this.itemGroup=this.contentGroup.appendChild(new wk({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new wk({name:"itemLabelGroup"})),this.stageLabelGroup=this.contentGroup.appendChild(new wk({name:"stageLabelGroup"})),this.datumSelection=V1.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=V1.select(this.itemLabelGroup,cV),this.stageLabelSelection=V1.select(this.stageLabelGroup,cV),this.highlightDatumSelection=V1.select(this.highlightNode,()=>this.nodeFactory()),this.itemLabelGroup.pointerEvents=uV.None,this.stageLabelGroup.pointerEvents=uV.None}nodeFactory(){return new El}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}async processData(e){if(this.data==null||!this.properties.isValid())return;const{stageKey:t,valueKey:i}=this.properties,n="band",s="number",a=this.visible?{}:{forceValue:0};await this.requestDataModel(e,this.data,{props:[rV(t,n,{id:"xValue"}),rV(i,s,{id:"yValue",...a})]})}async createNodeData(){var q,Z;const{id:e,dataModel:t,processedData:i,properties:n}=this,{stageKey:s,valueKey:a,fills:o,strokes:r,direction:l,reverse:c=l==="horizontal",spacing:u,aspectRatio:h,label:f,stageLabel:g}=n;if(t==null||i==null)return;const x=l==="horizontal",y=t.resolveProcessedDataIndexById(this,"xValue"),b=t.resolveProcessedDataIndexById(this,"yValue"),v=vPe.getMeasurer({font:g.getFont()});let S,N;x?(S="center",N=g.placement==="before"?"bottom":"top"):(S=g.placement==="after"?"left":"right",N="middle");const M=g.enabled?[]:void 0;let I=0,C=0,L=0;i.data.forEach(({datum:W,values:ee})=>{const oe=ee[y],fe=Number(ee[b]);if(L+=fe,M==null)return;const ue=this.getLabelText(this.properties.stageLabel,{datum:W,value:oe,stageKey:s,valueKey:a}),{width:de}=v.measureText(ue),te=ue.split(`
`).length*wPe.getLineHeight(f.fontSize);I=Math.max(I,de),C=Math.max(C,te),M.push({x:NaN,y:NaN,text:ue,textAlign:S,textBaseline:N})});const O=((q=this._nodeDataDependencies)==null?void 0:q.seriesRectWidth)??0,P=((Z=this._nodeDataDependencies)==null?void 0:Z.seriesRectHeight)??0,z=u*(i.data.length-1);let V;if(x){const W=C+g.spacing;V=new vk(0,g.placement==="before"?W:0,O,P-W)}else{const W=I+g.spacing;V=new vk(g.placement==="after"?0:W,0,O-W,P)}if(h!=null&&h!==0){const W=l==="horizontal"?1/h:h,ee=Math.min(V.width,V.height*W),oe=ee/W;V=new vk(V.x+(V.width-ee)/2,V.y+(V.height-oe)/2,ee,oe)}let G,H;x?H=g.placement==="before"?V.y-g.spacing:V.y+V.height+g.spacing:G=g.placement==="after"?V.x+V.width+g.spacing:V.x-g.spacing;const B=V.width-(x?z:0),$=V.height-(x?0:z);if(B<0||$<0)return;const Q=[],X=[];let Y=0;return i.data.forEach(({datum:W,values:ee},oe)=>{const fe=ee[y],ue=Number(ee[b]),de=Y+ue,te=(Y+de)/(2*L),he=(de-Y)/L,ge=x?B*te+u*oe:B*.5,xe=x?$*.5:$*te+u*oe,be=V.x+ge,ye=V.y+xe;if(M!=null){const Je=M[oe];Je.x=G??be,Je.y=H??ye}let we,_e,Le,Ke;if(x){const Je=B*he;we=Je,Le=Je;const Mt=(ge+Je/2)*($/V.width),xi=(ge-Je/2)*($/V.width);_e=c?V.height-Mt:Mt,Ke=c?V.height-xi:xi}else{const Je=$*he;_e=Je,Ke=Je;const Mt=(xe-Je/2)*(B/V.height),xi=(xe+Je/2)*(B/V.height);we=c?V.width-Mt:Mt,Le=c?V.width-xi:xi}const $e=this.getLabelText(f,{datum:W,value:ue,stageKey:s,valueKey:a}),He={x:be,y:ye,text:$e,textAlign:"center",textBaseline:"middle"};X.push(He);const Ze=o[oe%o.length]??"black",at=r[oe%r.length]??"black";Q.push({series:this,itemId:a,datum:W,index:oe,xValue:fe,yValue:ue,x:be,y:ye,fill:Ze,stroke:at,top:we,right:_e,bottom:Le,left:Ke,label:He}),Y=de}),{itemId:e,nodeData:Q,labelData:X,stageLabelData:M}}async updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}async update({seriesRect:e}){var c,u,h,f;this.checkResize(e);const{datumSelection:t,labelSelection:i,stageLabelSelection:n,highlightDatumSelection:s}=this;await this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let a=(c=this.ctx.highlightManager)==null?void 0:c.getActiveHighlight();a!=null&&(a.series!==this||a.datum==null)&&(a=void 0);const o=((u=this.contextNodeData)==null?void 0:u.nodeData)??[],r=((h=this.contextNodeData)==null?void 0:h.labelData)??[],l=((f=this.contextNodeData)==null?void 0:f.stageLabelData)??[];this.datumSelection=await this.updateDatumSelection({nodeData:o,datumSelection:t}),await this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.labelSelection=await this.updateLabelSelection({labelData:r,labelSelection:i}),await this.updateLabelNodes({labelSelection:i}),this.stageLabelSelection=await this.updateStageLabelSelection({stageLabelData:l,stageLabelSelection:n}),await this.updateStageLabelNodes({stageLabelSelection:n}),this.highlightDatumSelection=await this.updateDatumSelection({nodeData:a!=null?[a]:[],datumSelection:s}),await this.updateDatumNodes({datumSelection:s,isHighlight:!0})}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData)}async updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{properties:n}=this,{stageKey:s,valueKey:a,shadow:o,itemStyler:r}=this.properties,l=i?this.properties.highlightStyle.item:void 0;t.each((c,u)=>{const{x:h,y:f,top:g,right:x,bottom:y,left:b}=u;c.x0=h-g/2,c.x1=h+g/2,c.x2=h+y/2,c.x3=h-y/2,c.y0=f-b/2,c.y1=f-x/2,c.y2=f+x/2,c.y3=f+b/2;const v=(l==null?void 0:l.fill)??u.fill,S=(l==null?void 0:l.fillOpacity)??n.fillOpacity,N=(l==null?void 0:l.stroke)??u.stroke,M=(l==null?void 0:l.strokeOpacity)??n.strokeOpacity,I=(l==null?void 0:l.strokeWidth)??n.strokeWidth,C=(l==null?void 0:l.lineDash)??n.lineDash,L=(l==null?void 0:l.lineDashOffset)??n.lineDashOffset;let O;r!=null&&(O=r({datum:u.datum,seriesId:this.id,highlighted:i,stageKey:s,valueKey:a,fill:v,fillOpacity:S,stroke:N,strokeOpacity:M,strokeWidth:I,lineDash:C,lineDashOffset:L})),c.fill=(O==null?void 0:O.fill)??v,c.fillOpacity=(O==null?void 0:O.fillOpacity)??S,c.stroke=(O==null?void 0:O.stroke)??N,c.strokeOpacity=(O==null?void 0:O.strokeOpacity)??M,c.strokeWidth=(O==null?void 0:O.strokeWidth)??I,c.lineDash=(O==null?void 0:O.lineDash)??C,c.lineDashOffset=(O==null?void 0:O.lineDashOffset)??L,c.fillShadow=o})}async updateLabelSelection(e){return e.labelSelection.update(this.properties.label.enabled?e.labelData:[])}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontSize:n,fontStyle:s,fontWeight:a,fontFamily:o}=this.properties.label;t.each((r,{x:l,y:c,text:u,textAlign:h,textBaseline:f})=>{r.visible=!0,r.x=l,r.y=c,r.text=u,r.fill=i,r.fontStyle=s,r.fontWeight=a,r.fontSize=n,r.fontFamily=o,r.textAlign=h,r.textBaseline=f})}async updateStageLabelSelection(e){return e.stageLabelSelection.update(e.stageLabelData)}async updateStageLabelNodes(e){const{stageLabelSelection:t}=e,{color:i,fontSize:n,fontStyle:s,fontWeight:a,fontFamily:o}=this.properties.stageLabel;t.each((r,{x:l,y:c,text:u,textAlign:h,textBaseline:f})=>{r.visible=!0,r.x=l,r.y=c,r.text=u,r.fill=i,r.fontStyle=s,r.fontWeight=a,r.fontSize=n,r.fontFamily=o,r.textAlign=h,r.textBaseline=f})}resetAnimation(e){}computeFocusBounds(e){var i;const t=(i=this.getNodeData())==null?void 0:i[e.datumIndex];if(t!==void 0){for(const n of this.datumSelection)if(n.datum===t)return n.node}}getTooltipHtml(e){const{id:t,ctx:{callbackCache:i}}=this;if(!this.properties.isValid())return K.EMPTY_TOOLTIP_CONTENT;const{stageKey:n,valueKey:s,itemStyler:a,tooltip:o}=this.properties,{strokeWidth:r,fillOpacity:l,strokeOpacity:c,lineDash:u,lineDashOffset:h}=this.properties,{datum:f,xValue:g,yValue:x,fill:y,stroke:b}=e;let v;a&&(v=i.call(a,{highlighted:!1,seriesId:t,datum:f,stageKey:n,valueKey:s,fill:y,fillOpacity:l,stroke:b,strokeWidth:r,strokeOpacity:c,lineDash:u,lineDashOffset:h}));const S=(v==null?void 0:v.fill)??y??"gray",N=dV(String(g)),M=dV(String(x)),I={title:N,content:M,backgroundColor:S};return o.toTooltipHtml(I,{itemId:void 0,datum:f,stageKey:n,valueKey:s,color:S,seriesId:t,title:N})}getLabelData(){return[]}getSeriesDomain(e){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(e,t);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}getLegendData(e){return[]}},NPe={series:{direction:"vertical",strokeWidth:0,spacing:2,label:{enabled:!0,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_INSIDE_SERIES_LABEL_COLOUR},stageLabel:{enabled:!0,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_LABEL_COLOUR,spacing:12}}},MPe={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"pyramid",moduleFactory:e=>new SPe(e),solo:!0,tooltipDefaults:{range:"exact"},themeTemplate:NPe,paletteFactory:({takeColors:e,colorsCount:t})=>{const{fills:i,strokes:n}=e(t);return{fills:i,strokes:n}}},nQ={series:{label:{enabled:!1,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_LABEL_COLOUR},marker:{enabled:!0,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[se.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{label:{padding:10}}}},IPe=K.mergeDefaults({series:{strokeWidth:2}},nQ),TPe=K.mergeDefaults({series:{fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},nQ),{Label:APe}=ae,{SeriesMarker:kPe,SeriesProperties:CPe,SeriesTooltip:DPe,Validate:La,BOOLEAN:LPe,COLOR_STRING:EPe,DEGREE:OPe,LINE_DASH:jPe,OBJECT:CR,POSITIVE_NUMBER:sQ,RATIO:RPe,STRING:MM}=K,Es=class extends CPe{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new kPe,this.label=new APe,this.tooltip=new DPe,this.connectMissingData=!1}};A([La(MM)],Es.prototype,"angleKey");A([La(MM)],Es.prototype,"radiusKey");A([La(MM,{optional:!0})],Es.prototype,"angleName");A([La(MM,{optional:!0})],Es.prototype,"radiusName");A([La(EPe)],Es.prototype,"stroke");A([La(sQ)],Es.prototype,"strokeWidth");A([La(RPe)],Es.prototype,"strokeOpacity");A([La(jPe)],Es.prototype,"lineDash");A([La(sQ)],Es.prototype,"lineDashOffset");A([La(OPe)],Es.prototype,"rotation");A([La(CR)],Es.prototype,"marker");A([La(CR)],Es.prototype,"label");A([La(CR)],Es.prototype,"tooltip");A([La(LPe)],Es.prototype,"connectMissingData");var{ChartAxisDirection:ic,PolarAxis:PPe,SeriesNodePickMode:hV,valueProperty:pV,fixNumericExtent:zPe,seriesLabelFadeInAnimation:_Pe,markerFadeInAnimation:FPe,resetMarkerFn:BPe,animationValidation:VPe,formatValue:UPe,computeMarkerFocusBounds:GPe}=K,{BBox:WPe,Group:HPe,Path:YPe,PointerEvents:$Pe,Selection:fV,Text:KPe,getMarker:ZPe}=ae,{extent:qPe,isNumberEqual:mV,sanitizeHtml:gV,toFixed:yV}=Me,XPe=class extends K.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},DR=class extends K.PolarSeries{constructor(e){super({moduleCtx:e,useLabelLayer:!0,pickModes:[hV.NEAREST_NODE,hV.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:BPe}}),this.properties=new Es,this.NodeEvent=XPe,this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0};const t=new HPe;this.contentGroup.append(t),this.lineSelection=fV.select(t,YPe),t.zIndexSubOrder=[()=>this._declarationOrder,1]}nodeFactory(){const{shape:e}=this.properties.marker,t=ZPe(e);return new t}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ic.X)return t.getDomain(this,"angleValue","value",i);{const n=t.getDomain(this,"radiusValue","value",i),s=qPe(n.length===0?n:[0].concat(n));return zPe(s)}}async processData(e){var o,r;if(!this.properties.isValid())return;const{angleKey:t,radiusKey:i}=this.properties,n=[];this.ctx.animationManager.isSkipped()||n.push(VPe());const s=(o=this.axes[ic.Y])==null?void 0:o.scale.type,a=(r=this.axes[ic.X])==null?void 0:r.scale.type;await this.requestDataModel(e,this.data,{props:[pV(t,a,{id:"angleValue"}),pV(i,s,{id:"radiusValue",invalidValue:void 0}),...n]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,n=this.circleCache;return e===n.r&&t===n.cx&&i===n.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}getAxisInnerRadius(){const e=this.axes[ic.Y];return e instanceof PPe?this.radius*e.innerRadiusRatio:0}async maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=await this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}async createNodeData(){var x,y;const{processedData:e,dataModel:t}=this;if(!e||!t||!this.properties.isValid())return;const{angleKey:i,radiusKey:n,angleName:s,radiusName:a,marker:o,label:r}=this.properties,l=(x=this.axes[ic.X])==null?void 0:x.scale,c=(y=this.axes[ic.Y])==null?void 0:y.scale;if(!l||!c)return;const u=t.resolveProcessedDataIndexById(this,"angleValue"),h=t.resolveProcessedDataIndexById(this,"radiusValue"),f=this.getAxisInnerRadius(),g=e.data.map(b=>{const{datum:v,values:S}=b,N=S[u],M=S[h],I=l.convert(N),C=this.radius+f-c.convert(M),L=Math.cos(I),O=Math.sin(I),P=L*C,z=O*C;let V;if(r.enabled){const G=this.getLabelText(r,{value:M,datum:v,angleKey:i,radiusKey:n,angleName:s,radiusName:a},UPe);if(G){let H="right";mV(L,0)?H="center":L>0&&(H="left");let B="bottom";mV(O,0)?B="middle":O>0&&(B="top"),V={x:P+L*o.size,y:z+O*o.size,text:G,textAlign:H,textBaseline:B}}}return{series:this,datum:v,point:{x:P,y:z,size:o.size},midPoint:{x:P,y:z},label:V,angleValue:N,radiusValue:M,missing:!Me.isNumber(I)||!Me.isNumber(C)}});return{itemId:n,nodeData:g,labelData:g}}async update({seriesRect:e}){var s;const t=this.checkResize(e),i=!this.ctx.animationManager.isSkipped(),{series:n}=((s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight())??{};this.highlightGroup.visible=(i||this.visible)&&n===this,await this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePathSelections(){const e=this.visible?[!0]:[];this.lineSelection.update(e)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=fV.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(e){return(e==null?void 0:e.fill)??this.properties.marker.fill}updateMarkers(e,t){var l;const{angleKey:i,radiusKey:n,marker:s,visible:a}=this.properties;let o=[];if(a&&s.shape&&s.enabled)if(t){const c=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight();c!=null&&c.datum&&(o=[c])}else o=this.nodeData;const r=t?this.properties.highlightStyle.item:void 0;e.update(o).each((c,u)=>{const h=this.getMarkerFill(r),f=(r==null?void 0:r.fillOpacity)??this.properties.marker.fillOpacity,g=(r==null?void 0:r.stroke)??s.stroke??this.properties.stroke,x=(r==null?void 0:r.strokeWidth)??s.strokeWidth??this.properties.strokeWidth??1,y=(r==null?void 0:r.strokeOpacity)??this.properties.marker.strokeOpacity,b=s.itemStyler?this.ctx.callbackCache.call(s.itemStyler,{datum:u.datum,angleKey:i,radiusKey:n,fill:h,fillOpacity:f,stroke:g,strokeWidth:x,strokeOpacity:y,shape:s.shape,size:s.size,highlighted:t,seriesId:this.id}):void 0;c.fill=(b==null?void 0:b.fill)??h,c.stroke=(b==null?void 0:b.stroke)??g,c.strokeWidth=(b==null?void 0:b.strokeWidth)??x,c.fillOpacity=(r==null?void 0:r.fillOpacity)??s.fillOpacity??1,c.strokeOpacity=s.strokeOpacity??this.properties.strokeOpacity??1,c.size=(b==null?void 0:b.size)??s.size;const{x:v,y:S}=u.point;c.x=v,c.y=S,c.visible=a&&c.size>0&&!isNaN(v)&&!isNaN(S)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getTooltipHtml(e){if(!this.properties.isValid())return K.EMPTY_TOOLTIP_CONTENT;const{id:t}=this,{angleKey:i,radiusKey:n,angleName:s,radiusName:a,marker:o,tooltip:r}=this.properties,{datum:l,angleValue:c,radiusValue:u,itemId:h}=e,f=typeof c=="number"?yV(c):String(c),g=typeof u=="number"?yV(u):String(u),x=gV(a),y=gV(`${f}: ${g}`),{itemStyler:b,fill:v,fillOpacity:S,stroke:N,strokeWidth:M=this.properties.strokeWidth,strokeOpacity:I,shape:C,size:L}=o,{fill:O}=(b&&this.ctx.callbackCache.call(b,{datum:l,angleKey:i,radiusKey:n,fill:v,fillOpacity:S,stroke:N,strokeWidth:M,strokeOpacity:I,shape:C,size:L,highlighted:!1,seriesId:t}))??{fill:v};return r.toTooltipHtml({title:x,content:y,backgroundColor:O},{datum:l,angleKey:i,angleName:s,radiusKey:n,radiusName:a,title:x,color:O,seriesId:t,itemId:h})}getLegendData(e){var c;if(!((c=this.data)!=null&&c.length)||!this.properties.isValid()||e!=="category")return[];const{radiusKey:t,radiusName:i,stroke:n,strokeWidth:s,strokeOpacity:a,lineDash:o,visible:r,marker:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:r,label:{text:i??t},symbols:[{marker:{shape:l.shape,fill:this.getMarkerFill()??l.stroke??n??"rgba(0, 0, 0, 0)",stroke:l.stroke??n??"rgba(0, 0, 0, 0)",fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??a??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled||s<=0},line:{stroke:n,strokeOpacity:a,strokeWidth:s,lineDash:o}}]}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:n}=e;n.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s}=e,o=n.id===this.id||t&&s===1;this.toggleSeriesItem(i,o)}pickNodeClosestDatum(e){var u;const{nodeData:t,centerX:i,centerY:n}=this,{x:s,y:a}=e,o=this.radius;if(Math.sqrt((s-i)**2+(a-n)**2)>o+this.properties.marker.size)return;let l=1/0,c;for(const h of t){const{point:{x:f=NaN,y:g=NaN}={}}=h;if(isNaN(f)||isNaN(g))continue;const x=Math.sqrt((e.x-f-i)**2+(e.y-g-n)**2);x<l&&(l=x,c=h)}if(c){const h=Math.max(l-(((u=c.point)==null?void 0:u.size)??0),0);return{datum:c,distance:h}}}async computeLabelsBBox(){const{label:e}=this.properties;await this.maybeRefreshNodeData();const t=[],i=new KPe;return this.nodeData.forEach(n=>{if(!e.enabled||!n.label)return;i.text=n.label.text,i.x=n.label.x,i.y=n.label.y,i.setFont(e),i.setAlign(n.label);const s=i.getBBox();t.push(s)}),t.length===0?null:WPe.merge(t)}getLineNode(){var e;return(e=this.lineSelection)==null?void 0:e.at(0)}beforePathAnimation(){const e=this.getLineNode();e.fill=void 0,e.lineJoin="round",e.lineCap="round",e.pointerEvents=$Pe.None,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset}getLinePoints(){const{nodeData:e,resetInvalidToZero:t}=this,{connectMissingData:i}=this.properties;if(e.length===0)return[];const n=this.axes[ic.Y],s=this.axes[ic.X],a=s==null?void 0:s.isReversed(),r=(n==null?void 0:n.isReversed())&&!a?[...e].reverse():e,l=[];let c=!1,u;return r.forEach((h,f)=>{let{x:g,y:x}=h.point;const y=isNaN(g)||isNaN(x);y||(u??(u=h)),y&&!i&&(g=0,x=0);const b=f===0||!t&&!i&&(y||c);l.push({x:g,y:x,moveTo:b}),c=y}),u!==void 0&&l.push({x:u.point.x,y:u.point.y,moveTo:!1}),l}animateSinglePath(e,t,i){const{path:n}=e;n.clear(!0);const s=this.getAxisInnerRadius(),a=this.axes[ic.Y],r=(a==null?void 0:a.isReversed())?this.radius+s-(a==null?void 0:a.scale.convert(0)):s;t.forEach(l=>{const{x:c,y:u,arc:h,radius:f=0,startAngle:g=0,endAngle:x=0,moveTo:y}=l,b=Math.atan2(u,c),v=r*Math.cos(b),S=r*Math.sin(b),N=i,M=v*(1-N)+c*N,I=S*(1-N)+u*N;h?n.arc(c,u,f,g,x):y?n.moveTo(M,I):n.lineTo(M,I)}),e.checkPathDirty()}animatePaths(e){const t=this.getLinePoints();this.animateSinglePath(this.getLineNode(),t,e)}animateEmptyUpdateReady(){const{itemSelection:e,labelSelection:t}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:n=>this.animatePaths(n),onStop:()=>this.animatePaths(1)}),FPe(this,i,"added",e),_Pe(this,"labels",i,t)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e),this.resetPaths()}animateReadyResize(e){super.animateReadyResize(e),this.resetPaths()}resetPaths(){const e=this.getLineNode();if(e){const{path:t}=e,i=this.getLinePoints();e.fill=void 0,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,t.clear(!0),i.forEach(({x:n,y:s,moveTo:a})=>{a?t.moveTo(n,s):t.lineTo(n,s)}),e.checkPathDirty()}}getFormattedMarkerStyle(e){const{angleKey:t,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,angleKey:t,radiusKey:i,highlighted:!0})}computeFocusBounds(e){return GPe(this,e)}};DR.className="RadarSeries";var{RATIO:QPe,COLOR_STRING:JPe,Validate:aQ}=K,LR=class extends Es{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};A([aQ(JPe)],LR.prototype,"fill");A([aQ(QPe)],LR.prototype,"fillOpacity");var{Group:e4e,Path:t4e,PointerEvents:i4e,Selection:n4e}=ae,{ChartAxisDirection:xV}=K,ER=class extends DR{constructor(e){super(e),this.properties=new LR,this.resetInvalidToZero=!0;const t=new e4e;t.zIndexSubOrder=[()=>this._declarationOrder,0],this.contentGroup.append(t),this.areaSelection=n4e.select(t,t4e)}updatePathSelections(){const e=this.visible?[!0]:[];this.areaSelection.update(e),super.updatePathSelections()}getAreaNode(){return this.areaSelection.at(0)}getMarkerFill(e){return(e==null?void 0:e.fill)??this.properties.marker.fill??this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const e=this.getAreaNode();e.fill=this.properties.fill,e.fillOpacity=this.properties.fillOpacity,e.pointerEvents=i4e.None,e.stroke=void 0}animatePaths(e){super.animatePaths(e),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),e)}getAreaPoints(){var o;const e=this.getLinePoints(),t=r=>{const l=this.axes[r];return l instanceof K.PolarAxis?l:void 0},i=t(xV.Y),n=t(xV.X);if(!(i==null?void 0:i.isReversed()))return e;const a=((o=n==null?void 0:n.getAxisLinePoints())==null?void 0:o.points)??[];return e.concat(...a)}resetPaths(){super.resetPaths();const e=this.getAreaNode();if(e){const{path:t}=e,i=this.getAreaPoints();e.fill=this.properties.fill,e.fillOpacity=this.properties.fillOpacity,e.stroke=void 0,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,e.lineJoin=e.lineCap="round",t.clear(!0),i.forEach(({x:n,y:s,moveTo:a,arc:o,radius:r=0,startAngle:l=0,endAngle:c=0})=>{o?t.arc(n,s,r,l,c):a?t.moveTo(n,s):t.lineTo(n,s)}),t.closePath(),e.checkPathDirty()}}};ER.className="RadarAreaSeries";ER.type="radar-area";var{markerPaletteFactory:s4e}=K,a4e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",moduleFactory:e=>new ER(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:se.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:se.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:TPe,paletteFactory:e=>{const{marker:t}=s4e(e);return{stroke:t.stroke,fill:t.fill,marker:t}}},OR=class extends DR{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};OR.className="RadarLineSeries";OR.type="radar-line";var o4e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",moduleFactory:e=>new OR(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:se.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:se.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:IPe,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{stroke:t,marker:{fill:t,stroke:i}}}},{Label:r4e}=ae,{SeriesProperties:l4e,SeriesTooltip:c4e,Validate:Bn,COLOR_STRING:oQ,DEGREE:u4e,FUNCTION:d4e,LINE_DASH:h4e,NUMBER:p4e,OBJECT:rQ,POSITIVE_NUMBER:jR,RATIO:lQ,STRING:xv}=K,Sn=class extends l4e{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new r4e,this.tooltip=new c4e}};A([Bn(xv)],Sn.prototype,"angleKey");A([Bn(xv)],Sn.prototype,"radiusKey");A([Bn(xv,{optional:!0})],Sn.prototype,"angleName");A([Bn(xv,{optional:!0})],Sn.prototype,"radiusName");A([Bn(oQ)],Sn.prototype,"fill");A([Bn(lQ)],Sn.prototype,"fillOpacity");A([Bn(oQ)],Sn.prototype,"stroke");A([Bn(jR)],Sn.prototype,"strokeWidth");A([Bn(lQ)],Sn.prototype,"strokeOpacity");A([Bn(h4e)],Sn.prototype,"lineDash");A([Bn(jR)],Sn.prototype,"lineDashOffset");A([Bn(jR)],Sn.prototype,"cornerRadius");A([Bn(d4e,{optional:!0})],Sn.prototype,"itemStyler");A([Bn(u4e)],Sn.prototype,"rotation");A([Bn(xv,{optional:!0})],Sn.prototype,"stackGroup");A([Bn(p4e,{optional:!0})],Sn.prototype,"normalizedTo");A([Bn(rQ)],Sn.prototype,"label");A([Bn(rQ)],Sn.prototype,"tooltip");var{SectorBox:bV,motion:f4e}=ae;function m4e(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.innerRadius)||isNaN(e.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function vV(e){return{toFn:(n,s,a)=>{let o,r,l,c,u;return a==="removed"?(o=e,r=e,l=s.innerRadius,c=s.outerRadius,u=new bV(o,r,l,c)):(o=s.startAngle,r=s.endAngle,l=isNaN(s.innerRadius)?n.innerRadius:s.innerRadius,c=isNaN(s.outerRadius)?n.outerRadius:s.outerRadius,u=s.clipSector),{startAngle:o,endAngle:r,innerRadius:l,outerRadius:c,clipSector:u}},fromFn:(n,s,a)=>{a=m4e(n,s,a);let o,r,l,c,u;a==="removed"||a==="updated"?(o=n.startAngle,r=n.endAngle,l=n.innerRadius,c=n.outerRadius,u=n.clipSector):(o=e,r=e,l=s.innerRadius,c=s.outerRadius),u??(u=new bV(o,r,l,c));const h=f4e.NODE_UPDATE_STATE_TO_PHASE_MAPPING[a];return{startAngle:o,endAngle:r,innerRadius:l,outerRadius:c,clipSector:u,phase:h}}}}function g4e(e,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle,clipSector:t.clipSector}}var{ChartAxisDirection:nc,PolarAxis:y4e,diff:x4e,isDefined:b4e,groupAccumulativeValueProperty:wV,keyProperty:v4e,mergeDefaults:w4e,normaliseGroupTo:S4e,valueProperty:N4e,fixNumericExtent:M4e,resetLabelFn:I4e,seriesLabelFadeInAnimation:T4e,seriesLabelFadeOutAnimation:A4e,animationValidation:k4e,formatValue:C4e}=K,{BandScale:D4e}=ki,{Sector:L4e,SectorBox:E4e,motion:SV}=ae,{angleBetween:O4e,isNumber:j4e,sanitizeHtml:NV}=Me,R4e=class extends K.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},RR=class extends K.PolarSeries{constructor(e){super({moduleCtx:e,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:g4e,label:I4e}}),this.properties=new Sn,this.NodeEvent=R4e,this.groupScale=new D4e,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new L4e}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===nc.X){const n=t.getDomain(this,"angleValue-end","value",i),s=[n[0]>0?0:n[0],n[1]<0?0:n[1]];return M4e(s)}else return t.getDomain(this,"radiusValue","key",i)}async processData(e){var f,g;const{angleKey:t,radiusKey:i,normalizedTo:n,visible:s}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid()||!(s||a))return;const o=this.getStackId(),r=`${o}-trailing`,l=[];b4e(n)&&l.push(S4e([o,r],Math.abs(n),"range")),a&&(this.processedData&&l.push(x4e(this.processedData)),l.push(k4e()));const c=this.visible||!a?{}:{forceValue:0},u=(f=this.axes[nc.Y])==null?void 0:f.scale.type,h=(g=this.axes[nc.X])==null?void 0:g.scale.type;await this.requestDataModel(e,this.data,{props:[v4e(i,u,{id:"radiusValue"}),N4e(t,h,{id:"angleValue-raw",invalidValue:null,...c}),...wV(t,"normal","current",{id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:o,separateNegative:!0,...c},h),...wV(t,"trailing","current",{id:"angleValue-start",invalidValue:null,groupId:r,separateNegative:!0,...c},h),...l]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,n=this.circleCache;return e===n.r&&t===n.cx&&i===n.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}async maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=await this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[nc.Y];return e instanceof y4e?this.radius*e.innerRadiusRatio:0}async createNodeData(){const{processedData:e,dataModel:t}=this;if(!e||!t||!this.properties.isValid())return;const i=this.axes[nc.X],n=this.axes[nc.Y],s=i==null?void 0:i.scale,a=n==null?void 0:n.scale;if(!s||!a)return;const o=t.resolveProcessedDataIndexById(this,"angleValue-start"),r=t.resolveProcessedDataIndexById(this,"angleValue-end"),l=t.resolveProcessedDataIndexById(this,"angleValue-range"),c=t.resolveProcessedDataIndexById(this,"angleValue-raw");let u=0;n instanceof Ip&&(u=n.groupPaddingInner);const{groupScale:h}=this,{index:f,visibleGroupCount:g}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);h.domain=Array.from({length:g}).map((G,H)=>String(H)),h.range=[0,Math.abs(a.bandwidth??0)],h.paddingInner=g>1?u:0;const x=h.bandwidth>=1?h.bandwidth:h.rawBandwidth,y=i.isReversed(),b=n.isReversed(),v=b?this.radius:this.getAxisInnerRadius(),N=(b?this.getAxisInnerRadius():this.radius)+v,{angleKey:M,radiusKey:I,angleName:C,radiusName:L,label:O}=this.properties,P=(G,H,B,$)=>{const Q=this.getLabelText(O,{value:H,datum:G,angleKey:M,radiusKey:I,angleName:C,radiusName:L},C4e);if(Q)return{x:B,y:$,text:Q,textAlign:"center",textBaseline:"middle"}},z=[],V={itemId:I,nodeData:z,labelData:z};return this.visible&&e.data.forEach((G,H)=>{const{datum:B,keys:$,values:Q,aggValues:X}=G,Y=$[0],q=Q[c],Z=q>=0&&!Object.is(q,-0),W=Q[o],ee=Q[r],oe=(X==null?void 0:X[l][Z?1:0])??0,fe=Z===y;let ue=s.convert(W,{clampMode:"clamped"}),de=s.convert(ee,{clampMode:"clamped"}),te=s.convert(0,{clampMode:"clamped"}),he=s.convert(oe,{clampMode:"clamped"});fe&&([te,he]=[he,te],[ue,de]=[de,ue]);const xe=N-a.convert(Y)+h.convert(String(f)),be=xe+x,ye=(xe+be)/2,we=ue+O4e(ue,de)/2,_e=Math.cos(we)*ye,Le=Math.sin(we)*ye,Ke=this.properties.label.enabled?P(B,q,_e,Le):void 0,$e=new E4e(ue,de,xe,be);z.push({series:this,datum:B,point:{x:_e,y:Le,size:0},midPoint:{x:_e,y:Le},label:Ke,angleValue:q,radiusValue:Y,innerRadius:xe,outerRadius:be,startAngle:te,endAngle:he,clipSector:$e,reversed:fe,index:H})}),V}async update({seriesRect:e}){const t=this.checkResize(e);await this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}updateSectorSelection(e,t){var x;let i=[];if(t){const y=(x=this.ctx.highlightManager)==null?void 0:x.getActiveHighlight();y!=null&&y.datum&&y.series===this&&(i=[y])}else i=this.nodeData;const{fill:n,fillOpacity:s,stroke:a,strokeOpacity:o,strokeWidth:r,lineDash:l,lineDashOffset:c,cornerRadius:u,angleKey:h,radiusKey:f}=w4e(t?this.properties.highlightStyle.item:null,this.properties),g=y=>y.radiusValue;e.update(i,void 0,g).each((y,b)=>{const v=this.properties.itemStyler?this.ctx.callbackCache.call(this.properties.itemStyler,{seriesId:this.id,datum:b.datum,highlighted:t,angleKey:h,radiusKey:f,fill:n,fillOpacity:s,stroke:a,strokeWidth:r,strokeOpacity:o,lineDash:l,lineDashOffset:c,cornerRadius:u}):void 0;y.fill=(v==null?void 0:v.fill)??n,y.fillOpacity=(v==null?void 0:v.fillOpacity)??s,y.stroke=(v==null?void 0:v.stroke)??a,y.strokeWidth=(v==null?void 0:v.strokeWidth)??r,y.strokeOpacity=(v==null?void 0:v.strokeOpacity)??o,y.lineDash=(v==null?void 0:v.lineDash)??l,y.lineDashOffset=(v==null?void 0:v.lineDashOffset)??c,y.lineJoin="round",y.inset=a!=null?((v==null?void 0:v.strokeWidth)??r)/2:0,y.startInnerCornerRadius=b.reversed?(v==null?void 0:v.cornerRadius)??u:0,y.startOuterCornerRadius=b.reversed?(v==null?void 0:v.cornerRadius)??u:0,y.endInnerCornerRadius=b.reversed?0:(v==null?void 0:v.cornerRadius)??u,y.endOuterCornerRadius=b.reversed?0:(v==null?void 0:v.cornerRadius)??u,t&&(y.startAngle=b.startAngle,y.endAngle=b.endAngle,y.clipSector=b.clipSector,y.innerRadius=b.innerRadius,y.outerRadius=b.outerRadius)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getBarTransitionFunctions(){var s;const e=(s=this.axes[nc.X])==null?void 0:s.scale;let t=0;if(!e)return vV(t);const i=Math.min(e.domain[0],e.domain[1]),n=Math.max(e.domain[0],e.domain[1]);return i<=0&&n>=0&&(t=e.convert(0)),vV(t)}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getBarTransitionFunctions();SV.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),T4e(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getBarTransitionFunctions();SV.fromToMotion(this.id,"datums",t,[e],i),A4e(this,"labels",t,this.labelSelection)}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{angleKey:s,angleName:a,radiusKey:o,radiusName:r,fill:l,fillOpacity:c,stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,cornerRadius:y,itemStyler:b,tooltip:v}=this.properties,{angleValue:S,radiusValue:N,datum:M,itemId:I}=e,C=i[nc.X],L=i[nc.Y];if(!this.properties.isValid()||!(C&&L&&j4e(S))||!n)return K.EMPTY_TOOLTIP_CONTENT;const O=C.formatDatum(S),P=L.formatDatum(N),z=NV(a),V=NV(`${P}: ${O}`),{fill:G}=(b&&this.ctx.callbackCache.call(b,{highlighted:!1,seriesId:t,datum:M,angleKey:s,radiusKey:o,fill:l,fillOpacity:c,stroke:u,strokeWidth:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,cornerRadius:y}))??{fill:l};return v.toTooltipHtml({title:z,backgroundColor:l,content:V},{seriesId:t,datum:M,color:G,title:z,angleKey:s,radiusKey:o,angleName:a,radiusName:r,angleValue:S,itemId:I,radiusValue:N})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}getLegendData(e){var c;if(!((c=this.data)!=null&&c.length)||!this.properties.isValid()||e!=="category")return[];const{angleKey:t,angleName:i,fill:n,stroke:s,fillOpacity:a,strokeOpacity:o,strokeWidth:r,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:i??t},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:a??1,strokeOpacity:o??1,strokeWidth:r}}]}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:n}=e;n.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s}=e,o=n.id===this.id||t&&s===1;this.toggleSeriesItem(i,o)}computeLabelsBBox(){return null}getStackId(){var t;return`radialBar-stack-${((t=this.seriesGrouping)==null?void 0:t.groupIndex)??this.id}-xValues`}};RR.className="RadialBarSeries";RR.type="radial-bar";var P4e={series:{strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_INVERTED_LABEL_COLOUR}},axes:{[se.POLAR_AXIS_TYPE.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},z4e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",moduleFactory:e=>new RR(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:se.POLAR_AXIS_TYPE.ANGLE_NUMBER},{type:se.POLAR_AXIS_TYPE.RADIUS_CATEGORY}],themeTemplate:P4e,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},stackable:!0,groupable:!0},{Validate:cQ,RATIO:uQ}=K,PR=class extends sn{};A([cQ(uQ,{optional:!0})],PR.prototype,"columnWidthRatio");A([cQ(uQ,{optional:!0})],PR.prototype,"maxColumnWidthRatio");var{ChartAxisDirection:_4e,PolarAxis:F4e}=K,{RadialColumnShape:B4e,getRadialColumnWidth:V4e}=ae,zR=class extends WX{constructor(e){super(e,{animationResetFns:{item:XRe}}),this.properties=new PR}getStackId(){var t;return`radarColumn-stack-${((t=this.seriesGrouping)==null?void 0:t.groupIndex)??this.id}-yValues`}nodeFactory(){return new B4e}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return qRe(e)}isRadiusAxisCircle(){const e=this.axes[_4e.Y];return e instanceof F4e?e.shape==="circle":!1}updateItemPath(e,t,i){e.isBeveled=this.isRadiusAxisCircle(),e.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.columnWidth=t.columnWidth,e.axisInnerRadius=t.axisInnerRadius,e.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(e,t){const{columnWidthRatio:i=.5,maxColumnWidthRatio:n=.5}=this.properties;return V4e(e,t,this.radius,i,n)}};zR.className="RadialColumnSeries";zR.type="radial-column";var U4e={series:{columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_LABEL_COLOUR}},axes:{[se.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:se.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[se.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:se.POLAR_AXIS_SHAPE.CIRCLE,innerRadiusRatio:.5}}},G4e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",moduleFactory:e=>new zR(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:se.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:se.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:U4e,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},stackable:!0,groupable:!0},{SvgPath:W4e,Rotatable:H4e,Translatable:Y4e,Scalable:$4e}=ae,_D=class extends H4e($4e(Y4e(W4e))){constructor(){super(...arguments),this.scalingCenterX=.5,this.scalingCenterY=.5,this.rotationCenterX=.5,this.rotationCenterY=.5}};_D.defaultPathData="M0.50245 0.53745C0.481767 0.53745 0.465 0.520683 0.465 0.5C0.465 0.479317 0.481767 0.46255 0.50245 0.46255L1 0.500012L0.50245 0.53745Z";var{BaseProperties:IM,SeriesTooltip:K4e,SeriesProperties:Z4e,PropertiesArray:_R,Validate:Ve,BOOLEAN:dQ,COLOR_STRING:Jc,COLOR_STRING_ARRAY:q4e,FUNCTION:X4e,LINE_DASH:TM,NUMBER:Up,OBJECT_ARRAY:FR,OBJECT:eu,POSITIVE_NUMBER:Uo,RATIO:Pr,STRING:BR,UNION:Q4e}=K,{Label:J4e}=ae,{Logger:e3e}=Me,t3e=Q4e(["inside","outside","middle"],"a placement"),hQ=class extends J4e{};A([Ve(Up,{optional:!0})],hQ.prototype,"spacing");var Xn=class extends IM{constructor(){super(...arguments),this.label=new hQ}};A([Ve(BR,{optional:!0})],Xn.prototype,"text");A([Ve(Up,{optional:!0})],Xn.prototype,"value");A([Ve(bX,{optional:!0})],Xn.prototype,"shape");A([Ve(t3e,{optional:!0})],Xn.prototype,"placement");A([Ve(Up,{optional:!0})],Xn.prototype,"spacing");A([Ve(Uo,{optional:!0})],Xn.prototype,"size");A([Ve(Up,{optional:!0})],Xn.prototype,"rotation");A([Ve(Jc,{optional:!0})],Xn.prototype,"fill");A([Ve(Pr,{optional:!0})],Xn.prototype,"fillOpacity");A([Ve(Jc,{optional:!0})],Xn.prototype,"stroke");A([Ve(Uo,{optional:!0})],Xn.prototype,"strokeWidth");A([Ve(Pr,{optional:!0})],Xn.prototype,"strokeOpacity");A([Ve(TM,{optional:!0})],Xn.prototype,"lineDash");A([Ve(Uo,{optional:!0})],Xn.prototype,"lineDashOffset");A([Ve(eu)],Xn.prototype,"label");var zr=class extends IM{constructor(){super(...arguments),this.enabled=!0,this.fills=new _R(Eg),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([Ve(dQ)],zr.prototype,"enabled");A([Ve(FR)],zr.prototype,"fills");A([Ve(fM)],zr.prototype,"fillMode");A([Ve(Jc,{optional:!0})],zr.prototype,"fill");A([Ve(Pr)],zr.prototype,"fillOpacity");A([Ve(Jc,{optional:!0})],zr.prototype,"stroke");A([Ve(Uo,{optional:!0})],zr.prototype,"strokeWidth");A([Ve(Pr)],zr.prototype,"strokeOpacity");A([Ve(TM)],zr.prototype,"lineDash");A([Ve(Uo)],zr.prototype,"lineDashOffset");var _r=class extends IM{constructor(){super(...arguments),this.fills=new _R(Eg),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black"}};A([Ve(FR)],_r.prototype,"fills");A([Ve(fM)],_r.prototype,"fillMode");A([Ve(Jc,{optional:!0})],_r.prototype,"fill");A([Ve(Pr)],_r.prototype,"fillOpacity");A([Ve(Jc)],_r.prototype,"stroke");A([Ve(Uo)],_r.prototype,"strokeWidth");A([Ve(Pr)],_r.prototype,"strokeOpacity");A([Ve(TM)],_r.prototype,"lineDash");A([Ve(Uo)],_r.prototype,"lineDashOffset");A([Ve(Jc)],_r.prototype,"defaultFill");var Fr=class extends IM{constructor(){super(...arguments),this.enabled=!0,this.spacing=0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([Ve(dQ)],Fr.prototype,"enabled");A([Ve(Pr,{optional:!0})],Fr.prototype,"radiusRatio");A([Ve(Up)],Fr.prototype,"spacing");A([Ve(Jc)],Fr.prototype,"fill");A([Ve(Pr)],Fr.prototype,"fillOpacity");A([Ve(Jc)],Fr.prototype,"stroke");A([Ve(Uo)],Fr.prototype,"strokeWidth");A([Ve(Pr)],Fr.prototype,"strokeOpacity");A([Ve(TM)],Fr.prototype,"lineDash");A([Ve(Uo)],Fr.prototype,"lineDashOffset");var pQ=class extends fl{};A([Ve(BR,{optional:!0})],pQ.prototype,"text");var fQ=class extends fv{};A([Ve(BR,{optional:!0})],fQ.prototype,"text");var on=class extends Z4e{constructor(){super(...arguments),this.segmentation=new mv,this.defaultColorRange=[],this.targets=new _R(Xn),this.defaultTarget=new Xn,this.outerRadiusRatio=1,this.innerRadiusRatio=1,this.cornerRadius=0,this.cornerMode="container",this.spacing=0,this.scale=new _r,this.bar=new zr,this.needle=new Fr,this.label=new pQ,this.secondaryLabel=new fQ,this.tooltip=new K4e}isValid(e){if(!super.isValid(e))return!1;const{outerRadius:t,innerRadius:i}=this;return t==null!=(i==null)?(e3e.warnOnce("Either [innerRadius] and [outerRadius] must both be set, or neither can be set."),!1):!0}};A([Ve(Up)],on.prototype,"value");A([Ve(eu)],on.prototype,"segmentation");A([Ve(q4e)],on.prototype,"defaultColorRange");A([Ve(FR)],on.prototype,"targets");A([Ve(eu)],on.prototype,"defaultTarget");A([Ve(Pr)],on.prototype,"outerRadiusRatio");A([Ve(Pr)],on.prototype,"innerRadiusRatio");A([Ve(Uo,{optional:!0})],on.prototype,"outerRadius");A([Ve(Uo,{optional:!0})],on.prototype,"innerRadius");A([Ve(Uo)],on.prototype,"cornerRadius");A([Ve(vX)],on.prototype,"cornerMode");A([Ve(Up)],on.prototype,"spacing");A([Ve(eu)],on.prototype,"scale");A([Ve(eu)],on.prototype,"bar");A([Ve(eu)],on.prototype,"needle");A([Ve(X4e,{optional:!0})],on.prototype,"itemStyler");A([Ve(eu)],on.prototype,"label");A([Ve(eu)],on.prototype,"secondaryLabel");A([Ve(eu)],on.prototype,"tooltip");var{SectorBox:VR}=ae;function i3e(e){const{startAngle:t,endAngle:i,clipStartAngle:n,clipEndAngle:s,innerRadius:a,outerRadius:o}=e;if(!(n==null||s==null))return new VR(Math.max(n,t),Math.min(s,i),a,o)}function mQ(e,t,i){return Math.max(e,i.startAngle)<=Math.min(t,i.endAngle)}function Sk(e){return e.clipStartAngle!=null&&e.clipEndAngle!=null}function Nk(e,t){const{clipStartAngle:i,clipEndAngle:n,innerRadius:s,outerRadius:a}=e;return new VR(i,t?i:n,s,a)}function MV(e,t){const i=e?"initial":"update";return{node:{fromFn(a,o){const r=a.previousDatum;let{startAngle:l,endAngle:c}=r??o;const u=r!=null&&Sk(r)?Nk(r,e):void 0,h=Sk(o)?Nk(o,e):void 0;let f;return u!=null&&h!=null?f=u:u==null&&h!=null?(f=h,l=o.startAngle,c=o.endAngle):u!=null&&h==null?(f=void 0,l=o.startAngle,c=o.endAngle):e&&(c=l),{startAngle:l,endAngle:c,clipSector:f,phase:i}},toFn(a,o){const{startAngle:r,endAngle:l}=o;let c;return Sk(o)&&(c=Nk(o,!1)),{startAngle:r,endAngle:l,clipSector:c}},applyFn(a,o){const{startAngle:r,endAngle:l}=o;let{clipSector:c}=o;c!=null&&(c=new VR(Math.max(r,c.startAngle),Math.min(l,c.endAngle),c.innerRadius,c.outerRadius));const u=c==null||mQ(r,l,c);a.startAngle=r,a.endAngle=l,a.clipSector=c,a.visible=u}},needle:{fromFn(a){let{angle:o}=a.previousDatum??a.datum;return e&&(o=t),{rotation:o,phase:i}},toFn(a,o){const{angle:r}=o;return{rotation:r}}}}}function Mk(e,t){const{startAngle:i,endAngle:n}=t,s=i3e(t),a=s==null||mQ(i,n,s);return{startAngle:i,endAngle:n,clipSector:s,visible:a}}function IV(e,t){const{angle:i}=t;return{rotation:i}}var n3e={top:0,middle:.5,bottom:1};function s3e(e,t,i,n,s){const{padding:a,textAlign:o,verticalAlign:r}=i;let l,c;if(t.each((M,I)=>{I.label==="primary"?l=I:I.label==="secondary"&&(c=I)}),l==null)return;const u=vb(e,l,s==null?void 0:s.label);if(u==null)return;const h=c!=null?vb(e,c,s==null?void 0:s.secondaryLabel):void 0,f={padding:a},g=o==="center"?2:1,x=r==="middle"?2:1,y=M=>({width:Math.sqrt(Math.max(n**2-(M/x)**2,0))*g,height:Math.min(M,x*n),meta:null});let b,v,S;if(c!=null&&h!=null){const M=cX(u,l,h,c,f,y);b=M==null?void 0:M.label,v=M==null?void 0:M.secondaryLabel,S=(M==null?void 0:M.height)??0}else{const M=bb(u,l,f,y);b=M==null?void 0:M[0],v=void 0,S=(M==null?void 0:M[0].height)??0}const N=S*n3e[r];t.each((M,I)=>{let C;if(I.label==="primary"?C=b:I.label==="secondary"&&(C=v),C==null){M.visible=!1;return}M.visible=!0,M.text=C.text,M.fontSize=C.fontSize,M.lineHeight=C.lineHeight,M.textAlign=o,M.textBaseline="middle";const L=I.label==="primary"?C.height/2:S-C.height/2;M.y=I.centerY+L-N,M.x=I.centerX})}var{fromToMotion:Jy,resetMotion:TV,SeriesNodePickMode:AV,StateMachine:a3e,createDatumId:Ik,ChartAxisDirection:ku,EMPTY_TOOLTIP_CONTENT:o3e}=K,{BBox:r3e,Group:Mh,PointerEvents:Tk,Selection:Ih,Sector:l3e,Text:kV,ConicGradient:c3e,getMarker:u3e}=ae,{normalizeAngle360:CV,normalizeAngle360Inclusive:DV,toDegrees:d3e,toRadians:h3e}=Me,p3e={inside:90,middle:0,outside:-90},f3e=[{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"},{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"}],m3e=[{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"},{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"}],UR=class extends K.Series{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[AV.EXACT_SHAPE_MATCH,AV.NEAREST_NODE]}),this.canHaveAxes=!0,this.properties=new on,this.centerX=0,this.centerY=0,this.radius=0,this.textAlign="center",this.verticalAlign="middle",this.scaleGroup=this.contentGroup.appendChild(new Mh({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Mh({name:"itemGroup"})),this.itemNeedleGroup=this.contentGroup.appendChild(new Mh({name:"itemNeedleGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Mh({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Mh({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Mh({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Mh({name:"itemTargetLabelGroup"})),this.scaleSelection=Ih.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Ih.select(this.itemGroup,()=>this.nodeFactory()),this.needleSelection=Ih.select(this.itemNeedleGroup,_D),this.targetSelection=Ih.select(this.itemTargetGroup,t=>this.markerFactory(t)),this.targetLabelSelection=Ih.select(this.itemTargetLabelGroup,kV),this.labelSelection=Ih.select(this.itemLabelGroup,kV),this.highlightTargetSelection=Ih.select(this.highlightTargetGroup,t=>this.markerFactory(t)),this.nodeDatum={series:this,datum:{}},this.animationState=new a3e("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.itemGroup.pointerEvents=Tk.None,this.itemTargetLabelGroup.pointerEvents=Tk.None,this.itemLabelGroup.pointerEvents=Tk.None}get maximumRadius(){return this.properties.outerRadius}get minimumRadius(){return this.properties.outerRadius}get hasData(){return this.properties.value!=null}nodeFactory(){return new l3e}markerFactory({shape:e}){const t=e!=="line"?u3e(e):rR,i=new t;return i.size=1,i}async processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){return mX(e,this.axes[ku.X])}createConicGradient(e,t){const{centerX:i,centerY:n,radius:s}=this,{domain:a,range:o}=this.axes[ku.X].scale,[r,l]=o,{defaultColorRange:c}=this.properties,u=CV((r+l)/2+Math.PI),h=DV(l-r),f=xX(e,c,a,t).map(({color:g,offset:x})=>(x=Math.min(Math.max(x,0),1),x=(r+h*x-u)/(2*Math.PI),x=(x%1+1)%1,{offset:x,color:g}));return new c3e("oklch",f,d3e(u)-90,new r3e(i-s,n-s,2*s,2*s))}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:n=t.text,value:s=t.value??0,shape:a=t.shape??"triangle",rotation:o=t.rotation??0,strokeWidth:r=t.strokeWidth??0,placement:l=t.placement??"middle",spacing:c=t.spacing??0,size:u=t.size??0,fill:h=t.fill??"black",fillOpacity:f=t.fillOpacity??1,stroke:g=t.stroke??"black",strokeOpacity:x=t.strokeOpacity??1,lineDash:y=t.lineDash??[0],lineDashOffset:b=t.lineDashOffset??0}=i,{enabled:v=t.label.enabled,color:S=t.label.color??"black",fontStyle:N=t.label.fontStyle??"normal",fontWeight:M=t.label.fontWeight??"normal",fontSize:I=t.label.fontSize,fontFamily:C=t.label.fontFamily,spacing:L=t.label.spacing??0}=i.label;return{text:n,value:s,shape:a,placement:l,spacing:c,size:u,rotation:o,fill:h,fillOpacity:f,stroke:g,strokeWidth:r,strokeOpacity:x,lineDash:y,lineDashOffset:b,label:{enabled:v,color:S,fontStyle:N,fontWeight:M,fontSize:I,fontFamily:C,spacing:L}}})}getTargetRadius(e){const{radius:t,properties:i}=this,{innerRadiusRatio:n,outerRadiusRatio:s}=i,{placement:a,spacing:o,size:r}=e,l=t*s,c=t*n;switch(a){case"inside":return Math.max(c-o-r/2,0);case"outside":return l+o+r/2;default:return(c+l)/2}}getTargetLabel(e){const i=this.axes[ku.X].scale,{value:n,size:s,placement:a,label:o}=e,{spacing:r,color:l,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:f}=o,g=void 0,x=i.convert(n),y=CV(x)/(Math.PI/2)|0,b=s/2+r;let v,S,N,M;switch(a){case"outside":({textAlign:v,textBaseline:S}=f3e[y]),N=b*Math.cos(x),M=b*Math.sin(x);break;case"inside":({textAlign:v,textBaseline:S}=m3e[y]),N=-b*Math.cos(x),M=-b*Math.sin(x);break;default:v="center",S="bottom",N=0,M=-b;break}return{offsetX:N,offsetY:M,fill:l,textAlign:v,textBaseline:S,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:f,lineHeight:g}}async createNodeData(){const{id:e,properties:t,radius:i,centerX:n,centerY:s}=this;if(!t.isValid())return;const a=this.axes[ku.X];if(a==null)return;const{value:o,innerRadiusRatio:r,outerRadiusRatio:l,segmentation:c,cornerRadius:u,cornerMode:h,needle:f,bar:g,scale:x,label:y,secondaryLabel:b}=t,{outerRadius:v=i*l,innerRadius:S=i*r}=t,N=this.getTargets(),{domain:M}=a.scale,I=[],C=[],L=[],O=[],P=[],[z,V]=a.range,G=a.scale,H=h==="item",B=G.convert(M[0]),$=G.convert(o),Q=Math.ceil(DV($-B)*i);let X=c.enabled?c.interval.getSegments(a.scale,Q):void 0;const Y=g.fill??this.createConicGradient(g.fills,g.fillMode),q=x.fill??(g.enabled&&x.fills.length===0?x.defaultFill:void 0)??this.createConicGradient(x.fills,x.fillMode);if(X==null&&H){const[Z,W]=M,ee={value:o,segmentStart:Z,segmentEnd:W},fe=Math.min(u,(v-S)/2)/((S+v)/2);g.enabled&&I.push({series:this,itemId:"value",datum:ee,type:0,centerX:n,centerY:s,outerRadius:v,innerRadius:S,startAngle:B-fe,endAngle:$+fe,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:u,endCornerRadius:u,fill:Y}),P.push({series:this,itemId:"scale",datum:ee,type:0,centerX:n,centerY:s,outerRadius:v,innerRadius:S,startAngle:z-fe,endAngle:V+fe,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:u,endCornerRadius:u,fill:q})}else{X??(X=M);for(let Z=0;Z<X.length-1;Z+=1){const W=X[Z+0],ee=X[Z+1],oe={value:o,segmentStart:W,segmentEnd:ee},fe=Z===0,ue=Z===X.length-2,de=G.convert(W),te=G.convert(ee);g.enabled&&I.push({series:this,itemId:`value-${Z}`,datum:oe,type:0,centerX:n,centerY:s,outerRadius:v,innerRadius:S,startAngle:de,endAngle:te,clipStartAngle:B,clipEndAngle:$,startCornerRadius:H||fe?u:0,endCornerRadius:H||ue?u:0,fill:Y}),P.push({series:this,itemId:`scale-${Z}`,datum:oe,type:0,centerX:n,centerY:s,outerRadius:v,innerRadius:S,startAngle:de,endAngle:te,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:H||fe?u:0,endCornerRadius:H||ue?u:0,fill:q})}}if(!f.enabled&&y.enabled){const{text:Z,color:W,fontSize:ee,minimumFontSize:oe,fontStyle:fe,fontWeight:ue,fontFamily:de,lineHeight:te,formatter:he=ge=>this.formatLabel(ge.value)}=y;O.push({label:"primary",centerX:n,centerY:s,text:Z,value:o,fill:W,fontSize:ee,minimumFontSize:oe,fontStyle:fe,fontWeight:ue,fontFamily:de,lineHeight:te,formatter:he})}if(!f.enabled&&b.enabled){const{text:Z,color:W,fontSize:ee,minimumFontSize:oe,fontStyle:fe,fontWeight:ue,fontFamily:de,lineHeight:te,formatter:he}=b;O.push({label:"secondary",centerX:n,centerY:s,text:Z,value:o,fill:W,fontSize:ee,minimumFontSize:oe,fontStyle:fe,fontWeight:ue,fontFamily:de,lineHeight:te,formatter:he})}if(f.enabled){let Z=f.radiusRatio!=null?i*f.radiusRatio:S;Z=Math.max(Z-f.spacing,0);const W=G.convert(o);L.push({centerX:n,centerY:s,radius:Z,angle:W})}for(let Z=0;Z<N.length;Z+=1){const W=N[Z],{value:ee,text:oe,size:fe,shape:ue,fill:de,fillOpacity:te,stroke:he,strokeWidth:ge,strokeOpacity:xe,lineDash:be,lineDashOffset:ye}=W;if(ee<Math.min(...M)||ee>Math.max(...M))continue;const we=this.getTargetRadius(W),_e=G.convert(ee),Le=h3e(W.rotation+p3e[W.placement]);C.push({series:this,itemId:`target-${Z}`,midPoint:{x:we*Math.cos(_e)+n,y:we*Math.sin(_e)+s},datum:{value:ee},type:1,value:ee,text:oe,centerX:n,centerY:s,shape:ue,radius:we,angle:_e,rotation:Le,size:fe,fill:de,fillOpacity:te,stroke:he,strokeOpacity:xe,strokeWidth:ge,lineDash:be,lineDashOffset:ye,label:this.getTargetLabel(W)})}return{itemId:e,nodeData:I,needleData:L,targetData:C,labelData:O,scaleData:P}}async updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=await this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}async update({seriesRect:e}){var y,b,v,S,N;const{datumSelection:t,labelSelection:i,needleSelection:n,targetSelection:s,targetLabelSelection:a,scaleSelection:o,highlightTargetSelection:r}=this,l=this.checkResize(e);await this.updateSelections(l),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const c=((y=this.contextNodeData)==null?void 0:y.nodeData)??[],u=((b=this.contextNodeData)==null?void 0:b.labelData)??[],h=((v=this.contextNodeData)==null?void 0:v.needleData)??[],f=((S=this.contextNodeData)==null?void 0:S.targetData)??[],g=((N=this.contextNodeData)==null?void 0:N.scaleData)??[],x=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=await this.updateScaleSelection({scaleData:g,scaleSelection:o}),await this.updateScaleNodes({scaleSelection:o}),this.needleSelection=await this.updateNeedleSelection({needleData:h,needleSelection:n}),await this.updateNeedleNodes({needleSelection:n}),this.targetSelection=await this.updateTargetSelection({targetData:f,targetSelection:s}),await this.updateTargetNodes({targetSelection:s,isHighlight:!1}),this.targetLabelSelection=await this.updateTargetLabelSelection({targetData:f,targetLabelSelection:a}),await this.updateTargetLabelNodes({targetLabelSelection:a}),this.datumSelection=await this.updateDatumSelection({nodeData:c,datumSelection:t}),await this.updateDatumNodes({datumSelection:t}),this.labelSelection=await this.updateLabelSelection({labelData:u,labelSelection:i}),await this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=await this.updateTargetSelection({targetData:x!=null?[x]:[],targetSelection:r}),await this.updateTargetNodes({targetSelection:r,isHighlight:!0}),l&&this.animationState.transition("resize"),this.animationState.transition("update")}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>Ik(e.nodeData.length,t.itemId))}async updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:n}=this,{bar:s,segmentation:a}=n,o=a.spacing??0,{fillOpacity:r,stroke:l,strokeOpacity:c,lineDash:u,lineDashOffset:h}=s,f=this.getStrokeWidth(s.strokeWidth),g=i.animationManager.isSkipped();t.each((x,y)=>{const{centerX:b,centerY:v,innerRadius:S,outerRadius:N,startCornerRadius:M,endCornerRadius:I,fill:C}=y;x.centerX=b,x.centerY=v,x.innerRadius=S,x.outerRadius=N,x.fill=C,x.fillOpacity=r,x.stroke=l,x.strokeOpacity=c,x.strokeWidth=f,x.lineDash=u,x.lineDashOffset=h,x.startOuterCornerRadius=M,x.startInnerCornerRadius=M,x.endOuterCornerRadius=I,x.endInnerCornerRadius=I,x.radialEdgeInset=(o+x.strokeWidth)/2,x.concentricEdgeInset=x.strokeWidth/2,(g||x.previousDatum==null)&&x.setProperties(Mk(x,y))})}async updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>Ik(e.scaleData.length,t.itemId))}async updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i,segmentation:n}=this.properties,s=n.spacing??0,{fillOpacity:a,stroke:o,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:u}=i;t.each((h,f)=>{const{centerX:g,centerY:x,innerRadius:y,outerRadius:b,startCornerRadius:v,endCornerRadius:S,fill:N}=f;h.centerX=g,h.centerY=x,h.innerRadius=y,h.outerRadius=b,h.fill=N,h.fillOpacity=a,h.stroke=o,h.strokeOpacity=r,h.strokeWidth=l,h.lineDash=c,h.lineDashOffset=u,h.startOuterCornerRadius=v,h.startInnerCornerRadius=v,h.endOuterCornerRadius=S,h.endInnerCornerRadius=S,h.radialEdgeInset=(s+h.strokeWidth)/2,h.concentricEdgeInset=h.strokeWidth/2,h.setProperties(Mk(h,f))})}async updateNeedleSelection(e){return e.needleSelection.update(e.needleData,void 0,()=>Ik([]))}async updateNeedleNodes(e){const{needleSelection:t}=e,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}=this.properties.needle,c=this.ctx.animationManager.isSkipped();t.each((u,h)=>{const{centerX:f,centerY:g,radius:x}=h,y=x*2;u.d=_D.defaultPathData,u.fill=i,u.fillOpacity=n,u.stroke=s,u.strokeOpacity=a,u.strokeWidth=o/y,u.lineDash=r.map(b=>b/y),u.lineDashOffset=l/y,u.translationX=f,u.translationY=g,u.scalingX=y,u.scalingY=y,c&&u.setProperties(IV(u,h))})}async updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}async updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e,n=i?this.properties.highlightStyle.item:void 0;t.each((s,a)=>{const{centerX:o,centerY:r,angle:l,radius:c,size:u,rotation:h,fill:f,fillOpacity:g,stroke:x,strokeOpacity:y,strokeWidth:b,lineDash:v,lineDashOffset:S}=a;s.size=u,s.fill=(n==null?void 0:n.fill)??f,s.fillOpacity=(n==null?void 0:n.fillOpacity)??g,s.stroke=(n==null?void 0:n.stroke)??x,s.strokeOpacity=(n==null?void 0:n.strokeOpacity)??y,s.strokeWidth=(n==null?void 0:n.strokeWidth)??b,s.lineDash=(n==null?void 0:n.lineDash)??v,s.lineDashOffset=(n==null?void 0:n.lineDashOffset)??S,s.translationX=o+c*Math.cos(l),s.translationY=r+c*Math.sin(l),s.rotation=l+h})}async updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData,void 0,t=>t.itemId)}async updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,n)=>{const{centerX:s,centerY:a,radius:o,angle:r,text:l}=n,{offsetX:c,offsetY:u,fill:h,fontStyle:f,fontWeight:g,fontSize:x,fontFamily:y,textAlign:b,textBaseline:v}=n.label;if(l==null){i.visible=!1;return}i.visible=!0,i.x=s+o*Math.cos(r)+c,i.y=a+o*Math.sin(r)+u,i.text=l,i.fill=h,i.fontStyle=f,i.fontWeight=g,i.fontSize=x,i.fontFamily=y,i.textAlign=b,i.textBaseline=v})}async updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>t.label)}async updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((n,s)=>{n.fill=s.fill,n.fontStyle=s.fontStyle,n.fontWeight=s.fontWeight,n.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){if(this.axes[ku.X]==null)return;const{labelSelection:i,radius:n,textAlign:s,verticalAlign:a}=this,{spacing:o,innerRadiusRatio:r}=this.properties;s3e(this,i,{padding:o,textAlign:s,verticalAlign:a},n*r,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),TV([this.datumSelection],Mk),TV([this.needleSelection],IV),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i,n,s,a;if(this.labelSelection.each((o,r)=>{var l,c;o.opacity=1,r.label==="primary"?(i=((l=o.previousDatum)==null?void 0:l.value)??e.from??r.value,n=r.value):r.label==="secondary"&&(s=((c=o.previousDatum)==null?void 0:c.value)??e.from??r.value,a=r.value)}),!this.labelsHaveExplicitText())if(n==null||a==null)this.formatLabelText();else if(i===n&&s===a)this.formatLabelText({label:n,secondaryLabel:a});else{const o=`${this.id}_labels`;t.animate({id:o,groupId:"label",from:{label:i,secondaryLabel:s},to:{label:n,secondaryLabel:a},phase:e.phase??"update",onUpdate:r=>this.formatLabelText(r)})}}animateEmptyUpdateReady(){var n,s;const{animationManager:e}=this.ctx,{node:t,needle:i}=MV(!0,((n=this.axes[ku.X])==null?void 0:n.range[0])??0);Jy(this.id,"node",e,[this.datumSelection],t,(a,o)=>o.itemId),Jy(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),Jy(this.id,"label",e,[this.labelSelection],fX,(a,o)=>o.label),this.animateLabelText({from:((s=this.axes[ku.X])==null?void 0:s.scale.domain[0])??0,phase:"initial"})}animateWaitingUpdateReady(){var n;const{animationManager:e}=this.ctx,{node:t,needle:i}=MV(!1,((n=this.axes[ku.X])==null?void 0:n.range[0])??0);Jy(this.id,"node",e,[this.datumSelection],t,(s,a)=>a.itemId),Jy(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}pickNode(e,t){switch(t){case"event":case"context-menu":{const i=this.scaleGroup.pickNode(e.x,e.y);return i!=null?{pickMode:K.SeriesNodePickMode.EXACT_SHAPE_MATCH,match:i.datum,distance:0}:void 0}case"tooltip":case"highlight":case"highlight-tooltip":{const i=this.itemTargetGroup.pickNode(e.x,e.y);return i!=null?{pickMode:K.SeriesNodePickMode.EXACT_SHAPE_MATCH,match:i.datum,distance:0}:{pickMode:K.SeriesNodePickMode.NEAREST_NODE,match:this.nodeDatum,distance:0}}}}getTooltipHtml(e){const{id:t,properties:i}=this;if(!i.isValid())return o3e;const n=this.highlightDatum(e),s=(n==null?void 0:n.value)??i.value,a=n==null?void 0:n.text,{tooltip:o}=i,r=a??"",l=this.formatLabel(s),c=n==null?void 0:n.itemId,u=void 0,h=n==null?void 0:n.fill;return o.toTooltipHtml({title:r,content:l,backgroundColor:h},{seriesId:t,itemId:c,title:r,datum:u,color:h,value:s,...this.getModuleTooltipParams()})}pickFocus(e){var s;const t=(s=this.contextNodeData)==null?void 0:s.targetData;if(t==null||t.length===0)return;const i=Math.min(Math.max(e.datumIndex,0),t.length-1),n=t[i];for(const a of this.targetSelection)if(a.datum===n)return{bounds:a.node,showFocusBox:!0,datum:n,datumIndex:i}}getCaptionText(){const{value:e}=this.properties,t=[];return t.push(this.formatLabel(e)),this.labelSelection.each((i,n)=>{const s=vb(this,n);s!=null&&t.push(s)}),t.join(". ")}};UR.className="RadialGaugeSeries";UR.type="radial-gauge";var{FONT_WEIGHT:Ak,DEFAULT_FONT_FAMILY:kk,DEFAULT_HIERARCHY_FILLS:g3e,DEFAULT_LABEL_COLOUR:ex,DEFAULT_MUTED_LABEL_COLOUR:y3e,POLAR_AXIS_TYPE:LV}=se,x3e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"radial-gauge",moduleFactory:e=>new UR(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:LV.ANGLE_NUMBER,line:{enabled:!1}},{type:LV.RADIUS_NUMBER,line:{enabled:!1}}],themeTemplate:{minWidth:200,minHeight:200,series:{outerRadiusRatio:1,innerRadiusRatio:.8,bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:2},defaultTarget:{fill:ex,stroke:ex,size:10,shape:"triangle",placement:"outside",spacing:5,label:{enabled:!0,fontWeight:Ak.NORMAL,fontSize:12,fontFamily:kk,color:ex,spacing:5}},needle:{enabled:!1,fill:ex,spacing:10},label:{enabled:!0,fontWeight:Ak.NORMAL,fontSize:56,minimumFontSize:18,fontFamily:kk,color:ex},secondaryLabel:{enabled:!0,fontWeight:Ak.NORMAL,fontSize:14,minimumFontSize:12,fontFamily:kk,color:y3e},tooltip:{enabled:!1}},axes:{[se.POLAR_AXIS_TYPE.ANGLE_NUMBER]:{startAngle:270,endAngle:450,nice:!1,line:{enabled:!1}}}},paletteFactory(e){const{takeColors:t,colorsCount:i,userPalette:n,themeTemplateParameters:s}=e,{fills:a}=t(i),o=s.get(se.DEFAULT_GAUGE_SERIES_COLOR_RANGE),r=s.get(g3e),l=n==="inbuilt"?o:[a[0],a[1]];return{scale:{defaultFill:r==null?void 0:r[1],stroke:r==null?void 0:r[2]},defaultColorRange:pX(l)}}},{DropShadow:b3e,Label:v3e}=ae,{CartesianSeriesProperties:w3e,InterpolationProperties:S3e,SeriesMarker:N3e,SeriesTooltip:M3e,Validate:zi,BOOLEAN:I3e,COLOR_STRING:gQ,LINE_DASH:T3e,OBJECT:bv,PLACEMENT:A3e,POSITIVE_NUMBER:GR,RATIO:yQ,STRING:Gp}=K,WR=class extends v3e{constructor(){super(...arguments),this.placement="outside",this.padding=6}};A([zi(A3e)],WR.prototype,"placement");A([zi(GR)],WR.prototype,"padding");var $i=class extends w3e{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new S3e,this.shadow=new b3e().set({enabled:!1}),this.marker=new N3e,this.label=new WR,this.tooltip=new M3e,this.connectMissingData=!1}};A([zi(Gp)],$i.prototype,"xKey");A([zi(Gp)],$i.prototype,"yLowKey");A([zi(Gp)],$i.prototype,"yHighKey");A([zi(Gp,{optional:!0})],$i.prototype,"xName");A([zi(Gp,{optional:!0})],$i.prototype,"yName");A([zi(Gp,{optional:!0})],$i.prototype,"yLowName");A([zi(Gp,{optional:!0})],$i.prototype,"yHighName");A([zi(gQ)],$i.prototype,"fill");A([zi(yQ)],$i.prototype,"fillOpacity");A([zi(gQ)],$i.prototype,"stroke");A([zi(GR)],$i.prototype,"strokeWidth");A([zi(yQ)],$i.prototype,"strokeOpacity");A([zi(T3e)],$i.prototype,"lineDash");A([zi(GR)],$i.prototype,"lineDashOffset");A([zi(bv)],$i.prototype,"interpolation");A([zi(bv)],$i.prototype,"shadow");A([zi(bv)],$i.prototype,"marker");A([zi(bv)],$i.prototype,"label");A([zi(bv)],$i.prototype,"tooltip");A([zi(I3e)],$i.prototype,"connectMissingData");var{valueProperty:EV,keyProperty:k3e,ChartAxisDirection:ar,mergeDefaults:C3e,updateLabelNode:D3e,fixNumericExtent:OV,buildResetPathFn:L3e,resetLabelFn:E3e,resetMarkerFn:O3e,resetMarkerPositionFn:jV,pathSwipeInAnimation:j3e,resetMotion:R3e,markerSwipeScaleInAnimation:P3e,seriesLabelFadeInAnimation:z3e,animationValidation:_3e,diff:F3e,updateClipPath:RV,formatValue:B3e,computeMarkerFocusBounds:PV,plotPath:U1,pathRanges:zV,pathRangePoints:Ck,pathRangePointsReverse:V3e}=K,{getMarker:U3e,PointerEvents:Dk}=ae,{sanitizeHtml:Th,extent:G3e}=Me,W3e=class extends K.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yLowKey=n.properties.yLowKey,this.yHighKey=n.properties.yHighKey}},HR=class extends K.CartesianSeries{constructor(e){super({moduleCtx:e,hasMarkers:!0,pathsPerSeries:["fill","stroke"],pickModes:[K.SeriesNodePickMode.AXIS_ALIGNED],directionKeys:{[ar.X]:["xKey"],[ar.Y]:["yLowKey","yHighKey"]},directionNames:{[ar.X]:["xName"],[ar.Y]:["yLowName","yHighName","yName"]},animationResetFns:{path:L3e({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:E3e,marker:(t,i)=>({...O3e(t),...jV(t,i)})}}),this.properties=new $i,this.NodeEvent=W3e}async processData(e){var u,h;if(!this.properties.isValid()||!this.visible)return;const{xKey:t,yLowKey:i,yHighKey:n}=this.properties,s=(u=this.axes[ar.X])==null?void 0:u.scale,a=(h=this.axes[ar.Y])==null?void 0:h.scale,{xScaleType:o,yScaleType:r}=this.getScaleInformation({xScale:s,yScale:a}),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(F3e(this.processedData)),c&&l.push(_3e()),await this.requestDataModel(e,this.data,{props:[k3e(t,o,{id:"xValue"}),EV(i,r,{id:"yLowValue",invalidValue:void 0}),EV(n,r,{id:"yHighValue",invalidValue:void 0}),...l]}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];const{domain:{keys:[n],values:s}}=t;if(e===ar.X){const a=i.resolveProcessedDataDefById(this,"xValue");return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?n:OV(G3e(n))}else{const a=i.resolveProcessedDataIndexById(this,"yLowValue"),o=s[a],r=i.resolveProcessedDataIndexById(this,"yHighValue"),l=s[r],c=[o[0]>l[0]?l[0]:o[0],l[1]<o[1]?o[1]:l[1]];return OV(c)}}async createNodeData(){var V;const{data:e,dataModel:t,axes:i,visible:n}=this,s=i[ar.X],a=i[ar.Y];if(!(e&&n&&s&&a&&t))return;const o=s.scale,r=a.scale,{xKey:l,yLowKey:c,yHighKey:u,connectMissingData:h,marker:f}=this.properties,g=`${c}-${u}`,x=(o.bandwidth??0)/2,y=t.resolveProcessedDataDefsByIds(this,["xValue","yHighValue","yLowValue"]),b=(G,H,B,$)=>{const Q=o.convert(G)+x,X=r.convert(H),Y=r.convert(B),{size:q}=f;return[{point:{x:Q,y:X,moveTo:$},size:q,itemId:"high",yValue:H,xValue:G,enabled:!0},{point:{x:Q,y:Y,moveTo:$},size:q,itemId:"low",yValue:B,xValue:G,enabled:!1}]},v=[],S=[],N={itemId:g,highPoints:[],lowPoints:[]},M={itemId:g,highPoints:[],lowPoints:[]},I={itemId:g,labelData:v,nodeData:S,fillData:M,strokeData:N,scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return I;const C=M.highPoints,L=M.lowPoints,O=N.highPoints,P=N.lowPoints;let z=!0;return(V=this.processedData)==null||V.data.forEach(({keys:G,datum:H,values:B},$)=>{const Q=t.resolveProcessedDataDefsValues(y,{keys:G,values:B}),{xValue:X,yHighValue:Y,yLowValue:q}=Q,W=Y==null||q==null?[]:b(X,Y,q,!1),ee=q>Y;W.forEach(({point:{x:te,y:he},enabled:ge,size:xe,itemId:be="",yValue:ye})=>{S.push({index:$,series:this,itemId:be,datum:H,midPoint:{x:te,y:he},yHighValue:Y,yLowValue:q,xValue:X,xKey:l,yLowKey:c,yHighKey:u,point:{x:te,y:he,size:xe},enabled:ge});const we=this.createLabelData({point:{x:te,y:he},value:ye,yLowValue:q,yHighValue:Y,itemId:be,inverted:ee,datum:H,series:this});v.push(we)});const oe=X!=null,fe=Y!=null&&q!=null,[ue,de]=b(X,Y??0,q??0,z);oe&&fe?(C.push(ue),L.push(de),O.push(ue),P.push(de),z=!1):h||(z=!0)}),I}createLabelData({point:e,value:t,itemId:i,inverted:n,datum:s,series:a}){const{xKey:o,yLowKey:r,yHighKey:l,xName:c,yName:u,yLowName:h,yHighName:f,label:g}=this.properties,{placement:x,padding:y=10}=g;let b=i;n&&(b=i==="low"?"high":"low");const v=x==="outside"&&b==="high"||x==="inside"&&b==="low"?-1:1;return{x:e.x,y:e.y+y*v,series:a,itemId:i,datum:s,text:this.getLabelText(g,{value:t,datum:s,itemId:i,xKey:o,yLowKey:r,yHighKey:l,xName:c,yLowName:h,yHighName:f,yName:u},B3e),textAlign:"center",textBaseline:v===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker,t=U3e(e);return new t}async updatePathNodes(e){const{opacity:t,visible:i}=e,[n,s]=e.paths,a=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({fill:void 0,lineJoin:s.lineCap="round",pointerEvents:Dk.None,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i}),n.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:Dk.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:a,opacity:t,visible:i}),RV(this,s),RV(this,n)}async updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){this.updateFillPath(e,t),this.updateStrokePath(e,t)}updateFillPath(e,t){const{interpolation:i}=this.properties,{fillData:n}=t,[s]=e;s.path.clear();for(const a of zV(n.highPoints))U1(Ck(n.highPoints,a),s,i),U1(V3e(n.lowPoints,a),s,i,!0),s.path.closePath();s.checkPathDirty()}updateStrokePath(e,t){const{interpolation:i}=this.properties,{strokeData:n}=t,[,s]=e;s.path.clear(!0);for(const a of zV(n.highPoints))U1(Ck(n.highPoints,a),s,i),U1(Ck(n.lowPoints,a),s,i);s.checkPathDirty()}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yLowKey:s,yHighKey:a,marker:o,fill:r,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:h}=this.properties,f=C3e(i&&this.properties.highlightStyle.item,o.getStyle(),{fill:r,fillOpacity:u,stroke:l,strokeWidth:c,strokeOpacity:h});t.each((g,x)=>{this.updateMarkerStyle(g,o,{datum:x,highlighted:i,xKey:n,yHighKey:a,yLowKey:s},f)}),i||this.properties.marker.markClean()}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,n=>{n.pointerEvents=Dk.None})}async updateLabelNodes(e){e.labelSelection.each((t,i)=>{D3e(t,this.properties.label,i)})}getHighlightLabelData(e,t){const i=e.filter(n=>n.datum===t.datum);return i.length>0?i:void 0}getHighlightData(e,t){const i=e.filter(n=>n.datum===t.datum);return i.length>0?i:void 0}getTooltipHtml(e){const t=this.axes[ar.X],i=this.axes[ar.Y];if(!this.properties.isValid()||!t||!i)return K.EMPTY_TOOLTIP_CONTENT;const{id:n}=this,{xKey:s,yLowKey:a,yHighKey:o,xName:r,yName:l,yLowName:c,yHighName:u,fill:h,tooltip:f}=this.properties,{datum:g,itemId:x,xValue:y,yLowValue:b,yHighValue:v}=e,S=h??"gray",N=Th(t.formatDatum(y)),M=Th(i.formatDatum(b)),I=Th(i.formatDatum(v)),C=r??s,L=c??a,O=u??o,P=Th(l),z=l?`<b>${Th(C)}</b>: ${N}<br><b>${Th(L)}</b>: ${M}<br><b>${Th(O)}</b>: ${I}<br>`:`${N}: ${M} - ${I}`;return f.toTooltipHtml({title:P,content:z,backgroundColor:S},{seriesId:n,itemId:x,datum:g,xKey:s,yLowKey:a,yHighKey:o,xName:r,yLowName:c,yHighName:u,yName:l,color:S,title:P,yHighValue:v,yLowValue:b})}getLegendData(e){if(e!=="category")return[];const{yLowKey:t,yHighKey:i,yName:n,yLowName:s,yHighName:a,fill:o,stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:u,visible:h,marker:f}=this.properties,g=n??`${s??t} - ${a??i}`;return[{legendType:"category",id:this.id,itemId:`${t}-${i}`,seriesId:this.id,enabled:h,label:{text:`${g}`},symbols:[{marker:{shape:f.shape,fill:f.fill??o,stroke:f.stroke??r,fillOpacity:f.fillOpacity,strokeOpacity:f.strokeOpacity,strokeWidth:f.strokeWidth},line:{stroke:r,strokeOpacity:c,strokeWidth:l,lineDash:u}}]}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new ae.Group}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:s}=e,{animationManager:a}=this.ctx;this.updateAreaPaths(s,n),j3e(this,a,...s),R3e([t],jV),P3e(this,a,t),z3e(this,"labels",a,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{contextData:t,paths:i}=e;super.animateWaitingUpdateReady(e),this.updateAreaPaths(i,t)}getFormattedMarkerStyle(e){const{xKey:t,yLowKey:i,yHighKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yLowKey:i,yHighKey:n,highlighted:!0})}computeFocusBounds(e){const t=PV(this,e),i=PV(this,{...e,datumIndex:e.datumIndex+1});if(t&&i)return ae.BBox.merge([t,i])}};HR.className="RangeAreaSeries";HR.type="range-area";var H3e={series:{fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,size:6,strokeWidth:2},label:{enabled:!1,placement:"outside",padding:10,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_LABEL_COLOUR},interpolation:{type:"linear",tension:1,position:"end"}},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{markerPaletteFactory:Y3e}=K,$3e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",moduleFactory:e=>new HR(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:se.CARTESIAN_POSITION.BOTTOM}],themeTemplate:H3e,paletteFactory:e=>{const{marker:t}=Y3e(e);return{fill:t.fill,stroke:t.stroke,marker:t}}},{DropShadow:K3e,Label:Z3e}=ae,{AbstractBarSeriesProperties:q3e,SeriesTooltip:X3e,Validate:Ki,COLOR_STRING:xQ,FUNCTION:Q3e,LINE_DASH:J3e,OBJECT:YR,PLACEMENT:e5e,POSITIVE_NUMBER:AM,RATIO:bQ,STRING:Wp}=K,$R=class extends Z3e{constructor(){super(...arguments),this.placement="inside",this.padding=6}};A([Ki(e5e)],$R.prototype,"placement");A([Ki(AM)],$R.prototype,"padding");var rn=class extends q3e{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new K3e().set({enabled:!1}),this.label=new $R,this.tooltip=new X3e}};A([Ki(Wp)],rn.prototype,"xKey");A([Ki(Wp)],rn.prototype,"yLowKey");A([Ki(Wp)],rn.prototype,"yHighKey");A([Ki(Wp,{optional:!0})],rn.prototype,"xName");A([Ki(Wp,{optional:!0})],rn.prototype,"yName");A([Ki(Wp,{optional:!0})],rn.prototype,"yLowName");A([Ki(Wp,{optional:!0})],rn.prototype,"yHighName");A([Ki(xQ)],rn.prototype,"fill");A([Ki(bQ)],rn.prototype,"fillOpacity");A([Ki(xQ)],rn.prototype,"stroke");A([Ki(AM)],rn.prototype,"strokeWidth");A([Ki(bQ)],rn.prototype,"strokeOpacity");A([Ki(J3e)],rn.prototype,"lineDash");A([Ki(AM)],rn.prototype,"lineDashOffset");A([Ki(AM)],rn.prototype,"cornerRadius");A([Ki(Q3e,{optional:!0})],rn.prototype,"itemStyler");A([Ki(YR)],rn.prototype,"shadow");A([Ki(YR)],rn.prototype,"label");A([Ki(YR)],rn.prototype,"tooltip");var{SeriesNodePickMode:_V,valueProperty:FV,keyProperty:t5e,ChartAxisDirection:Lk,getRectConfig:i5e,updateRect:n5e,checkCrisp:s5e,updateLabelNode:a5e,SMALLEST_KEY_INTERVAL:o5e,LARGEST_KEY_INTERVAL:r5e,diff:l5e,prepareBarAnimationFunctions:BV,midpointStartingBarPosition:VV,resetBarSelectionsFn:c5e,fixNumericExtent:u5e,seriesLabelFadeInAnimation:UV,resetLabelFn:d5e,animationValidation:h5e,createDatumId:p5e,formatValue:GV,computeBarFocusBounds:f5e}=K,{Rect:m5e,PointerEvents:g5e,motion:WV}=ae,{sanitizeHtml:Ah}=Me,{ContinuousScale:y5e}=ki,x5e=class extends K.SeriesNodeEvent{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yLowKey=n.properties.yLowKey,this.yHighKey=n.properties.yHighKey}},KR=class extends K.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[_V.AXIS_ALIGNED,_V.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:c5e,label:d5e}}),this.properties=new rn,this.NodeEvent=x5e}async processData(e){var f,g,x,y;if(!this.properties.isValid())return;const{xKey:t,yLowKey:i,yHighKey:n}=this.properties,s=(f=this.getCategoryAxis())==null?void 0:f.scale,a=(g=this.getValueAxis())==null?void 0:g.scale,{isContinuousX:o,xScaleType:r,yScaleType:l}=this.getScaleInformation({xScale:s,yScale:a}),c=[];this.ctx.animationManager.isSkipped()||(this.processedData&&c.push(l5e(this.processedData)),c.push(h5e()));const u=this.visible?{}:{forceValue:0},{processedData:h}=await this.requestDataModel(e,this.data,{props:[t5e(t,r,{id:"xValue"}),FV(i,l,{id:"yLowValue",invalidValue:null,...u}),FV(n,l,{id:"yHighValue",invalidValue:null,...u}),...o?[o5e,r5e]:[],...c],groupByKeys:!0});this.smallestDataInterval=(x=h.reduced)==null?void 0:x.smallestKeyInterval,this.largestDataInterval=(y=h.reduced)==null?void 0:y.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[n],values:s}=t.domain;if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue");return(a==null?void 0:a.def.type)==="key"&&(a==null?void 0:a.def.valueType)==="category"?n:this.padBandExtent(n)}else{const a=i.resolveProcessedDataIndexById(this,"yLowValue"),o=s[a],r=i.resolveProcessedDataIndexById(this,"yHighValue"),l=s[r],c=[o[0]>l[0]?l[0]:o[0],l[1]<o[1]?o[1]:l[1]];return u5e(c)}}async createNodeData(){const{data:e,dataModel:t,groupScale:i,processedData:n,properties:{visible:s}}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!(e&&a&&o&&t))return;const r=a.scale,l=o.scale,c=this.getBarDirection()===Lk.X,{xKey:u,yLowKey:h,yHighKey:f,fill:g,stroke:x,strokeWidth:y}=this.properties,b=`${h}-${f}`,v={itemId:b,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!s)return v;const S=t.resolveProcessedDataIndexById(this,"yLowValue"),N=t.resolveProcessedDataIndexById(this,"yHighValue"),M=t.resolveProcessedDataIndexById(this,"xValue"),{barWidth:I,groupIndex:C}=this.updateGroupScale(a),L=y5e.is(r)?I*-.5:0;return n==null||n.data.forEach(({keys:O,datum:P,values:z},V)=>{z.forEach((G,H)=>{const B=O[M],$=Math.round(r.convert(B))+i.convert(String(C))+L,Q=G[S],X=G[N],Y=Math.min(Q,X),q=Math.max(Q,X),Z=Math.round(l.convert(Y)),ee=Math.round(l.convert(q)),oe=Z,fe=Math.max(y,Math.abs(oe-ee)),ue={x:c?Math.min(ee,oe):$,y:c?$:Math.min(ee,oe),width:c?fe:I,height:c?I:fe},de={x:ue.x+ue.width/2,y:ue.y+ue.height/2},te=this.createLabelData({rect:ue,barAlongX:c,yLowValue:Y,yHighValue:q,datum:P[H],series:this}),he={index:V,valueIndex:H,series:this,itemId:b,datum:P[H],xValue:B,yLowValue:Q,yHighValue:X,yLowKey:h,yHighKey:f,xKey:u,x:ue.x,y:ue.y,width:ue.width,height:ue.height,midPoint:de,fill:g,stroke:x,strokeWidth:y,opacity:1,labels:te};v.nodeData.push(he),v.labelData.push(...te)})}),v}createLabelData({rect:e,barAlongX:t,yLowValue:i,yHighValue:n,datum:s,series:a}){const{xKey:o,yLowKey:r,yHighKey:l,xName:c,yLowName:u,yHighName:h,yName:f,label:g}=this.properties,x={datum:s,xKey:o,yLowKey:r,yHighKey:l,xName:c,yLowName:u,yHighName:h,yName:f},{placement:y,padding:b}=g,S=b*(y==="outside"?1:-1),N={x:e.x+(t?-S:e.width/2),y:e.y+(t?e.height/2:e.height+S),textAlign:t?"left":"center",textBaseline:t?"middle":"bottom",text:this.getLabelText(g,{itemId:"low",value:i,...x},GV),itemId:"low",datum:s,series:a},M={x:e.x+(t?e.width+S:e.width/2),y:e.y+(t?e.height/2:-S),textAlign:t?"right":"center",textBaseline:t?"middle":"top",text:this.getLabelText(g,{itemId:"high",value:n,...x},GV),itemId:"high",datum:s,series:a};return y==="outside"&&(N.textAlign=t?"right":"center",N.textBaseline=t?"middle":"top",M.textAlign=t?"left":"center",M.textBaseline=t?"middle":"bottom"),[N,M]}nodeFactory(){return new m5e}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,n=t??[];return i.update(n,void 0,s=>this.getDatumId(s))}async updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,ctx:s}=this,{yLowKey:a,yHighKey:o,highlightStyle:{item:r},fillOpacity:l,strokeOpacity:c,strokeWidth:u,lineDash:h,lineDashOffset:f,itemStyler:g,shadow:x}=this.properties,y=this.axes[Lk.X],b=s5e(y==null?void 0:y.scale,y==null?void 0:y.visibleRange,this.smallestDataInterval,this.largestDataInterval),v=this.getCategoryDirection()===Lk.X;t.each((S,N)=>{const M={fill:N.fill,stroke:N.stroke,fillOpacity:l,strokeOpacity:c,lineDash:h,lineDashOffset:f,fillShadow:x,strokeWidth:this.getStrokeWidth(u),cornerRadius:this.properties.cornerRadius},I=v?N.width>0:N.height>0,C=i5e({datum:N,isHighlighted:i,style:M,highlightStyle:r,itemStyler:g,seriesId:n,ctx:s,yLowKey:a,yHighKey:o});C.crisp=b,C.visible=I,n5e(S,C)})}getHighlightLabelData(e,t){const i=e.filter(n=>n.datum===t.datum);return i.length>0?i:void 0}async updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=g5e.None})}async updateLabelNodes(e){e.labelSelection.each((t,i)=>{a5e(t,this.properties.label,i)})}getTooltipHtml(e){const{id:t,ctx:{callbackCache:i}}=this,n=this.getCategoryAxis(),s=this.getValueAxis();if(!this.properties.isValid()||!n||!s)return K.EMPTY_TOOLTIP_CONTENT;const{xKey:a,yLowKey:o,yHighKey:r,xName:l,yLowName:c,yHighName:u,yName:h,fill:f,strokeWidth:g,itemStyler:x,tooltip:y,fillOpacity:b,stroke:v,strokeOpacity:S,lineDash:N,lineDashOffset:M,cornerRadius:I}=this.properties,{datum:C,xValue:L,yLowValue:O,yHighValue:P}=e;let z;x&&(z=i.call(x,{highlighted:!1,seriesId:t,datum:C,xKey:a,yLowKey:o,yHighKey:r,fill:f,fillOpacity:b,stroke:v,strokeWidth:g,strokeOpacity:S,lineDash:N,lineDashOffset:M,cornerRadius:I}));const V=(z==null?void 0:z.fill)??f??"gray",G=Ah(n.formatDatum(L)),H=Ah(s.formatDatum(O)),B=Ah(s.formatDatum(P)),$=l??a,Q=c??o,X=u??r,Y=Ah(h),q=h?`<b>${Ah($)}</b>: ${G}<br><b>${Ah(Q)}</b>: ${H}<br><b>${Ah(X)}</b>: ${B}<br>`:`${G}: ${H} - ${B}`,Z={title:Y,content:q,backgroundColor:V};return y.toTooltipHtml(Z,{itemId:void 0,datum:C,xKey:a,xName:l,yLowKey:o,yLowName:c,yHighKey:r,yHighName:u,yName:h,color:V,seriesId:t,title:Y})}getLegendData(e){const{id:t,visible:i}=this;if(e!=="category")return[];const{fill:n,stroke:s,strokeWidth:a,fillOpacity:o,strokeOpacity:r,yName:l,yLowName:c,yHighName:u,yLowKey:h,yHighKey:f}=this.properties,g=l??`${c??h} - ${u??f}`;return[{legendType:"category",id:t,itemId:`${h}-${f}`,seriesId:t,enabled:i,label:{text:`${g}`},symbols:[{marker:{fill:n,stroke:s,fillOpacity:o,strokeOpacity:r,strokeWidth:a}}]}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=BV(VV(this.isVertical(),"normal"));WV.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],i),UV(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){var o;const{datumSelection:t,labelSelection:i}=e,{processedData:n}=this,s=(o=n==null?void 0:n.reduced)==null?void 0:o.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=BV(VV(this.isVertical(),"fade"));WV.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],a,(r,l)=>p5e(l.xValue,l.valueIndex),s),UV(this,"labels",this.ctx.animationManager,i)}getDatumId(e){return`${e.xValue}-${e.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e,seriesRect:t}){var i;return f5e((i=this.contextNodeData)==null?void 0:i.nodeData[e],this.contentGroup,t)}};KR.className="RangeBarSeries";KR.type="range-bar";var b5e={series:{direction:"vertical",strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_INSIDE_SERIES_LABEL_COLOUR,placement:"inside"}},axes:{[se.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},v5e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",moduleFactory:e=>new KR(e),tooltipDefaults:{range:"exact"},defaultAxes:se.swapAxisCondition([{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:se.CARTESIAN_POSITION.BOTTOM}],e=>(e==null?void 0:e.direction)==="horizontal"),themeTemplate:b5e,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},groupable:!0};function vQ(e){e.nodes.sort((t,i)=>Math.round((t.datum.y-i.datum.y)*100)/100||-(t.datum.size-i.datum.size))}function w5e({nodes:e,size:t},{seriesRectHeight:i,nodeSpacing:n,sizeScale:s}){const a=i*t*s;let r=(i-(a+n*(e.length-1)))/2;e.forEach(({datum:l})=>{const c=i*l.size*s;l.y=r,l.height=c,r+=c+n})}function S5e(e,t){const{nodes:i}=e,{seriesRectHeight:n,nodeSpacing:s}=t;vQ(e);let a=0,o=0;for(const{datum:c}of i){const u=Math.max(o-c.y,0);c.y+=u,a+=u,o=c.y+c.height+s}if(o-s<n)return a>0;let l=n;for(let c=i.length-1;c>=0;c-=1){const{datum:u}=i[c],h=u.y+u.height,f=Math.min(l-h,0);u.y+=f,a+=f,l=u.y-s}return!0}function Ek(e,t,i,n,s,a,o,r){const l=(i-e)/(n-t),c=(o-s)/(r-a),u=((a-t)*(l*c)+e*c-s*l)/(c-l);return e<i?u>e&&u<Math.min(i,o):u<e&&u>Math.max(i,o)}function HV(e,t){let i=!1;const n=e.nodes.filter(a=>t(a).length===1);let s=!0;for(let a=0;s&&a<n.length;a+=1){s=!1;for(let o=0;o<n.length-1;o+=1){const{datum:r}=n[o],l=t(n[o])[0].node.datum,{datum:c}=n[o+1],u=t(n[o+1])[0].node.datum;if(!(Ek(r.x,r.y,l.x,l.y,c.x,c.y,u.x,u.y)||Ek(r.x,r.y+r.height/2,l.x,l.y+l.height/2,c.x,c.y+c.height/2,u.x,u.y+u.height/2)||Ek(r.x,r.y+r.height,l.x,l.y+l.height,c.x,c.y+c.height,u.x,u.y+u.height)))continue;const f=n[o];n[o]=n[o+1],n[o+1]=f;const g=r.y;r.y=c.y+c.height-r.height,c.y=g,i=!0,s=!0}}return i}function N5e(e){let t=!1;return vQ(e),t=HV(e,i=>i.linksBefore)||t,t=HV(e,i=>i.linksAfter)||t,t}function M5e(e){if(e.length===0)return;let t=0,i=0;for(const{node:{datum:n}}of e)t+=n.y*n.size,i+=n.size;return t/i}function wQ(e,t,i,n){return e.nodes.forEach(({datum:s,linksBefore:a,linksAfter:o})=>{const r=n===1?a:o,l=n===1?o:a,c=M5e(r);if(c!=null){const u=l.length!==0?i:1;s.y=s.y+(c-s.y)*u}}),S5e(e,t)}function YV(e,t,i){let n=!1;for(const s of e)n=wQ(s,t,i,1)||n;return n}function I5e(e,t,i){let n=!1;for(let s=e.length-1;s>=0;s-=1)n=wQ(e[s],t,i,-1)||n;return n}function $V(e){let t=!1;for(let i=e.length-1;i>=0;i-=1)t=N5e(e[i])||t;return t}function T5e(e,t){e.forEach(n=>{w5e(n,t)});let i=!1;for(let n=0;n<6;n+=1){const s=YV(e,t,1);i=I5e(e,t,.5);const a=$V(e);if(!s&&!i&&!a)break}i&&(YV(e,t,1),$V(e))}var{BBox:A5e,Path:k5e,ScenePathChangeDetection:zg,splitBezier:C5e}=ae;function G1(e,t,i,n,s,a,o,r,l,c){let u,h;if(s!==i&&l!==o){const C=-(n-t)/(s-i),L=-(r-a)/(l-o);u=(o-i+C*t-L*a)/(C-L),h=C*(u-t)+i}else if(s===i&&l!==o)u=t,h=-(r-a)/(l-o)*(u-r)+l;else if(s!==i&&l===o)u=r,h=-(n-t)/(s-i)*(u-t)+i;else throw new Error("Offsetting flat bezier curve");const f=Math.hypot(i-h,t-u),g=(f+c)/f,x=Math.hypot(l-h,r-u),y=(x+c)/x,b=u+(n-u)*g,v=h+(s-h)*g,S=u+(a-u)*y,N=h+(o-h)*y,M=u+(r-u)*y,I=h+(l-h)*y;e.cubicCurveTo(b,v,S,N,M,I)}var Hp=class extends k5e{constructor(){super(...arguments),this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.height=0,this.inset=0}computeBBox(){const e=Math.min(this.x1,this.x2),t=Math.max(this.x1,this.x2)-e,i=Math.min(this.y1,this.y2),n=Math.max(this.y1,this.y2)-i+this.height;return new A5e(e,i,t,n)}updatePath(){const{path:e,inset:t}=this;e.clear();const i=this.x1+t,n=this.x2-t,s=this.y1+t,a=this.y2+t,o=this.height-2*t;if(o<0||i>n)return;const r=i,l=s+o/2,c=(i+n)/2,u=s+o/2,h=(i+n)/2,f=a+o/2,g=n,x=a+o/2;if(e.moveTo(r,l-o/2),Math.abs(this.y2-this.y1)<1||this.x2-this.x1<this.height*Math.SQRT2)e.cubicCurveTo(c,u-o/2,h,f-o/2,g,x-o/2),e.lineTo(g,x+o/2),e.cubicCurveTo(h,f+o/2,c,u+o/2,r,l+o/2);else{const[y,b]=C5e(r,l,c,u,h,f,g,x,.5),v=(a>s?1:-1)*o/2;G1(e,y[0].x,y[0].y,y[1].x,y[1].y,y[2].x,y[2].y,y[3].x,y[3].y,v),G1(e,b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,-v),e.lineTo(g,x+o/2),G1(e,b[3].x,b[3].y,b[2].x,b[2].y,b[1].x,b[1].y,b[0].x,b[0].y,v),G1(e,y[3].x,y[3].y,y[2].x,y[2].y,y[1].x,y[1].y,y[0].x,y[0].y,-v)}e.closePath()}};A([zg()],Hp.prototype,"x1");A([zg()],Hp.prototype,"x2");A([zg()],Hp.prototype,"y1");A([zg()],Hp.prototype,"y2");A([zg()],Hp.prototype,"height");A([zg()],Hp.prototype,"inset");var{BaseProperties:SQ,SeriesTooltip:D5e,SeriesProperties:L5e,ARRAY:E5e,COLOR_STRING:kM,COLOR_STRING_ARRAY:NQ,FUNCTION:MQ,LINE_DASH:IQ,OBJECT:CM,POSITIVE_NUMBER:Yp,RATIO:DM,STRING:Gd,UNION:O5e,Validate:St}=K,{Label:j5e}=ae,R5e=O5e(["left","right","center","justify"],"a justification value"),TQ=class extends j5e{constructor(){super(...arguments),this.spacing=1}};A([St(Yp)],TQ.prototype,"spacing");var tu=class extends SQ{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([St(kM,{optional:!0})],tu.prototype,"fill");A([St(DM)],tu.prototype,"fillOpacity");A([St(kM,{optional:!0})],tu.prototype,"stroke");A([St(DM)],tu.prototype,"strokeOpacity");A([St(Yp)],tu.prototype,"strokeWidth");A([St(IQ)],tu.prototype,"lineDash");A([St(Yp)],tu.prototype,"lineDashOffset");A([St(MQ,{optional:!0})],tu.prototype,"itemStyler");var Go=class extends SQ{constructor(){super(...arguments),this.spacing=1,this.width=1,this.alignment="justify",this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([St(Yp)],Go.prototype,"spacing");A([St(Yp)],Go.prototype,"width");A([St(R5e)],Go.prototype,"alignment");A([St(kM,{optional:!0})],Go.prototype,"fill");A([St(DM)],Go.prototype,"fillOpacity");A([St(kM,{optional:!0})],Go.prototype,"stroke");A([St(DM)],Go.prototype,"strokeOpacity");A([St(Yp)],Go.prototype,"strokeWidth");A([St(IQ)],Go.prototype,"lineDash");A([St(Yp)],Go.prototype,"lineDashOffset");A([St(MQ,{optional:!0})],Go.prototype,"itemStyler");var Os=class extends L5e{constructor(){super(...arguments),this.nodes=void 0,this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.fills=[],this.strokes=[],this.label=new TQ,this.link=new tu,this.node=new Go,this.tooltip=new D5e}};A([St(E5e,{optional:!0})],Os.prototype,"nodes");A([St(Gd)],Os.prototype,"fromKey");A([St(Gd)],Os.prototype,"toKey");A([St(Gd)],Os.prototype,"idKey");A([St(Gd,{optional:!0})],Os.prototype,"idName");A([St(Gd,{optional:!0})],Os.prototype,"labelKey");A([St(Gd,{optional:!0})],Os.prototype,"labelName");A([St(Gd,{optional:!0})],Os.prototype,"sizeKey");A([St(Gd,{optional:!0})],Os.prototype,"sizeName");A([St(NQ)],Os.prototype,"fills");A([St(NQ)],Os.prototype,"strokes");A([St(CM)],Os.prototype,"label");A([St(CM)],Os.prototype,"link");A([St(CM)],Os.prototype,"node");A([St(CM)],Os.prototype,"tooltip");var{SeriesNodePickMode:KV,CachedTextMeasurerPool:P5e,TextWrapper:ZV,TextUtils:qV,createDatumId:XV,EMPTY_TOOLTIP_CONTENT:z5e}=K,{sanitizeHtml:QV,Logger:_5e}=Me,{Rect:F5e,BBox:B5e}=ae,ZR=class extends Xj{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,pickModes:[KV.NEAREST_NODE,KV.EXACT_SHAPE_MATCH]}),this.properties=new Os}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new Hp}nodeFactory(){return new F5e}async createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:n,toKey:s,sizeKey:a,label:{spacing:o},node:{spacing:r,width:l,alignment:c}}=this.properties,{nodeGraph:u,links:h,maxPathLength:f}=this.getNodeGraph(L=>({...L,size:0,x:NaN,y:NaN,width:l,height:NaN}),L=>({...L,x1:NaN,x2:NaN,y1:NaN,y2:NaN,height:NaN}),{includeCircularReferences:!1}),g=u,x=this.isLabelEnabled()?(t-l)*(1-f/(f+1)):0,y=(t-l-2*x)/(f-1),b=[];for(let L=0;L<f;L+=1){const O=x+L*y;b.push({index:L,size:0,nodes:[],x:O})}g.forEach(L=>{const{datum:O,linksBefore:P,linksAfter:z,maxPathLengthBefore:V,maxPathLengthAfter:G}=L,H=Math.max(P.reduce((X,{link:Y})=>X+Y.size,0),z.reduce((X,{link:Y})=>X+Y.size,0));if(P.length===0&&z.length===0||H===0){L.columnIndex=-1;return}let B;switch(c){case"left":B=b[V];break;case"right":B=b[f-1-G];break;case"center":{if(P.length!==0)B=b[V];else if(z.length!==0){const X=z.reduce((Y,q)=>Math.min(Y,q.node.maxPathLengthBefore),f)-1;B=b[X]}else B=b[0];break}case"justify":{B=z.length===0?b[f-1]:b[V];break}}O.x=B.x,O.size=H;const $=X=>String(X),Q=this.getLabelText(this.properties.label,{datum:O.datum,value:O.label,fromKey:n,toKey:s,sizeKey:a,size:H},$);O.label=String(Q),B.nodes.push(L),B.size+=H,L.columnIndex=B.index}),g.forEach(L=>{let O=1/0,P=0;L.linksAfter.forEach(z=>{const V=z.node,{columnIndex:G}=V;G<O?(O=G,P=V.datum.size):G===O&&(P=Math.max(P,V.datum.size))}),L.closestColumnIndex=O,L.maxSizeOfClosestNodesAfter=P});const v=b.reduce((L,{size:O,nodes:P})=>{const z=(1-(P.length-1)*(r/i))/O;return Math.min(L,z)},1/0);for(let L=b.length-1;L>=0;L-=1)b[L].nodes.sort((P,z)=>P.closestColumnIndex-z.closestColumnIndex||P.maxSizeOfClosestNodesAfter-z.maxSizeOfClosestNodesAfter||P.datum.size-z.datum.size);T5e(b,{seriesRectHeight:i,nodeSpacing:r,sizeScale:v});let S=!1;if(g.forEach(({datum:L,linksBefore:O,linksAfter:P})=>{S||(S=L.height<0);const z=L.y+L.height,V=B=>B.sort(($,Q)=>{const X=$.node.datum,Y=Q.node.datum,q=X.y+X.height,Z=Y.y+Y.height,W=Math.atan2(X.y-L.y,Math.abs(X.x-L.x))-Math.atan2(Y.y-L.y,Math.abs(Y.x-L.x)),ee=Math.atan2(q-z,Math.abs(X.x-L.x))-Math.atan2(Z-z,Math.abs(Y.x-L.x));return W+ee});let G=L.y;V(O).forEach(({link:B})=>{B.y2=G,G+=B.size*i*v});let H=L.y;V(P).forEach(({link:B})=>{B.y1=H,H+=B.size*i*v})}),S){_5e.warnOnce("There was insufficient space to display the Sankey Series. Reduce the node spacing, or provide a larger container.");return}const N=[],M=[],{fontSize:I}=this.properties.label,C=this.properties.label.getFont();return b.forEach((L,O)=>{const P=O===0,z=O===b.length-1;let V=-1/0;L.nodes.sort((G,H)=>G.datum.y-H.datum.y),L.nodes.forEach(({datum:G})=>{if(G.midPoint={x:G.x+G.width/2,y:G.y+G.height/2},N.push(G),G.label==null)return;const H=P?G.x-o:G.x+G.width+o,B=G.y+G.height/2;let $;if(!P&&!z){const q=B-qV.getLineHeight(I),Z=B+qV.getLineHeight(I);let W=t;g.forEach(({datum:oe})=>{oe.x>G.x&&Math.max(oe.y,q)<=Math.min(oe.y+oe.height,Z)&&(W=Math.min(W,oe.x-o))});const ee=W-G.x-2*o;$=ZV.wrapText(G.label,{maxWidth:ee,maxHeight:G.height,font:this.properties.label,textWrap:"never",overflow:"hide"})}if($==null||$===""){const q=P||z?o:o*2;$=ZV.wrapText(G.label,{maxWidth:y-q,maxHeight:G.height,font:this.properties.label,textWrap:"never"})}if($==="")return;const{height:Q}=P5e.measureText($,{font:C,textAlign:"left",textBaseline:"middle"}),X=B-Q/2,Y=B+Q/2;X>=V&&(M.push({x:H,y:B,leading:P,text:$}),V=Y)})}),h.forEach(L=>{const{fromNode:O,toNode:P,size:z}=L;L.height=i*z*v,L.x1=O.x+l,L.x2=P.x,L.midPoint={x:(L.x1+L.x2)/2,y:(L.y1+L.y2)/2+L.height/2},N.push(L)}),{itemId:e,nodeData:N,labelData:M}}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}async updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;t.each((r,{x:l,y:c,leading:u,text:h})=>{r.visible=!0,r.x=l,r.y=c,r.text=h,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign=u?"right":"left",r.textBaseline="middle"})}async updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>XV([t.type,t.id]))}async updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,properties:s,ctx:{callbackCache:a}}=this,{fromKey:o,toKey:r,sizeKey:l}=this.properties,{fill:c,fillOpacity:u,stroke:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,itemStyler:y}=this.properties.node,b=i?s.highlightStyle.item:void 0,v=this.getStrokeWidth(s.node.strokeWidth);t.each((S,N)=>{const M=c??N.fill,I=h??N.stroke;let C;if(y!=null){const{label:L,size:O}=N;C=a.call(y,{seriesId:n,datum:N.datum,label:L,size:O,fromKey:o,toKey:r,sizeKey:l,fill:M,fillOpacity:u,strokeOpacity:f,stroke:I,strokeWidth:v,lineDash:g,lineDashOffset:x,highlighted:i})}S.x=N.x,S.y=N.y,S.width=Math.max(N.width,0),S.height=Math.max(N.height,0),S.fill=(b==null?void 0:b.fill)??(C==null?void 0:C.fill)??M,S.fillOpacity=(b==null?void 0:b.fillOpacity)??(C==null?void 0:C.fillOpacity)??u,S.stroke=(b==null?void 0:b.stroke)??(C==null?void 0:C.stroke)??I,S.strokeOpacity=(b==null?void 0:b.strokeOpacity)??(C==null?void 0:C.strokeOpacity)??f,S.strokeWidth=(b==null?void 0:b.strokeWidth)??(C==null?void 0:C.strokeWidth)??v,S.lineDash=(b==null?void 0:b.lineDash)??(C==null?void 0:C.lineDash)??g,S.lineDashOffset=(b==null?void 0:b.lineDashOffset)??(C==null?void 0:C.lineDashOffset)??x})}async updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>XV([t.type,t.index,t.fromNode.id,t.toNode.id]))}async updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,properties:s,ctx:{callbackCache:a}}=this,{fromKey:o,toKey:r,sizeKey:l}=s,{fill:c,fillOpacity:u,stroke:h,strokeOpacity:f,lineDash:g,lineDashOffset:x,itemStyler:y}=s.link,b=i?s.highlightStyle.item:void 0,v=this.getStrokeWidth(s.link.strokeWidth);t.each((S,N)=>{const M=c??N.fromNode.fill,I=h??N.fromNode.stroke;let C;y!=null&&(C=a.call(y,{seriesId:n,datum:N.datum,fromKey:o,toKey:r,sizeKey:l,fill:M,fillOpacity:u,strokeOpacity:f,stroke:I,strokeWidth:v,lineDash:g,lineDashOffset:x,highlighted:i})),S.x1=N.x1,S.y1=N.y1,S.x2=N.x2,S.y2=N.y2,S.height=N.height,S.fill=(b==null?void 0:b.fill)??(C==null?void 0:C.fill)??M,S.fillOpacity=(b==null?void 0:b.fillOpacity)??(C==null?void 0:C.fillOpacity)??u,S.stroke=(b==null?void 0:b.stroke)??(C==null?void 0:C.stroke)??I,S.strokeOpacity=(b==null?void 0:b.strokeOpacity)??(C==null?void 0:C.strokeOpacity)??f,S.strokeWidth=Math.min((b==null?void 0:b.strokeWidth)??(C==null?void 0:C.strokeWidth)??v,N.height/2),S.lineDash=(b==null?void 0:b.lineDash)??(C==null?void 0:C.lineDash)??g,S.lineDashOffset=(b==null?void 0:b.lineDashOffset)??(C==null?void 0:C.lineDashOffset)??x,S.inset=S.strokeWidth/2})}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n},properties:s}=this;if(!i||!s.isValid())return z5e;const{fromKey:a,toKey:o,sizeKey:r,sizeName:l,tooltip:c}=s,{datum:u,itemId:h,size:f}=e;let g;const x=[];let y;if(e.type===0){const{fillOpacity:S,strokeOpacity:N,strokeWidth:M,lineDash:I,lineDashOffset:C,itemStyler:L}=s.link,{fromNode:O,toNode:P}=e;g=`${O.label??O.id} - ${P.label??P.id}`,r!=null&&x.push(QV(`${l??r}: `+f)),y=s.link.fill??O.fill;const z=s.link.stroke??O.stroke;let V;L!=null&&(V=n.call(L,{seriesId:t,datum:u.datum,fromKey:a,toKey:o,sizeKey:r,fill:y,fillOpacity:S,strokeOpacity:N,stroke:z,strokeWidth:M,lineDash:I,lineDashOffset:C,highlighted:!0})),y=(V==null?void 0:V.fill)??y}else{const{fillOpacity:S,strokeOpacity:N,strokeWidth:M,lineDash:I,lineDashOffset:C,itemStyler:L}=s.node,{id:O,label:P}=e;g=P??O,r!=null&&x.push(QV(`${l??r}: `+f)),y=s.link.fill??u.fill;const z=s.link.stroke??u.stroke;let V;L!=null&&(V=n.call(L,{seriesId:t,datum:u.datum,label:P,size:f,fromKey:a,toKey:o,sizeKey:r,fill:y,fillOpacity:S,strokeOpacity:N,stroke:z,strokeWidth:M,lineDash:I,lineDashOffset:C,highlighted:!0})),y=(V==null?void 0:V.fill)??y}const b=x.join("<br>"),v=y;return c.toTooltipHtml({title:g,content:b,backgroundColor:v},{seriesId:t,datum:u,size:f,title:g,color:v,itemId:h,fromKey:a,toKey:o,sizeKey:r,sizeName:l,...this.getModuleTooltipParams()})}getLabelData(){return[]}computeFocusBounds({datumIndex:e,seriesRect:t}){var n;const i=(n=this.contextNodeData)==null?void 0:n.nodeData[e];if((i==null?void 0:i.type)===1){const{x:s,y:a,width:o,height:r}=i,l=new B5e(s,a,o,r);return ae.Transformable.toCanvas(this.contentGroup,l).clip(t)}else if((i==null?void 0:i.type)===0){for(const s of this.linkSelection)if(s.datum===i)return s.node;return}}};ZR.className="SankeySeries";ZR.type="sankey";var{DEFAULT_FONT_FAMILY:V5e,DEFAULT_LABEL_COLOUR:U5e}=se,G5e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"sankey",moduleFactory:e=>new ZR(e),tooltipDefaults:{range:"exact"},themeTemplate:{seriesArea:{padding:{top:10,bottom:10}},series:{highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:V5e,color:U5e,fontSize:12,spacing:10},node:{spacing:20,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0}},legend:{enabled:!1,toggleSeries:!1}},paletteFactory({takeColors:e,colorsCount:t}){return e(t)}},{HierarchySeriesProperties:W5e,HighlightStyle:H5e,SeriesTooltip:Y5e,Validate:Zi,COLOR_STRING:$5e,FUNCTION:K5e,NUMBER:AQ,OBJECT:_g,POSITIVE_NUMBER:qR,RATIO:LM,STRING:EM}=K,Wd=class extends H5e{constructor(){super(...arguments),this.label=new fl,this.secondaryLabel=new fl}};A([Zi(EM,{optional:!0})],Wd.prototype,"fill");A([Zi(LM,{optional:!0})],Wd.prototype,"fillOpacity");A([Zi($5e,{optional:!0})],Wd.prototype,"stroke");A([Zi(qR,{optional:!0})],Wd.prototype,"strokeWidth");A([Zi(LM,{optional:!0})],Wd.prototype,"strokeOpacity");A([Zi(_g)],Wd.prototype,"label");A([Zi(_g)],Wd.prototype,"secondaryLabel");var ta=class extends W5e{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new Wd,this.label=new fl,this.secondaryLabel=new fv,this.tooltip=new Y5e}};A([Zi(EM,{optional:!0})],ta.prototype,"sizeName");A([Zi(EM,{optional:!0})],ta.prototype,"labelKey");A([Zi(EM,{optional:!0})],ta.prototype,"secondaryLabelKey");A([Zi(LM)],ta.prototype,"fillOpacity");A([Zi(qR)],ta.prototype,"strokeWidth");A([Zi(LM)],ta.prototype,"strokeOpacity");A([Zi(qR)],ta.prototype,"cornerRadius");A([Zi(AQ,{optional:!0})],ta.prototype,"sectorSpacing");A([Zi(AQ,{optional:!0})],ta.prototype,"padding");A([Zi(K5e,{optional:!0})],ta.prototype,"itemStyler");A([Zi(_g)],ta.prototype,"highlightStyle");A([Zi(_g)],ta.prototype,"label");A([Zi(_g)],ta.prototype,"secondaryLabel");A([Zi(_g)],ta.prototype,"tooltip");var{fromToMotion:Z5e,formatValue:JV}=K,{Sector:W1,ScalableGroup:e8,Selection:t8,TransformableText:tx}=ae,{sanitizeHtml:Ok}=Me,kQ=(e,t=0,i=2*Math.PI/e.sumSize,n=Array.from(e,()=>{}))=>{let s=t;for(const a of e.children){const o=s,r=s+a.sumSize*i;n[a.index]={start:o,end:r},kQ(a,o,i,n),s=r}return n},XR=class extends K.HierarchySeries{constructor(){super(...arguments),this.properties=new ta,this.groupSelection=t8.select(this.contentGroup,e8),this.highlightSelection=t8.select(this.highlightGroup,e8),this.angleData=[]}async processData(){const{childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:s,sizeKey:a,sizeName:o}=this.properties;await super.processData(),this.angleData=kQ(this.rootNode),this.labelData=Array.from(this.rootNode,({datum:r,depth:l})=>{let c;if(r!=null&&l!=null&&n!=null){const h=r[n];c=this.getLabelText(this.properties.label,{depth:l,datum:r,childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:s,sizeKey:a,sizeName:o,value:h},JV)}c===""&&(c=void 0);let u;if(r!=null&&l!=null&&s!=null){const h=r[s];u=this.getLabelText(this.properties.secondaryLabel,{depth:l,datum:r,childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:s,sizeKey:a,sizeName:o,value:h},JV)}return u===""&&(u=void 0),c!=null||u!=null?{label:c,secondaryLabel:u}:void 0})}async updateSelections(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:e}=this;if(e==null||e.seriesRect==null)return;const i=Array.from(this.rootNode),n=s=>{s.append([new W1,new tx({tag:0}),new tx({tag:1})])};this.groupSelection.update(i,n,s=>this.getDatumId(s)),this.highlightSelection.update(i,n,s=>this.getDatumId(s))}async updateNodes(){var N;const{chart:e,data:t,maxDepth:i,labelData:n}=this;if(e==null||t==null||n==null)return;const{width:s,height:a}=e.seriesRect,{sectorSpacing:o=0,padding:r=0,cornerRadius:l,highlightStyle:c}=this.properties;this.contentGroup.translationX=s/2,this.contentGroup.translationY=a/2,this.highlightGroup.translationX=s/2,this.highlightGroup.translationY=a/2;const u=o*.5,f=Math.min(s,a)/2/(i+1),g=-Math.PI/2,x=(N=this.ctx.highlightManager)==null?void 0:N.getActiveHighlight();new tx().setFont(this.properties.label),this.rootNode.walk(M=>{const I=this.angleData[M.index];if(M.depth!=null&&I!=null){const C=I.end-I.start,L=(M.depth+.5)*f;M.midPoint.x=Math.cos(C)*L,M.midPoint.y=Math.sin(C)*L}});const b=(M,I,C)=>{const{depth:L}=M,O=this.angleData[M.index];if(L==null||O==null){I.visible=!1;return}I.visible=!0;let P,z,V,G,H;C&&(P=c.fill,z=c.fillOpacity,V=c.stroke,G=c.strokeWidth,H=c.strokeOpacity);const B=this.getSectorFormat(M,C),$=(B==null?void 0:B.fill)??P??M.fill,Q=(B==null?void 0:B.fillOpacity)??z??this.properties.fillOpacity,X=(B==null?void 0:B.stroke)??V??M.stroke,Y=(B==null?void 0:B.strokeWidth)??G??this.properties.strokeWidth,q=(B==null?void 0:B.strokeOpacity)??H??this.properties.strokeOpacity;I.fill=$,I.fillOpacity=Q,I.stroke=X,I.strokeWidth=Y,I.strokeOpacity=q,I.centerX=0,I.centerY=0,I.innerRadius=L*f,I.outerRadius=(L+1)*f,I.startAngle=O.start+g,I.endAngle=O.end+g,I.inset=u+Y*.5,I.cornerRadius=l};this.groupSelection.selectByClass(W1).forEach(M=>{b(M.datum,M,!1)}),this.highlightSelection.selectByClass(W1).forEach(M=>{const I=M.datum,C=x===I;M.visible=C,M.visible&&b(M.datum,M,C)});const v=Array.from(this.rootNode,(M,I)=>{const{depth:C}=M,L=n[I],O=this.angleData[I];if(C==null||O==null)return;const P=C*f+u,z=(C+1)*f-u,V=P>u?u/P:u,G=z>u?u/z:u,H=O.start+V,$=O.end+V-H,Q=O.start+G,Y=O.end+G-Q,q=be=>{var at;if(C===0&&((at=M.parent)==null?void 0:at.sumSize)===M.sumSize)return{width:2*Math.sqrt(z**2-(be*.5)**2),height:be,meta:0};const we=be,_e=2*Math.sqrt(z**2-(P+we)**2),Le=$<Math.PI?2*P*Math.tan($*.5):1/0,Ke=Math.min(_e,Le),$e=Math.PI/4;let He,Ze;return C===0?(He=be,Ze=Math.sqrt(z**2-(He/2)**2)-be/(2*Math.tan(Y*.5))):Me.normalizeAngle360($)<$e?(He=2*P*Math.tan($*.5),Ze=Math.sqrt(z**2-(He/2)**2)-P):(Ze=0,He=0),Ke>=Ze?{width:Ke,height:we,meta:1}:{width:Ze,height:He,meta:2}},Z=aR(L==null?void 0:L.label,this.properties.label,L==null?void 0:L.secondaryLabel,this.properties.secondaryLabel,{padding:r},q);if(Z==null)return;const{width:W,height:ee,meta:oe,label:fe,secondaryLabel:ue}=Z,de=g+(O.start+O.end)/2,te=Math.sin(de)>=0,he=Math.cos(de)>=0,ge=(te?3:12)&(he?6:9);let xe;switch(oe){case 0:xe=0;break;case 1:{const ye=z-(f-ee)*.58,we=Math.sqrt((z-r)**2-(W/2)**2);xe=Math.min(ye,we);break}case 2:if(C===0){const be=ee/(2*Math.tan($*.5))+W*.5,ye=Math.sqrt(z**2-(ee*.5)**2)-W*.5;xe=(be+ye)*.5}else xe=(P+z)*.5;break}return{width:W,height:ee,labelPlacement:oe,circleQuarter:ge,radius:xe,theta:de,label:fe,secondaryLabel:ue}}),S=(M,I,C,L)=>{const{index:O,depth:P}=M,z=v==null?void 0:v[O],V=C===0?this.properties.label:this.properties.secondaryLabel,G=C===0?z==null?void 0:z.label:z==null?void 0:z.secondaryLabel;if(P==null||z==null||G==null){I.visible=!1;return}const{height:H,labelPlacement:B,circleQuarter:$,radius:Q,theta:X}=z;let Y;switch(L&&(Y=(C===0?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),I.text=G.text,I.fontSize=G.fontSize,I.lineHeight=G.lineHeight,I.fontStyle=V.fontStyle,I.fontFamily=V.fontFamily,I.fontWeight=V.fontWeight,I.fill=Y??V.color,B){case 0:I.textAlign="center",I.textBaseline="top",I.translationX=0,I.translationY=(C===0?0:H-G.height)-H*.5,I.rotation=0;break;case 1:{const q=($&3)!==0,Z=C===0==!q?Q:Q-(H-G.height);I.textAlign="center",I.textBaseline=q?"bottom":"top",I.translationX=Math.cos(X)*Z,I.translationY=Math.sin(X)*Z,I.rotation=q?X-Math.PI*.5:X+Math.PI*.5;break}case 2:{const q=($&6)!==0,Z=C===0==!q?(H-G.height)*.5:(G.height-H)*.5;I.textAlign="center",I.textBaseline="middle",I.translationX=Math.cos(X)*Q+Math.cos(X+Math.PI/2)*Z,I.translationY=Math.sin(X)*Q+Math.sin(X+Math.PI/2)*Z,I.rotation=q?X:X+Math.PI;break}}I.visible=!0};this.groupSelection.selectByClass(tx).forEach(M=>{S(M.datum,M,M.tag,!1)}),this.highlightSelection.selectByClass(tx).forEach(M=>{const I=M.datum,C=x===I;M.visible=C,M.visible&&S(M.datum,M,M.tag,C)})}getSectorFormat(e,t){const{datum:i,fill:n,stroke:s,depth:a}=e,{ctx:{callbackCache:o},properties:{itemStyler:r}}=this;if(!r||i==null||a==null)return{};const{colorKey:l,childrenKey:c,labelKey:u,secondaryLabelKey:h,sizeKey:f,strokeWidth:g,fillOpacity:x,strokeOpacity:y}=this.properties;return o.call(r,{seriesId:this.id,highlighted:t,datum:i,depth:a,colorKey:l,childrenKey:c,labelKey:u,secondaryLabelKey:h,sizeKey:f,fill:n,fillOpacity:x,stroke:s,strokeWidth:g,strokeOpacity:y})}getTooltipHtml(e){const{id:t}=this,{tooltip:i,colorKey:n,colorName:s=n,labelKey:a,secondaryLabelKey:o,sizeKey:r,sizeName:l=r,childrenKey:c}=this.properties,{datum:u,depth:h}=e;if(u==null||h==null)return K.EMPTY_TOOLTIP_CONTENT;const f=a!=null?u[a]:void 0,g=this.getSectorFormat(e,!1),x=(g==null?void 0:g.fill)??e.fill;if(!i.renderer&&!f)return K.EMPTY_TOOLTIP_CONTENT;const y=[],b=o!=null?u[o]:void 0;b!=null&&o!==n&&o!==r&&y.push(Ok(b));const v=r!=null?u[r]:void 0;v!=null&&y.push(`${l}: ${Ok(v)}`);const S=n!=null?u[n]:void 0;S!=null&&y.push(`${s}: ${Ok(S)}`);const N=y.join("<br>"),M={title:f,color:this.properties.label.color,backgroundColor:x,content:N};return i.toTooltipHtml(M,{depth:h,datum:u,colorKey:n,labelKey:a,secondaryLabelKey:o,sizeKey:r,title:f,color:x,seriesId:t,childrenKey:c,colorName:s,itemId:void 0,sizeName:l})}async createNodeData(){}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.groupSelection.selectByClass(W1))}animateEmptyUpdateReady({datumSelections:e}){Z5e(this.id,"nodes",this.ctx.animationManager,e,{toFn(t,i,n){return{scalingX:1,scalingY:1}},fromFn(t,i,n){return n==="unknown"&&i!=null&&t.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}})}computeFocusBounds(e){let t;for(const{node:i,datum:n}of this.groupSelection)n===e&&(t=ae.Selection.selectByClass(i,ae.Sector)[0]);return t}};XR.className="SunburstSeries";XR.type="sunburst";var{DEFAULT_INSIDE_SERIES_LABEL_COLOUR:H1}=se,q5e={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",moduleFactory:e=>new XR(e),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{label:{fontSize:14,minimumFontSize:9,color:H1,overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontSize:8,minimumFontSize:7,color:H1,overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:H1},secondaryLabel:{color:H1},stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{const{fills:n,strokes:s}=e(t),a=i.get(se.DEFAULT_DIVERGING_SERIES_COLOR_RANGE);return{fills:n,strokes:s,colorRange:a}}},{Label:X5e}=ae,{BaseProperties:OM,HierarchySeriesProperties:Q5e,HighlightStyle:J5e,SeriesTooltip:eze,Validate:nt,BOOLEAN:tze,COLOR_STRING:jM,FUNCTION:ize,NUMBER:nze,OBJECT:Wo,POSITIVE_NUMBER:zl,RATIO:Hd,STRING:$p,STRING_ARRAY:CQ,TEXT_ALIGN:DQ,VERTICAL_ALIGN:sze}=K,LQ=class extends X5e{constructor(){super(...arguments),this.spacing=0}};A([nt(nze)],LQ.prototype,"spacing");var Ho=class extends OM{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new LQ}};A([nt($p,{optional:!0})],Ho.prototype,"fill");A([nt(Hd)],Ho.prototype,"fillOpacity");A([nt(jM,{optional:!0})],Ho.prototype,"stroke");A([nt(zl)],Ho.prototype,"strokeWidth");A([nt(Hd)],Ho.prototype,"strokeOpacity");A([nt(zl)],Ho.prototype,"cornerRadius");A([nt(DQ)],Ho.prototype,"textAlign");A([nt(zl)],Ho.prototype,"gap");A([nt(zl)],Ho.prototype,"padding");A([nt(tze)],Ho.prototype,"interactive");A([nt(Wo)],Ho.prototype,"label");var so=class extends OM{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new fl,this.secondaryLabel=new fv}};A([nt($p,{optional:!0})],so.prototype,"fill");A([nt(Hd)],so.prototype,"fillOpacity");A([nt(jM,{optional:!0})],so.prototype,"stroke");A([nt(zl,{optional:!0})],so.prototype,"strokeWidth");A([nt(Hd)],so.prototype,"strokeOpacity");A([nt(zl)],so.prototype,"cornerRadius");A([nt(DQ)],so.prototype,"textAlign");A([nt(sze)],so.prototype,"verticalAlign");A([nt(zl)],so.prototype,"gap");A([nt(zl)],so.prototype,"padding");A([nt(Wo)],so.prototype,"label");A([nt(Wo)],so.prototype,"secondaryLabel");var Kp=class extends OM{constructor(){super(...arguments),this.label=new fl}};A([nt($p,{optional:!0})],Kp.prototype,"fill");A([nt(Hd,{optional:!0})],Kp.prototype,"fillOpacity");A([nt(jM,{optional:!0})],Kp.prototype,"stroke");A([nt(zl,{optional:!0})],Kp.prototype,"strokeWidth");A([nt(Hd,{optional:!0})],Kp.prototype,"strokeOpacity");A([nt(Wo)],Kp.prototype,"label");var Yd=class extends OM{constructor(){super(...arguments),this.label=new fl,this.secondaryLabel=new fv}};A([nt($p,{optional:!0})],Yd.prototype,"fill");A([nt(Hd,{optional:!0})],Yd.prototype,"fillOpacity");A([nt(jM,{optional:!0})],Yd.prototype,"stroke");A([nt(zl,{optional:!0})],Yd.prototype,"strokeWidth");A([nt(Hd,{optional:!0})],Yd.prototype,"strokeOpacity");A([nt(Wo)],Yd.prototype,"label");A([nt(Wo)],Yd.prototype,"secondaryLabel");var QR=class extends J5e{constructor(){super(...arguments),this.group=new Kp,this.tile=new Yd}};A([nt(Wo)],QR.prototype,"group");A([nt(Wo)],QR.prototype,"tile");var Br=class extends Q5e{constructor(){super(...arguments),this.highlightStyle=new QR,this.tooltip=new eze,this.group=new Ho,this.tile=new so,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};A([nt($p,{optional:!0})],Br.prototype,"sizeName");A([nt($p,{optional:!0})],Br.prototype,"labelKey");A([nt($p,{optional:!0})],Br.prototype,"secondaryLabelKey");A([nt(ize,{optional:!0})],Br.prototype,"itemStyler");A([nt(Wo)],Br.prototype,"highlightStyle");A([nt(Wo)],Br.prototype,"tooltip");A([nt(Wo)],Br.prototype,"group");A([nt(Wo)],Br.prototype,"tile");A([nt(CQ)],Br.prototype,"undocumentedGroupFills");A([nt(CQ)],Br.prototype,"undocumentedGroupStrokes");var{TextUtils:aze,TextWrapper:oze,formatValue:i8}=K,{Rect:Y1,Group:rze,BBox:$1,Selection:n8,Text:xx}=ae,{Color:lze,Logger:cze,clamp:uze,isEqual:dze,sanitizeHtml:jk}=Me,s8=new xx;function hze(e,t){const{fontStyle:i,fontWeight:n,fontSize:s,fontFamily:a}=t;s8.setProperties({text:e,fontStyle:i,fontWeight:n,fontSize:s,fontFamily:a,textAlign:"left",textBaseline:"top"});const{width:o,height:r}=s8.getBBox();return{width:o,height:r}}function a8(e){if(typeof e=="string"&&!lze.validColorString(e)){const t="black";return cze.warnOnce(`invalid Treemap tile colour string "${e}". Affected treemap tiles will be coloured ${t}.`),t}return e}function Cu(e){return e.children.length>0?e.sumSize-e.size:e.size}var o8={left:0,center:.5,right:1},pze={top:0,middle:.5,bottom:1},fze=class extends ae.Group{distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}},JR=class extends K.HierarchySeries{constructor(){super(...arguments),this.properties=new Br,this.groupSelection=n8.select(this.contentGroup,fze),this.highlightSelection=n8.select(this.highlightGroup,rze)}groupTitleHeight(e,t){var a,o;const i=(o=(a=this.labelData)==null?void 0:a[e.index])==null?void 0:o.label,{label:n}=this.properties.group,s=3;if(i!=null){if(n.fontSize>t.width/s||n.fontSize>t.height/s)return;{const{height:r}=hze(i,n);return Math.max(r,n.fontSize)}}}getNodePadding(e,t){if(e.index===0)return{top:0,right:0,bottom:0,left:0};if(e.children.length===0){const{padding:o}=this.properties.tile;return{top:o,right:o,bottom:o,left:o}}const{label:{spacing:i},padding:n}=this.properties.group,s=this.groupTitleHeight(e,t),a=s!=null?s+i:0;return{top:n+a,right:n,bottom:n,left:n}}async processData(){var c;await super.processData();const{childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:s,sizeKey:a,sizeName:o,tile:r,group:l}=this.properties;if(!((c=this.data)!=null&&c.length)){this.labelData=void 0;return}this.labelData=Array.from(this.rootNode,({datum:u,depth:h,children:f})=>{const g=f.length===0,x=g?r.label:l.label;let y;if(u!=null&&h!=null&&n!=null){const v=u[n];y=this.getLabelText(x,{depth:h,datum:u,childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:s,sizeKey:a,sizeName:o,value:v},i8)}y===""&&(y=void 0);let b;if(g&&u!=null&&h!=null&&s!=null){const v=u[s];b=this.getLabelText(r.secondaryLabel,{depth:h,datum:u,childrenKey:e,colorKey:t,colorName:i,labelKey:n,secondaryLabelKey:s,sizeKey:a,sizeName:o,value:v},i8)}return b===""&&(b=void 0),y!=null||b!=null?{label:y,secondaryLabel:b}:void 0})}sortChildren({children:e}){const t=Array.from(e,(n,s)=>s).filter(n=>Cu(e[n])>0).sort((n,s)=>Cu(e[s])-Cu(e[n]));return{sortedChildrenIndices:t,childAt:n=>{const s=t[n];return e[s]}}}squarify(e,t,i,n){const{index:s,datum:a,children:o}=e;if(t.width<=0||t.height<=0){i[s]=void 0,n[s]=void 0;return}const r=a!=null?this.getNodePadding(e,t):{top:0,right:0,bottom:0,left:0};i[s]=s===0?void 0:t,n[s]=s===0?void 0:r;const{sortedChildrenIndices:l,childAt:c}=this.sortChildren(e),u=l.every(O=>o[O].children.length===0),h=1,f=t.width-r.left-r.right,g=t.height-r.top-r.bottom;if(f<=0||g<=0)return;const x=l.length;let y=0,b=0,v=1/0,S=l.reduce((O,P)=>O+Cu(o[P]),0);const N=new $1(t.x+r.left,t.y+r.top,f,g),M=N.clone();let I=0;for(;I<x;){const O=Cu(c(I)),P=Cu(c(b)),z=M.width<M.height;y+=O;const V=z?M.height:M.width,G=z?M.width:M.height,H=G*P/y;let B=V*y/S;const $=Math.max(H,B)/Math.min(H,B),Q=Math.abs(h-$);if(Q<v){v=Q,I++;continue}y-=O,B=V*y/S;let X=z?M.x:M.y;for(let Y=b;Y<I;Y++){const q=c(Y),Z=Cu(q),W=z?X:M.x,ee=z?M.y:X,oe=G*Z/y,fe=z?oe:B,ue=z?B:oe,de=new $1(W,ee,fe,ue);this.applyGap(N,de,u),this.squarify(q,de,i,n),S-=Z,X+=oe}z?(M.y+=B,M.height-=B):(M.x+=B,M.width-=B),b=I,y=0,v=1/0}const C=M.width<M.height;let L=C?M.x:M.y;for(let O=b;O<x;O++){const P=c(O),z=C?L:M.x,V=C?M.y:L,G=Cu(P)/S,H=M.width*(C?G:1),B=M.height*(C?1:G),$=new $1(z,V,H,B);this.applyGap(N,$,u),this.squarify(P,$,i,n),L+=C?H:B}}applyGap(e,t,i){const n=i?this.properties.tile.gap*.5:this.properties.group.gap*.5,s=l=>({left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height}),a=s(e),o=s(t);["top","right","bottom","left"].forEach(l=>{dze(a[l],o[l])||t.shrink(n,l)})}async createNodeData(){}async updateSelections(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:e}=this.chart??{};if(!e)return;const t=Array.from(this.rootNode),i=n=>{n.append([new Y1,new xx({tag:0}),new xx({tag:1})])};this.groupSelection.update(t,i,n=>this.getDatumId(n)),this.highlightSelection.update(t,i,n=>this.getDatumId(n))}getTileFormat(e,t){const{datum:i,depth:n,children:s}=e,{colorKey:a,childrenKey:o,labelKey:r,secondaryLabelKey:l,sizeKey:c,tile:u,group:h,itemStyler:f}=this.properties;if(!f||i==null||n==null)return{};const g=s.length===0,x=this.getNodeFill(e),y=this.getNodeStroke(e),b=g?u.strokeWidth:h.strokeWidth;return this.ctx.callbackCache.call(f,{seriesId:this.id,highlighted:t,datum:i,depth:n,colorKey:a,childrenKey:o,labelKey:r,secondaryLabelKey:l,sizeKey:c,fill:x,fillOpacity:1,stroke:y,strokeWidth:b,strokeOpacity:1})}getNodeFill(e){if(e.children.length===0)return this.properties.tile.fill??e.fill;const{undocumentedGroupFills:i}=this.properties,n=i[Math.min(e.depth??0,i.length)];return this.properties.group.fill??n}getNodeStroke(e){if(e.children.length===0)return this.properties.tile.stroke??e.stroke;const{undocumentedGroupStrokes:i}=this.properties,n=i[Math.min(e.depth??0,i.length)];return this.properties.group.stroke??n}async updateNodes(){var x;const{rootNode:e,data:t}=this,{highlightStyle:i,tile:n,group:s}=this.properties,{seriesRect:a}=this.chart??{};if(!a||!t)return;const{width:o,height:r}=a,l=Array.from(this.rootNode,()=>{}),c=Array.from(this.rootNode,()=>{});this.squarify(e,new $1(0,0,o,r),l,c);let u=(x=this.ctx.highlightManager)==null?void 0:x.getActiveHighlight();u!=null&&!this.properties.group.interactive&&u.children.length!==0&&(u=void 0),this.updateNodeMidPoint(l);const h=(y,b,v)=>{var Y;const S=l[y.index];if(S==null){b.visible=!1;return}const N=y.children.length===0;let M,I,C,L,O;if(v){const{tile:q,group:Z}=i;M=N?q.fill:Z.fill,I=N?q.fillOpacity:Z.fillOpacity,C=N?q.stroke:Z.stroke,L=N?q.strokeWidth:Z.strokeWidth,O=N?q.strokeOpacity:Z.strokeOpacity}const P=this.getTileFormat(y,v),z=(P==null?void 0:P.fill)??M??this.getNodeFill(y),V=(P==null?void 0:P.fillOpacity)??I??(N?n.fillOpacity:s.fillOpacity),G=(P==null?void 0:P.stroke)??C??this.getNodeStroke(y),H=(P==null?void 0:P.strokeWidth)??L??(N?n.strokeWidth:s.strokeWidth),B=(P==null?void 0:P.strokeOpacity)??O??(N?n.strokeOpacity:s.strokeOpacity);b.crisp=!0,b.fill=a8(z),b.fillOpacity=V,b.stroke=a8(G),b.strokeWidth=H,b.strokeOpacity=B,b.cornerRadius=N?n.cornerRadius:s.cornerRadius;const $=(Y=y.parent)==null?void 0:Y.children.every(q=>q.children.length===0),Q=y.parent!=null?l[y.parent.index]:void 0,X=y.parent!=null?c[y.parent.index]:void 0;$===!0&&Q!=null&&X!=null?(b.clipBBox=S,b.x=Q.x+X.left,b.y=Q.y+X.top,b.width=Q.width-(X.left+X.right),b.height=Q.height-(X.top+X.bottom)):(b.clipBBox=void 0,b.x=S.x,b.y=S.y,b.width=S.width,b.height=S.height),b.visible=!0};this.groupSelection.selectByClass(Y1).forEach(y=>h(y.datum,y,!1)),this.highlightSelection.selectByClass(Y1).forEach(y=>{const b=y.datum===u;y.visible=b||((u==null?void 0:u.contains(y.datum))??!1),y.visible&&h(y.datum,y,b)});const f=Array.from(this.rootNode,y=>{var M;const{index:b,children:v}=y,S=l[b],N=(M=this.labelData)==null?void 0:M[b];if(!(S==null||N==null))if(v.length===0){const I={width:S.width,height:S.height,meta:null},C=aR(N.label,this.properties.tile.label,N.secondaryLabel,this.properties.tile.secondaryLabel,{padding:n.padding},()=>I);if(C==null)return;const{height:L,label:O,secondaryLabel:P}=C,{textAlign:z,verticalAlign:V,padding:G}=n,H=o8[z]??.5,B=S.x+G+(S.width-2*G)*H,$=pze[V]??.5,Q=S.y+G+L*.5+(S.height-2*G-L)*$;return{label:O!=null?{text:O.text,fontSize:O.fontSize,lineHeight:O.lineHeight,style:this.properties.tile.label,x:B,y:Q-(L-O.height)*.5}:void 0,secondaryLabel:P!=null?{text:P.text,fontSize:P.fontSize,lineHeight:P.fontSize,style:this.properties.tile.secondaryLabel,x:B,y:Q+(L-P.height)*.5}:void 0,verticalAlign:"middle",textAlign:z}}else{if((N==null?void 0:N.label)==null)return;{const{padding:I,textAlign:C}=s,L=this.groupTitleHeight(y,S);if(L==null)return;const O=S.width-2*I,P=oze.wrapText(N.label,{maxWidth:S.width-2*I,font:s.label,textWrap:"never"}),z=o8[C]??.5;return{label:{text:P,fontSize:s.label.fontSize,lineHeight:aze.getLineHeight(s.label.fontSize),style:this.properties.group.label,x:S.x+I+O*z,y:S.y+I+L*.5},secondaryLabel:void 0,verticalAlign:"middle",textAlign:C}}}}),g=(y,b,v,S)=>{const N=y.children.length===0,M=f[y.index],I=v===0?M==null?void 0:M.label:M==null?void 0:M.secondaryLabel;if(M==null||I==null){b.visible=!1;return}let C;if(S){const{tile:L,group:O}=i;C=L.secondaryLabel.color,N?v===0&&(C=L.label.color):C=O.label.color}b.text=I.text,b.fontSize=I.fontSize,b.lineHeight=I.lineHeight,b.fontStyle=I.style.fontStyle,b.fontFamily=I.style.fontFamily,b.fontWeight=I.style.fontWeight,b.fill=C??I.style.color,b.textAlign=M.textAlign,b.textBaseline=M.verticalAlign,b.x=I.x,b.y=I.y,b.visible=!0};this.groupSelection.selectByClass(xx).forEach(y=>{g(y.datum,y,y.tag,!1)}),this.highlightSelection.selectByClass(xx).forEach(y=>{const b=y.datum===u;y.visible=b||((u==null?void 0:u.contains(y.datum))??!1),y.visible&&g(y.datum,y,y.tag,b)})}updateNodeMidPoint(e){this.rootNode.walk(t=>{const i=e[t.index];i!=null&&(t.midPoint.x=i.x+i.width/2,t.midPoint.y=i.y)})}pickNodeClosestDatum(e){const t=this.pickNodeExactShape(e);return t!==void 0?t:this.pickNodeNearestDistantObject(e,this.groupSelection.nodes())}getTooltipHtml(e){const{datum:t,depth:i}=e,{id:n}=this,{tooltip:s,colorKey:a,colorName:o=a,labelKey:r,secondaryLabelKey:l,sizeKey:c,sizeName:u=c,childrenKey:h}=this.properties,f=e.children.length===0,g=f||this.properties.group.interactive;if(t==null||i==null||!g)return K.EMPTY_TOOLTIP_CONTENT;const x=r!=null?t[r]:void 0,y=this.getTileFormat(e,!1),b=(y==null?void 0:y.fill)??this.getNodeFill(e);if(!s.renderer&&!x)return K.EMPTY_TOOLTIP_CONTENT;const v=[],S=l!=null?t[l]:void 0;S!=null&&l!==a&&l!==c&&v.push(jk(S));const N=c!=null?t[c]:void 0;N!=null&&v.push(`${u}: ${jk(N)}`);const M=a!=null?t[a]:void 0;M!=null&&v.push(`${o}: ${jk(M)}`);const I=v.join("<br>"),C={title:x,color:f?this.properties.tile.label.color:this.properties.group.label.color,backgroundColor:b,content:I};return s.toTooltipHtml(C,{depth:i,datum:t,colorKey:a,labelKey:r,secondaryLabelKey:l,sizeKey:c,title:x,color:b,seriesId:n,childrenKey:h,colorName:o,itemId:void 0,sizeName:u})}pickFocus(e){var o;const{focusPath:t}=this;(t.length<2||this.focusSorted==null)&&(t.length=1,this.focusSorted=this.sortChildren(t[0].nodeDatum),t.push({nodeDatum:this.focusSorted.childAt(0),childIndex:0}));const{datumIndexDelta:i,otherIndexDelta:n}=e,s=t[t.length-1];if(n===1){if(s.nodeDatum.children.length>0){this.focusSorted=this.sortChildren(s.nodeDatum);const r={nodeDatum:this.focusSorted.childAt(0),childIndex:0};return t.push(r),this.computeFocusOutputs(r)}}else if(i!==0){const r=s.childIndex+i,l=(((o=s.nodeDatum.parent)==null?void 0:o.children.length)??1)-1;return s.childIndex=uze(0,r,l),s.nodeDatum=this.focusSorted.childAt(s.childIndex),this.computeFocusOutputs(s)}const a=super.pickFocus(e);return n<0&&(this.focusSorted=this.sortChildren(t[t.length-1].nodeDatum.parent)),a}computeFocusBounds(e){const t=this.groupSelection.selectByClass(Y1);return ae.Transformable.toCanvas(t[e.index])}};JR.className="TreemapSeries";JR.type="treemap";var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:mze,DEFAULT_FONT_FAMILY:Rk,DEFAULT_HIERARCHY_FILLS:gze,DEFAULT_HIERARCHY_STROKES:yze,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:K1,DEFAULT_LABEL_COLOUR:r8,FONT_WEIGHT:l8}=se,xze={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",moduleFactory:e=>new JR(e),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{group:{label:{enabled:!0,color:r8,fontStyle:void 0,fontWeight:l8.NORMAL,fontSize:12,fontFamily:Rk,spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:K1,fontStyle:void 0,fontWeight:l8.NORMAL,fontSize:18,minimumFontSize:10,fontFamily:Rk,wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:K1,fontStyle:void 0,fontWeight:void 0,fontSize:12,minimumFontSize:10,fontFamily:Rk,wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:r8},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:K1},secondaryLabel:{color:K1},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{const{fills:n,strokes:s}=e(t),a=i.get(mze),o=i.get(gze),r=i.get(yze);return{fills:n,strokes:s,colorRange:a,undocumentedGroupFills:o,undocumentedGroupStrokes:r}}},{DropShadow:bze,Label:vze}=ae,{AbstractBarSeriesProperties:wze,BaseProperties:vv,PropertiesArray:Sze,SeriesTooltip:Nze,Validate:wt,BOOLEAN:Mze,COLOR_STRING:eP,FUNCTION:EQ,LINE_DASH:OQ,NUMBER:Ize,OBJECT:iu,OBJECT_ARRAY:Tze,POSITIVE_NUMBER:Fg,RATIO:tP,STRING:Bg,UNION:jQ}=K,RM=class extends vv{};A([wt(jQ(["subtotal","total"],"a total type"))],RM.prototype,"totalType");A([wt(Ize)],RM.prototype,"index");A([wt(Bg)],RM.prototype,"axisLabel");var RQ=class extends vv{};A([wt(EQ,{optional:!0})],RQ.prototype,"renderer");var iP=class extends vze{constructor(){super(...arguments),this.placement="outside-end",this.padding=6}};A([wt(jQ(["inside-center","inside-start","inside-end","outside-start","outside-end",{value:"inside",deprecatedTo:"inside-center"},{value:"start",deprecatedTo:"outside-start"},{value:"end",deprecatedTo:"outside-end"}],"a placement"))],iP.prototype,"placement");A([wt(Fg)],iP.prototype,"padding");var vs=class extends vv{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new bze().set({enabled:!1}),this.label=new iP,this.tooltip=new RQ}};A([wt(Bg,{optional:!0})],vs.prototype,"name");A([wt(eP)],vs.prototype,"fill");A([wt(eP)],vs.prototype,"stroke");A([wt(tP)],vs.prototype,"fillOpacity");A([wt(tP)],vs.prototype,"strokeOpacity");A([wt(OQ)],vs.prototype,"lineDash");A([wt(Fg)],vs.prototype,"lineDashOffset");A([wt(Fg)],vs.prototype,"strokeWidth");A([wt(Fg)],vs.prototype,"cornerRadius");A([wt(EQ,{optional:!0})],vs.prototype,"itemStyler");A([wt(iu)],vs.prototype,"shadow");A([wt(iu)],vs.prototype,"label");A([wt(iu)],vs.prototype,"tooltip");var Zp=class extends vv{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};A([wt(Mze)],Zp.prototype,"enabled");A([wt(eP)],Zp.prototype,"stroke");A([wt(tP)],Zp.prototype,"strokeOpacity");A([wt(OQ)],Zp.prototype,"lineDash");A([wt(Fg)],Zp.prototype,"lineDashOffset");A([wt(Fg)],Zp.prototype,"strokeWidth");var PM=class extends vv{constructor(){super(...arguments),this.positive=new vs,this.negative=new vs,this.total=new vs}};A([wt(iu)],PM.prototype,"positive");A([wt(iu)],PM.prototype,"negative");A([wt(iu)],PM.prototype,"total");var nu=class extends wze{constructor(){super(...arguments),this.item=new PM,this.totals=new Sze(RM),this.line=new Zp,this.tooltip=new Nze}};A([wt(Bg)],nu.prototype,"xKey");A([wt(Bg)],nu.prototype,"yKey");A([wt(Bg,{optional:!0})],nu.prototype,"xName");A([wt(Bg,{optional:!0})],nu.prototype,"yName");A([wt(iu)],nu.prototype,"item");A([wt(Tze)],nu.prototype,"totals");A([wt(iu)],nu.prototype,"line");A([wt(iu)],nu.prototype,"tooltip");var{adjustLabelPlacement:Aze,SeriesNodePickMode:c8,fixNumericExtent:kze,valueProperty:u8,keyProperty:Cze,accumulativeValueProperty:Z1,trailingAccumulatedValueProperty:Dze,ChartAxisDirection:Pk,getRectConfig:Lze,updateRect:Eze,checkCrisp:Oze,updateLabelNode:jze,prepareBarAnimationFunctions:Rze,collapsedStartingBarPosition:Pze,resetBarSelectionsFn:zze,seriesLabelFadeInAnimation:_ze,resetLabelFn:Fze,animationValidation:Bze,DEFAULT_CARTESIAN_DIRECTION_KEYS:Vze,DEFAULT_CARTESIAN_DIRECTION_NAMES:Uze,formatValue:Gze,computeBarFocusBounds:Wze}=K,{Rect:Hze,motion:Yze}=ae,{sanitizeHtml:ix,isContinuous:d8}=Me,$ze={"inside-center":"inside-center","inside-start":"inside-start","inside-end":"inside-end","outside-start":"outside-start","outside-end":"outside-end",inside:"inside-center",start:"outside-start",end:"outside-end"},nP=class extends K.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:Vze,directionNames:Uze,pickModes:[c8.NEAREST_NODE,c8.EXACT_SHAPE_MATCH],pathsPerSeries:["connector"],hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:zze,label:Fze}}),this.properties=new nu,this.seriesItemTypes=new Set(["positive","negative","total"])}async processData(e){var S,N,M,I;const{xKey:t,yKey:i,totals:n}=this.properties,{data:s=[]}=this;if(!this.properties.isValid()||!this.visible)return;const a=C=>d8(C)&&Number(C)>=0,o=C=>d8(C)&&Number(C)>=0,r=C=>C==="total"||C==="subtotal",l={missingValue:void 0,invalidValue:void 0},c=[],u=n.reduce((C,L)=>{const O=C.get(L.index);return O?O.push(L):C.set(L.index,[L]),C},new Map);s.forEach((C,L)=>{var O;c.push(C),(O=u.get(L))==null||O.forEach(P=>c.push({...P.toJson(),[t]:P.axisLabel}))});const h=[];this.ctx.animationManager.isSkipped()||h.push(Bze());const f=(S=this.getCategoryAxis())==null?void 0:S.scale,g=(N=this.getValueAxis())==null?void 0:N.scale,{isContinuousX:x,xScaleType:y,yScaleType:b}=this.getScaleInformation({xScale:f,yScale:g}),{processedData:v}=await this.requestDataModel(e,c,{props:[Cze(t,y,{id:"xValue"}),Z1(i,b,{...l,id:"yCurrent"}),Z1(i,b,{...l,missingValue:0,id:"yCurrentTotal"}),Z1(i,b,{...l,id:"yCurrentPositive",validation:a}),Z1(i,b,{...l,id:"yCurrentNegative",validation:o}),Dze(i,b,{...l,id:"yPrevious"}),u8(i,b,{id:"yRaw"}),u8("totalType","band",{id:"totalTypeValue",missingValue:void 0,validation:r}),...x?[K.SMALLEST_KEY_INTERVAL,K.LARGEST_KEY_INTERVAL]:[],...h]});this.smallestDataInterval=(M=v.reduced)==null?void 0:M.smallestKeyInterval,this.largestDataInterval=(I=v.reduced)==null?void 0:I.largestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[n],values:s}=t.domain;if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue");if((a==null?void 0:a.def.type)==="key"&&(a==null?void 0:a.def.valueType)==="category")return n;const o=e===Pk.Y,r=this.getCategoryAxis().isReversed();return this.padBandExtent(n,r!==o)}else{const a=i.resolveProcessedDataIndexById(this,"yCurrent"),o=s[a],r=[Math.min(0,o[0]),Math.max(0,o[1])];return kze(r)}}async createNodeData(){var V,G;const{data:e,dataModel:t}=this,i=this.getCategoryAxis(),n=this.getValueAxis();if(!e||!i||!n||!t)return;const{line:s}=this.properties,a=i.scale,o=n.scale,r=this.getBarDirection()===Pk.X,l=this.getBandwidth(i)??10,c=i.isReversed(),u=n.isReversed();if(((V=this.processedData)==null?void 0:V.type)!=="ungrouped")return;const h={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return h;const f=t.resolveProcessedDataIndexById(this,"yRaw"),g=t.resolveProcessedDataIndexById(this,"xValue"),x=t.resolveProcessedDataIndexById(this,"totalTypeValue"),y=[],b=t.resolveProcessedDataIndexById(this,"yCurrent"),v=t.resolveProcessedDataIndexById(this,"yPrevious"),S=t.resolveProcessedDataIndexById(this,"yCurrentTotal");function N(H,B,$){return H||B?{cumulativeValue:$[S],trailingValue:B?I:0}:{cumulativeValue:$[b],trailingValue:$[v]}}function M(H,B,$,Q,X){return H?Q:B?(Q??0)-(X??0):$}let I=0;const{xKey:C,yKey:L,xName:O,yName:P}=this.properties;(G=this.processedData)==null||G.data.forEach(({keys:H,datum:B,values:$},Q)=>{const X=$[x],Y=this.isSubtotal(X),q=this.isTotal(X),Z=q||Y,W=H[g],ee=Math.round(a.convert(W)),oe=$[f],{cumulativeValue:fe,trailingValue:ue}=N(q,Y,$);Z&&(I=fe??0);const de=Math.round(o.convert(fe)),te=Math.round(o.convert(ue)),he=M(q,Y,oe,fe,ue),ge=(he??0)>=0,xe=this.getSeriesItemType(ge,X),{fill:be,stroke:ye,strokeWidth:we,label:_e}=this.getItemConfig(xe),Le=ge?de:te,Ke=ge?te:de,$e=Math.max(we,Math.abs(Ke-Le)),He={x:r?Math.min(Le,Ke):ee,y:r?ee:Math.min(Le,Ke),width:r?$e:l,height:r?l:$e},Ze={x:He.x+He.width/2,y:He.y+He.height/2},at=Z?de:te,Je=Math.floor(s.strokeWidth)%2/2,Mt=c?de:at,xi=c?at:de;let Li,Vn;r?(Li={x:Mt+Je,y:He.y},Vn={x:xi+Je,y:He.y+He.height}):(Li={x:He.x,y:Mt+Je},Vn={x:He.x+He.width,y:xi+Je});const _l={x:c?Vn.x:Li.x,y:c?Vn.y:Li.y,x2:c?Li.x:Vn.x,y2:c?Li.y:Vn.y,size:0};y.push(_l);const Yo=xe==="subtotal"?"total":xe,$o=this.getLabelText(_e,{itemId:Yo,value:he,datum:B,xKey:C,yKey:L,xName:O,yName:P},Gze),Fl={index:Q,series:this,itemId:xe,datum:B,cumulativeValue:fe??0,xValue:W,yValue:he,yKey:L,xKey:C,x:He.x,y:He.y,width:He.width,height:He.height,midPoint:Ze,fill:be,stroke:ye,strokeWidth:we,opacity:1,label:{text:$o,...Aze({isUpward:(he??-1)>=0!==u,isVertical:!r,placement:$ze[_e.placement],padding:_e.padding,rect:He})}};h.nodeData.push(Fl),h.labelData.push(Fl)});const z=this.properties.line.enabled;return b!==void 0&&z&&(h.pointData=y),h}updateSeriesItemTypes(){const{dataModel:e,seriesItemTypes:t,processedData:i}=this;if(!e||!i)return;t.clear();const n=e.resolveProcessedDataIndexById(this,"yCurrentPositive"),s=e.resolveProcessedDataIndexById(this,"yCurrentNegative"),a=e.resolveProcessedDataIndexById(this,"totalTypeValue"),o=i.domain.values[n]??[],r=i.domain.values[s]??[];o.length>0&&t.add("positive"),r.length>0&&t.add("negative");const l=i==null?void 0:i.domain.values[a];l&&l.forEach(c=>{(c==="total"||c==="subtotal")&&t.add("total")})}isSubtotal(e){return e==="subtotal"}isTotal(e){return e==="total"}nodeFactory(){return new Hze}getSeriesItemType(e,t){return t??(e?"positive":"negative")}getItemConfig(e){switch(e){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,n=t??[];return i.update(n)}async updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{id:n,ctx:s}=this,{yKey:a,highlightStyle:{item:o}}=this.properties,r=this.getCategoryAxis(),l=Oze(r==null?void 0:r.scale,r==null?void 0:r.visibleRange,this.smallestDataInterval,this.largestDataInterval),c=this.getCategoryDirection()===Pk.X;t.each((u,h)=>{const f=h.itemId,{fillOpacity:g,strokeOpacity:x,strokeWidth:y,lineDash:b,lineDashOffset:v,cornerRadius:S,itemStyler:N,shadow:M}=this.getItemConfig(f),I={fill:h.fill,stroke:h.stroke,fillOpacity:g,strokeOpacity:x,lineDash:b,lineDashOffset:v,fillShadow:M,strokeWidth:this.getStrokeWidth(y),cornerRadius:S},C=c?h.width>0:h.height>0,L=Lze({datum:h,isHighlighted:i,style:I,highlightStyle:o,itemStyler:N,seriesId:n,itemId:h.itemId,ctx:s,value:h.yValue,yKey:a});L.crisp=l,L.visible=C,Eze(u,L)})}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;if(t.length===0)return i.update([]);const n=t.filter(s=>{const{label:a}=this.getItemConfig(s.itemId);return a.enabled});return i.update(n)}async updateLabelNodes(e){e.labelSelection.each((t,i)=>{jze(t,this.getItemConfig(i.itemId).label,i.label)})}getTooltipHtml(e){const t=this.getCategoryAxis(),i=this.getValueAxis();if(!this.properties.isValid()||!t||!i)return K.EMPTY_TOOLTIP_CONTENT;const{id:n}=this,{xKey:s,yKey:a,xName:o,yName:r,tooltip:l}=this.properties,{datum:c,itemId:u,xValue:h,yValue:f}=e,{fill:g,fillOpacity:x,stroke:y,strokeWidth:b,strokeOpacity:v,lineDash:S=[],lineDashOffset:N,cornerRadius:M,name:I,itemStyler:C}=this.getItemConfig(u);let L;C&&(L=this.ctx.callbackCache.call(C,{datum:c,xKey:s,yKey:a,fill:g,fillOpacity:x,stroke:y,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:N,cornerRadius:M,highlighted:!1,seriesId:n,itemId:e.itemId}));const O=(L==null?void 0:L.fill)??g??"gray",P=ix(t.formatDatum(h)),z=ix(i.formatDatum(f)),V=this.isTotal(u),G=this.isSubtotal(u);let H;V?H="Total":G?H="Subtotal":H=I??r??a;const B=ix(r),$=`<b>${ix(o??s)}</b>: ${P}<br/><b>${ix(H)}</b>: ${z}`;return l.toTooltipHtml({title:B,content:$,backgroundColor:O},{seriesId:n,itemId:u,datum:c,xKey:s,yKey:a,xName:o,yName:r,color:O,title:B})}getLegendData(e){if(e!=="category")return[];const{id:t,seriesItemTypes:i}=this,n=[],s=a=>a.charAt(0).toUpperCase()+a.substring(1);return i.forEach(a=>{const{fill:o,stroke:r,fillOpacity:l,strokeOpacity:c,strokeWidth:u,name:h}=this.getItemConfig(a);n.push({legendType:"category",id:t,itemId:a,seriesId:t,enabled:!0,label:{text:h??s(a)},symbols:[{marker:{fill:o,stroke:r,fillOpacity:l,strokeOpacity:c,strokeWidth:u}}]})}),n}toggleSeriesItem(){}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,contextData:i,paths:n}){const s=Rze(Pze(this.isVertical(),this.axes,"normal"));Yze.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],s),_ze(this,"labels",this.ctx.animationManager,t);const{pointData:a}=i;if(!a)return;const[o]=n;this.isVertical()?this.animateConnectorLinesVertical(o,a):this.animateConnectorLinesHorizontal(o,a)}animateConnectorLinesHorizontal(e,t){const{path:i}=e;this.updateLineNode(e);const n=this.getValueAxis(),s=n==null?void 0:n.isReversed(),a=s?(c,u)=>c<u:(c,u)=>c>u,o=n==null?void 0:n.scale.convert(0),r=t.reduce((c,u)=>(a(u.x,c)&&(c=u.x),c),s?1/0:0),l=(c,u,h,f,g)=>(c-u)/(h-u)*(g-f)+f;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:o,to:r,ease:K.Motion.easeOut,collapsable:!1,onUpdate(c){i.clear(!0),t.forEach((u,h)=>{const f=l(c,o,r,o,u.x),g=l(c,o,r,o,u.x2);h!==0&&i.lineTo(f,u.y),i.moveTo(g,u.y2)}),e.checkPathDirty()}})}animateConnectorLinesVertical(e,t){const{path:i}=e;this.updateLineNode(e);const n=this.getValueAxis(),s=n==null?void 0:n.isReversed(),a=s?(c,u)=>c>u:(c,u)=>c<u,o=n==null?void 0:n.scale.convert(0),r=t.reduce((c,u)=>(a(u.y,c)&&(c=u.y),c),s?0:1/0),l=(c,u,h,f,g)=>(c-u)/(h-u)*(g-f)+f;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:o,to:r,ease:K.Motion.easeOut,collapsable:!1,onUpdate(c){i.clear(!0),t.forEach((u,h)=>{const f=l(c,o,r,o,u.y),g=l(c,o,r,o,u.y2);h!==0&&i.lineTo(u.x,f),i.moveTo(u.x2,g)}),e.checkPathDirty()}})}animateReadyResize(e){super.animateReadyResize(e),this.resetConnectorLinesPath(e)}async updatePaths(e){this.resetConnectorLinesPath({contextData:e.contextData,paths:e.paths})}resetConnectorLinesPath({contextData:e,paths:t}){if(t.length===0)return;const[i]=t;this.updateLineNode(i);const{path:n}=i;n.clear(!0);const{pointData:s}=e;s&&(s.forEach((a,o)=>{o!==0&&n.lineTo(a.x,a.y),n.moveTo(a.x2,a.y2)}),i.checkPathDirty())}updateLineNode(e){const{stroke:t,strokeWidth:i,strokeOpacity:n,lineDash:s,lineDashOffset:a}=this.properties.line;e.setProperties({fill:void 0,stroke:t,strokeWidth:this.getStrokeWidth(i),strokeOpacity:n,lineDash:s,lineDashOffset:a,lineJoin:"round",pointerEvents:ae.PointerEvents.None})}isLabelEnabled(){const{positive:e,negative:t,total:i}=this.properties.item;return e.label.enabled||t.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e,seriesRect:t}){var i;return Wze((i=this.contextNodeData)==null?void 0:i.nodeData[e],this.contentGroup,t)}};nP.className="WaterfallSeries";nP.type="waterfall";var zk={strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:se.FONT_WEIGHT.NORMAL,fontSize:12,fontFamily:se.DEFAULT_FONT_FAMILY,color:se.DEFAULT_LABEL_COLOUR,formatter:void 0,placement:"outside-end"}},Kze={series:{item:{positive:zk,negative:zk,total:zk},line:{stroke:se.PALETTE_NEUTRAL_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,toggleSeries:!1}},Zze={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,moduleFactory:e=>new nP(e),tooltipDefaults:{range:"exact"},defaultAxes:se.swapAxisCondition([{type:se.CARTESIAN_AXIS_TYPE.NUMBER,position:se.CARTESIAN_POSITION.LEFT},{type:se.CARTESIAN_AXIS_TYPE.CATEGORY,position:se.CARTESIAN_POSITION.BOTTOM}],e=>(e==null?void 0:e.direction)==="horizontal"),themeTemplate:Kze,paletteFactory:({takeColors:e,colorsCount:t,userPalette:i,palette:n})=>{if(i==="user-indexed"){const{fills:s,strokes:a}=e(t);return{line:{stroke:n.neutral.stroke},item:{positive:{fill:s[0],stroke:a[0]},negative:{fill:s[1],stroke:a[1]},total:{fill:s[2],stroke:a[2]}}}}return{line:{stroke:n.neutral.stroke},item:{positive:{fill:n.altUp.fill,stroke:n.altUp.stroke,label:{color:se.DEFAULT_LABEL_COLOUR}},negative:{fill:n.altDown.fill,stroke:n.altDown.stroke,label:{color:se.DEFAULT_LABEL_COLOUR}},total:{fill:n.neutral.fill,stroke:n.neutral.stroke,label:{color:se.DEFAULT_LABEL_COLOUR}}}}}},qze=`.ag-watermark{position:absolute;bottom:20px;right:25px;font-weight:700;font-family:Impact,sans-serif;font-size:19px;opacity:.7;animation:1s ease-out 3s ag-watermark-fadeout;color:#9b9b9b;pointer-events:none;&:before{content:"";display:block;height:40px;width:170px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);background-repeat:no-repeat;background-size:170px 40px}>span{padding-left:.7rem}}@keyframes ag-watermark-fadeout{0%{opacity:.5}to{opacity:0}}.ag-charts-popover{position:absolute;border:var(--ag-charts-popover-border);border-radius:var(--ag-charts-popover-border-radius);background:var(--ag-charts-popover-background-color);color:var(--ag-charts-popover-foreground-color);font-family:var(--ag-charts-font-family);font-size:var(--ag-charts-popover-font-size);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{display:grid;grid:auto-flow auto / 1fr;column-gap:12px;min-width:200px;font-size:var(--ag-charts-popover-font-size-small);--item-padding: 6px 12px;--icon-color: var(--ag-charts-popover-foreground-color)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-popover-hover-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-popover-active-color);background:var(--ag-charts-popover-active-background-color);color:var(--ag-charts-popover-active-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-dialog{display:flex;flex-direction:column;font-size:14px}.ag-charts-dialog__tabs{display:flex;flex-direction:column}.ag-charts-dialog__header{border-bottom:1px solid var(--ag-charts-border-color);display:flex}.ag-charts-dialog__tab-list{display:flex;gap:var(--ag-charts-input-spacing)}.ag-charts-dialog__drag-handle{align-items:center;color:inherit;cursor:grab;display:flex;padding:1px 6px;text-align:center}.ag-charts-dialog__drag-handle--dragging{cursor:grabbing}.ag-charts-dialog__tab-button{background:none;border:0;border-bottom:2px solid transparent;border-radius:0;color:var(--ag-charts-dialog-tab-color--inactive);margin-bottom:-1px;padding:var(--ag-charts-input-padding) calc(var(--ag-charts-input-padding) / 2)}.ag-charts-dialog__tab-button:hover{background:none}.ag-charts-dialog__tab-button--active{border-color:currentColor;color:inherit}.ag-charts-dialog__drag-handle+.ag-charts-dialog__tab-button{margin-left:calc(var(--ag-charts-input-spacing) * -1)}.ag-charts-button.ag-charts-dialog__close-button{background:none;border:0;margin-left:auto;padding:1px 6px}.ag-charts-dialog__close-button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-dialog__tab-panel{display:none;flex-direction:column;gap:calc(var(--ag-charts-input-spacing) * 2);margin:0 calc(var(--ag-charts-input-spacing) * 2);padding:calc(var(--ag-charts-input-spacing) * 2) 0}.ag-charts-dialog__tab-panel--active{display:flex}.ag-charts-dialog__input-group-line{display:flex;gap:18px}.ag-charts-dialog__input-group{align-items:center;display:flex;font-size:12px}.ag-charts-dialog__input-group-label{color:var(--ag-charts-dialog-input-group-label-color);margin-right:5px}.ag-charts-dialog__input-group-label[for]{cursor:pointer}.ag-charts-dialog__button{border-radius:0;margin-right:-1px}.ag-charts-dialog__button.ag-charts-dialog__button--active{background:var(--ag-charts-input-background-color--active);border-color:var(--ag-charts-input-border-color--active);color:var(--ag-charts-input-color--active);z-index:var(--input-layer-active)}.ag-charts-dialog__button:first-child,.ag-charts-dialog__input-group-label+.ag-charts-dialog__button{border-bottom-left-radius:var(--ag-charts-input-border-radius);border-top-left-radius:var(--ag-charts-input-border-radius)}.ag-charts-dialog__button:last-child{border-bottom-right-radius:var(--ag-charts-input-border-radius);border-top-right-radius:var(--ag-charts-input-border-radius)}.ag-charts-dialog__color-picker-button{--color: #000;background:var(--color);border:none;color:transparent;height:26px;width:26px}.ag-charts-dialog__color-picker-button:hover{background:var(--color)}.ag-charts-color-picker{width:190px;padding:8px;--h: 0;--s: 0;--v: 0;--a: 0;--color: #000;--color-a: #000;--thumb-size: 18px;--inner-width: 172px;--track-height: 12px;--palette-height: 136px;--checker: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>')}.ag-charts-color-picker__content{display:flex;flex-direction:column}.ag-charts-color-picker__palette{position:relative;width:100%;height:var(--palette-height);margin-bottom:8px;background:linear-gradient(to bottom,#0000,#000),linear-gradient(to right,#fff,#fff0) hsl(var(--h),100%,50%);border-radius:6px;box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__palette:after{content:"";position:absolute;display:block;top:calc(var(--thumb-size) * -.5 + (1 - var(--v)) * 100%);left:calc(var(--thumb-size) * -.5 + var(--s) * 100%);background:var(--color);width:var(--thumb-size);height:var(--thumb-size);border-radius:99px;box-shadow:var(--box-shadow);--box-shadow: inset 0 0 0 3px white, inset 0 0 1px 3px #0006, 0 0 5px #00000038}.ag-charts-color-picker__palette:focus-visible:after{outline:var(--ag-charts-focus-border);box-shadow:var(--box-shadow),0 0 0 2px #fff8,var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__hue-input,.ag-charts-color-picker__alpha-input{-webkit-appearance:none;display:block;position:relative;padding:0;margin:0 calc(var(--inset) * -1);border:0;height:var(--thumb-size);width:auto;background:transparent;--inset: calc((var(--thumb-size) - var(--track-height)) / 2)}.ag-charts-color-picker__hue-input::-webkit-slider-thumb,.ag-charts-color-picker__alpha-input::-webkit-slider-thumb{-webkit-appearance:none;width:var(--thumb-size);height:var(--thumb-size);border-radius:99px;box-shadow:var(--box-shadow);--box-shadow: inset 0 0 0 3px white, inset 0 0 1px 3px #0006, 0 0 5px #00000038;transform:translateZ(0)}.ag-charts-color-picker__hue-input::-webkit-slider-thumb{background:hsl(var(--h),100%,50%)}.ag-charts-color-picker__alpha-input::-webkit-slider-thumb{background:transparent}.ag-charts-color-picker__alpha-input--opaque::-webkit-slider-thumb{background:var(--color)}.ag-charts-color-picker__hue-input:focus-visible::-webkit-slider-thumb,.ag-charts-color-picker__alpha-input:focus-visible::-webkit-slider-thumb{outline:var(--ag-charts-focus-border);box-shadow:var(--box-shadow),var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__hue-input:before,.ag-charts-color-picker__alpha-input:before{position:absolute;content:"";display:block;top:calc(50% - var(--track-height) / 2);left:var(--inset);right:var(--inset);height:var(--track-height);border-radius:99px;box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__hue-input{margin-bottom:4px}.ag-charts-color-picker__hue-input:before{background:linear-gradient(to right,red,red calc((100% - var(--track-height)) * 0 / 6 + var(--track-height) / 2),#ff0 calc((100% - var(--track-height)) * 1 / 6 + var(--track-height) / 2),#0f0 calc((100% - var(--track-height)) * 2 / 6 + var(--track-height) / 2),#0ff calc((100% - var(--track-height)) * 3 / 6 + var(--track-height) / 2),#00f calc((100% - var(--track-height)) * 4 / 6 + var(--track-height) / 2),#f0f calc((100% - var(--track-height)) * 5 / 6 + var(--track-height) / 2),red calc((100% - var(--track-height)) * 6 / 6 + var(--track-height) / 2))}.ag-charts-color-picker__alpha-input{margin-bottom:7px}.ag-charts-color-picker__alpha-input:before{background:linear-gradient(to right,transparent,var(--color)),var(--checker) top left / 4px 4px}.ag-charts-color-picker__color-field{display:flex;border:var(--ag-charts-border);background:var(--ag-charts-background-color);border-radius:4px;overflow:hidden}.ag-charts-color-picker__color-field:has(:focus-visible){border-color:var(--ag-charts-active-color);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__color-label{width:16px;height:16px;margin:7px 0 7px 7px;color:transparent;background:linear-gradient(to right,var(--color-a),var(--color-a)),var(--checker) top left / 4px 4px;border-radius:2px;box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__color-input{flex:1;min-width:0;padding:7px 7px 7px 8px;border:0;margin:0;color:inherit;background:transparent;font-variant:tabular-nums}.ag-charts-color-picker__color-input:focus-visible{border:none;outline:none}.ag-charts-annotations__axis-button-wrapper{position:absolute;left:0;top:0;user-select:none;font:16px Verdana,sans-serif;overflow:hidden;white-space:nowrap;z-index:var(--ag-charts-layer-annotations);box-sizing:border-box}.ag-charts-annotations__axis-button-wrapper--hidden{display:none}.ag-charts-annotations__axis-button{cursor:pointer;border:none;border-radius:2px;padding:0;line-height:16px;background-color:var(--ag-charts-axis-label-background-color);color:var(--ag-charts-axis-label-color)}.ag-charts-annotations__axis-button:hover{opacity:.8;color:var(--ag-charts-axis-label-color)}.annotations__text-size{width:34px;min-width:0;border-top-left-radius:0;border-top-right-radius:0;--item-padding: 4px 8px}.annotations__line-stroke-width{min-width:0;--item-padding: 6px;column-gap:var(--item-padding)}.annotations__line-style-type{min-width:0;--item-padding: 6px;column-gap:0}.ag-charts-dialog--annotation-settings{min-height:233px;width:289px}.ag-charts-dialog--annotation-settings .ag-charts-textarea{height:calc(10px * 2 + var(--line-height) * 1em * 3 + 2px);overflow-y:auto;resize:vertical}.ag-charts-annotations-text-size-menu{border-top-left-radius:0;border-top-right-radius:0;min-width:0;width:34px;--item-padding: 4px 8px}.ag-chart-context-menu{background:#f8f8f8;border:1px solid #babfc7;border-radius:5px;box-shadow:0 1px 4px 1px #babfc766;color:#181d1f;font:13px Verdana,sans-serif;transition:transform .1s ease;white-space:nowrap;z-index:var(--ag-charts-layer-ui-overlay)}.ag-chart-context-menu.ag-charts-dark-context-menu{color:#fff;background:#15181c}.ag-chart-context-menu__cover{position:fixed;left:0;top:0}.ag-chart-context-menu__menu{display:flex;flex-direction:column;padding:.5em 0}.ag-chart-context-menu__menu:focus{outline:none}.ag-chart-context-menu__item{background:none;border:none;box-sizing:border-box;font:inherit;padding:.5em 1em;text-align:left;-webkit-appearance:none;-moz-appearance:none}.ag-chart-context-menu__item.ag-charts-dark-context-menu{color:#fff}.ag-chart-context-menu__item:focus{background:#2196f31a}.ag-chart-context-menu__item:focus.ag-charts-dark-context-menu{background:#2196f31a}.ag-chart-context-menu__item:active{background:#2196f333}.ag-chart-context-menu__item:active.ag-charts-dark-context-menu{background:#2196f31a}.ag-chart-context-menu__item:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-chart-context-menu__item[aria-disabled=true]{border:none;opacity:.5;text-align:left}.ag-chart-context-menu__item[aria-disabled=true]:focus{background:inherit;cursor:inherit}.ag-chart-context-menu__divider{margin:5px 0;background:#babfc7;height:1px}.ag-chart-context-menu__divider.ag-charts-dark-context-menu{background:#2196f31a}.ag-crosshair-label{position:absolute;left:0;top:0;user-select:none;pointer-events:none;font:12px Verdana,sans-serif;overflow:hidden;white-space:nowrap;z-index:var(--ag-charts-layer-crosshair);box-sizing:border-box}.ag-crosshair-label-content{padding:0 8px;border-radius:2px;line-height:20px;background-color:var(--ag-charts-axis-label-background-color);color:var(--ag-charts-axis-label-color)}.ag-crosshair-label-hidden{visibility:hidden!important}.ag-charts-text-input{position:absolute}.ag-charts-text-input__textarea{display:block;height:100%;width:100%;border:0;background:none;line-height:1.38;transform:translateY(.09em)}.ag-charts-text-input__textarea[placeholder]:empty:before{content:attr(placeholder);color:var(--ag-charts-input-placeholder-color);font-weight:400}.ag-charts-text-input__textarea[placeholder]:not(:empty):before{content:""}
`;function Xze(){K.moduleRegistry.register(zMe,KMe,IIe,cke,bke,uCe,ZDe,T2e,q2e,kLe,YLe,cPe,l2e,Nke,kke,Bke,Gke,sCe,hOe,uje,FOe,Fje,IRe,eRe,bCe,LCe,MDe,wEe,sPe,qMe,a4e,o4e,z4e,G4e,yIe,x3e,SIe,v5e,$3e,MPe,G5e,q5e,BCe,xze,Zze,dDe),K.enterpriseModule.isEnterprise=!0,K.enterpriseModule.styles=qze,K.enterpriseModule.licenseManager=e=>{var t;return new TDe(((t=e.container)==null?void 0:t.ownerDocument)??(typeof document>"u"?void 0:document))},K.enterpriseModule.injectWatermark=kDe}Xze();function h8(e,t){return{...e,container:t.current}}function Qze(e,t){const i=D.forwardRef(function(s,a){const{options:o,style:r,className:l}=s,c=D.useRef(null),u=D.useRef();D.useLayoutEffect(()=>{const f=e(h8(o,c));return u.current=f,()=>{f.destroy()}},[]);const h=u.current===void 0;return D.useEffect(()=>{var f;h||(f=u.current)==null||f.update(h8(o,c))},[o]),D.useImperativeHandle(a,()=>u.current,[]),D.useMemo(()=>D.createElement("div",{ref:c,style:r,className:l}),[r,l])});return i.displayName=t,i}var Jze=Qze(e=>pb.create(e),"AgCharts");const e_e=({className:e})=>{const t=le(ze),{deviceType:i}=ve(),{t:n,i18n:s}=je(),[a,o]=D.useState(!1),[r,l]=D.useState(!1),[c,u]=D.useState(!1),[h,f]=D.useState(!1),g={data:[{from:"earth",to:"total",size:1512,nodeName:"earth"},{from:"alien",to:"total",size:1512,nodeName:"alien"},{from:"total",to:"sale",size:3024,nodeName:"sale"},{from:"sale",to:"funds",size:3024,nodeName:"funds"}],series:t===De?[{type:"sankey",fromKey:"from",toKey:"to",sizeKey:"size",label:{color:"#F4EDF7",fontWeight:600,fontSize:i!=="mobile"?16:8,fontFamily:"Nunito",spacing:i==="mobile"?2:4,formatter:b=>m8(b,n)},listeners:{nodeClick:b=>{if(Object.keys(b.datum).length)switch(b.datum.nodeName){case"earth":o(!0);break;case"alien":l(!0);break;case"sale":u(!0);break;case"funds":f(!0);break}}},node:{alignment:"center",itemStyler:b=>b.highlighted?{fill:"#F4EDF7",stroke:"#D336DA50",strokeWidth:1}:{fill:"#F4EDF7",stroke:"#D336DA50",strokeWidth:1}},link:{itemStyler:b=>{var v;return{fill:((v=b.datum)==null?void 0:v.from)==="earth"?"#578f62":"#B315B3",stroke:"#0C0514",strokeWidth:b.highlighted?2:0}}},tooltip:{showArrow:!1,renderer:b=>({title:p8(b,n,i),content:f8(b,n,i),color:"#F4EDF7",backgroundColor:"#0C0514"})}}]:[{type:"sankey",fromKey:"from",toKey:"to",sizeKey:"size",label:{color:"#140b05",fontWeight:600,fontSize:i!=="mobile"?16:8,fontFamily:"Nunito",spacing:i==="mobile"?2:4,formatter:b=>m8(b,n)},listeners:{nodeClick:b=>{if(Object.keys(b.datum).length)switch(b.datum.nodeName){case"earth":o(!0);break;case"alien":l(!0);break;case"sale":u(!0);break;case"funds":f(!0);break}}},node:{alignment:"center",itemStyler:b=>b.highlighted?{fill:"#0C0514",stroke:"#00EF0050",strokeWidth:1}:{fill:"#0C0514",stroke:"#00EF0050",strokeWidth:1}},link:{itemStyler:b=>{var v;return{fill:((v=b.datum)==null?void 0:v.from)==="alien"?"#88578f":"#00EF00",stroke:"#EDE2CF",strokeWidth:b.highlighted?2:0}}},tooltip:{showArrow:!1,renderer:b=>({title:p8(b,n,i),content:f8(b,n,i),color:"#140b05",backgroundColor:"#EDE2CF"})}}],background:{fill:"transparent"},padding:{left:0,right:0}},[x,y]=D.useState(g);return D.useEffect(()=>{y(g)},[i,rt(s.language),t]),d.jsxs("div",{className:e,children:[d.jsx(Jze,{options:x,className:"h-[200px] w-full"}),d.jsx(t_e,{open:a,setOpen:o}),d.jsx(i_e,{open:r,setOpen:l}),d.jsx(n_e,{open:c,setOpen:u}),d.jsx(s_e,{open:h,setOpen:f})]})},p8=(e,t,i)=>{if(i==="mobile"||[t("presale.chart-label-funds"),t("presale.chart-label-earth"),t("presale.chart-label-alien"),t("presale.chart-label-sale"),t("presale.chart-label-mkt"),t("presale.chart-label-total")].includes(e.title))return null;switch(e.datum.nodeName){case"earth":return t("presale.chart-tooltip-title-earth");case"alien":return t("presale.chart-tooltip-title-alien");case"mkt":return t("presale.chart-tooltip-title-mkt");case"sale":return t("presale.chart-tooltip-title-sale");case"funds":return t("presale.chart-tooltip-title-funds")}},f8=(e,t,i)=>{if(i==="mobile"||[t("presale.chart-label-funds"),t("presale.chart-label-earth"),t("presale.chart-label-alien"),t("presale.chart-label-sale"),t("presale.chart-label-total")].includes(e.title))return null;switch(e.datum.nodeName){case"earth":return t("presale.chart-tooltip-content-earth");case"alien":return t("presale.chart-tooltip-content-alien");case"sale":return t("presale.chart-tooltip-content-sale");case"funds":return t("presale.chart-tooltip-content-funds")}},m8=(e,t)=>{switch(e.value){case"earth":return t("presale.chart-label-earth");case"alien":return t("presale.chart-label-alien");case"total":return t("presale.chart-label-total");case"sale":return t("presale.chart-label-sale");case"funds":return t("presale.chart-label-funds")}},t_e=e=>{const t=le(ze),i=le(Ee),{deviceType:n}=ve(),{i18n:s}=je(),a=d.jsxs("div",{className:k({web:"w-[300px]",medium:"w-[300px]",mobile:"w-full text-[0.8em]"}[n]),children:["Total Earth boxes minted:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"1512"}),d.jsx("br",{}),"Content: ",d.jsx("span",{className:"font-extrabold",children:"one"})," from 36 different characters from 3 archetypes ",d.jsx("br",{}),d.jsxs("ul",{className:k("list-disc font-semibold",{medium:"mt-[3%] flex flex-col items-center",mobile:"flex flex-col items-center"}[n]),children:[d.jsx("li",{className:k(n==="web"&&"my-1 ml-4"),children:"Freak-gardes"}),d.jsx("li",{className:k(n==="web"&&"my-1 ml-4"),children:"Engine-gears"}),d.jsx("li",{className:k(n==="web"&&"my-1 ml-4"),children:"Tekheists"})]})]}),o=d.jsxs("div",{className:k({web:"w-[300px]",medium:"w-[300px]",mobile:"w-full text-[0.8em]"}[n]),children:["Total de cajas de la Tierra:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"1512"}),d.jsx("br",{}),"Incluidas en la preventa:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"1512"}),d.jsx("br",{}),"Contenido: ",d.jsx("span",{className:"font-extrabold",children:"uno"})," de 36 personajes diferentes de 3 arquetipos ",d.jsx("br",{}),d.jsxs("ul",{className:k("list-disc font-semibold",{medium:"mt-[3%] flex flex-col items-center",mobile:"flex flex-col items-center"}[n]),children:[d.jsx("li",{className:k(n==="web"&&"my-1 ml-4"),children:"Freak-gardes"}),d.jsx("li",{className:k(n==="web"&&"my-1 ml-4"),children:"Engine-gears"}),d.jsx("li",{className:k(n==="web"&&"my-1 ml-4"),children:"Tekheists"})]})]});return d.jsx(Ka,{...e,mode:"normal",title:"Earth NFT boxes",className:k({medium:"text-center",mobile:"text-center"}[n],{"!bg-earth-in-alien-green !bg-opacity-50 !text-alien-white !shadow-earth-frame":t===De}),contentWrapper:n==="mobile"?Ks:Ma,content:d.jsxs("div",{className:k({medium:"h-full flex-col justify-center",mobile:"h-full flex-col justify-center !gap-2 !pt-0"}[n],"flex items-center gap-8 pt-4 font-nunito"),children:[rt(s.language)==="en"?a:o,d.jsx("img",{loading:"eager",src:i.earthnftboxmedium,className:k("max-w-[15rem] -scale-x-100",t===De&&"saturate-50")})]})})},i_e=e=>{const t=le(ze),i=le(Ee),{i18n:n}=je(),{deviceType:s}=ve(),a=d.jsxs("div",{className:k({web:"w-[300px]",medium:"w-[300px]",mobile:"w-full"}[s]),children:["Total Alien boxes minted:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"1512"}),d.jsx("br",{}),"Content: ",d.jsx("span",{className:"font-extrabold",children:"one"})," from 36 different characters from 3 archetypes ",d.jsx("br",{}),d.jsxs("ul",{className:k("list-disc font-semibold",{medium:"mt-[3%] flex flex-col items-center",mobile:"flex flex-col items-center"}[s]),children:[d.jsx("li",{className:k(s==="web"&&"my-1 ml-4"),children:"Biofluxers"}),d.jsx("li",{className:k(s==="web"&&"my-1 ml-4"),children:"Forestalkers"}),d.jsx("li",{className:k(s==="web"&&"my-1 ml-4"),children:"Tidedrifters"})]})]}),o=d.jsxs("div",{className:k({web:"w-[300px]",medium:"w-[300px]",mobile:"w-full"}[s]),children:["Total de cajas Alien:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"1512"}),d.jsx("br",{}),"Incluidas en la preventa:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"1512"}),d.jsx("br",{}),"Contenido: ",d.jsx("span",{className:"font-extrabold",children:"uno"})," de 36 personajes diferentes de 3 arquetipos ",d.jsx("br",{}),d.jsxs("ul",{className:k("list-disc font-semibold",{medium:"mt-[3%] flex flex-col items-center",mobile:"flex flex-col items-center"}[s]),children:[d.jsx("li",{className:k(s==="web"&&"my-1 ml-4"),children:"Biofluxers"}),d.jsx("li",{className:k(s==="web"&&"my-1 ml-4"),children:"Forestalkers"}),d.jsx("li",{className:k(s==="web"&&"my-1 ml-4"),children:"Tidedrifters"})]})]});return d.jsx(Ka,{...e,mode:"normal",title:"Alien NFT boxes",className:k({medium:"text-center",mobile:"text-center"}[s],{"!bg-alien-in-earth-purple !shadow-alien-frame":t===F}),contentWrapper:s==="mobile"?Ks:Ma,content:d.jsxs("div",{className:k({medium:"h-full flex-col justify-center",mobile:"h-full flex-col justify-center !gap-2 !pt-0"}[s],"flex items-center gap-8 pt-4 font-nunito"),children:[rt(n.language)==="en"?a:o,d.jsx("img",{loading:"eager",src:i.aliennftboxmedium,className:k("max-w-[13rem] -scale-x-100",t===F&&"saturate-50")})]})})},n_e=e=>{const t=le(ze),i=le(Ee),{i18n:n}=je(),{deviceType:s}=ve(),a=d.jsxs("div",{className:k({web:"w-[300px]",medium:"w-[300px]",mobile:"w-full"}[s]),children:["Total NFT minted for the presale:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"3024"}),d.jsx("br",{}),"NFT per faction: ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"1512"}),d.jsx("br",{}),d.jsxs("span",{className:"mb-2 inline-block",children:["Content: ",d.jsx("span",{className:"font-extrabold",children:"one"})," from"," ",d.jsx("span",{className:"font-extrabold",children:"72"})," different characters (",d.jsx("span",{className:"font-extrabold",children:"12"})," commanders,"," ",d.jsx("span",{className:"font-extrabold",children:"5"})," cards per commander)"]}),d.jsx("br",{}),"Copies per character:",d.jsxs("ul",{className:k("list-disc font-semibold",{medium:"ml-[10%] mt-[3%] flex flex-col items-start",mobile:"flex flex-col items-center"}[s]),children:[d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Standard card: 20"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Card + skin: 14"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Card + skin + sticker: 8"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Standard commander: 20"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Commander + skin: 14"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Commander + skin + sticker: 8"})]}),d.jsx("br",{}),"Owning an NFT will grant you access to exclusive auctions and airdrops held during the game's development. All of them can be traded both before and after its launch."]}),o=d.jsxs("div",{className:k({web:"w-[300px]",medium:"w-[300px]",mobile:"w-full"}[s]),children:["Total de NFT para la preventa:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"3024"}),d.jsx("br",{}),"NFT por bando: ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"1512"}),d.jsx("br",{}),d.jsxs("span",{className:"mb-2 inline-block",children:["Contenido: ",d.jsx("span",{className:"font-extrabold",children:"uno"})," de"," ",d.jsx("span",{className:"font-semibold",children:"72"})," personajes diferentes (",d.jsx("span",{className:"font-semibold",children:"12"})," comandantes,"," ",d.jsx("span",{className:"font-semibold",children:"5"})," cartas por comandante)"]}),d.jsx("br",{}),"Copias por personaje:",d.jsxs("ul",{className:k("list-disc font-semibold",{medium:"ml-[10%] mt-[3%] flex flex-col items-start",mobile:"flex flex-col items-center"}[s]),children:[d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Carta estndar: 20"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Carta + skin: 14"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Carta + skin + sticker: 8"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Comandante estndar: 20"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Comandante + skin: 14"}),d.jsx("li",{className:k(s!=="mobile"&&"my-1 ml-4"),children:"Comandante + skin + sticker: 8"})]}),d.jsx("br",{}),"Ser dueo de un NFT te permitir acceder a subastas y airdrops exclusivos que se llevarn a cabo durante el desarrollo del juego. Todos comerciables antes y despus de su lanzamiento."]});return d.jsx(Ka,{...e,mode:"normal",title:rt(n.language)==="en"?"Presale NFT":"NFT de la preventa",contentWrapper:s==="mobile"?Ks:Ma,className:{medium:"text-center",mobile:"text-center"}[s],content:d.jsxs("div",{className:k({medium:"h-full flex-col justify-center",mobile:"h-full scale-[0.8] flex-col justify-center !gap-2 !pt-0"}[s],"flex items-center gap-8 pt-4 font-nunito"),children:[d.jsxs("div",{className:k("relative shrink-0",{web:"h-[13rem] w-[13rem]",medium:"h-[13rem] w-[13rem]",mobile:"-mt-[30%] h-[13rem] w-[13rem] scale-[0.6]"}[s]),children:[d.jsx("div",{className:k("absolute -left-[2.41%] top-0",t===De?"z-10 drop-shadow-alien-nft":"!top-[4px]"),children:d.jsx("img",{loading:"eager",src:i.aliennftboxmedium,className:k({web:t===F?"max-w-[12.9rem]":"max-w-[13rem]",medium:t===F?"max-w-[12.9rem]":"max-w-[13rem]",mobile:t===F?"max-w-[12.9rem]":"max-w-[13rem]"}[s],t===F?"clip-alien-top-left opacity-90 saturate-50":"clip-alien-bottom-right"),alt:"Alien NFT Box"})}),d.jsx("div",{className:k("absolute -bottom-[5.77%] -right-[2.41%]",t===F&&"drop-shadow-earth-option-hover"),children:d.jsx("img",{loading:"eager",src:i.earthnftboxmedium,className:k({web:t===F?"max-w-[14.5rem]":"max-w-[14.8rem]",medium:t===F?"max-w-[14.5rem]":"max-w-[14.8rem]",mobile:t===F?"max-w-[14.5rem]":"max-w-[14.8rem]"}[s],t===F?"clip-earth-bottom-right":"clip-earth-top-left opacity-90 saturate-50"),alt:"Earth NFT Box"})})]}),rt(n.language)==="en"?a:o]})})},s_e=e=>{const t=le(ze),i=le(Ee),{i18n:n}=je(),{deviceType:s}=ve(),a=d.jsxs("div",{className:k({web:"w-[300px]",medium:"w-[300px]",mobile:"w-full"}[s]),children:["Target funds from presale:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"378,000 POL"}),d.jsx("br",{}),"Price per NFT:"," ",d.jsxs("span",{className:"mb-2 inline-block font-bold",children:["125 POL",d.jsx(Fw,{})]}),d.jsx("br",{}),d.jsx("span",{className:"mb-2 inline-block",children:"Objective: first game stage development"})]}),o=d.jsxs("div",{className:k({web:"w-[300px]",medium:"w-[300px]",mobile:"w-full"}[s]),children:["Recaudacin objetivo de la preventa:"," ",d.jsx("span",{className:"mb-2 inline-block font-bold",children:"378,000 POL"}),d.jsx("br",{}),"Valor por NFT:"," ",d.jsxs("span",{className:"mb-2 inline-block font-bold",children:["125 POL",d.jsx(Fw,{})]}),d.jsx("br",{}),d.jsx("span",{className:"mb-2 inline-block",children:"Objetivo: desarrollo de la primera etapa del juego"})]});return d.jsx(Ka,{...e,mode:"normal",title:rt(n.language)==="en"?"Fund allocation":"Asignacin de fondos",contentWrapper:s==="mobile"?Ks:Ma,className:{medium:"text-center",mobile:"text-center"}[s],content:d.jsxs("div",{className:k({medium:"h-full flex-col justify-center",mobile:"h-full flex-col justify-center !gap-2 !pt-0"}[s],"flex items-center gap-8 pt-4 font-nunito"),children:[rt(n.language)==="en"?a:o,d.jsxs("div",{className:"relative h-[14rem] w-[14rem]",children:[d.jsx("div",{className:"absolute left-[90px] top-[40px] w-full rotate-[24deg] scale-[0.5] drop-shadow-video-shadow",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{loading:"eager",src:t===De?i.alienmapscreen:i.earthmapscreen,className:k("absolute w-[170px] rounded-[10px]")}),d.jsx("img",{loading:"eager",src:t===De?i.alienmobilebordervertical:i.earthmobilebordervertical,className:k("absolute -left-[12.545px] -top-[10.6975px] h-[389px] w-[193px]")})]})}),d.jsx("div",{className:"absolute left-[40px] top-[10px] w-full rotate-12 scale-[0.55] drop-shadow-video-shadow",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{loading:"eager",src:t===De?i.alienresourcescreen:i.earthresourcescreen,className:k("absolute w-[170px] rounded-[10px]")}),d.jsx("img",{loading:"eager",src:t===De?i.alienmobilebordervertical:i.earthmobilebordervertical,className:k("absolute -left-[12.545px] -top-[10.6975px] h-[389px] w-[193px]")})]})}),d.jsx("div",{className:"absolute -left-[30px] w-full scale-[0.6] drop-shadow-video-shadow",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{loading:"eager",src:t===De?i.aliengameplayscreen:i.earthgameplayscreen,className:k("absolute w-[170px] rounded-[10px]")}),d.jsx("img",{loading:"eager",src:t===De?i.alienmobilebordervertical:i.earthmobilebordervertical,className:k("absolute -left-[12.545px] -top-[10.6975px] h-[389px] w-[193px]")})]})})]})]})})},a_e=()=>{const{t:e}=je(),t=le(ze),i=le(Ee),n=xt(gC),s=Zm(2,!0,500,gC);return vl({title:[e("share.page.presale.info"),e("share.page.presale.faq")][s],url:wr+`presale/info?screen=${s}&theme=${t}`,dependencies:[s,t],mobileClassName:"top-[20%]"}),D.useEffect(()=>()=>n({value:0}),[]),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:i.earthtundra,imgAlien:i.alienmountain,earthClassName:"-right-[1.7%] scale-x-[1.034]",alienClassName:"right-[3%] scale-x-[1.059]"}),d.jsxs(bl,{children:[d.jsx(o_e,{scrollLevel:s}),d.jsx(r_e,{scrollLevel:s}),d.jsx(c_e,{scrollLevel:s})]})]})},o_e=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=le(ze),s=xt(gC),a=()=>{s({value:0})},o=()=>{s({value:1})};return d.jsxs(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},delay:3,exit:{opacity:0,transition:{delay:0,duration:.5}},className:k("!absolute !h-fit !w-fit -translate-x-1/2 translate-y-1/2 font-nunito-sans text-[0.5em] font-black",{web:k(e===0&&"bottom-[4.5%] left-[78%]",e===1&&"bottom-[4.5%] left-[22%]"),medium:k(e===0&&"bottom-[4.5%] left-[78%]",e===1&&"bottom-[4.5%] left-[22%]"),mobile:k("text-mb-sm",e===0&&"bottom-[4.5%] left-[70%]",e===1&&"bottom-[4.5%] left-[22%]")}[i],n===F?"text-earth-black":"text-alien-white"),style:{transition:"left 1s ease-in-out"},children:[e===0&&d.jsxs("button",{tabIndex:0,onClick:o,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("presale.scroll-to-faq")]}),e===1&&d.jsxs("button",{tabIndex:0,onClick:a,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] -rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("presale.scroll-to-info")]})]})},r_e=({scrollLevel:e})=>{const{i18n:t}=je(),{deviceType:i}=ve();return d.jsxs(d.Fragment,{children:[d.jsx(gL,{className:"scale-[0.8]",show:e===0}),d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:0,duration:.5}},delay:3,duration:1,className:"pointer-events-none !absolute top-0 h-full w-full",children:e===0&&d.jsx(e_e,{className:k("pointer-events-auto absolute h-auto -translate-x-1/2",{web:"left-1/2 top-[25%] w-[48em]",medium:k("left-[48%] top-[23%] w-[32em]",{es:"!left-1/2",en:"!left-[48%]"}[rt(t.language)]),mobile:k("left-[48%] top-[30%] w-[115%] -translate-y-1/2",{es:"!left-1/2 !w-[120%]",en:"!left-[48%] !w-[115%]"}[rt(t.language)])}[i])})}),d.jsx(l_e,{scrollLevel:e})]})},l_e=({scrollLevel:e})=>{const{t,i18n:i}=je(),n=le(ze),s=D.useRef(null),{width:a,height:o}=D.useContext(Jn),{deviceType:r}=ve(),[l,c]=D.useState(0);return D.useEffect(()=>c(e),[e]),d.jsx(Jt,{side:"left",duration:1.5,exitDuration:1,exitDelay:.5,delay:1,show:l===0,className:"pointer-events-none !absolute top-0 h-full w-full",children:d.jsx("div",{className:k("absolute left-1/2 -translate-x-1/2",{web:"top-[53%] h-full w-[75%]",medium:"top-[68%] h-fit w-[85%] -translate-y-1/2",mobile:"top-[68%] h-fit w-full -translate-y-1/2 text-[0.95em]"}[r]),children:d.jsxs("div",{ref:s,className:k("relative w-full"),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:n===F?"53% bottom":"55% bottom",delay:2.5,children:d.jsx(Ai,{theme:n,className:k("relative overflow-hidden",{web:"!px-[1em] !py-[0.8em] !pb-[1em]",medium:"!px-[0.5em] !py-[1.2em] !pb-[1.4em]",mobile:"!px-[0.5em] !py-[1.2em] !pb-[1.4em]"}[r]),children:d.jsxs("div",{className:k("relative flex flex-col",{medium:"text-[1.1em]",mobile:"text-[1.1em]"}[r],{[F]:"!text-earth-black",[De]:"!text-alien-white"}[n]),children:[d.jsx(qe,{className:k("text-center font-nunito-sans font-black",{web:"mb-[0.7em] text-[0.65em]",medium:"mb-[1em] text-[0.7em]",mobile:"mb-[1em] text-mb-sm"}[r]),text:t("presale.info-title"),theme:n}),d.jsxs("ul",{className:k("flex list-disc flex-col font-nunito font-semibold",{web:"ml-[5em] mr-[3em] max-w-[50em] space-y-[0.8em] !text-[0.45em]",medium:"ml-[5em] mr-[3em] max-w-[50em] space-y-[0.8em] !text-[0.6em]",mobile:"ml-[3em] mr-[2em] max-w-[90%] space-y-[0.3em] !text-mb-sm"}[r]),children:[d.jsx("li",{children:d.jsx("p",{children:t("presale.info-text1")})}),d.jsx("li",{children:d.jsx("p",{children:t("presale.info-text2")})}),d.jsx("li",{children:d.jsx("p",{children:t("presale.info-text3")})}),d.jsx("li",{children:d.jsx("p",{children:t("presale.info-text4")})}),d.jsx("li",{children:d.jsx("p",{children:t("presale.info-text5")})}),d.jsx("li",{children:d.jsxs("p",{children:[t("presale.info-text6")," ",d.jsx("a",{href:rt(i.language)==="en"?gr.whitepaperEN:gr.whitepaperES,target:"_blank",rel:"norref noopener",className:k("outline-none",zt()?n===F?"hover:text-shadow-earth-option-hover focus:text-shadow-earth-option-hover":"hover:text-shadow-alien-option-hover focus:text-shadow-alien-option-hover":n===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-net-icon":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-net-icon"),children:d.jsx("span",{className:"font-extrabold",children:"Whitepaper"})})]})})]})]})})}),d.jsx(Qn,{theme:n,armSide:"left",frameSide:{web:"center",medium:"center",mobile:"left"}[r],parentRef:s,reference:{height:o,width:a},scale:{medium:.8,mobile:n===De?.6:.8}[r],scaleAdjust:{mobile:n===De?.8:1}[r]})]})})})},c_e=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=D.useRef(null),s=D.useRef(null),a=le(ze),{width:o,height:r}=D.useContext(Jn),[l,c]=D.useState(0);return D.useEffect(()=>c(e),[e]),d.jsxs(d.Fragment,{children:[d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:1,duration:.5}},className:"pointer-events-none !absolute top-0",children:e===1&&d.jsx(Lm,{text:t("faq.title"),className:k("absolute left-1/2 top-[2%] -translate-x-1/2",{medium:"w-max !text-[1.2em]",mobile:"w-max !text-mb-lg"}[i],a===F?"text-earth-black":"text-alien-white")})}),d.jsx(Jt,{divKey:l,side:"right",duration:1.5,delay:.5,exitDuration:1,exitDelay:1,show:l===1,className:k("pointer-events-none !absolute top-0 h-full w-full"),children:d.jsx("div",{className:k("absolute h-[80%] w-full",{web:"bottom-[8.5%]",medium:"bottom-[10%]",mobile:"bottom-[13%]"}[i]),children:d.jsxs("div",{ref:s,className:k("relative h-full w-full"),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:a===F?"47% bottom":"53% bottom",delay:2,className:"h-full w-full",children:d.jsx(Ai,{reference:n,theme:a,className:k("relative mx-auto h-full !p-0",{web:"w-[90%]",medium:"w-full",mobile:"w-full"}[i]),mode:"dark",children:d.jsx("div",{className:k("fade-container scrollable-frame h-full w-full"),children:d.jsx($a,{scrollParent:n,scrollClassName:"!z-[10] !bg-transparent",isGlass:!0,children:d.jsx(u_e,{theme:a})})})})}),d.jsx(Qn,{theme:a,armSide:"right",frameSide:"center",parentRef:s,reference:{height:r,width:o},scale:{medium:.8,mobile:.8}[i],scaleAdjust:{medium:a===De?1:1.4}[i]})]})})})]})},u_e=({theme:e})=>{const{deviceType:t}=ve(),{t:i}=je(),n=[{question:i("faq.q-1"),answer:i("faq.a-1")},{question:i("faq.q-2"),answer:i("faq.a-2")},{question:i("faq.q-3"),answer:i("faq.a-3")},{question:i("faq.q-4"),answer:i("faq.a-4")},{question:i("faq.q-5"),answer:i("faq.a-5")},{question:i("faq.q-6"),answer:i("faq.a-6")},{question:i("faq.q-7"),answer:i("faq.a-7")},{question:i("faq.q-8"),answer:i("faq.a-8")},{question:i("faq.q-9"),answer:i("faq.a-9")},{question:i("faq.q-10"),answer:i("faq.a-10")}];return d.jsx("div",{className:k("relative flex flex-col overflow-hidden",{web:"mx-auto w-[85%] gap-[1em] pb-[3em] pt-[2em]",medium:"mx-auto w-[85%] gap-[1em] pb-[5em] pt-[3em]",mobile:"mx-auto w-[85%] gap-[1em] pb-[5em] pt-[3em] text-[1.2em]"}[t],{[F]:"!text-earth-black",[De]:"!text-alien-white"}[e]),children:n.map((s,a)=>d.jsxs("div",{children:[d.jsx(qe,{className:k("text-wrap break-words font-nunito font-bold",{web:"text-[0.55em]",medium:"text-[0.65em]",mobile:"text-mb-base"}[t]),text:`${a+1}. ${s.question}`,theme:e}),d.jsxs("p",{className:k("text-wrap break-words text-justify font-nunito font-semibold",{web:"mt-[0.55em] text-[0.45em]",medium:"mt-[0.55em] text-[0.55em]",mobile:"mt-[0.55em] text-mb-base"}[t]),children:[" ",s.answer]})]},`${a} question`))})},q1=e=>D.createElement("svg",{viewBox:"0 31 448 449",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"1em",height:"1em",...e},D.createElement("path",{d:"M186.5 293c0 19.3-14 25.4-31.2 25.4h-45.1v-52.9h46c18.6.1 30.3 7.8 30.3 27.5zm-7.7-82.3c0-17.7-13.7-21.9-28.9-21.9h-39.6v44.8H153c15.1 0 25.8-6.6 25.8-22.9zm132.3 23.2c-18.3 0-30.5 11.4-31.7 29.7h62.2c-1.7-18.5-11.3-29.7-30.5-29.7zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zM271.7 185h77.8v-18.9h-77.8V185zm-43 110.3c0-24.1-11.4-44.9-35-51.6 17.2-8.2 26.2-17.7 26.2-37 0-38.2-28.5-47.5-61.4-47.5H68v192h93.1c34.9-.2 67.6-16.9 67.6-55.9zM380 280.5c0-41.1-24.1-75.4-67.6-75.4-42.4 0-71.1 31.8-71.1 73.6 0 43.3 27.3 73 71.1 73 33.2 0 54.7-14.9 65.1-46.8h-33.7c-3.7 11.9-18.6 18.1-30.2 18.1-22.4 0-34.1-13.1-34.1-35.3h100.2c.1-2.3.3-4.8.3-7.2z"})),d_e=e=>D.createElement("svg",{viewBox:"0 0 2048 2048",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{transform:"translate(162)",d:"m0 0h1725l6 2 23 6 21 8 19 10 16 11 10 8 13 12 10 11 11 15 8 13 8 16 6 15 6 20 2 9 2-1v1734l-2 1-6 25-8 21-11 21-8 12-8 10-11 13h-2l-2 4-8 7-13 10-16 10-17 9-18 7-26 7-9 2h-1717l-36-9-20-8-19-10-13-9-10-8-12-11-10-10-11-14-10-15-9-17-9-24-6-25-1-4v-1722l4-16 7-23 8-18 7-13 8-12 10-13 9-10 10-10 10-8 11-8 15-9 21-10 18-6 15-4zm1023 384-3 3-17 33-10 19-12 23-14 27-10 19-13 25-10 19-14 27-10 19-12 23-11 20-424 1v315l1 1h258l-8 16-17 33-10 19-15 29-10 19-24 46-20 38-24 46-18 34-15 29-10 19-12 23-10 19-13 25-10 19-12 22-8 16-13 25-9 17-1 4v207l4 1 250-1 9-17 8-16 14-27 10-19 14-27 10-18 8-16 14-27 10-19 15-29 10-19 11-20 1-1h395l14-1v-313h-247l19-37 12-22 20-39 10-19 15-29 10-19 24-46 14-27 10-19 24-46 11-20 8-16 14-27 10-19 15-29 10-19 12-23 9-17 1-5v-232z",fill:"currentColor"}),D.createElement("path",{transform:"translate(159,2047)",d:"m0 0 4 1z"}),D.createElement("path",{transform:"translate(1889)",d:"m0 0"})),g8=e=>D.createElement("svg",{width:"1em",height:"1em",viewBox:"2 2 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},D.createElement("path",{d:"M11.9991 8.87531C10.2788 8.87531 8.87492 10.2792 8.87492 11.9995C8.87492 13.7198 10.2788 15.1237 11.9991 15.1237C13.7194 15.1237 15.1234 13.7198 15.1234 11.9995C15.1234 10.2792 13.7194 8.87531 11.9991 8.87531ZM21.3694 11.9995C21.3694 10.7058 21.3812 9.42374 21.3085 8.13234C21.2359 6.63234 20.8937 5.30109 19.7968 4.20421C18.6976 3.10499 17.3687 2.76515 15.8687 2.69249C14.5749 2.61984 13.2929 2.63156 12.0015 2.63156C10.7077 2.63156 9.4257 2.61984 8.13429 2.69249C6.63429 2.76515 5.30304 3.10734 4.20617 4.20421C3.10695 5.30343 2.7671 6.63234 2.69445 8.13234C2.62179 9.42609 2.63351 10.7081 2.63351 11.9995C2.63351 13.2909 2.62179 14.5753 2.69445 15.8667C2.7671 17.3667 3.10929 18.698 4.20617 19.7948C5.30538 20.8941 6.63429 21.2339 8.13429 21.3066C9.42804 21.3792 10.7101 21.3675 12.0015 21.3675C13.2952 21.3675 14.5773 21.3792 15.8687 21.3066C17.3687 21.2339 18.6999 20.8917 19.7968 19.7948C20.896 18.6956 21.2359 17.3667 21.3085 15.8667C21.3835 14.5753 21.3694 13.2933 21.3694 11.9995ZM11.9991 16.8066C9.33898 16.8066 7.1921 14.6597 7.1921 11.9995C7.1921 9.33937 9.33898 7.19249 11.9991 7.19249C14.6593 7.19249 16.8062 9.33937 16.8062 11.9995C16.8062 14.6597 14.6593 16.8066 11.9991 16.8066ZM17.003 8.11827C16.3819 8.11827 15.8804 7.61671 15.8804 6.99562C15.8804 6.37453 16.3819 5.87296 17.003 5.87296C17.6241 5.87296 18.1257 6.37453 18.1257 6.99562C18.1259 7.1431 18.097 7.28917 18.0406 7.42546C17.9843 7.56175 17.9016 7.68558 17.7973 7.78987C17.693 7.89415 17.5692 7.97684 17.4329 8.0332C17.2966 8.08955 17.1505 8.11846 17.003 8.11827Z",fill:"currentColor"})),Pa=e=>D.createElement("svg",{height:"1em",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},viewBox:"0 0 512 512",width:"1em",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:serif":"http://www.serif.com/",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"currentColor",...e},D.createElement("path",{d:"M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z"})),kh=e=>D.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"1em",height:"1em",...e},D.createElement("title",null),D.createElement("g",{id:"Gmail"},D.createElement("path",{d:"M25.49,30H4.5A3.35,3.35,0,0,1,2,29a3.35,3.35,0,0,1-1-2.48V5.5A3.35,3.35,0,0,1,2,3,3.35,3.35,0,0,1,4.5,2h21A3.35,3.35,0,0,1,28,3,3.35,3.35,0,0,1,29,5.5v21A3.52,3.52,0,0,1,25.49,30Zm-3-7.17a2.93,2.93,0,0,0,1.71-.37,1.41,1.41,0,0,0,.49-1.22V10.36a1.55,1.55,0,0,0-.47-1.13,1.51,1.51,0,0,0-1.13-.47H6.83a1.55,1.55,0,0,0-1.13.47,1.53,1.53,0,0,0-.47,1.12V21.24a1.53,1.53,0,0,0,.47,1.12,1.55,1.55,0,0,0,1.13.47Zm-14.7-.76V13.14l6.46,4.45Zm14.14.37H8l6.63-4.63a.6.6,0,0,0,.34.16,1,1,0,0,0,.33-.16Zm-7-8.15L8,9.16H21.9Zm7.14,7.78-6.46-4.48,6.46-4.45Z"}))),h_e=e=>D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",width:"1em",height:"1em",fill:"currentColor",...e},D.createElement("path",{d:"M41,4H9C6.243,4,4,6.243,4,9v32c0,2.757,2.243,5,5,5h32c2.757,0,5-2.243,5-5V9C46,6.243,43.757,4,41,4z M37.006,22.323c-0.227,0.021-0.457,0.035-0.69,0.035c-2.623,0-4.928-1.349-6.269-3.388c0,5.349,0,11.435,0,11.537c0,4.709-3.818,8.527-8.527,8.527s-8.527-3.818-8.527-8.527s3.818-8.527,8.527-8.527c0.178,0,0.352,0.016,0.527,0.027v4.202c-0.175-0.021-0.347-0.053-0.527-0.053c-2.404,0-4.352,1.948-4.352,4.352s1.948,4.352,4.352,4.352s4.527-1.894,4.527-4.298c0-0.095,0.042-19.594,0.042-19.594h4.016c0.378,3.591,3.277,6.425,6.901,6.685V22.323z"})),p_e=e=>D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",id:"Layer_1",width:"1em",height:"1em",viewBox:"0 0 24 24",style:{enableBackground:"new 0 0 24 24"},xmlSpace:"preserve",fill:"currentColor",...e},D.createElement("g",null,D.createElement("polygon",{points:"12.153992,10.729553 8.088684,5.041199 5.92041,5.041199 10.956299,12.087097 11.59021,12.97345    15.900635,19.009583 18.068909,19.009583 12.785217,11.615906  "}),D.createElement("path",{d:"M21.15979,1H2.84021C1.823853,1,1,1.823853,1,2.84021v18.31958C1,22.176147,1.823853,23,2.84021,23h18.31958   C22.176147,23,23,22.176147,23,21.15979V2.84021C23,1.823853,22.176147,1,21.15979,1z M15.235352,20l-4.362549-6.213013   L5.411438,20H4l6.246887-7.104675L4,4h4.764648l4.130127,5.881958L18.06958,4h1.411377l-5.95697,6.775635L20,20H15.235352z"}))),f_e=e=>D.createElement("svg",{height:"1em",viewBox:"0 0 18 16",width:"1em",xmlns:"http://www.w3.org/2000/svg","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns",xmlnsXlink:"http://www.w3.org/1999/xlink",...e},D.createElement("title",null),D.createElement("desc",null),D.createElement("defs",null),D.createElement("g",{fill:"none",fillRule:"evenodd",id:"Page-1",stroke:"none",strokeWidth:1},D.createElement("g",{fill:"currentColor",id:"Core",transform:"translate(-465.000000, -172.000000)"},D.createElement("g",{id:"drive-site",transform:"translate(465.000000, 172.000000)"},D.createElement("path",{d:"M16,0 L2,0 C0.9,0 0,0.9 0,2 L0,14 C0,15.1 0.9,16 2,16 L16,16 C17.1,16 18,15.1 18,14 L18,2 C18,0.9 17.1,0 16,0 L16,0 Z M11,14 L2,14 L2,10 L11,10 L11,14 L11,14 Z M11,9 L2,9 L2,5 L11,5 L11,9 L11,9 Z M16,14 L12,14 L12,5 L16,5 L16,14 L16,14 Z",id:"Shape"}))))),m_e=()=>{const e=le(Ee),t=le(ze),i=xt(D2),n=xt(mC),s=Zm(1,!0,500,mC),{t:a}=je();return vl({title:a("share.page.project.team"),url:wr+"project/about",dependencies:[s],mobileClassName:"top-[19%]"}),D.useEffect(()=>()=>{i(!0),n({value:0})},[]),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:e.earthjungle,imgAlien:e.alientundra,earthClassName:"-right-[4%] scale-x-[1.081]",alienClassName:"-right-[0.9%] scale-x-[1.018]"}),d.jsxs(bl,{children:[d.jsx(g_e,{scrollLevel:s}),d.jsx(y_e,{scrollLevel:s}),d.jsx(b_e,{scrollLevel:s,theme:t})]})]})},g_e=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=le(ze),s=xt(mC),a=()=>{s({value:0})},o=()=>{s({value:1})};return d.jsxs(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},delay:2,exit:{opacity:0,transition:{delay:0,duration:.5}},className:k("!absolute z-10 !h-fit !w-fit translate-y-1/2 font-nunito-sans text-[0.5em] font-black",e===0&&"bottom-[4%]",e===0&&(n===F?"left-[5%]":"left-[80%]"),e===1&&"top-[4%]",e===1&&(n===F?"left-[5%]":"left-[80%]"),n===F?"text-earth-black":"text-alien-white",{mobile:"!text-mb-sm"}[i]),style:{transition:"left 1s ease-in-out"},children:[e===0&&d.jsxs("button",{tabIndex:0,onClick:o,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("about.scroll-to-more")]}),e===1&&d.jsxs("button",{tabIndex:0,onClick:a,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] -rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("about.scroll-to-team")]})]})},y_e=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=D.useRef(null),s=D.useRef(null),a=le(ze),{width:o,height:r}=D.useContext(Jn),[l,c]=D.useState(0);return D.useEffect(()=>c(e),[e]),d.jsxs(d.Fragment,{children:[d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:1,duration:.5}},className:"pointer-events-none !absolute",children:e===0&&d.jsx(Lm,{text:t("about.title"),className:k("absolute left-1/2 top-[2%] -translate-x-1/2",{mobile:"text-mb-lg"}[i],a===F?"text-earth-black":"text-alien-white")})}),d.jsx(Jt,{divKey:l,side:a===De?"left":"right",duration:1.5,delay:.5,exitDuration:1,exitDelay:1,show:l===0,className:k("pointer-events-none h-full w-full"),children:d.jsx("div",{className:k("absolute w-full",{web:"bottom-[8.5%] h-[82%]",medium:"bottom-[8.5%] h-[85%]",mobile:"bottom-[8.5%] h-[85%]"}[i]),children:d.jsxs("div",{ref:n,className:k("relative h-full w-full"),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:a===F?"47% bottom":"53% bottom",delay:2,className:"h-full w-full",children:d.jsx(Ai,{reference:s,theme:a,className:k("relative h-full w-full !p-0"),mode:"dark",children:d.jsx("div",{className:k("fade-container scrollable-frame h-full w-full"),children:d.jsx($a,{scrollParent:s,scrollClassName:"!z-[10] !bg-transparent",isGlass:!0,children:d.jsx(x_e,{theme:a})})})})}),d.jsx(Qn,{theme:a,armSide:a===De?"left":"right",frameSide:"center",parentRef:n,reference:{height:r,width:o},scale:{medium:.8,mobile:.7}[i],scaleAdjust:{medium:a===De?1:1.4}[i]})]})})})]})},x_e=({theme:e})=>{const{t}=je(),{deviceType:i}=ve();return d.jsxs("div",{className:k("relative flex w-full flex-wrap justify-center overflow-hidden",{web:"gap-[0.7em] pb-[2em] pt-[1.2em]",medium:"gap-[0.7em] pb-[4em] pt-[2.2em] text-[1.2em]",mobile:"gap-[0.7em] pb-[5em] pt-[2.2em] text-[1.45em]"}[i],{[F]:"!text-earth-black",[De]:"!text-alien-white"}[e]),children:[d.jsx(ai,{theme:e,name:"Emiliano Aparicio",assetName:"emiliano",role:t("about.emiliano"),Contact:d.jsx("a",{href:"https://www.linkedin.com/in/emiliano-aparicio-8b9757236/",target:"_blank",rel:"noreferrer",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),title:"LinkedIn",children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Lautaro Lamas",assetName:"lautaro",role:t("about.lautaro"),Contact:d.jsxs("span",{className:"flex gap-[0.2098em]",children:[d.jsx("a",{href:"https://www.linkedin.com/in/lau-lamas-43227b2b2/",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})}),d.jsx("a",{href:"https://twitter.com/Lau_Lamas_",target:"_blank",rel:"noreferrer",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(p_e,{alt:"twitter",className:k("mt-[-0.0262204em] h-[0.6817em] w-[0.6817em]")})})]})}),d.jsx(ai,{theme:e,name:"Alexia Maldonado",assetName:"alexia",role:t("about.alexia"),Contact:d.jsx("a",{href:"https://www.linkedin.com/in/alexia-maldonado-271721274/",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Nataly Garzon Correa",assetName:"nataly",role:t("about.ux-designer"),Contact:d.jsx("a",{href:"https://www.linkedin.com/in/gcnataly-uxuidesigner",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Sofia Allegretti",assetName:"sofia",role:t("about.ux-designer"),avatarClassName:"ml-[0.3146em]",Contact:d.jsxs("span",{className:"flex gap-[0.2098em]",children:[d.jsx("a",{href:"https://www.linkedin.com/in/sofia-allegretti",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})}),d.jsx("a",{href:"https://www.behance.net/sofiaallegretti2",target:"_blank",rel:"noreferrer",title:"Behance",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(q1,{alt:"behance",className:k("aspect-square h-[0.6293em]")})})]})}),d.jsx(ai,{theme:e,name:"Martina Tricarico",assetName:"martina",role:t("about.ux-designer"),Contact:d.jsxs("span",{className:"flex gap-[0.2098em]",children:[d.jsx("a",{href:`https://www.linkedin.com/in/martinavictoriatricarico/\r
`,target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})}),d.jsx("a",{href:"https://www.behance.net/martinatricari2",target:"_blank",rel:"noreferrer",title:"Behance",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(q1,{alt:"behance",className:k("aspect-square h-[0.6293em]")})})]})}),d.jsx(ai,{theme:e,name:"Ines Rodriguez",assetName:"ines",role:t("about.ines"),Contact:d.jsx("a",{href:"https://inesrodriguezcordoba.myportfolio.com/work",target:"_blank",rel:"noreferrer",title:"Portfolio",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(f_e,{alt:"portfolio",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Nacho Gudio",assetName:"nachog",role:t("about.nachog"),avatarClassName:"-ml-[0.2098em]",Contact:d.jsx("a",{href:"https://www.linkedin.com/in/juan-ignacio-gudino/",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Franco Kucinskas",assetName:"franco",role:t("about.concept-artist"),avatarClassName:"ml-[0.2098em]",Contact:d.jsx("a",{href:"https://www.deviantart.com/ezparra",target:"_blank",rel:"noreferrer",title:"DeviantArt",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(d_e,{alt:"deviantart",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Juan Pablo Valvo",assetName:"juanpablo",role:t("about.concept-artist"),Contact:d.jsx("a",{href:"https://www.behance.net/juanpablovalvo",target:"_blank",rel:"noreferrer",title:"Behance",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(q1,{alt:"behance",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Oscar Trujillo",assetName:"oscar",role:t("about.oscar"),Contact:d.jsxs("span",{className:"flex gap-[0.2098em]",children:[d.jsx("a",{href:`https://www.linkedin.com/in/oscar-alejandro-trujillo-7aa71a52/\r
`,target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})}),d.jsx("a",{href:"https://www.behance.net/ozalejo",target:"_blank",rel:"noreferrer",title:"Behance",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(q1,{alt:"behance",className:k("aspect-square h-[0.6293em]")})})]})}),d.jsx(ai,{theme:e,name:"Matias Cuevas",assetName:"matias",role:t("about.audiovisual"),Contact:d.jsx("a",{href:"https://www.instagram.com/cd.matias/",target:"_blank",rel:"noreferrer",title:"Instagram",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(g8,{alt:"instagram",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Mathias Schfer",assetName:"mathias",role:t("about.audiovisual"),Contact:d.jsx("a",{href:"https://www.linkedin.com/in/schafermathi/",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,avatarClassName:"-ml-[0.3146em] mt-[0.1049em]",name:"Ignacio Lara",assetName:"nacho",role:t("about.musician"),Contact:d.jsx(Eu,{buttonClassName:k(e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover ":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover "),text:"nacho.oblivion@gmail.com",children:d.jsx("div",{title:"Mail",children:d.jsx(kh,{alt:"mail",className:k("aspect-square h-[0.6293em]")})})})}),d.jsx(ai,{theme:e,avatarClassName:"ml-[0.3146em]",name:"Federico Ramos",assetName:"fede",role:t("about.musician"),Contact:d.jsx(Eu,{buttonClassName:k(e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover ":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover "),text:"ramosfedeivan81@gmail.com",children:d.jsx("div",{title:"Mail",children:d.jsx(kh,{alt:"mail",className:k("aspect-square h-[0.6293em]")})})})}),d.jsx(ai,{theme:e,name:"Aldo Aliscioni",assetName:"aldo",role:t("about.web-dev"),Contact:d.jsx("a",{href:"https://www.linkedin.com/in/aldo-aliscioni",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Marcelo Peralta",assetName:"marcelo",role:t("about.prompt"),avatarClassName:"ml-[0.2098em]",Contact:d.jsx(Eu,{buttonClassName:k(e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover ":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover "),text:"marcelosjperalta@gmail.com",children:d.jsx("div",{title:"Mail",children:d.jsx(kh,{alt:"mail",className:k("aspect-square h-[0.6293em]")})})})}),d.jsx(ai,{theme:e,name:"Gaston Gardella",assetName:"gaston",role:t("about.prompt"),Contact:d.jsx("a",{href:"https://www.linkedin.com/in/gaston-gardella-0579202b4",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,avatarClassName:"mt-[0.0262204em]",name:"Dario Rosa",assetName:"dario",role:t("about.blockchain"),Contact:d.jsx(Eu,{buttonClassName:k(e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover ":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover "),text:"dario3dimpresiones@gmail.com",children:d.jsx("div",{title:"Mail",children:d.jsx(kh,{alt:"mail",className:k("aspect-square h-[0.6293em]")})})})}),d.jsx(ai,{theme:e,avatarClassName:"mt-[0.2098em]",name:"Marlene Oggier",assetName:"marlene",role:t("about.marlene"),Contact:d.jsxs("span",{className:"flex gap-[0.2098em]",children:[d.jsx("a",{href:"https://www.tiktok.com/@maroggier",target:"_blank",rel:"noreferrer",title:"TikTok",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(h_e,{alt:"tiktok",className:k("-mt-[0.0262204em] aspect-square h-[0.6557em]")})}),d.jsx(Eu,{buttonClassName:k(e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover ":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover "),text:"oggiermarlene@gmail.com",children:d.jsx("div",{title:"Mail",children:d.jsx(kh,{alt:"mail",className:k("aspect-square h-[0.6293em]")})})})]})}),d.jsx(ai,{theme:e,name:"Juan Pablo Zarate",assetName:"juampi",role:t("about.juampi"),Contact:d.jsx("a",{href:"https://www.linkedin.com/in/juan-pablo-zarate-a9b51411b/",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Nicolas Del Prete",assetName:"nicolas",role:t("about.nicolas"),avatarClassName:"mt-[0.2098em] ml-[0.2098em]",Contact:d.jsx("a",{href:"https://www.linkedin.com/in/nicolasdelprete/",target:"_blank",rel:"noreferrer",title:"LinkedIn",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(Pa,{alt:"linkedin",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,name:"Romina Aparicio",assetName:"romi",role:t("about.romi"),Contact:d.jsx("a",{href:"https://www.instagram.com/romi.a.arias",target:"_blank",rel:"noreferrer",title:"Instagram",className:k("outline-none",e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover"),children:d.jsx(g8,{alt:"instagram",className:k("aspect-square h-[0.6293em]")})})}),d.jsx(ai,{theme:e,avatarClassName:"mt-[0.2098em]",name:"Jose Carrascal",assetName:"jose",role:t("about.cm"),Contact:d.jsx(Eu,{buttonClassName:k(e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover ":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover "),text:"josecarrascxl@gmail.com",children:d.jsx("div",{title:"Mail",children:d.jsx(kh,{alt:"mail",className:k("aspect-square h-[0.6293em]")})})})}),d.jsx(ai,{theme:e,avatarClassName:"ml-[0.0262204em]",name:"Isaac Dugo",assetName:"isaac",role:t("about.cm"),Contact:d.jsx(Eu,{buttonClassName:k(e===F?"hover:drop-shadow-earth-option-hover focus:drop-shadow-earth-option-hover ":"hover:drop-shadow-alien-option-hover focus:drop-shadow-alien-option-hover "),text:"isaacdugogomez@gmail.com",children:d.jsx("div",{title:"Mail",children:d.jsx(kh,{alt:"mail",className:k("aspect-square h-[0.6293em]")})})})})]})},ai=({name:e,role:t,assetName:i,Contact:n,avatarClassName:s,theme:a,className:o})=>{const r=le(Ee);return d.jsxs("div",{className:k("flex h-[8em] w-[6em] flex-col items-center justify-center gap-[0.1049em] px-[0.5em]",o),children:[d.jsx(gw,{src:r[i],theme:a,className:k("shrink-0",s)}),d.jsx("span",{className:"mt-[0.5em] flex h-[2em] shrink-0 items-center text-center font-nunito-sans text-[0.5em] font-black leading-none tracking-wider",children:e}),d.jsx("span",{className:"mb-[0.2em] flex h-[2em] shrink-0 items-center text-center font-nunito text-[0.5em] font-semibold leading-none",children:t}),n]})},gw=({src:e,className:t,theme:i})=>d.jsx("div",{className:k("aspect-square h-[4em] overflow-hidden rounded-full"),style:{background:i===F?"linear-gradient(0deg, #d2c5bb 0%, #2e1c0f 100%)":"linear-gradient(0deg, #ddc6e6 0%, #3c1d49 100%)"},children:d.jsx("img",{loading:"eager",src:e,alt:"avatar",className:k("h-full w-full",t)})}),b_e=({scrollLevel:e,theme:t})=>{const{deviceType:i}=ve(),n=xt(D2);return D.useEffect(()=>(e===1&&n(!1),()=>n(!0)),[e]),d.jsxs(d.Fragment,{children:[d.jsx(v_e,{scrollLevel:e}),d.jsxs("div",{className:k("absolute left-1/2 z-30 flex -translate-x-1/2 justify-center",{web:"bottom-[20%] gap-[2em] text-[0.419567em]",medium:"bottom-[10%] gap-[2em] text-[0.6em]",mobile:"bottom-[20%] gap-[1.8em] text-[0.8em]"}[i]),children:[d.jsxs(Jt,{divKey:e,side:"left",duration:1,delay:1,show:e===1,className:k("flex",{web:"gap-[2em]",medium:"gap-[2em]",mobile:"gap-[1.8em]"}[i]),children:[d.jsx(kn,{net:"discord",title:"Discord",theme:t,iconClassName:k(i==="web"&&"ml-[0.0262204em]")}),d.jsx(kn,{net:"x",title:"X",theme:t,iconClassName:k(i==="web"&&"ml-[0.0262204em]")}),d.jsx(kn,{net:"telegram",title:"Telegram",theme:t})]}),d.jsxs(Jt,{divKey:e,side:"right",duration:1,delay:1,show:e===1,className:k("flex",{web:"gap-[2em]",medium:"gap-[2em]",mobile:"gap-[1.8em]"}[i]),children:[d.jsx(kn,{net:"youtube",title:"Youtube",theme:t,iconClassName:k(i==="web"&&"ml-[0.0262204em]")}),d.jsx(kn,{net:"instagram",title:"Instagram",theme:t,iconClassName:k(i==="web"&&"ml-[0.0131102em]")}),d.jsx(kn,{net:"tiktok",title:"Tiktok",theme:t,iconClassName:k(i==="web"&&"ml-[0.0262204em]")})]})]}),d.jsx(w_e,{scrollLevel:e})]})},v_e=({scrollLevel:e})=>{const{deviceType:t}=ve(),i=le(Ee),n=le(ze);return d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:1.5,duration:1}},children:e===1&&d.jsx("div",{className:k("absolute left-1/2 w-fit -translate-x-1/2 -translate-y-1/2 rounded-full",{web:"top-[35%]",medium:"top-[40%] scale-[1.5]",mobile:"top-[40%] scale-[1.5]"}[t],n===F?"bg-earth-metal/30":"bg-alien-black/75"),children:d.jsx("a",{href:"/uvegame/obm",target:"_blank",rel:"noreferrer",className:"group pointer-events-none outline-none",children:d.jsx(Ai,{theme:n,className:"pointer-events-auto w-fit !rounded-full group-focus:!bg-opacity-20",children:d.jsx("div",{className:k("flex items-center justify-center pt-[0.2098em]"),children:d.jsx("img",{loading:"eager",src:n===F?i.obmverticallogodraw:i.obmverticallogoreal,className:"mx-[1.0488em] mb-[1.0488em] h-full w-[7.5em] min-w-[7em]"})})})})})})},w_e=({scrollLevel:e})=>{const{deviceType:t}=ve(),i=le(ze);return d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:1.5,duration:1}},className:k("!absolute bottom-0 left-1/2 flex !h-fit !w-fit -translate-x-1/2 flex-col gap-[0.3em] text-center font-nunito-sans",i===F?"text-earth-black":"text-earth-white"),children:e===1&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:k("flex w-max",{web:"gap-[0.5em] text-[0.6em]",medium:"gap-[0.5em] text-[0.6em]",mobile:"gap-[0.8em] text-[0.8em]"}[t]),children:[d.jsx(S_e,{})," - ",d.jsx(N_e,{})]}),d.jsx("span",{className:k({web:"text-[0.4em]",medium:"text-[0.4em]",mobile:"text-[0.6em]"}[t]),children:"Oblivion Mechanics - Copyright 2025"})]})})},S_e=()=>{const e=le(ze),{deviceType:t}=ve(),{i18n:i,t:n}=je(),[s,a]=D.useState(!1),o=xt(ml),r=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[t]),text:"UNIVEARTH - Terms and Conditions",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(i.language),children:[d.jsx("p",{className:"my-2",children:"Last Updated: 01/30/2025"}),d.jsx("p",{className:"my-2",children:"Welcome to the Univearth website. By accessing and using this website, you agree to comply with the following Terms and Conditions. If you do not agree with these terms, we recommend that you do not use our site."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"1. Purpose of the Website"}),d.jsx("p",{className:"my-2",children:"The Univearth website aims to provide information about the project, its roadmap, events, and other relevant aspects. The site also provides links to social media, external information (such as the whitepaper on Medium), and NFT platforms like OpenSea, where the presale will take place."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"2. Use of the Site"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"There are no age or residency restrictions for accessing this site."}),d.jsx("li",{className:"my-1",children:"Oblivion Mechanics reserves the exclusive right to use the brand and its content, even if it is not legally registered."}),d.jsx("li",{className:"my-1",children:"All content on the site is the property of Oblivion Mechanics. Reproduction, sale, use, or reuse of the brand and its content without express authorization is not permitted."}),d.jsx("li",{className:"my-1",children:"Users may share information from the site as long as they acknowledge Oblivion Mechanics as the author and exclusive owner of the content."}),d.jsx("li",{className:"my-1",children:"The site does not allow user-generated content."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"3. Intellectual Property"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"All content on this website, including text, images, designs, and other visual elements, is the property of Oblivion Mechanics."}),d.jsx("li",{className:"my-1",children:"Permission is not granted to copy, distribute, or modify the content without prior authorization."}),d.jsx("li",{className:"my-1",children:"Ownership of the content is declared, and unauthorized use is prohibited."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"4. Third-Party Links"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"Our website contains links to third-party platforms, including social media, Medium, and OpenSea."}),d.jsx("li",{className:"my-1",children:"We are not responsible for the content, security, or privacy policies of external sites."}),d.jsx("li",{className:"my-1",children:"Users should review the terms and conditions of those sites before interacting with them."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"5. Modifications to the Terms and Conditions"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"We reserve the right to update these terms at any time."}),d.jsx("li",{className:"my-1",children:"Changes will be posted on this page and may be announced through our official Discord and Telegram channels."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"6. Limitation of Liability"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"Oblivion Mechanics does not guarantee that the site will be free of errors or interruptions."}),d.jsx("li",{className:"my-1",children:"We assume no responsibility for any damage resulting from the use of the site or the information provided."}),d.jsx("li",{className:"my-1",children:"We are not responsible for actions taken by third parties in relation to our content."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"7. Contact Information"}),d.jsxs("p",{className:"my-2",children:["For any questions regarding these Terms and Conditions, you can contact us at:"," ",d.jsx("span",{className:"font-extrabold",children:"oblivionmechanics@gmail.com"}),"."]}),d.jsx("p",{className:"my-2",children:"By using this website, you acknowledge that you have read and understood these Terms and Conditions."})]})]}),l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[t]),text:"UNIVEARTH - Trminos y Condiciones",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(i.language),children:[d.jsx("p",{className:"my-2",children:"ltima Actualizacin: 30/01/2025"}),d.jsx("p",{className:"my-2",children:"Bienvenido a la pgina web de Univearth. Al acceder y utilizar este sitio web, usted acepta cumplir con los siguientes Trminos y Condiciones. Si no est de acuerdo con estos trminos, le recomendamos que no utilice nuestro sitio."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"1. Propsito del Sitio"}),d.jsx("p",{className:"my-2",children:"La pgina web de Univearth tiene el propsito de proporcionar informacin sobre el proyecto, su roadmap, eventos y otros aspectos relevantes. El sitio tambin proporciona enlaces a redes sociales, informacin externa (como el whitepaper en Medium) y plataformas de NFT como OpenSea, donde se llevar a cabo la preventa."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"2. Uso del Sitio"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"No existen restricciones de edad o residencia para acceder a este sitio."}),d.jsx("li",{className:"my-1",children:"Oblivion Mechanics se reserva el derecho exclusivo de utilizar la marca y su contenido, incluso si no est legalmente registrado."}),d.jsx("li",{className:"my-1",children:"Todo el contenido del sitio es propiedad de Oblivion Mechanics. No se permite la reproduccin, venta, uso o reutilizacin de la marca ni de su contenido sin autorizacin expresa."}),d.jsx("li",{className:"my-1",children:"Los usuarios pueden compartir informacin del sitio, siempre y cuando reconozcan a Oblivion Mechanics como el autor y propietario exclusivo del contenido."}),d.jsx("li",{className:"my-1",children:"El sitio no permite la generacin de contenido por parte de los usuarios."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"3. Propiedad Intelectual"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"Todo el contenido de este sitio web, incluyendo textos, imgenes, diseos y otros elementos visuales, es propiedad de Oblivion Mechanics."}),d.jsx("li",{className:"my-1",children:"No se otorga permiso para copiar, distribuir o modificar el contenido sin autorizacin previa."}),d.jsx("li",{className:"my-1",children:"Se declara la propiedad del contenido y se prohbe su uso no autorizado."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"4. Enlaces a Terceros"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"Nuestro sitio web contiene enlaces a plataformas de terceros, incluyendo redes sociales, Medium y OpenSea."}),d.jsx("li",{className:"my-1",children:"No nos hacemos responsables del contenido, seguridad o polticas de privacidad de sitios externos."}),d.jsx("li",{className:"my-1",children:"Los usuarios deben revisar los trminos y condiciones de dichos sitios antes de interactuar con ellos."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"5. Modificaciones a los Trminos y Condiciones"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"Nos reservamos el derecho de actualizar estos trminos en cualquier momento."}),d.jsx("li",{className:"my-1",children:"Los cambios sern publicados en esta pgina y podrn ser anunciados en nuestros canales oficiales de Discord y Telegram."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"6. Limitacin de Responsabilidad"}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"Oblivion Mechanics no garantiza que el sitio est libre de errores o interrupciones."}),d.jsx("li",{className:"my-1",children:"No asumimos responsabilidad por cualquier dao derivado del uso del sitio o de la informacin proporcionada."}),d.jsx("li",{className:"my-1",children:"No somos responsables por acciones tomadas por terceros en relacin con nuestro contenido."})]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"7. Contacto"}),d.jsxs("p",{className:"my-2",children:["Si tiene alguna pregunta sobre estos Trminos y Condiciones, puede contactarnos en:"," ",d.jsx("span",{className:"font-extrabold",children:"oblivionmechanics@gmail.com"}),"."]}),d.jsx("p",{className:"my-2",children:"Al utilizar este sitio web, usted reconoce que ha ledo y comprendido estos Trminos y Condiciones."})]})]});return D.useEffect(()=>{o(s)},[s]),d.jsx(Ka,{open:s,setOpen:a,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[t]),contentWrapper:t!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[t]),children:rt(i.language)==="en"?r:l}),children:d.jsx("button",{className:k("m-0 outline-none"),children:n("about.terms")})})},N_e=()=>{const e=le(ze),{deviceType:t}=ve(),{i18n:i,t:n}=je(),[s,a]=D.useState(!1),o=xt(ml),r=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[t]),text:"UNIVEARTH - Privacy Policy",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(i.language),children:[d.jsx("p",{className:"my-2",children:"Last Updated: 01/30/2025"}),d.jsxs("p",{className:"my-2",children:[d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics"})," is committed to protecting your privacy. This Privacy Policy explains how we handle information on our website."]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"1. Information We Collect"}),d.jsx("p",{className:"my-2",children:"We do not deliberately collect, store, or process personal data from users. Our website is purely informational and does not require user registration, account creation, or wallet connections."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"2. Cookies and Tracking Technologies"}),d.jsx("p",{className:"my-2",children:"To the best of our knowledge, we do not use cookies or tracking technologies. However, our hosting provider, BanaHosting, may utilize standard server logs and analytics tools beyond our direct control."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"3. Use of Information"}),d.jsx("p",{className:"my-2",children:"Since we do not collect personal data, we do not use it for any purpose, including marketing, analytics, or third-party sharing."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"4. Data Security"}),d.jsx("p",{className:"my-2",children:"As we do not store user information, there is no risk of data breaches or unauthorized access related to personal data."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"5. Third-Party Links"}),d.jsx("p",{className:"my-2",children:"Our website may contain links to third-party platforms, including social media, external whitepapers, and NFT marketplaces (such as OpenSea). These sites have their own privacy policies, and we encourage you to review them before providing any information."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"6. User Rights"}),d.jsx("p",{className:"my-2",children:"Since we do not collect personal information, users do not need to request access, modification, or deletion of their data."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"7. Data Transfers"}),d.jsx("p",{className:"my-2",children:"We do not store or transfer any personal user data. Our website is hosted on BanaHosting servers, but we do not have direct access to their data processing activities."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"8. Changes to This Privacy Policy"}),d.jsx("p",{className:"my-2",children:"We may update this Privacy Policy from time to time. Any changes will be posted on this page. If significant changes occur, we will notify our community via official channels such as Discord and Telegram."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"9. Contact Us"}),d.jsxs("p",{className:"my-2",children:["If you have any questions about this Privacy Policy, you can contact us at:"," ",d.jsx("span",{className:"font-extrabold",children:"oblivionmechanics@gmail.com"}),"."]}),d.jsx("p",{className:"my-2",children:"By using our website, you acknowledge that you have read and understood this Privacy Policy."})]})]}),l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[t]),text:"UNIVEARTH - Polticas de Privacidad",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(i.language),children:[d.jsx("p",{className:"my-2",children:"ltima Actualizacin: 30/01/2025"}),d.jsxs("p",{className:"my-2",children:[d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics"})," se compromete a proteger su privacidad. Esta Poltica de Privacidad explica cmo manejamos la informacin en nuestro sitio web."]}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"1. Informacin que recopilamos"}),d.jsx("p",{className:"my-2",children:"No recopilamos, almacenamos ni procesamos deliberadamente datos personales de los usuarios. Nuestro sitio web es puramente informativo y no requiere registro de usuarios, creacin de cuentas ni conexin de billeteras."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"2. Cookies y tecnologas de seguimiento"}),d.jsx("p",{className:"my-2",children:"Hasta donde sabemos, no utilizamos cookies ni tecnologas de seguimiento. Sin embargo, nuestro proveedor de hosting, BanaHosting, podra emplear registros de servidor estndar y herramientas de anlisis fuera de nuestro control directo."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"3. Uso de la informacin"}),d.jsx("p",{className:"my-2",children:"Dado que no recopilamos datos personales, no los utilizamos para ningn propsito, incluyendo marketing, anlisis o intercambio con terceros."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"4. Seguridad de los datos"}),d.jsx("p",{className:"my-2",children:"Como no almacenamos informacin de los usuarios, no existe riesgo de filtraciones de datos o accesos no autorizados relacionados con datos personales."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"5. Enlaces a terceros"}),d.jsx("p",{className:"my-2",children:"Nuestro sitio web puede contener enlaces a plataformas de terceros, incluidas redes sociales, documentos tcnicos externos y mercados de NFT (como OpenSea). Estos sitios tienen sus propias polticas de privacidad y le recomendamos revisarlas antes de proporcionar cualquier informacin."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"6. Derechos del usuario"}),d.jsx("p",{className:"my-2",children:"Dado que no recopilamos informacin personal, los usuarios no necesitan solicitar acceso, modificacin o eliminacin de sus datos."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"7. Transferencia de datos"}),d.jsx("p",{className:"my-2",children:"No almacenamos ni transferimos datos personales de los usuarios. Nuestro sitio web est alojado en los servidores de BanaHosting, pero no tenemos acceso directo a sus actividades de procesamiento de datos."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"8. Cambios en esta Poltica de Privacidad"}),d.jsx("p",{className:"my-2",children:"Podemos actualizar esta Poltica de Privacidad ocasionalmente. Cualquier cambio ser publicado en esta pgina. Si se producen cambios significativos, notificaremos a nuestra comunidad a travs de canales oficiales como Discord y Telegram."}),d.jsx("h3",{className:k("my-3 font-bold",t==="mobile"?"text-center text-base":"text-lg"),children:"9. Contacto"}),d.jsxs("p",{className:"my-2",children:["Si tiene preguntas sobre esta Poltica de Privacidad, puede contactarnos en:"," ",d.jsx("span",{className:"font-extrabold",children:"oblivionmechanics@gmail.com"}),"."]}),d.jsx("p",{className:"my-2",children:"Al utilizar nuestro sitio web, usted reconoce que ha ledo y comprendido esta Poltica de Privacidad."})]})]});return D.useEffect(()=>{o(s)},[s]),d.jsx(Ka,{open:s,setOpen:a,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[t]),contentWrapper:t!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[t]),children:rt(i.language)==="en"?r:l}),children:d.jsx("button",{className:k("m-0 outline-none"),children:n("about.privacy")})})},vS=e=>D.createElement("svg",{fill:"currentColor",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"1em",height:"1em",viewBox:"0 0 44.648 44.647",xmlSpace:"preserve",...e},D.createElement("g",null,D.createElement("g",null,D.createElement("path",{d:"M39.829,0H4.819C2.518,0,0.654,1.838,0.654,4.14v25.511c0,1.438,0.742,2.776,1.963,3.537l17.39,10.829 c1.342,0.836,3.04,0.841,4.387,0.013l17.619-10.845c1.23-0.758,1.98-2.101,1.98-3.547V4.14C43.994,1.839,42.13,0,39.829,0z  M33.196,17.583l-11.691,11.69c-1.033,1.033-2.708,1.033-3.74,0l-5.794-5.794c-0.497-0.496-0.775-1.169-0.775-1.87 c0-0.702,0.278-1.374,0.775-1.87v-0.001c0.496-0.496,1.168-0.774,1.87-0.774c0.701,0,1.373,0.279,1.868,0.775l3.453,3.453 c0.126,0.125,0.296,0.196,0.472,0.196c0.178,0,0.348-0.07,0.474-0.196l9.348-9.348c0.497-0.496,1.17-0.775,1.871-0.774 c0.7,0,1.374,0.278,1.87,0.775l0,0C34.228,14.876,34.228,16.55,33.196,17.583z"})))),M_e=()=>{const{t:e}=je(),t=le(ze),i=le(Ee),n=xt(Am),s=Zm(2,!0,500,Am);return vl({title:[e("share.page.project.events-presale"),e("share.page.project.events-giveaway"),e("share.page.project.events-round")][s],url:wr+`project/events?screen=${s}&theme=${t}`,dependencies:[s],mobileClassName:"top-[20%]"}),D.useEffect(()=>()=>n({value:0}),[]),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:i.earthjungle,imgAlien:i.alientundra,earthClassName:"-right-[4%] scale-x-[1.081]",alienClassName:"-right-[0.9%] scale-x-[1.018]"}),d.jsxs(bl,{children:[d.jsx(I_e,{scrollLevel:s}),d.jsx(T_e,{scrollLevel:s}),d.jsx(L_e,{scrollLevel:s}),d.jsx(j_e,{scrollLevel:s})]})]})},I_e=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=le(ze),s=xt(Am),a=()=>{s({value:0})},o=()=>{s({value:1})},r=()=>{s({value:2})};return d.jsxs(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},delay:3,exit:{opacity:0,transition:{delay:0,duration:.5}},className:k("!absolute !h-fit !w-fit -translate-x-1/2 translate-y-1/2 overflow-visible font-nunito-sans text-[0.5em] font-black",{web:["bottom-[7.5%] left-1/2","bottom-[7.5%] left-[78%]",n===F?"bottom-[3%] right-[0%] !translate-y-0":"bottom-[3%] left-[10%] !translate-y-0"][e],medium:"bottom-[4.5%] right-0",mobile:"bottom-[3%] left-1/2 text-mb-sm"}[i],n===F?"text-earth-black":"text-alien-white"),style:{transition:"left 1s ease-in-out"},children:[e===0&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{tabIndex:0,onClick:o,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("project.scroll-to-giveaway")]}),d.jsxs("button",{tabIndex:0,onClick:r,className:k("group mt-[0.2em] flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("project.scroll-to-round")]})]}),e===1&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{tabIndex:0,onClick:a,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] -rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("project.scroll-to-presale")]}),d.jsxs("button",{tabIndex:0,onClick:r,className:k("group mt-[0.2em] flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("project.scroll-to-round")]})]}),e===2&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{tabIndex:0,onClick:a,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] -rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("project.scroll-to-presale")]}),d.jsxs("button",{tabIndex:0,onClick:o,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] -rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("project.scroll-to-giveaway")]})]})]})},T_e=({scrollLevel:e})=>d.jsxs(d.Fragment,{children:[d.jsx(A_e,{scrollLevel:e}),d.jsx(k_e,{scrollLevel:e}),d.jsx(C_e,{scrollLevel:e})]}),A_e=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=le(ze),s=le(Ee),{days:a,hours:o,minutes:r}=aL(new Date(qD),XD);return d.jsx(Jt,{className:"pointer-events-none !absolute !top-0 z-30 h-full w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},delay:2,duration:1,exitDuration:1,exitDelay:0,show:e===0,children:d.jsxs(Zn,{to:"/presale/access",className:k("group pointer-events-auto absolute select-none text-[1.0666em] focus:outline-none",{web:"left-[25.2%] top-[5%] w-[22%]",medium:"left-1/2 top-[4%] w-[30%]",mobile:"left-1/2 top-[2%] w-[40%]"}[i]),style:{transform:{web:"scale(2) translate(-25%,0)",medium:"scale(2.5) translate(-20%,0)",mobile:"scale(2) translate(-25%,0%)"}[i],transformOrigin:"center"},children:[d.jsx("img",{src:n===F?s.earthsmoke:s.aliensmoke,className:k(n===F?"brightness-150 drop-shadow-earth-character group-hover:brightness-90 group-focus:brightness-90":"brightness-100 drop-shadow-alien-character group-hover:brightness-200 group-focus:brightness-200")}),d.jsx("span",{className:k("absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-[80%] font-nunito-sans text-[0.9em] font-black tracking-wider text-black group-hover:scale-110 group-focus:scale-110",zt()?"text-shadow-presale-title":"drop-shadow-presale-title"),style:{transition:"transform 0.3s ease-in"},children:t("home.presale")}),d.jsx("span",{className:k("absolute left-1/2 flex w-max -translate-x-1/2 -translate-y-[80%] flex-col items-center font-nunito font-black",{web:"bottom-[15%] text-[0.35em]",medium:"bottom-[15%] text-[0.35em]",mobile:"bottom-[15%] text-mb-xs"}[i],zt()?n===F?"text-shadow-earth-character-hover":"text-shadow-alien-character-hover":n===F?"drop-shadow-earth-character-hover":"drop-shadow-alien-character-hover",n===F?"text-earth-black":"text-alien-white"),children:t(QD?"project.button-live":"home.coming")})]})})},k_e=({scrollLevel:e})=>{const{deviceType:t}=ve(),i=le(Ee),n=le(ze);return d.jsxs("div",{className:k("!absolute z-20 h-fit translate-x-1/2",{web:"right-[27.5%] top-[37%] w-[45%]",medium:"right-1/2 top-[37%] w-[70%]",mobile:"right-1/2 top-[38%] w-full -translate-y-1/2 [@media(max-height:670px)]:top-[30%]"}[t]),children:[d.jsx(ct,{divKey:e,initial:{opacity:0,top:{web:"50%",medium:"50%",mobile:"70%"}[t]},animate:{opacity:1,top:{web:0,medium:0,mobile:0}[t]},exit:{opacity:0,top:{web:"50%",medium:"50%",mobile:"70%"}[t],transition:{delay:0,duration:.5}},delay:3.5,duration:1,className:"!absolute",children:e===0&&d.jsx(Zn,{to:"/presale/nft",className:k("group",{mobile:"[@media(max-height:670px)]:hidden"}[t]),children:d.jsx("img",{loading:"eager",src:n===F?i.earthnftboxmedium:i.aliennftboxmedium,className:k("pointer-events-auto absolute -z-10 max-w-none -translate-x-1/2 brightness-75 saturate-[0.8] hover:brightness-100 hover:saturate-100 group-focus:brightness-100 group-focus:saturate-100",{web:n===F?"earth-nft-box-clip -top-[7.4em] left-[48%] h-auto w-[11em]":"alien-nft-box-clip -top-[7.2em] left-[48.5%] h-auto w-[9em]",medium:n===F?"earth-nft-box-clip -top-[7.4em] left-[48%] h-auto w-[11em]":"alien-nft-box-clip -top-[8em] left-1/2 h-auto w-[10em]",mobile:n===F?"earth-nft-box-clip left-1/2 -mt-[calc(var(--vh)*8)] h-[calc(var(--vh)*12.5)] w-auto":"alien-nft-box-clip left-1/2 -mt-[calc(var(--vh)*8)] h-[calc(var(--vh)*12)] w-auto"}[t])})})}),d.jsx(D7,{divKey:e,side:"right",show:e===0,duration:1.5,exitDuration:1,exitDelay:.5,delay:1,className:k({mobile:"mt-[1%] w-full"}[t])}),d.jsx(D_e,{scrollLevel:e})]})},C_e=({scrollLevel:e})=>{const{t}=je(),i=le(ze),n=D.useRef(null),{width:s,height:a}=D.useContext(Jn),{deviceType:o}=ve(),[r,l]=D.useState(0);return D.useEffect(()=>l(e),[e]),d.jsx(Jt,{side:"left",duration:1.5,exitDuration:1,exitDelay:.5,delay:1,show:r===0,className:"pointer-events-none !absolute top-0 h-full w-full",children:d.jsx("div",{className:k("!absolute w-full",{web:"-bottom-[32%] left-[5%] h-full",medium:"-bottom-[70%] h-full",mobile:"bottom-[27%] h-fit translate-y-1/2 [@media(max-height:670px)]:bottom-[32%]"}[o]),children:d.jsxs("div",{ref:n,className:k("relative",{web:"w-[40%]",medium:"mx-auto w-[80%]",mobile:"w-full"}[o]),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:i===F?"53% bottom":"55% bottom",delay:2.5,children:d.jsx(Ai,{theme:i,className:k({web:"!px-[8%] !py-[8%]",medium:"!px-[8%] !py-[5%] !pb-[7%]",mobile:"!px-[5%] !py-[5%]"}[o]),children:d.jsxs("div",{className:k("relative flex flex-col",{web:"space-y-[4.84%]",medium:"space-y-[3%]",mobile:"space-y-[3%]"}[o],{[F]:"!text-earth-black",[De]:"!text-alien-white"}[i]),children:[d.jsx(qe,{className:k("text-center font-nunito-sans font-medium leading-tight",{web:"!text-[0.58em]",medium:"!text-[0.58em]",mobile:"!text-mb-sm"}[o]),text:t("presale.nft-description"),theme:i}),d.jsxs("ul",{className:k("flex list-disc flex-col pl-[8%] font-nunito font-semibold",{web:"space-y-[3%] !text-[0.52em]",medium:"space-y-[3%] !text-[0.52em]",mobile:"space-y-[1.5%] !text-mb-sm"}[o]),children:[d.jsx("li",{children:d.jsx("p",{children:t("presale.nft-item-1")})}),d.jsx("li",{children:d.jsx("p",{children:t("presale.nft-item-2")})}),d.jsx("li",{children:d.jsx("p",{children:t("presale.nft-item-3")})}),d.jsx("li",{children:d.jsx("p",{children:t("presale.nft-item-4")})})]})]})})}),d.jsx(Qn,{theme:i,armSide:"left",frameSide:"center",parentRef:n,reference:{height:a,width:s},scale:{web:1,medium:.8,mobile:.6}[o]})]})})})},D_e=({scrollLevel:e})=>{const{deviceType:t}=ve(),i=le(ze),[n,s]=D.useState(0);return D.useEffect(()=>s(e),[e]),d.jsx(Jt,{divKey:n,side:"right",duration:1.5,exitDuration:1,exitDelay:.5,delay:1,show:n===0,className:"pointer-events-none !absolute top-0 z-[60] h-full w-full",children:d.jsx("div",{className:k("absolute -translate-x-1/2 drop-shadow-video-shadow",{web:i===F?"-bottom-[22%] right-[24%]":"-bottom-[21%] right-[25.6%]",medium:i===F?"-bottom-[19%] left-1/2":"-bottom-[18%] left-1/2",mobile:i===F?"bottom-0 left-1/2 translate-y-[90%] text-[1.3em]":"bottom-0 left-1/2 translate-y-[81%] text-[1.3em]"}[t]),children:d.jsx(xxe,{divKey:e,theme:i})})})},L_e=({scrollLevel:e})=>d.jsxs(d.Fragment,{children:[d.jsx(E_e,{scrollLevel:e}),d.jsx(O_e,{scrollLevel:e})]}),E_e=({scrollLevel:e})=>{const{deviceType:t}=ve(),{t:i}=je(),n=le(ze),s=le(Ee);return d.jsx(Jt,{className:"pointer-events-none !absolute !top-0 h-full w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},delay:2,duration:1,exitDuration:1,exitDelay:0,show:e===1,children:d.jsxs("div",{className:k("group pointer-events-auto absolute select-none text-[1.0666em] focus:outline-none",{web:"left-1/2 top-[8%] w-[22%]",medium:"left-1/2 top-[4%] w-[30%]",mobile:"left-1/2 top-[2%] w-[40%]"}[t]),style:{transform:{web:"scale(2) translate(-25%,0)",medium:"scale(2.5) translate(-20%,0)",mobile:"scale(2) translate(-25%,0%)"}[t],transformOrigin:"center"},children:[d.jsx("img",{src:n===F?s.earthsmoke:s.aliensmoke,className:k("rotate-180",n===F?"brightness-150 drop-shadow-earth-character group-hover:brightness-90 group-focus:brightness-90":"brightness-100 drop-shadow-alien-character group-hover:brightness-200 group-focus:brightness-200")}),d.jsxs("span",{className:k("absolute left-1/2 top-[30%] flex w-max -translate-x-1/2 -translate-y-[80%] flex-col items-center font-nunito font-black",{web:"top-[28%] text-[0.35em]",medium:"top-[43%] text-[0.35em]",mobile:"top-[38%] text-[0.6em]"}[t],zt()?n===F?"text-shadow-earth-character-hover":"text-shadow-alien-character-hover":n===F?"drop-shadow-earth-character-hover":"drop-shadow-alien-character-hover",n===F?"text-earth-black":"text-alien-white"),children:[i("home.join")," ",d.jsx("span",{className:k({web:"text-[0.5em]",medium:"text-[0.5em]",mobile:"text-[0.6em]"}[t]),children:i("home.the-giveaway")})]}),d.jsx("span",{className:k("absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-[30%] font-nunito-sans text-[0.9em] font-black tracking-wider text-black group-hover:scale-110 group-focus:scale-110",zt()?"text-shadow-presale-title":"drop-shadow-presale-title",{web:"top-1/2",medium:"top-1/2",mobile:"top-[53%]"}[t]),style:{transition:"transform 0.3s ease-in"},children:i("home.giveaway")})]})})},O_e=({scrollLevel:e})=>{const{t}=je(),i=le(ze),n=le(Ee),s=D.useRef(null),{width:a,height:o}=D.useContext(Jn),{deviceType:r}=ve(),[l,c]=D.useState(0);return D.useEffect(()=>c(e),[e]),d.jsx(Jt,{side:"left",duration:1.5,exitDuration:1,exitDelay:.5,delay:1,show:l===1,className:"pointer-events-none !absolute top-0 h-full w-full",children:d.jsx("div",{className:k("absolute",{web:"left-0 top-[35%] h-full w-full",medium:"left-1/2 top-[25%] h-full w-[90%] -translate-x-1/2",mobile:"left-1/2 top-[50%] h-fit w-full -translate-x-1/2 -translate-y-1/2"}[r]),children:d.jsxs("div",{ref:s,className:k("relative",{web:"w-full",medium:"w-full",mobile:"w-full"}[r]),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:{web:i===F?"53% bottom":"55% bottom",medium:"60% bottom",mobile:"60% bottom"}[r],delay:2.5,children:d.jsxs(Ai,{theme:i,className:k("relative overflow-hidden",{web:"!px-[2em] !py-[1.2em]",medium:"!px-[8%] !py-[5%] !pb-[7%]",mobile:"!px-[8%] !py-[5%] !pb-[7%]"}[r]),children:[d.jsx("img",{src:n.usdcicon,className:k("absolute",{web:"-left-[8%] -top-[35%] w-[10em] opacity-30",medium:"-left-[30%] top-1/2 w-[20em] -translate-y-1/2 opacity-[0.2]",mobile:"-left-[30%] top-[25%] w-[15em] -translate-y-1/2 opacity-[0.2]"}[r])}),d.jsx("img",{src:n.polygonicon,className:k("absolute",{web:"-right-[8%] -top-[35%] w-[10em] opacity-30",medium:"-right-[30%] top-1/2 w-[20em] -translate-y-1/2 opacity-[0.2]",mobile:"-right-[30%] top-[70%] w-[20em] -translate-y-1/2 opacity-[0.2]"}[r])}),d.jsxs("div",{className:k("relative flex flex-col",{medium:"space-y-[3%] text-[2em]",mobile:"space-y-[3%] text-[2em]"}[r],{[F]:"!text-earth-black",[De]:"!text-alien-white"}[i]),children:[d.jsx(qe,{className:k("text-center font-nunito-sans font-black",{web:"mb-[1em] text-[0.75em]",medium:"mb-[1em] text-[0.6292em]",mobile:"mb-[0.2em] text-[0.6292em]"}[r]),text:t("project.giveaway-title"),theme:i}),d.jsx(qe,{className:k("text-center font-nunito-sans font-medium leading-tight",{web:"mb-[0.8em] !text-[0.6em]",medium:"!mb-[1em] !text-[0.5em]",mobile:"!mb-[1em] !text-[0.5em]"}[r]),text:t("project.giveaway-description"),theme:i}),d.jsxs("ul",{className:k("mx-auto flex list-disc flex-col space-y-[1em] font-nunito font-semibold",{web:"mb-[2.5em] !text-[0.52em]",medium:"!mb-[4em] !text-[0.45em]",mobile:"!mb-[1em] !text-[0.45em]"}[r]),children:[d.jsx("li",{children:d.jsx("p",{children:t("project.giveaway-text1")})}),d.jsx("li",{children:d.jsxs("p",{children:[t("project.giveaway-text2A"),d.jsx("a",{href:One,target:"_blank",rel:"noopener noreferrer",className:k(zt()?i===F?"text-shadow-earth-character":"text-shadow-alien-character":i===F?"drop-shadow-earth-character":"drop-shadow-alien-character"),children:"POST"}),t("project.giveaway-text2B")," ",t("project.giveaway-text2C"),d.jsx("a",{href:jne,target:"_blank",rel:"noopener noreferrer",className:k(zt()?i===F?"text-shadow-earth-character":"text-shadow-alien-character":i===F?"drop-shadow-earth-character":"drop-shadow-alien-character"),children:"POST"}),t("project.giveaway-text2D")]})}),d.jsx("li",{children:d.jsx("p",{children:t("project.giveaway-text3")})})]}),d.jsx("p",{className:k("text-justify font-nunito-sans",{web:"text-[0.35em]",medium:"text-[0.3em]",mobile:"text-[0.3em]"}[r],i===F?"text-earth-black":"font-thin text-alien-white"),children:t("project.giveaway-conditions")})]})]})}),d.jsx(Qn,{theme:i,armSide:"left",frameSide:"center",parentRef:s,reference:{height:o,width:a},scale:{web:1,medium:.8,mobile:.8}[r]})]})})})},j_e=({scrollLevel:e})=>{const{t}=je(),i=le(ze),{deviceType:n}=ve();return d.jsxs(d.Fragment,{children:[d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:1,duration:.5}},className:"pointer-events-none !absolute top-0",children:e===2&&d.jsx(Lm,{text:d.jsxs("div",{className:k("flex w-max gap-[0.5em]",{medium:"text-[1.2em]",mobile:"text-[1.2em]"}[n]),children:[d.jsx(vS,{}),t("project.round-title")]}),className:k("absolute left-1/2 top-[2%] -translate-x-1/2",i===F?"text-earth-black":"text-alien-white")})}),d.jsx(R_e,{scrollLevel:e}),d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:0,duration:.5}},delay:1,className:"pointer-events-none !absolute top-0",children:e===2&&d.jsx("a",{href:Rne,target:"_blank",rel:"noopener noreferrer",className:k("pointer-events-auto absolute w-max -translate-x-1/2 scale-[0.7] rounded outline-none transition-transform hover:scale-[0.75] focus:scale-[0.75]",{web:k("top-[69%] px-[3%] py-[2%]",i===F?"left-[15%] bg-earth-green/20 text-earth-black":"left-[85%] bg-alien-purple/20 text-alien-white"),medium:k("left-1/2 top-[42%] -translate-x-1/2 px-[5%] py-[3%]",i===F?"bg-earth-green/20 text-earth-black":"bg-alien-purple/20 text-alien-white"),mobile:k("left-1/2 top-[49%] -translate-x-1/2 px-[5%] py-[3%]",i===F?"bg-earth-green/20 text-earth-black":"bg-alien-purple/20 text-alien-white")}[n]),children:d.jsx(Lm,{text:t("project.see-collection")})})}),d.jsx(P_e,{scrollLevel:e})]})},R_e=({scrollLevel:e})=>{const{t}=je(),i=le(ze),n=D.useRef(null),{width:s,height:a}=D.useContext(Jn),{deviceType:o}=ve(),[r,l]=D.useState(0);return D.useEffect(()=>l(e),[e]),d.jsx(Jt,{side:i===F?"right":"left",duration:1.5,exitDuration:1,exitDelay:.5,delay:1,show:r===2,className:"pointer-events-none !absolute top-0 h-full w-full",children:d.jsx("div",{className:k("absolute left-0 h-full w-full",{web:"top-[12%]",medium:"top-[8%]",mobile:"top-[12%]"}[o]),children:d.jsxs("div",{ref:n,className:k("relative",{web:"mx-auto w-[70%]",medium:"mx-auto w-[90%] text-[1.3em]",mobile:"mx-auto w-full text-[1.2em]"}[o]),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:i===F?"85% bottom":"15% bottom",delay:2.5,children:d.jsx(Ai,{theme:i,className:k("!p-0",{web:"!pt-[1.2em]",medium:"!pt-[1em]",mobile:"!pt-[1.2em]"}[o]),children:d.jsxs("div",{className:k("relative flex flex-col",{web:"mx-auto w-[70%]",medium:"mx-auto w-[80%] gap-[0.3em] text-[1.3em]",mobile:"mx-auto w-[90%] text-[1.3em]"}[o],{"!text-earth-black":i===F,"!text-alien-white":i===De}),children:[d.jsx(qe,{className:k("text-center font-nunito-sans font-black",{web:"mb-[0.8em] text-[0.7em]",medium:"text-[0.6292em]",mobile:"mb-[0.8em] text-[0.6292em]"}[o]),text:t("project.round-info-title"),theme:i}),d.jsx(qe,{className:"mb-[0.8em] text-center font-nunito-sans !text-[0.5em] font-medium leading-tight",text:t("project.round-info-description"),theme:i}),d.jsxs("ul",{className:k("mx-auto mb-[2.5em] flex list-disc flex-col space-y-[1em] font-nunito !text-[0.45em] font-semibold",{medium:"w-[80%]",mobile:"w-[80%] !text-mb-sm"}[o]),children:[d.jsx("li",{children:d.jsx("p",{children:t("project.round-info-text1")})}),d.jsx("li",{children:d.jsx("p",{children:t("project.round-info-text2")})}),d.jsx("li",{children:d.jsx("p",{children:t("project.round-info-text3")})})]})]})})}),d.jsx(Qn,{theme:i,armSide:i===F?"right":"left",frameSide:i===F?"right":"left",parentRef:n,reference:{height:a,width:s},scale:{web:.8,medium:.6,mobile:.7}[o]})]})})})},P_e=({scrollLevel:e})=>{const t=le(Ee),i=le(ze),{deviceType:n}=ve();return d.jsx(ct,{divKey:e,initial:{opacity:0,scale:.7},animate:{opacity:1,scale:{web:1,medium:2,mobile:1}[n]},exit:{opacity:0,scale:.7,transition:{delay:0,duration:.5}},delay:2,duration:.5,className:k("pointer-events-none !absolute z-50",{web:"bottom-0",medium:"bottom-[60%]",mobile:"bottom-[0%]"}[n]),children:e===2&&d.jsx(F7,{cards:i===F?[t.earthcogsairsinuitcard1,t.earthcogsairsinuitcommander,t.earthcogsairsinuitcard2,t.earthcogsairsinuitcard3,t.earthcogsairsinuitcard4,t.earthcogsairsinuitcard5]:[t.alienvoidweaverswaspcard1,t.alienvoidweaverswaspcommander,t.alienvoidweaverswaspcard2,t.alienvoidweaverswaspcard3,t.alienvoidweaverswaspcard4,t.alienvoidweaverswaspcard5],className:k("absolute left-1/2 -translate-x-1/2",{web:"bottom-0 w-[40%]",medium:"bottom-0 w-[40%]",mobile:"bottom-[calc(35*var(--vh)-50*var(--vw))] w-[80%]"}[n]),activeTranslation:{mobile:"-translate-y-[50%] scale-[2]"}[n]})})},z_e={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function __e(e,t){const i=e.scrollSnapList();return typeof t=="number"?i.map(()=>t):t(i,e)}function F_e(e,t){const i=e.rootNode();return t&&t(i)||i}function sP(e={}){let t,i,n,s,a=null,o=0,r=!1,l=!1,c=!1,u=!1;function h(B,$){i=B;const{mergeOptions:Q,optionsAtMedia:X}=$,Y=Q(z_e,sP.globalOptions),q=Q(Y,e);if(t=X(q),i.scrollSnapList().length<=1)return;u=t.jump,n=!1,s=__e(i,t.delay);const{eventStore:Z,ownerDocument:W}=i.internalEngine(),ee=!!i.internalEngine().options.watchDrag,oe=F_e(i,t.rootNode);Z.add(W,"visibilitychange",v),ee&&i.on("pointerDown",N),ee&&!t.stopOnInteraction&&i.on("pointerUp",M),t.stopOnMouseEnter&&Z.add(oe,"mouseenter",I),t.stopOnMouseEnter&&!t.stopOnInteraction&&Z.add(oe,"mouseleave",C),t.stopOnFocusIn&&i.on("slideFocusStart",b),t.stopOnFocusIn&&!t.stopOnInteraction&&Z.add(i.containerNode(),"focusout",y),t.playOnInit&&y()}function f(){i.off("pointerDown",N).off("pointerUp",M).off("slideFocusStart",b),b(),n=!0,r=!1}function g(){const{ownerWindow:B}=i.internalEngine();B.clearTimeout(o),o=B.setTimeout(V,s[i.selectedScrollSnap()]),a=new Date().getTime(),i.emit("autoplay:timerset")}function x(){const{ownerWindow:B}=i.internalEngine();B.clearTimeout(o),o=0,a=null,i.emit("autoplay:timerstopped")}function y(){if(!n){if(S()){c=!0;return}r||i.emit("autoplay:play"),g(),r=!0}}function b(){n||(r&&i.emit("autoplay:stop"),x(),r=!1)}function v(){if(S())return c=r,b();c&&y()}function S(){const{ownerDocument:B}=i.internalEngine();return B.visibilityState==="hidden"}function N(){l||b()}function M(){l||y()}function I(){l=!0,b()}function C(){l=!1,y()}function L(B){typeof B<"u"&&(u=B),y()}function O(){r&&b()}function P(){r&&y()}function z(){return r}function V(){const{index:B}=i.internalEngine(),$=B.clone().add(1).get(),Q=i.scrollSnapList().length-1,X=t.stopOnLastSnap&&$===Q;if(i.canScrollNext()?i.scrollNext(u):i.scrollTo(0,u),i.emit("autoplay:select"),X)return b();y()}function G(){if(!a)return null;const B=s[i.selectedScrollSnap()],$=new Date().getTime()-a;return B-$}return{name:"autoplay",options:e,init:h,destroy:f,play:L,stop:O,reset:P,isPlaying:z,timeUntilNext:G}}sP.globalOptions=void 0;const B_e=({theme:e})=>{const t=le(Ee),{deviceType:i}=ve(),{i18n:n,t:s}=je(),[a,o]=D.useState(!1),r=xt(ml),l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Artificial Intelligence: Advantages, Challenges, and Ethical Commitments",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium",i==="mobile"&&"!text-sm"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Artificial intelligence (AI)"})," ","has made a powerful entrance into various industries, and the gaming world is no exception. However, its application has generated both excitement and ",d.jsx("span",{className:"font-extrabold",children:"controversy"}),". At Oblivion Mechanics, we firmly believe in the potential of this technology to drive ",d.jsx("span",{className:"font-extrabold",children:"innovation"})," ","and ",d.jsx("span",{className:"font-extrabold",children:"democratize access"})," to game development, especially in the"," ",d.jsx("span",{className:"font-extrabold",children:"indie space"}),". In this article, we want to share how we use AI, the benefits it offers, the challenges we face, and our ethical commitment throughout this process."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Artificial Intelligence as a Tool in Indie Development"}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Generative AI"})," is an extremely new ",d.jsx("span",{className:"font-extrabold",children:"tool"})," that is transforming the way visual content is developed across various fields. In the indie space, where resources are often limited, AI offers a unique opportunity to ",d.jsx("span",{className:"font-extrabold",children:"compete"})," in terms of visual quality and content variety with larger projects."]}),d.jsxs("p",{className:"my-2 indent-10",children:["At Oblivion Mechanics, we have taken"," ",d.jsx("span",{className:"font-extrabold",children:"advantage"})," of the benefits of generative AI in the"," ",d.jsx("span",{className:"font-extrabold",children:"visual design area of Univearth"}),". This technology has allowed us to generate a wide range of visual content in record time and with minimal investment, something that would have been impossible with traditional methods. The speed of generation and the high quality of the base images have allowed us to quickly bring the pre-defined concepts of the game to life in characters and environments."]}),d.jsxs("p",{className:"my-2 indent-10",children:["AI is not simply a machine that produces random images. It requires creative direction and"," ",d.jsx("span",{className:"font-extrabold",children:"significant human intervention"})," ","to achieve results that are consistent with the vision of the project. In our case, each faction, archetype, and clan in"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"})," has specific characteristics and concepts that must be reflected in the game's art. The AI generation process involves conveying these ideas to the tool, performing multiple iterations, and selecting the most suitable results for further manual refinement."]}),d.jsx("h2",{className:k("my-3 font-bold",i==="mobile"?"text-left text-sm":"text-base"),children:"Advantages of Using AI in Univearth"}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Incorporating AI"})," into our development process has brought numerous advantages that have positively impacted the project:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Acceleration of the Creative Process:"})," ","AI has allowed us to generate a large number of visual options in a much shorter time than it would take an artist to create something from scratch. In the time it would normally take to create one character, we have been able to generate and evaluate multiple proposals, giving us greater flexibility and speed in decision-making."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Resource Optimization:"})," By significantly reducing the time and costs associated with creating visual content, we can allocate additional resources to other critical areas of development, such as programming innovative mechanics, improving cybersecurity, and enriching game content. This allows us to offer a higher overall quality product without sacrificing essential aspects."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Greater Variety and Visual Quality:"})," ","AI has provided us with a rich and diverse visual base to work from. This translates into a greater variety of characters and elements within the game, enriching the player's experience and adding depth to Univearth's universe. Additionally, by starting from a high-quality base, the work of refining by human artists can focus on details and adjustments that further elevate the level of the art."]})]}),d.jsx("h2",{className:k("my-3 font-bold",i==="mobile"?"text-left text-sm":"text-base"),children:"Challenges and Ethical Commitments"}),d.jsxs("p",{className:"my-2 indent-10",children:["We recognize that the use of AI in game development is not without"," ",d.jsx("span",{className:"font-extrabold",children:"challenges"})," and that there is a debate in the community about its ethical and professional impact. We want to address these concerns directly and transparently."]}),d.jsx("h2",{className:k("my-3 font-bold",i==="mobile"?"text-left text-sm":"text-base"),children:"Understanding Limitations and Risks"}),d.jsxs("p",{className:"my-2 indent-10",children:["Generative AI, while powerful, has"," ",d.jsx("span",{className:"font-extrabold",children:"limitations"}),". It can generate images with errors or inconsistencies that require human correction. Additionally, there is a risk that its ease of use will be exploited by bad actors to create low-quality products or scams. At Oblivion Mechanics, we are aware of these risks and have implemented rigorous processes to ensure the"," ",d.jsx("span",{className:"font-extrabold",children:"coherence and quality"})," of the generated content."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Biases and Community Criticism"}),d.jsxs("p",{className:"my-2 indent-10",children:["We know that part of the community criticizes the use of generative AI, arguing that it steals art or harms artists by reducing job opportunities. We want to clarify that AI does not directly copy the work of other artists. Instead, it learns patterns and styles from large datasets to generate new images. This process is similar to how"," ",d.jsx("span",{className:"font-extrabold",children:"human artists learn"})," and are inspired by existing works."]}),d.jsxs("p",{className:"my-2 indent-10",children:["As for the impact on artists, we believe that AI is a tool that can"," ",d.jsx("span",{className:"font-extrabold",children:"enhance their work"}),", not replace it. Artists at Oblivion Mechanics use AI as a tool to"," ",d.jsx("span",{className:"font-extrabold",children:"speed up the creative process"}),", allowing them to focus on more complex and creative aspects of design. Far from eliminating jobs, AI opens up new opportunities and roles in game development."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Commitment to Ethics and Legitimacy"}),d.jsxs("p",{className:"my-2 indent-10",children:["We use paid AI tools and respect the"," ",d.jsx("span",{className:"font-extrabold",children:"licenses and agreements"})," ","associated with them. We do not train our own AI models with images without consent, and we ensure compliance with"," ",d.jsx("span",{className:"font-extrabold",children:"legal and ethical standards"})," at all times. Additionally, we promote a culture of transparency, where partners and team members are available to discuss and explain our approach and practices."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Our Stance on Criticism"}),d.jsxs("p",{className:"my-2 indent-10",children:["We have decided to take a clear and firm stance"," ",d.jsx("span",{className:"font-extrabold",children:"in favor of using"})," artificial intelligence. We do not believe it is necessary to apologize for"," ",d.jsx("span",{className:"font-extrabold",children:"using a tool"})," that allows us to create a better product and democratize game development. However, we understand that it is important to inform and educate the community about how we use AI and why we believe its"," ",d.jsx("span",{className:"font-extrabold",children:"advantages"})," outweigh its disadvantages."]}),d.jsxs("p",{className:"my-2 indent-10",children:["We will not allocate resources to respond to destructive or unfounded criticism based on prejudice or misinformation. Instead, we will focus on demonstrating through our work the"," ",d.jsx("span",{className:"font-extrabold",children:"quality and value"})," that AI brings to ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),". We believe that the game's success and acceptance will be the best response to doubts and fears."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"The Future of AI in Game Development"}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Artificial intelligence"})," is a constantly evolving technology that will continue to transform the gaming industry. At Oblivion Mechanics, we are committed to continuing to explore its possibilities ethically and responsibly. We believe that AI is not the enemy of artists or developers but a"," ",d.jsx("span",{className:"font-extrabold",children:"tool"})," that, when used correctly, can drive"," ",d.jsx("span",{className:"font-extrabold",children:"creativity and innovation"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["We are open to"," ",d.jsx("span",{className:"font-extrabold",children:"constructive criticism"})," and willing to engage in conversations that contribute to the understanding and"," ",d.jsx("span",{className:"font-extrabold",children:"advancement of the industry"}),". We invite the community to experience Univearth, to appreciate the result of combining human talent and technology, and to join us on this exciting journey."]}),d.jsxs("p",{className:"my-2 indent-10",children:["The use of artificial intelligence in Univearth has been a"," ",d.jsx("span",{className:"font-extrabold",children:"strategic decision"})," that has allowed us to overcome the typical limitations of an indie project and aim for"," ",d.jsx("span",{className:"font-extrabold",children:"higher quality standards"}),". We are convinced that AI, used ethically and responsibly, is an ally in creating enriching and innovative gaming experiences."]}),d.jsxs("p",{className:"my-2 indent-10",children:["We want Univearth to be more than just a game; we want it to be an example of how technology can"," ",d.jsx("span",{className:"font-extrabold",children:"democratize the industry"}),", open doors to new talent, and offer players high-quality products."]})]})]}),c=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Inteligencia Artificial: Ventajas, Desafos y Compromisos ticos",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium",i==="mobile"&&"text-sm"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["La"," ",d.jsx("span",{className:"font-extrabold",children:"inteligencia artificial (IA)"})," ","ha irrumpido con fuerza en diversas industrias, y el mundo de los videojuegos no es la excepcin. Sin embargo, su aplicacin ha generado tanto entusiasmo como"," ",d.jsx("span",{className:"font-extrabold",children:"controversia"}),". En Oblivion Mechanics, creemos firmemente en el potencial de esta tecnologa para impulsar la ",d.jsx("span",{className:"font-extrabold",children:"innovacin"})," y"," ",d.jsx("span",{className:"font-extrabold",children:"democratizar el acceso"})," al desarrollo de videojuegos, especialmente en el"," ",d.jsx("span",{className:"font-extrabold",children:"mbito indie"}),". En este artculo, queremos compartir cmo utilizamos la IA, las ventajas que ofrece, los desafos que enfrentamos y nuestro compromiso tico en este proceso."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"La Inteligencia Artificial como Herramienta en el Desarrollo Indie"}),d.jsxs("p",{className:"my-2 indent-10",children:["La ",d.jsx("span",{className:"font-extrabold",children:"IA generativa"})," es una"," ",d.jsx("span",{className:"font-extrabold",children:"herramienta"})," extremadamente nueva que est transformando la manera en que se desarrollan los contenidos visuales en diversos campos. En el mbito indie, donde los recursos suelen ser limitados, la IA ofrece una oportunidad nica para"," ",d.jsx("span",{className:"font-extrabold",children:"competir"})," en trminos de calidad visual y variedad de contenido con proyectos de mayor envergadura."]}),d.jsxs("p",{className:"my-2 indent-10",children:["En Oblivion Mechanics, hemos aprovechado las"," ",d.jsx("span",{className:"font-extrabold",children:"ventajas"})," de la IA generativa en el rea de"," ",d.jsx("span",{className:"font-extrabold",children:"diseo visual de Univearth"}),". Esta tecnologa nos ha permitido generar una amplia gama de contenido visual en un tiempo rcord y con una inversin mnima, algo que habra sido imposible con mtodos tradicionales. La velocidad de generacin y la alta calidad de las imgenes base nos han permitido plasmar rpidamente los conceptos ya predefinidos del juego en personajes y escenarios."]}),d.jsxs("p",{className:"my-2 indent-10",children:["La IA no es simplemente una mquina que produce imgenes al azar. Requiere de una direccin creativa y una"," ",d.jsx("span",{className:"font-extrabold",children:"intervencin humana significativa"})," ","para obtener resultados que sean coherentes con la visin del proyecto. En nuestro caso, cada bando, arquetipo y clan de"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"})," tiene caractersticas y conceptos especficos que deben ser reflejados en el arte del juego. El proceso de generacin con IA implica transmitir estas ideas a la herramienta, realizar mltiples iteraciones y seleccionar las ms adecuadas para luego refinarlas manualmente."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Ventajas del Uso de IA en Univearth"}),d.jsxs("p",{className:"my-2 indent-10",children:["La ",d.jsx("span",{className:"font-extrabold",children:"incorporacin de la IA"})," en nuestro proceso de desarrollo ha trado consigo numerosas ventajas que han impactado positivamente en el proyecto:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Aceleracin del Proceso Creativo:"})," ","La IA nos ha permitido generar una gran cantidad de opciones visuales en un tiempo mucho menor al que requerira el trabajo manual de un artista desde cero. En el tiempo que normalmente se tarda en crear un personaje, hemos podido generar y evaluar mltiples propuestas, lo que nos ha dado una mayor flexibilidad y rapidez en la toma de decisiones."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Optimizacin de Recursos:"})," Al reducir significativamente el tiempo y los costos asociados con la creacin de contenido visual, se podrn destinar recursos adicionales a otras reas crticas del desarrollo, como la programacin de mecnicas innovadoras, la mejora de la ciberseguridad y el enriquecimiento del contenido del juego. Esto nos permite ofrecer un producto de mayor calidad integral sin sacrificar aspectos esenciales."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Mayor Variedad y Calidad Visual:"})," ","La IA nos ha proporcionado una base visual rica y diversa sobre la cual trabajar. Esto se traduce en una mayor variedad de personajes y elementos dentro del juego, lo que enriquece la experiencia del jugador y aporta profundidad al universo de Univearth. Adems, al haber partido de una alta calidad base, el trabajo de refinamiento por parte de los artistas humanos se puede enfocar en detalles y ajustes que elevan an ms el nivel del arte."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Desafos y Compromisos ticos"}),d.jsxs("p",{className:"my-2 indent-10",children:["Reconocemos que el uso de IA en el desarrollo de videojuegos no est exento de ",d.jsx("span",{className:"font-extrabold",children:"desafos"})," y que existe un debate en la comunidad sobre su impacto tico y profesional. Queremos abordar estas preocupaciones de manera directa y transparente."]}),d.jsx("h2",{className:k("my-3 font-bold",i==="mobile"?"text-left text-sm":"text-base"),children:"Comprensin de las Limitaciones y Riesgos"}),d.jsxs("p",{className:"my-2 indent-10",children:["La IA generativa, aunque poderosa, tiene"," ",d.jsx("span",{className:"font-extrabold",children:"limitaciones"}),". Puede generar imgenes con errores o inconsistencias que requieren correccin humana. Adems, existe el riesgo de que su facilidad de uso sea aprovechada por actores malintencionados para crear productos de baja calidad o estafas. En Oblivion Mechanics, somos conscientes de estos riesgos y hemos implementado procesos rigurosos para garantizar la"," ",d.jsx("span",{className:"font-extrabold",children:"coherencia y calidad"})," del contenido generado."]}),d.jsx("h2",{className:k("my-3 font-bold",i==="mobile"?"text-left text-sm":"text-base"),children:"Prejuicios y Crticas de la Comunidad"}),d.jsxs("p",{className:"my-2 indent-10",children:["Sabemos que una parte de la comunidad critica el uso de la IA generativa argumentando que roba arte o que perjudica a los artistas al reducir oportunidades laborales. Queremos aclarar que la IA no copia directamente el trabajo de otros artistas. En su lugar, aprende patrones y estilos a partir de grandes conjuntos de datos para generar nuevas imgenes. Este proceso es similar a cmo los"," ",d.jsx("span",{className:"font-extrabold",children:"artistas humanos aprenden"})," y se inspiran en obras existentes."]}),d.jsxs("p",{className:"my-2 indent-10",children:["En cuanto al impacto en los artistas, creemos que la IA es una herramienta que puede"," ",d.jsx("span",{className:"font-extrabold",children:"potenciar su trabajo"}),", no reemplazarlo. Los artistas en Oblivion Mechanics utilizan la IA como una herramienta para"," ",d.jsx("span",{className:"font-extrabold",children:"acelerar el proceso creativo"}),", permitindoles enfocarse en aspectos ms complejos y creativos del diseo. Lejos de eliminar puestos de trabajo, la IA abre nuevas oportunidades y roles en el desarrollo de videojuegos."]}),d.jsx("h2",{className:k("my-3 font-bold",i==="mobile"?"text-left text-sm":"text-base"),children:"Compromiso con la tica y la Legitimidad"}),d.jsxs("p",{className:"my-2 indent-10",children:["Utilizamos herramientas de IA pagas y respetamos las"," ",d.jsx("span",{className:"font-extrabold",children:"licencias y acuerdos"})," ","asociados. No entrenamos nuestras propias IA con imgenes sin consentimiento, y nos aseguramos de cumplir con las"," ",d.jsx("span",{className:"font-extrabold",children:"normativas legales y ticas"})," en todo momento. Adems, promovemos una cultura de transparencia, donde los socios y miembros del equipo estn disponibles para discutir y explicar nuestro enfoque y prcticas."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Nuestra Postura Frente a las Crticas"}),d.jsxs("p",{className:"my-2 indent-10",children:["Hemos decidido adoptar una postura clara y contundente a"," ",d.jsx("span",{className:"font-extrabold",children:"favor del uso"}),"de la inteligencia artificial. No creemos que sea necesario pedir disculpas por"," ",d.jsx("span",{className:"font-extrabold",children:"aprovechar una herramienta"})," que nos permite crear un mejor producto y democratizar el desarrollo de videojuegos. Sin embargo, entendemos que es importante informar y educar a la comunidad sobre cmo utilizamos la IA y por qu consideramos que sus ",d.jsx("span",{className:"font-extrabold",children:"ventajas"}),"superan las desventajas."]}),d.jsxs("p",{className:"my-2 indent-10",children:["No destinaremos recursos a responder a crticas destructivas o infundadas que se basen en prejuicios o desinformacin. En cambio, nos enfocaremos en demostrar a travs de nuestro trabajo la"," ",d.jsx("span",{className:"font-extrabold",children:"calidad y el valor"})," que la IA aporta a ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),". Creemos que el xito y la aceptacin del juego sern la mejor respuesta a las dudas y temores."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"El Futuro de la IA en el Desarrollo de Videojuegos"}),d.jsxs("p",{className:"my-2 indent-10",children:["La ",d.jsx("span",{className:"font-extrabold",children:"inteligencia artificial"})," es una tecnologa en constante evolucin que seguir transformando la industria de los videojuegos. En Oblivion Mechanics, estamos comprometidos a continuar explorando sus posibilidades de manera tica y responsable. Creemos que la IA no es el enemigo de los artistas ni de los desarrolladores, sino una"," ",d.jsx("span",{className:"font-extrabold",children:"herramienta"})," que, cuando se utiliza correctamente, puede impulsar la"," ",d.jsx("span",{className:"font-extrabold",children:"creatividad y la innovacin"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Estamos abiertos a recibir"," ",d.jsx("span",{className:"font-extrabold",children:"crticas constructivas"})," y a participar en conversaciones que contribuyan al entendimiento y"," ",d.jsx("span",{className:"font-extrabold",children:"avance de la industria"}),". Invitamos a la comunidad a experimentar Univearth, a apreciar el resultado de combinar talento humano y tecnologa, y a unirse a nosotros en esta emocionante travesa."]}),d.jsxs("p",{className:"my-2 indent-10",children:["El uso de inteligencia artificial en Univearth ha sido una"," ",d.jsx("span",{className:"font-extrabold",children:"decisin estratgica"})," que nos ha permitido superar las limitaciones tpicas de un proyecto indie y aspirar a"," ",d.jsx("span",{className:"font-extrabold",children:"mayores estndares de calidad"}),". Estamos convencidos de que la IA, utilizada de manera tica y responsable, es una aliada en la creacin de experiencias de juego enriquecedoras y novedosas."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Queremos que Univearth sea ms que un juego; queremos que sea un ejemplo de cmo la tecnologa puede"," ",d.jsx("span",{className:"font-extrabold",children:"democratizar la industria"}),", abrir puertas a nuevos talentos y ofrecer a los jugadores productos de alta calidad."]})]})]});return D.useEffect(()=>{r(a)},[a]),d.jsx(Ka,{open:a,setOpen:o,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[i]),contentWrapper:i!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[i]),children:rt(n.language)==="en"?l:c}),children:d.jsx(vd,{title:s("home.art-ai-title"),description:s("home.art-ai-description"),side:"left",backgroundImage:e===De?d.jsx("img",{loading:"eager",src:t.alienastralmap,className:k("absolute -right-[3em] w-[5.8734em] scale-[1.5]","rotate-[30deg] opacity-50 brightness-75")}):d.jsx("div",{className:k("absolute -top-[2.1452em] right-0 w-[5.8734em]",e===F&&"opacity-30 brightness-125"),children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:t.earthblueprintpaper,className:k("absolute -right-[4.9921em] h-[140px] w-[625px] scale-[3]")}),d.jsx("img",{src:t.earthdrawingwingedgear,className:k("absolute top-[4.1953em] min-h-full min-w-full scale-[0.9] opacity-[0.7]")})]})})})})},V_e=({theme:e})=>{const t=le(Ee),{deviceType:i}=ve(),{i18n:n,t:s}=je(),[a,o]=D.useState(!1),r=xt(ml),l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"A Transparent Blockchain Investment Alternative",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["In a world where video games and"," ",d.jsx("span",{className:"font-extrabold",children:"blockchain technology"})," are constantly evolving, the Univearth project emerges as a transparent, simple, and innovative alternative that focuses on offering"," ",d.jsx("span",{className:"font-extrabold",children:"real value"})," to its investors. But what sets it apart from the rest? Let's take a look at the financing tools and internal economy of the game, and why it represents a differentiated, solid, and reliable option."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Blockchain in the Funding Stage"}),d.jsxs("p",{className:"my-2 indent-10",children:["At Oblivion Mechanics, we believe that"," ",d.jsx("span",{className:"font-extrabold",children:"blockchain technology"})," is an excellent option for providing access to investors without the geographical and financial barriers associated with other traditional methods. This tool democratizes participation and offers anyone the opportunity to become a real investor and"," ",d.jsx("span",{className:"font-extrabold",children:"obtain significant benefits"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["To ensure the"," ",d.jsx("span",{className:"font-extrabold",children:"simplicity and clarity"})," of transactions, blockchain is used essentially in the"," ",d.jsx("span",{className:"font-extrabold",children:"presale stage"})," of NFT and tokens representing unique assets within the game, linked to investors' accounts within the platform itself. This way, there is no need to link external wallets, and there are no additional fees (gas fees)."]}),d.jsxs("p",{className:"my-2 indent-10",children:["This approach encourages"," ",d.jsx("span",{className:"font-extrabold",children:"investors"})," of all levels to participate and ensures that the funds raised are entirely dedicated to",d.jsx("span",{className:"font-extrabold",children:" game development"}),". Transparency is one of Univearth's core values, and we place great importance on:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsx("li",{className:"my-1",children:"Free access and verification of fund movements."}),d.jsx("li",{className:"my-1",children:"Open and constant communication between all parties."}),d.jsx("li",{className:"my-1",children:"Regular updates on progress, milestones achieved, and details on the use of resources."})]}),d.jsxs("p",{className:"my-2 indent-10",children:["It is worth mentioning that in the video game industry,"," ",d.jsx("span",{className:"font-extrabold",children:"funding stages"})," often have limited options: pre-purchasing the game before it is finished, simply getting earlier access than others and perhaps some unique assets (which are generally not tradeable); or having enough resources to finance an entire project, gaining decision-making power over key aspects that often lead to predatory practices and loss of the game's essence. In Univearth's case, we offer anyone the opportunity to be part of the project's funding, without compromising the pure and fun objectives of the game, while also allowing investors to potentially see a"," ",d.jsx("span",{className:"font-extrabold",children:"return on their investment"}),"."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"No NFT or Tokens During Gameplay"}),d.jsxs("p",{className:"my-2 indent-10",children:["At Oblivion Mechanics, we are convinced that while"," ",d.jsx("span",{className:"font-extrabold",children:"NFT and tokens"})," are innovative, they are NOT necessary to guarantee asset ownership, nor do they ensure a safe and stable user experience. That is why Univearth does NOT incorporate blockchain technology for these purposes. Instead, asset management in Univearth is carried out through"," ",d.jsx("span",{className:"font-extrabold",children:"internal systems and private accounts"})," ","without additional complications. Something that blockchain users should understand sooner rather than later is that the value of NFT and market tokens does not lie in the mere use of the technology but in the projects that support them. How many times have mechanisms such as vesting, staking, token burns, complex and audited contracts, etc., been implemented, and still led to massive losses for those involved?"]}),d.jsxs("p",{className:"my-2 indent-10",children:["But what are the ",d.jsx("span",{className:"font-extrabold",children:"advantages"}),"? Elimination of risks (such as wallet theft or cryptocurrency market volatility), increased fluidity in the gaming experience, and transparency in investment management, ensuring that all funds are dedicated to the development and evolution of the game. Most importantly, there is no pyramid scheme involved, where the return is taken by the first to sell at the right time, causing losses to everyone else. Additionally, development costs are reduced, as blockchain is an expensive technology to implement, allowing those resources to be used to"," ",d.jsx("span",{className:"font-extrabold",children:"improve the quality of the game"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["That said, blockchain technology will still be used, but only as a method for"," ",d.jsx("span",{className:"font-extrabold",children:"depositing and withdrawing"})," ","money in the game, as an alternative to other means such as credit cards or virtual bank wallets."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Transparency in Financial Movements"}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Transparency"})," is one of Univearth's core pillars. By using blockchain as a financing method, all fund movements are"," ",d.jsx("span",{className:"font-extrabold",children:"public and verifiable"}),". Investors can monitor transactions and confirm that the funds are being used as promised."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Additionally, Univearth is committed to"," ",d.jsx("span",{className:"font-extrabold",children:"open and constant communication"})," ","with its community of investors and players. Regular updates will be provided on development progress, milestones achieved, and how resources are being used. This level of transparency not only strengthens ",d.jsx("span",{className:"font-extrabold",children:"trust"})," between the project and its investors but also fosters a strong and lasting relationship."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Univearth vs. Projects with Complex Tokenomics"}),d.jsxs("p",{className:"my-2 indent-10",children:["In today's"," ",d.jsx("span",{className:"font-extrabold",children:"blockchain project"})," landscape, it is common to find complex"," ",d.jsx("span",{className:"font-extrabold",children:"tokenomics"})," schemes that include token burning cycles, feedback rewards, and promises of quick returns. While they may seem appealing on the surface, these models often hide ",d.jsx("span",{className:"font-extrabold",children:"significant risks"}),", such as dependence on new investors to maintain token value and the possibility of abrupt collapses in asset value."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth"})," takes a different and more solid approach. By not relying on complicated economic models or making magical profit promises, the project offers investors tangible and unique assets that have"," ",d.jsx("span",{className:"font-extrabold",children:"real value"})," within the game and the potential for long-term appreciation. The assets acquired in pre-sales will be ",d.jsx("span",{className:"font-extrabold",children:"exclusive"})," ","and will not be available elsewhere in the game, increasing their"," ",d.jsx("span",{className:"font-extrabold",children:"rarity and appeal"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["The model we propose is more akin to"," ",d.jsx("span",{className:"font-extrabold",children:"investing"})," in real estate at the construction stage, where investors acquire properties at an early stage, anticipating an"," ",d.jsx("span",{className:"font-extrabold",children:"increase in their value"})," once completed. In this way, Univearth provides a"," ",d.jsx("span",{className:"font-extrabold",children:"clear and straightforward investment"})," ","proposal, reducing the risks associated with volatility and lack of transparency."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Benefits!"}),d.jsx("p",{className:"my-2",children:"So, what is the net benefit investors can gain?"}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Potential High Return:"})," The early acquisition of unique assets can yield significant gains as their value increases with the game's growing popularity in the market."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Reduced Common Risks:"})," A safe and stable long-term investment, as no pyramid schemes are involved."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparency and Trust:"})," Open communication, regular updates, and free access to financial movement information, reducing uncertainty."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Participation in an Innovative Project:"})," ","The opportunity to redefine standards and revolutionize the gaming industry alongside Oblivion Mechanics."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["We offer a solid, ethical, and well-defined alternative to those",d.jsx("span",{className:"font-extrabold",children:"investors"})," who want to be part of our project. If you are interested in being part of this exciting initiative, we invite you to check out our"," ",d.jsx("span",{className:"font-extrabold",children:"whitepaper"}),", available in the"," ",d.jsx("span",{className:"font-extrabold",children:"NFT presale"})," section on the website. You can also follow our social media for more updates and to resolve any questions you may have."]})]})]}),c=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Una Alternativa de Inversin Blockchain Transparente",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["En un mundo donde los videojuegos y la"," ",d.jsx("span",{className:"font-extrabold",children:"tecnologa blockchain"})," estn en constante evolucin, el proyecto Univearth surge como una alternativa transparente, simple e innovadora, que pone el foco en ofrecer"," ",d.jsx("span",{className:"font-extrabold",children:"valor real"})," a sus inversores. Pero, qu lo diferencia del resto? Veamos las herramientas de financiamiento y economa interna del juego, y por qu representa una opcin diferenciada, slida y confiable."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Blockchain en la etapa de financiamiento"}),d.jsxs("p",{className:"my-2 indent-10",children:["En Oblivion Mechanics creemos que la"," ",d.jsx("span",{className:"font-extrabold",children:"tecnologa blockchain"})," es una excelente opcin para dar acceso a inversores sin barreras geogrficas y financieras asociadas a otros mtodos tradicionales. Esta herramienta democratiza la participacin y ofrece la oportunidad a cualquier persona de convertirse en un inversor real y"," ",d.jsx("span",{className:"font-extrabold",children:"obtener beneficios significativos"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Con el objetivo de garantizar la"," ",d.jsx("span",{className:"font-extrabold",children:"simplicidad y claridad"})," de las transacciones, se utiliza la blockchain esencialmente en la"," ",d.jsx("span",{className:"font-extrabold",children:"etapa de preventas"})," de NFT y tokens en representacin de activos nicos dentro del juego, asociados a las cuentas de los inversores dentro de la misma plataforma. De esta forma, no se requerir la vinculacin de billeteras externas y no existirn comisiones adicionales (gas fees)."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Este enfoque promueve la"," ",d.jsx("span",{className:"font-extrabold",children:"participacin de inversores"})," de todos los niveles y garantiza que los fondos recaudados se destinen ntegramente al"," ",d.jsx("span",{className:"font-extrabold",children:"desarrollo de juego"}),". La transparencia es uno de los pilares fundamentales de Univearth, por lo que damos vital importancia a:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsx("li",{className:"my-1",children:"El libre acceso y verificacin de los movimientos de fondos."}),d.jsx("li",{className:"my-1",children:"La comunicacin abierta y constante entre las partes."}),d.jsx("li",{className:"my-1",children:"Actualizaciones regulares sobre el progreso, hitos alcanzados y detalles sobre la utilizacin de recursos."})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Cabe destacar que en la industria de los videojuegos, cuando se realizan"," ",d.jsx("span",{className:"font-extrabold",children:"etapas de financiamiento"})," no suele haber muchas ms opciones que: precomprar el juego antes de que est terminado, obteniendo simplemente ms tiempo que los dems para jugarlo y quizs algn activo nico (que en general no es comercializable); o tener suficientes recursos como para financiar un proyecto entero, teniendo poder de decisin sobre aspectos clave que suelen desembocar en prcticas predatorias y prdida de la esencia del juego. En el caso de Univearth, ofrecemos a cualquier persona formar parte de la financiacin del proyecto, evitando ensuciar los objetivos de un juego puro y divertido, y al mismo tiempo permitiendo que los inversores puedan"," ",d.jsx("span",{className:"font-extrabold",children:"obtener retornos de lo invertido"}),"."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Ausencia de NFT y Tokens durante el Juego"}),d.jsxs("p",{className:"my-2 indent-10",children:["En Oblivion Mechanics tenemos la conviccin de que, si bien son innovadores, los ",d.jsx("span",{className:"font-extrabold",children:"NFT y tokens"})," ","NO son necesarios para garantizar la propiedad de activos y tampoco garantizan una experiencia segura y estable al usuario. Es por esto que Univearth NO incorpora la tecnologa blockchain para estos usos. Por el contrario, en Univearth la gestin de los activos se realiza a travs de"," ",d.jsx("span",{className:"font-extrabold",children:"sistemas internos y cuentas privadas"}),", sin complicaciones adicionales. Algo que los usuarios de blockchain deberan comprender lo antes posible es que el valor de los NFT y tokens del mercado no est en el mero uso de la tecnologa, sino en los proyectos que los respaldan. Cuntas veces no se han implementado mecanismos como vesting, staking, quema de tokens, contratos complejos y auditados, etc., y de todos modos han llevado a prdidas enormes a los que participaron?"]}),d.jsxs("p",{className:"my-2 indent-10",children:["Pero, cules son las ",d.jsx("span",{className:"font-extrabold",children:"ventajas"}),"? Eliminacin de riesgos (como robos de billeteras o volatilidad de los mercados criptogrficos), aumento en la fluidez en la experiencia de juego y transparencia en la gestin de inversiones, garantizando que estn dedicadas al desarrollo y evolucin del juego; y sobre todo asegurar que no hay un sistema piramidal involucrado, donde el retorno lo saca el primero en vender en el momento indicado, llevando a prdidas a todos los dems. Adems, se reducen costos de desarrollo, ya que es una tecnologa muy cara de implementar; permitiendo utilizar esos recursos en"," ",d.jsx("span",{className:"font-extrabold",children:"mejorar la calidad del juego"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["De todos modos, la tecnologa blockchain s ser utilizada, pero solo como mtodo de"," ",d.jsx("span",{className:"font-extrabold",children:"ingreso y egreso"})," de dinero en el juego, como alternativa a otros medios como las tarjetas de crdito o billeteras virtuales bancarizadas."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Transparencia en los Movimientos Financieros"}),d.jsxs("p",{className:"my-2 indent-10",children:["La ",d.jsx("span",{className:"font-extrabold",children:"transparencia"})," es uno de los pilares fundamentales de Univearth. Al utilizar la blockchain como medio de financiamiento, todos los movimientos de fondos son"," ",d.jsx("span",{className:"font-extrabold",children:"pblicos y verificables"}),". Los inversores pueden monitorear las transacciones y confirmar que los fondos se estn utilizando conforme a lo prometido."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Adems, Univearth se compromete a una"," ",d.jsx("span",{className:"font-extrabold",children:"comunicacin abierta"})," y constante con su comunidad de inversores y jugadores. Se proporcionarn actualizaciones regulares sobre el progreso del desarrollo, hitos alcanzados y detalles sobre cmo se estn utilizando los recursos. Este nivel de transparencia no solo fortalece la"," ",d.jsx("span",{className:"font-extrabold",children:"confianza"})," entre el proyecto y sus inversores, sino que tambin fomenta una relacin slida y duradera."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Univearth vs. Proyectos con Tokenomics Complejos"}),d.jsxs("p",{className:"my-2 indent-10",children:["En el panorama actual de"," ",d.jsx("span",{className:"font-extrabold",children:"proyectos blockchain"}),", es comn encontrar esquemas de"," ",d.jsx("span",{className:"font-extrabold",children:"tokenomics"})," complejos que incluyen ciclos de quema de tokens, recompensas realimentadas y promesas de retornos rpidos. Si bien pueden parecer atractivos en la superficie, estos modelos a menudo esconden"," ",d.jsx("span",{className:"font-extrabold",children:"riesgos significativos"}),", como la dependencia de nuevos inversores para mantener el valor de los tokens y la posibilidad de colapsos abruptos en el valor de los activos."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth"})," adopta un enfoque diferente y ms slido. Al no depender de modelos econmicos complicados ni de promesas de ganancias mgicas, el proyecto ofrece a los inversores activos tangibles y nicos que tienen un"," ",d.jsx("span",{className:"font-extrabold",children:"valor real"})," dentro del juego y potencial de apreciacin a largo plazo. Los activos adquiridos en las preventas sern ",d.jsx("span",{className:"font-extrabold",children:"exclusivos"})," y no estarn disponibles de otra forma en el juego, lo que aumenta su"," ",d.jsx("span",{className:"font-extrabold",children:"rareza y atractivo"}),"."]}),d.jsxs("p",{className:"my-2 indent-10",children:["El modelo que proponemos se asemeja ms a la"," ",d.jsx("span",{className:"font-extrabold",children:"inversin"})," en bienes races en etapa de construccin, donde los inversores adquieren propiedades desde el pozo, anticipando un"," ",d.jsx("span",{className:"font-extrabold",children:"aumento en su valor"})," una vez completadas. De esta manera, Univearth proporciona una propuesta de"," ",d.jsx("span",{className:"font-extrabold",children:"inversin clara y directa"}),", reduciendo riesgos asociados con la volatilidad y la falta de transparencia."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Beneficios!"}),d.jsx("p",{className:"my-2",children:"Netamente, cul es el beneficio que pueden obtener los inversores?"}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Potencial de Retorno Alto:"})," ","la adquisicin temprana de activos nicos otorgara grandes ganancias debido al significativo aumento de su valor a medida que el juego gana popularidad en el mercado."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Reduccin de Riesgos Comunes:"})," ","inversin segura y estable a largo plazo, ya que no se aplican esquemas piramidales."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparencia y Confianza:"})," ","comunicacin abierta, actualizacin y acceso libre a la informacin sobre movimientos financieros, reduciendo la incertidumbre."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Participacin en un Proyecto Innovador:"})," ","oportunidad de redefinir los estndares y revolucionar la industria de los juegos de la mano de Oblivion Mechanics."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Ofrecemos una alternativa slida, tica y bien definida a aquellos"," ",d.jsx("span",{className:"font-extrabold",children:"inversores"})," que quieran formar parte de nuestro proyecto. Si ests interesado en formar parte de esta emocionante iniciativa, te invitamos a visitar nuestro"," ",d.jsx("span",{className:"font-extrabold",children:"whitepaper"}),", disponible en la seccin de ",d.jsx("span",{className:"font-extrabold",children:"preventa de NFT"})," en el sitio web. En nuestras redes sociales podrs ver ms actualizaciones y resolver todas tus dudas."]})]})]});return D.useEffect(()=>{r(a)},[a]),d.jsx(Ka,{open:a,setOpen:o,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[i]),contentWrapper:i!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[i]),children:rt(n.language)==="en"?l:c}),children:d.jsx(vd,{title:s("home.art-blockchain-title"),description:s("home.art-blockchain-description"),side:"left",backgroundImage:d.jsx("img",{src:e===F?t.tokenearth:t.tokenalien,className:k("absolute right-0 top-[0.2622em] w-[5.8734em] scale-[1.2]",e===F&&"opacity-30 brightness-125",e===De&&"opacity-50 brightness-75")})})})},U_e=({theme:e})=>{const t=le(Ee),{deviceType:i}=ve(),{i18n:n,t:s}=je(),[a,o]=D.useState(!1),r=xt(ml),l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Oblivion Mechanics: Innovating the Indie Industry",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics"})," emerges as an ",d.jsx("span",{className:"font-extrabold",children:"indie team"})," determined to make a real change in the ever-growing video game industry, which has become one of the largest and most profitable in the world. With a fresh and disruptive vision, based on transparency and ethics, it aims to revolutionize how we understand"," ",d.jsx("span",{className:"font-extrabold",children:"game economies and mechanics"})," ","from the ground up."]}),d.jsxs("p",{className:"my-2 indent-10",children:["An ",d.jsx("span",{className:"font-extrabold",children:"indie game"})," is one developed by a small group of people, with a much lower budget compared to the triple-A industry. Generally, indie games are associated with a"," ",d.jsx("span",{className:"font-extrabold",children:"high level of creativity"})," due to the freedom that surrounds their design and development."]}),d.jsxs("p",{className:"my-2 indent-10",children:["A large part of the indie industry consists of projects that start with just a few initial members focusing on developing a game with basic mechanics, which can grow by gaining support through"," ",d.jsx("span",{className:"font-extrabold",children:"online crowdfunding"})," campaigns or by presenting documentation to incubators or private investors. We have opted to approach the project from a"," ",d.jsx("span",{className:"font-extrabold",children:"visual and game mechanics design perspective as the foundation"}),"."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Our Story and Vision"}),d.jsxs("p",{className:"my-2 indent-10",children:["Founded on February 1, 2023, Oblivion Mechanics was born from the dream of bringing a shift to the video game industry. After years of ideas and sketches, the"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"})," project finally came to light. With the intention of dedicating special attention to game design, the first year of the project was focused on perfecting it, before expanding the team that would then bring the visual design to life and"," ",d.jsx("span",{className:"font-extrabold",children:"seek the necessary funding"})," to complete its development."]}),d.jsxs("p",{className:"my-2 indent-10",children:["The current wide gap between triple-A and indie projects, not only in playable content but also in"," ",d.jsx("span",{className:"font-extrabold",children:"monetization methods"}),", coupled with the growing"," ",d.jsx("span",{className:"font-extrabold",children:"pyramid-like economies"})," in play-to-earn games, has created a"," ",d.jsx("span",{className:"font-extrabold",children:"crisis"})," in the industry. It is becoming increasingly evident that blockchain technology can be misused, leading to"," ",d.jsx("span",{className:"font-extrabold",children:"failed projects"}),". In this context, Oblivion Mechanics aims to plant a solid foundation for an ambitious and innovative project in the indie market of Mobile Massively Multiplayer Online games (MMO), where the economy is crucial."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Our purpose is to provide experiences that stand out for their"," ",d.jsx("span",{className:"font-extrabold",children:"innovation and respect"})," towards the gaming community, cultivating long-term recognition in the gaming world without succumbing to the pressure of prioritizing profitability over playability, a trend that is prevalent in the"," ",d.jsx("span",{className:"font-extrabold",children:"mobile gaming"})," industry."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Partnership Structure"}),d.jsxs("p",{className:"my-2 indent-10",children:["Our partnership structure is"," ",d.jsx("span",{className:"font-extrabold",children:"simple and traditional"}),". Currently, the multidisciplinary team at Oblivion Mechanics consists of over 20 partners in various areas:"]}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"Game Design"}),d.jsx("li",{className:"my-1",children:"UX/UI Design"}),d.jsx("li",{className:"my-1",children:"Concept and Digital Art"}),d.jsx("li",{className:"my-1",children:"Multimedia Editing"}),d.jsx("li",{className:"my-1",children:"Prompt Engineering"}),d.jsx("li",{className:"my-1",children:"Blockchain"}),d.jsx("li",{className:"my-1",children:"Marketing and Communications"}),d.jsx("li",{className:"my-1",children:"Musical Composition"}),d.jsx("li",{className:"my-1",children:"Human Resources"})]}),d.jsxs("p",{className:"my-2 indent-10",children:["The team members, whose"," ",d.jsx("span",{className:"font-extrabold",children:"profiles and contact information"})," ","are available on our website, have joined as partners investing their human capital, dedicating time and effort to the project design. Each of them will have a"," ",d.jsx("span",{className:"font-extrabold",children:"share of the profits"})," when the game is launched. On the other hand, the investors joining the presale will own assets in one of the"," ",d.jsx("span",{className:"font-extrabold",children:"earliest stages"}),", which they will potentially be able to sell at much higher values."]}),d.jsxs("p",{className:"my-2 indent-10",children:["The ",d.jsx("span",{className:"font-extrabold",children:"funds raised"})," during the pre-sales will be exclusively allocated to"," ",d.jsx("span",{className:"font-extrabold",children:"project development"})," and will not be considered profits. Partners will not receive returns until the game is generating revenue in the market, aiming to ensure the project's long-term success and guaranteeing that the first to receive returns are the investors participating in the pre-sales."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Passion for Mechanics and Game Economy"}),d.jsxs("p",{className:"my-2 indent-10",children:["At Oblivion Mechanics, we believe that"," ",d.jsx("span",{className:"font-extrabold",children:"game mechanics and its internal economy"})," ","are the heart of any successful video game, especially in"," ",d.jsx("span",{className:"font-extrabold",children:"MMOs"}),". Our philosophy focuses on creating fun and challenging mechanics that integrate coherently with a sustainable and balanced economy."]}),d.jsxs("p",{className:"my-2 indent-10",children:["With ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),", we aim to be disruptive by offering an experience where game mechanics perfectly align with the economy, avoiding practices that could ruin the player's experience. Our approach is to"," ",d.jsx("span",{className:"font-extrabold",children:"innovate in monetization methods"}),", avoiding psychological manipulation and always prioritizing the player's fun and satisfaction."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Values That Set Us Apart"}),d.jsxs("p",{className:"my-2 indent-10",children:["In an industry plagued by"," ",d.jsx("span",{className:"font-extrabold",children:"predatory practices"}),", manipulation, and scams, both in"," ",d.jsx("span",{className:"font-extrabold",children:"mobile games"})," and"," ",d.jsx("span",{className:"font-extrabold",children:"blockchain projects"}),", we aim to position ourselves against these trends. Our"," ",d.jsx("span",{className:"font-extrabold",children:"reputation"})," is our most valuable asset, which is why we strive to build and maintain the trust of our community through:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Passion:"})," Our philosophy is to offer fun and challenging mechanics aligned coherently with a balanced and sustainable economy, the heart of every successful video game!"]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparency:"})," We commit to investors and players to provide clear and accessible information on decisions and financial movements, maintaining open communication with the community and making all partner identities public."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Honesty:"})," We innovate in monetization methods that avoid psychological manipulation, predatory practices, and pyramid schemes, offering respectful alternatives to recover the true essence of video games."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Independent Economy:"})," ","Univearth is NOT a crypto game! We use blockchain technology ONLY as a financing tool. We do not implement NFT or tokens during gameplay. Players do not need these means to control their assets."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Reputation and Authenticity:"})," ","We prioritize building trust, values, and loyalty in our community by avoiding compromising practices, through actions consistent with our principles."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"In Short"}),d.jsxs("p",{className:"my-2 indent-10",children:["At Oblivion Mechanics, we have the ambition to change the gaming industry from an"," ",d.jsx("span",{className:"font-extrabold",children:"independent approach"}),", innovating in mechanics, economies, and funding models. We also believe that the indie industry needs a refreshing paradigm shift, where anyone in the world can become a"," ",d.jsx("span",{className:"font-extrabold",children:"financial investor"}),", not just a consumer buying a product in advance."]}),d.jsx("p",{className:"my-2 indent-10",children:"We want to invite investors and enthusiasts to join us on our journey, which will put transparency, ethics, and love for video games at the top. If you want to be part of this, visit us on our social networks and join the community."})]})]}),c=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Oblivion Mechanics: Innovando la Industria Indie",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics"})," emerge como un ",d.jsx("span",{className:"font-extrabold",children:"equipo indie"})," decidido a plasmar un verdadero cambio en la creciente industria de los videojuegos, la cual ha logrado convertirse en una de las ms grandes y rentables del mundo. Con una visin fresca y disruptiva, y basado en la transparencia y la tica, pretende revolucionar la forma en la que entendemos la"," ",d.jsx("span",{className:"font-extrabold",children:"economa y mecnicas de los juegos"})," ","desde sus cimientos."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Un ",d.jsx("span",{className:"font-extrabold",children:"videojuego indie"})," ","(independiente) es aquel desarrollado por un grupo pequeo de personas, y con un presupuesto bajo en comparacin a la industria triple A. Por lo general, se relacionan a un"," ",d.jsx("span",{className:"font-extrabold",children:"alto nivel de creatividad"})," ","debido a la libertad que envuelve su diseo y desarrollo."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Una gran parte de la industria indie se conforma de proyectos que surgen de unos pocos miembros iniciales enfocndose en desarrollo de un juego con mecnicas bsicas, y pueden crecer al conseguir apoyo de campaas de"," ",d.jsx("span",{className:"font-extrabold",children:"financiamiento online"}),", o presentando documentacin a incubadoras o inversores privados. Nosotros hemos optado por encarar el proyecto desde una perspectiva de"," ",d.jsx("span",{className:"font-extrabold",children:"diseo visual y de mecnicas como base"}),"."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Nuestra Historia y Visin"}),d.jsxs("p",{className:"my-2 indent-10",children:["Fundado el 1 de febrero de 2023, Oblivion Mechanics surgi del sueo de dar un giro a la industria de los videojuegos. As, tras condensar aos de ideas y bocetos, finalmente sali a la luz el proyecto"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),". Con el propsito de dar especial atencin y dedicacin al game design, se dedic el primer ao del proyecto a su perfeccionamiento, previo a la ampliacin del equipo que luego dara vida al diseo visual y a la"," ",d.jsx("span",{className:"font-extrabold",children:"bsqueda del financiamiento"})," ","necesario para completar su desarrollo."]}),d.jsxs("p",{className:"my-2 indent-10",children:["La marcada brecha actual entre los proyectos triple A y los indie, no solo en contenido jugable, sino tambin en"," ",d.jsx("span",{className:"font-extrabold",children:"mtodos de monetizacin"}),", sumada a las crecientes"," ",d.jsx("span",{className:"font-extrabold",children:"economas de carcter piramidal"})," ","desarrolladas en los juegos play-to-earn, han generado una"," ",d.jsx("span",{className:"font-extrabold",children:"crisis"})," en la industria actual. As, se demuestra cada vez ms que la tecnologa blockchain puede ser mal utilizada, resultando en"," ",d.jsx("span",{className:"font-extrabold",children:"proyectos fallidos"}),". En este contexto, Oblivion Mechanics pretende germinar una base slida para un proyecto ambicioso e innovador en el mercado indie de los juegos mviles Multijugador Masivos Online (MMO), donde la economa es crucial."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Nuestro propsito es brindar experiencias que destaquen por su"," ",d.jsx("span",{className:"font-extrabold",children:"innovacin y respeto"})," hacia la comunidad de jugadores, cultivando a largo plazo el reconocimiento en el mundo de los videojuegos, sin someterse a la presin de priorizar la rentabilidad sobre la jugabilidad que se suele fomentar sobre todo en la industria de"," ",d.jsx("span",{className:"font-extrabold",children:"juegos mviles"}),"."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Esquema de Sociedad"}),d.jsxs("p",{className:"my-2 indent-10",children:["Nuestro esquema de sociedad es"," ",d.jsx("span",{className:"font-extrabold",children:"sencillo y tradicional"}),". Actualmente, el multidisciplinario equipo de Oblivion Mechanics cuenta con ms de 20 socios en diversas reas:"]}),d.jsxs("ul",{className:"list-disc pl-8 text-left",children:[d.jsx("li",{className:"my-1",children:"Game Design"}),d.jsx("li",{className:"my-1",children:"Diseo UX/UI"}),d.jsx("li",{className:"my-1",children:"Arte conceptual y digital"}),d.jsx("li",{className:"my-1",children:"Edicin multimedia"}),d.jsx("li",{className:"my-1",children:"Ingeniera de prompts"}),d.jsx("li",{className:"my-1",children:"Blockchain"}),d.jsx("li",{className:"my-1",children:"Marketing y Comunicaciones"}),d.jsx("li",{className:"my-1",children:"Composicin musical"}),d.jsx("li",{className:"my-1",children:"Recursos Humanos"})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Los miembros del equipo, cuyos"," ",d.jsx("span",{className:"font-extrabold",children:"perfiles y contactos"})," estn disponibles en la pgina web, se han integrado como socios inversores de capital humano, dedicando tiempo y esfuerzo en el diseo del proyecto. Cada uno de ellos participar de un"," ",d.jsx("span",{className:"font-extrabold",children:"porcentaje de las ganancias"})," ","cuando el juego sea lanzado al mercado. Por otro lado, los inversores que se sumen a la preventa sern poseedores de activos en una de las"," ",d.jsx("span",{className:"font-extrabold",children:"etapas ms tempranas"}),", los cuales podrn ser comercializados a valores potencialmente mucho ms altos."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Los ",d.jsx("span",{className:"font-extrabold",children:"fondos recaudados"})," en las preventas sern destinados exclusivamente al"," ",d.jsx("span",{className:"font-extrabold",children:"desarrollo del proyecto"}),", y no se considerarn ganancias. Los socios no obtendrn retornos hasta que el juego est generando ingresos en el mercado, buscando asegurar el xito a largo plazo del proyecto y garantizando que los primeros en recibir retornos de inversin sean los inversores participantes de las preventas."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Pasin por las Mecnicas y la Economa en los Videojuegos"}),d.jsxs("p",{className:"my-2 indent-10",children:["En Oblivion Mechanics, creemos que las"," ",d.jsx("span",{className:"font-extrabold",children:"mecnicas de juego y la economa interna"})," ","son el corazn de cualquier videojuego exitoso, especialmente en los"," ",d.jsx("span",{className:"font-extrabold",children:"MMO"}),". Nuestra filosofa se centra en crear mecnicas divertidas y desafiantes que se integren de manera coherente con una economa sostenible y equilibrada."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Con ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),", buscamos ser disruptivos al ofrecer una experiencia donde las mecnicas de juego se alinean perfectamente con la economa, evitando prcticas que puedan arruinar la experiencia del jugador. Nuestro enfoque es"," ",d.jsx("span",{className:"font-extrabold",children:"innovar en los mtodos de monetizacin"}),", evitando manipulaciones psicolgicas y priorizando siempre la diversin y satisfaccin del jugador."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Valores que Nos Diferencian"}),d.jsxs("p",{className:"my-2 indent-10",children:["En una industria plagada de"," ",d.jsx("span",{className:"font-extrabold",children:"prcticas depredatorias"}),", manipulaciones y estafas, tanto en"," ",d.jsx("span",{className:"font-extrabold",children:"juegos mviles"})," como en"," ",d.jsx("span",{className:"font-extrabold",children:"proyectos blockchain"}),", buscamos posicionarnos en contra de esas tendencias. Nuestra"," ",d.jsx("span",{className:"font-extrabold",children:"reputacin"})," es nuestro activo ms valioso, por lo que nos esforzamos en construir y mantener la confianza de nuestra comunidad con:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Pasin:"})," nuestra filosofa es ofrecer mecnicas divertidas y desafiantes alineadas de forma coherente con una economa equilibrada y sostenible, el corazn de todo videojuego exitoso!"]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparencia:"})," nos comprometemos con inversores y jugadores a brindar de forma clara y accesible informacin sobre decisiones y movimientos financieros, manteniendo una comunicacin abierta con la comunidad y haciendo pblicas las identidades de todos los socios."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Honestidad:"})," innovamos en mtodos de monetizacin que evitan manipulaciones psicolgicas, prcticas depredatorias y esquemas piramidales, ofreciendo alternativas de respeto hacia el jugador para recuperar la verdadera esencia de los videojuegos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Economa independiente:"})," ","Univearth NO es un juego crypto! Utilizamos la tecnologa blockchain SOLO como herramienta de financiamiento. No implementamos NFT ni tokens durante el juego. Los jugadores no necesitan estos medios para tener control de sus activos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Reputacin y autenticidad:"})," ","priorizamos la construccin de la confianza, valores y fidelizacin de nuestra comunidad, evitando prcticas que los comprometan, a travs de acciones coherentes con nuestros principios."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"En resumen"}),d.jsxs("p",{className:"my-2 indent-10",children:["En Oblivion Mechanics tenemos la ambicin de cambiar la industria de los videojuegos desde un"," ",d.jsx("span",{className:"font-extrabold",children:"enfoque independiente"}),", innovando en mecnicas, economas y modelos de financiacin. Adems, consideramos que la industria indie necesita un refrescante cambio de paradigma, en el que cualquier persona del mundo pueda convertirse en un ",d.jsx("span",{className:"font-extrabold",children:"inversor financiero"})," y no solo en un consumidor comprando un producto de forma anticipada."]}),d.jsx("p",{className:"my-2 indent-10",children:"Queremos invitar a inversores y entusiastas a que se unan a nuestro viaje, el cual pondr la transparencia, tica y amor por los videojuegos en primer lugar. Si quieres formar parte, vistanos en nuestras redes sociales y nete a la comunidad."})]})]});return D.useEffect(()=>{r(a)},[a]),d.jsx(Ka,{open:a,setOpen:o,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[i]),contentWrapper:i!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[i]),children:rt(n.language)==="en"?l:c}),children:d.jsx(vd,{title:s("home.art-company-title"),description:s("home.art-company-description"),side:"left",backgroundImage:d.jsx("img",{src:e===F?t.obmverticallogodraw:t.obmverticallogoreal,className:k("absolute right-[1.0488em] top-[0.2622em] max-h-[500px] max-w-[5.8734em] scale-[2]",e===F&&"opacity-30 brightness-125",e===De&&"opacity-50 brightness-75")})})})},G_e=({theme:e})=>{const t=le(Ee),{deviceType:i}=ve(),{i18n:n,t:s}=je(),[a,o]=D.useState(!1),r=xt(ml),l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Transparency and Ethics in the Indie Industry",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["In a world where trust and"," ",d.jsx("span",{className:"font-extrabold",children:"reputation"})," are more valuable than ever, especially in the"," ",d.jsx("span",{className:"font-extrabold",children:"video game"})," industry, transparency and ethics should be fundamental pillars for any company that wants to thrive. This is even more true in the realm of"," ",d.jsx("span",{className:"font-extrabold",children:"independent"})," developers and designers, where resources are limited, and competition is fierce."," ",d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics"})," deeply understands this reality and seeks to make these pillars its standard in the development of Univearth, its first project."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"The Value of Transparency at Oblivion Mechanics"}),d.jsxs("p",{className:"my-2 indent-10",children:["Transparency is much more than a buzzword for us at Oblivion Mechanics; it is a work philosophy. The company recognizes that, without the backing of large capital for massive marketing campaigns, the ",d.jsx("span",{className:"font-extrabold",children:"trust of the public"})," must be earned through honest and concrete actions:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Open Communication:"})," Oblivion Mechanics is committed to communicating every step in the development of Univearth. From design decisions to milestones reached and challenges faced, everything is shared with the community."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Team Accessibility:"})," Key partners and team members make their identities and communication channels available. This allows for direct interaction with investors and players, strengthening the relationship and mutual trust."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Keeping Promises:"})," The company avoids making promises it cannot keep, especially regarding release dates or financial figures. We prefer honesty and realistic expectation management."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["This transparency not only benefits the current project but also lays the foundation for"," ",d.jsx("span",{className:"font-extrabold",children:"future developments"}),". By building a solid reputation from the beginning, Oblivion Mechanics opens doors to"," ",d.jsx("span",{className:"font-extrabold",children:"new opportunities"})," and funding methods that directly involve the community."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Ethics in Video Game Development"}),d.jsxs("p",{className:"my-2 indent-10",children:["Ethics is the other pillar that supports Oblivion Mechanics' vision. In an environment where questionable practices can lead to short-term success but long-term failure, the company is committed to"," ",d.jsx("span",{className:"font-extrabold",children:"ethical principles"})," that guide all its decisions."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Balance and Economic Freedom:"})," ","Univearth's design is based on offering constant balance and a free internal economy. This means that player decisions affect the game organically, without artificial restrictions that could limit the experience."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Responsible Innovation:"})," The company strives to innovate without sacrificing the essence of the game or the player experience. We reject practices such as pay-to-win or psychological manipulations aimed at maximizing profits at the expense of enjoyment."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Committed Internal Culture:"})," ","Internally, the Oblivion Mechanics team is committed to making decisions aligned with its ethical values, even if this means facing additional development challenges."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["These principles will be reflected in every aspect of"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),", from game mechanics to monetization policies. The goal is to offer a fresh and dynamic product that respects the community."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Building Trust with the Community"}),d.jsxs("p",{className:"my-2 indent-10",children:["Establishing and maintaining"," ",d.jsx("span",{className:"font-extrabold",children:"community trust"})," is essential for the success of any"," ",d.jsx("span",{className:"font-extrabold",children:"indie project"}),". At"," ",d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics"}),", we will implement several strategies to achieve this goal:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Genuine Interest in Quality:"})," ","The team has invested significant time and resources to ensure that every element presented meets expectations. Quality is a priority, and it shows in every detail."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Active Community Participation:"})," ","Through social media, forums, and other channels, players and investors can communicate directly with the team, ask questions, and provide feedback. This constant interaction strengthens the relationship and allows the project to be adapted to the real needs of the community."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparency in Funding:"})," By using funding methods that allow anyone to become an investor without regional or financial limits, a sense of belonging and direct participation in the project's success is fostered."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"The Role of Reputation in Indie Success"}),d.jsxs("p",{className:"my-2 indent-10",children:["For an indie studio like Oblivion Mechanics,"," ",d.jsx("span",{className:"font-extrabold",children:"reputation is invaluable"}),". Without the resources of large companies to invest in marketing or advertising campaigns, public trust becomes the determining factor for success."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Protecting Brand Image:"})," The company understands that any action that could damage its reputation has serious consequences. Therefore, it strives to maintain high ethical standards and fulfill all its promises."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Attracting Investors and Players:"})," ","A solid reputation makes it easier to attract investors looking for reliable and ethical projects. Additionally, players are more likely to support and participate in a game developed by a trusted team."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Competitive Advantage:"})," In a market saturated with options, standing out for integrity and quality can be the factor that tips the balance in favor of Oblivion Mechanics."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Learning from Industry Practices"}),d.jsxs("p",{className:"my-2 indent-10",children:["The ",d.jsx("span",{className:"font-extrabold",children:"video game industry"})," has seen cases where the lack of transparency and ethics has led to"," ",d.jsx("span",{className:"font-extrabold",children:"disastrous failures"}),". Broken promises, abusive practices, and a lack of respect for the community have damaged the reputation of entire companies and projects. That's why we seek to differentiate ourselves with concrete actions:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Avoiding Unrealistic Promises:"})," ","Instead of attracting attention with exaggerated promises, the team chooses to set realistic expectations and fulfill them."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Rejecting Abusive Practices:"})," ","Not incorporating mechanics designed to exploit players, such as abusive microtransactions or psychological manipulations."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["These decisions not only protect the company's reputation but also contribute to"," ",d.jsx("span",{className:"font-extrabold",children:"raising the standards"})," of the indie industry."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics' commitment"})," ","to these values is not a marketing strategy but a philosophy that guides each of our ",d.jsx("span",{className:"font-extrabold",children:"decisions"}),". By putting the community and product quality at the center, we aim not only to create a successful game but also to lay the foundation for a new way of doing things in the industry."]}),d.jsxs("p",{className:"my-2 indent-10",children:["We invite investors, players, and enthusiasts to"," ",d.jsx("span",{className:"font-extrabold",children:"join us"})," on this journey. By supporting projects that value transparency and ethics, you not only contribute to"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth's success"})," but also promote positive change in the video game industry."]})]})]}),c=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"La Transparencia y la tica en la Industria Indie",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["En un mundo donde la confianza y la"," ",d.jsx("span",{className:"font-extrabold",children:"reputacin"})," son ms valiosas que nunca, especialmente en la industria de los"," ",d.jsx("span",{className:"font-extrabold",children:"videojuegos"}),", la transparencia y la tica deberan ser pilares fundamentales para cualquier empresa que desee prosperar. Ms an en el mbito de los desarrolladores y diseadores ",d.jsx("span",{className:"font-extrabold",children:"independientes"}),", donde los recursos son limitados y la competencia es feroz."," ",d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics"})," entiende profundamente esta realidad y busca convertir estos pilares en sus estandartes en el desarrollo de Univearth, su primer proyecto."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"El Valor de la Transparencia en Oblivion Mechanics"}),d.jsxs("p",{className:"my-2 indent-10",children:["La transparencia es mucho ms que una palabra de moda para nosotros en Oblivion Mechanics; es una filosofa de trabajo. La empresa reconoce que, sin el respaldo de grandes capitales para campaas de marketing masivas, la"," ",d.jsx("span",{className:"font-extrabold",children:"confianza del pblico"})," debe ganarse a travs de acciones honestas y concretas:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Comunicacin Abierta:"})," ","Oblivion Mechanics se compromete a comunicar cada paso en el desarrollo de Univearth. Desde decisiones de diseo hasta hitos alcanzados y desafos enfrentados, todo se comparte con la comunidad."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Accesibilidad del Equipo:"})," ","Los socios y miembros clave del equipo ponen a disposicin sus identidades y canales de comunicacin. Esto permite una interaccin directa con inversores y jugadores, fortaleciendo la relacin y la confianza mutua."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Cumplimiento de Promesas:"})," La empresa evita hacer promesas que no puede cumplir, especialmente en cuanto a fechas de lanzamiento o cifras financieras. Preferimos la honestidad y la gestin realista de expectativas."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Esta transparencia no solo beneficia al proyecto actual sino que sienta las bases para"," ",d.jsx("span",{className:"font-extrabold",children:"futuros desarrollos"}),". Al construir una reputacin slida desde el principio, Oblivion Mechanics abre las puertas a"," ",d.jsx("span",{className:"font-extrabold",children:"nuevas oportunidades"})," y mtodos de financiamiento que involucran directamente a la comunidad."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"tica en el Desarrollo de Videojuegos"}),d.jsxs("p",{className:"my-2 indent-10",children:["La tica es el otro pilar que sostiene la visin de Oblivion Mechanics. En un entorno donde hay prcticas cuestionables que pueden llevar al xito a corto plazo pero al fracaso a largo plazo, la empresa apuesta por"," ",d.jsx("span",{className:"font-extrabold",children:"principios ticos"})," que guen todas sus decisiones."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Balance y Libertad Econmica:"})," ","El diseo de Univearth se basa en ofrecer un equilibrio constante y una economa interna libre. Esto significa que las decisiones de los jugadores afectan el juego de manera orgnica, sin restricciones artificiales que puedan limitar la experiencia."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Innovacin Responsable:"})," La empresa se esfuerza por innovar sin sacrificar la esencia del juego ni la experiencia del jugador. Rechazamos prcticas como el pay-to-win o las manipulaciones psicolgicas destinadas a maximizar ganancias a costa del disfrute."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Cultura Interna Comprometida:"})," ","Internamente, el equipo de Oblivion Mechanics se compromete a tomar decisiones que estn alineadas con sus valores ticos, incluso si esto implica enfrentar desafos adicionales en el desarrollo."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Estos principios se reflejarn en cada aspecto de"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),", desde las mecnicas de juego hasta las polticas de monetizacin. El objetivo es ofrecer un producto fresco y dinmico que respete a la comunidad."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Construyendo Confianza con la Comunidad"}),d.jsxs("p",{className:"my-2 indent-10",children:["Establecer y mantener la"," ",d.jsx("span",{className:"font-extrabold",children:"confianza de la comunidad"})," es esencial para el xito de cualquier"," ",d.jsx("span",{className:"font-extrabold",children:"proyecto indie"}),". En"," ",d.jsx("span",{className:"font-extrabold",children:"Oblivion Mechanics"})," ","implementaremos varias estrategias para lograr este objetivo:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Inters Genuino en la Calidad:"})," ","El equipo ha invertido tiempo y recursos significativos para garantizar que cada elemento presentado est a la altura de las expectativas. La calidad es una prioridad, y eso se nota en cada detalle."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Participacin Activa de la Comunidad:"})," ","A travs de redes sociales, foros y otros canales, los jugadores e inversores pueden comunicarse directamente con el equipo, hacer preguntas y ofrecer feedback. Esta interaccin constante fortalece la relacin y permite adaptar el proyecto a las necesidades reales de la comunidad."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparencia en el Financiamiento:"})," ","Al utilizar mtodos de financiamiento que permiten a cualquier persona convertirse en inversor sin lmites regionales o financieros, se fomenta un sentido de pertenencia y participacin directa en el xito del proyecto."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"El Papel de la Reputacin en el xito Indie"}),d.jsxs("p",{className:"my-2 indent-10",children:["Para un estudio indie como Oblivion Mechanics, la"," ",d.jsx("span",{className:"font-extrabold",children:"reputacin es invaluable"}),". Sin los recursos de las grandes empresas para invertir en marketing o campaas publicitarias, la confianza del pblico se convierte en el factor determinante para el xito."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Proteccin de la Imagen de Marca:"})," ","La empresa entiende que cualquier accin que pueda daar su reputacin tiene consecuencias graves. Por eso, se esfuerza en mantener altos estndares ticos y en cumplir todas sus promesas."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Atraccin de Inversores y Jugadores:"})," ","Una reputacin slida facilita la atraccin de inversores que buscan proyectos confiables y ticos. Adems, los jugadores son ms propensos a apoyar y participar en un juego desarrollado por un equipo en el que confan."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Ventaja Competitiva:"})," En un mercado saturado de opciones, destacar por la integridad y la calidad puede ser el factor que incline la balanza a favor de Oblivion Mechanics."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Aprendiendo de las Prcticas de la Industria"}),d.jsxs("p",{className:"my-2 indent-10",children:["La"," ",d.jsx("span",{className:"font-extrabold",children:"industria de los videojuegos"})," ","ha visto casos donde la falta de transparencia y tica han llevado a"," ",d.jsx("span",{className:"font-extrabold",children:"fracasos estrepitosos"}),". Promesas incumplidas, prcticas abusivas y falta de respeto hacia la comunidad han daado la reputacin de empresas y proyectos enteros. Por esto buscamos diferenciarnos con acciones concretas:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Evitar Promesas Irrealizables:"})," ","En lugar de atraer atencin con promesas exageradas, el equipo opta por establecer expectativas realistas y cumplirlas."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Rechazar Prcticas Abusivas:"})," ","No incorporar mecnicas diseadas para explotar al jugador, como microtransacciones abusivas o manipulaciones psicolgicas."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Estas decisiones no solo protegen la reputacin de la empresa sino que tambin contribuyen a"," ",d.jsx("span",{className:"font-extrabold",children:"elevar los estndares"})," de la industria indie."]}),d.jsxs("p",{className:"my-2 indent-10",children:["El"," ",d.jsx("span",{className:"font-extrabold",children:"compromiso de Oblivion Mechanics"})," ","con estos valores no es una estrategia de marketing, sino una filosofa que gua cada una de nuestras"," ",d.jsx("span",{className:"font-extrabold",children:"decisiones"}),". Al poner a la comunidad y a la calidad del producto en el centro del foco, buscamos no solo crear un juego exitoso, sino tambin sentar las bases para una nueva forma de hacer las cosas en el sector."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Invitamos a inversores, jugadores y entusiastas a"," ",d.jsx("span",{className:"font-extrabold",children:"unirse"})," a este viaje. Al apoyar proyectos que valoran la transparencia y la tica, no solo se contribuye al"," ",d.jsx("span",{className:"font-extrabold",children:"xito de Univearth"}),", sino que se promueve un cambio positivo en la industria de los videojuegos."]})]})]});return D.useEffect(()=>{r(a)},[a]),d.jsx(Ka,{open:a,setOpen:o,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[i]),contentWrapper:i!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[i]),children:rt(n.language)==="en"?l:c}),children:d.jsx(vd,{title:s("home.art-ethics-title"),description:s("home.art-ethics-description"),side:"right",backgroundImage:d.jsx("div",{className:k("absolute -top-[2rem] left-3 h-full w-[5.8734em]",e===F&&"opacity-30 brightness-125",e===De&&"opacity-50 brightness-75"),children:d.jsxs("div",{className:"relative h-full w-full",children:[d.jsx("div",{className:"absolute -left-[1.1746em] top-[3.6774em] scale-[0.5]",children:d.jsx(gw,{src:t.nataly,theme:e,className:k("shrink-0")})}),d.jsx("div",{className:"absolute -left-[0.8391em] top-[1.2258em] scale-[0.8]",children:d.jsx(gw,{src:t.lautaro,theme:e,className:k("shrink-0")})}),d.jsx("div",{className:"absolute left-[1.7617em] top-1/2",children:d.jsx(gw,{src:t.emiliano,theme:e,className:k("shrink-0")})})]})})})})},W_e=({theme:e})=>{const t=le(Ee),{deviceType:i}=ve(),{i18n:n,t:s}=je(),[a,o]=D.useState(!1),r=xt(ml),l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"The Mechanics and Economy of a Universe in Your Hands",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Innovation"})," in the mobile gaming world is often limited by repetitive formulas and unethical practices. Here, Univearth, developed by Oblivion Mechanics, emerges as a new alternative. This game combines multiple genres to offer a unique and masterful experience that caters to both casual and hardcore players."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth"})," is designed to have a balanced internal economy, focusing on player"," ",d.jsx("span",{className:"font-extrabold",children:"freedom and security"}),", allowing users to have full control over their assets without needing to use NFT."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"A Universe in Conflict: The Premise of Univearth"}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth places us in a scenario where"," ",d.jsx("span",{className:"font-extrabold",children:"Earth"})," has been invaded by"," ",d.jsx("span",{className:"font-extrabold",children:"aliens"}),". Players can participate on either side of this conflict, having the ability to"," ",d.jsx("span",{className:"font-extrabold",children:"manage"})," different leaders within their profile, each aligned with a specific faction. This allows for unique flexibility, as players are not limited to a single faction and can experience the different strategies and"," ",d.jsx("span",{className:"font-extrabold",children:"play styles"})," each side offers."]}),d.jsxs("p",{className:"my-2 indent-10",children:["This premise serves as the foundation for a game that combines elements of"," ",d.jsx("span",{className:"font-extrabold",children:"TCG (Trading Card Game)"}),","," ",d.jsx("span",{className:"font-extrabold",children:"MMO (Massive Multiplayer Online)"}),", ",d.jsx("span",{className:"font-extrabold",children:"RTS (Real-Time Strategy)"}),", and the spirit of the ",d.jsx("span",{className:"font-extrabold",children:"4X:"})," ","Explore, Exploit, Expand, and Exterminate. The fusion of these genres creates a rich and multifaceted experience, offering great depth and entertainment."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Core Mechanics: A Symphony of Genres"}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth stands out by seamlessly integrating diverse mechanics that offer an immersive and dynamic"," ",d.jsx("span",{className:"font-extrabold",children:"gameplay experience"}),"."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Deck Building and Strategic Battles:"})," ","The core of the game lies in building custom decks to use in battles against other players. With a wide variety of cards and commanders, players can design unique strategies, adapting to different situations and opponents."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Resource Management and Exploration:"})," ","Exploring the map is essential for obtaining resources and discovering new areas. Biomes and cultural regions are filled with symbolism and secrets waiting to be uncovered. Efficient resource management is crucial for maintaining and improving assets, as well as expanding control over the map."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Zone and Biome Domination:"})," ","Players can dominate different areas, affecting the environment of other players as well. Tactical decisions in exploration and battles can shift the balance of power in the game."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Interconnected Mechanics:"})," ","All the mechanics are interconnected. For example, exploration can lead to encounters that affect zone control, which in turn influences resource availability and deck-building strategies."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Flexibility in Gameplay:"})," ","Univearth allows players to focus on the mechanics they enjoy the most without forcing them to fully participate in everything. Whether they prefer resource management, fast-paced battles, exploration, or collecting, there is a path for everyone."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Ownership and Control of Assets without NFT"}),d.jsxs("p",{className:"my-2 indent-10",children:["One of Univearth's most innovative features is its focus on giving players ",d.jsx("span",{className:"font-extrabold",children:"full control"})," ","over their assets without using NFT (something any game could offer but doesn't)."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Asset Acquisition:"})," Players obtain assets like cards, commanders, and resources through exploring the map, dominating zones, and participating in in-game events. Additionally, the internal market allows direct trading between players."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Management and Use:"})," Through intuitive interfaces, players can manage their inventories, customize their decks, and handle their resources. Moreover, the freedom is total: they can sell, auction, rent, lend, or gift their assets (including accounts and leaders) without restrictions."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Trading and Internal Market:"})," ","The internal market is a space where players can trade without interference from the game. Transactions are free and transparent, fostering an organic economy."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Security and Trust:"})," Asset ownership is ensured internally for each user, without the need for NFT, reducing associated risks such as digital wallet theft, providing a safer and more reliable experience."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Handling Real Money:"})," The game's currency represents real money, without multiple artificial currencies, and can be withdrawn through blockchain."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"A Balanced and Sustainable Internal Economy"}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth's economy"})," is designed to be fair and sustainable, avoiding practices like pay-to-win and ensuring that asset values are maintained over time."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Absence of Market Intervention:"})," ","The game is designed so that interventions are not needed to maintain balance. Player decisions and actions self-regulate the market simply through supply and demand."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Real Asset Scarcity:"})," ","Scarcity is a natural consequence of the game's mechanics and player decisions, not due to an imposed limitation. This adds value and meaning to the assets obtained."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Impact of Player Decisions:"})," ","Every choice players make, from which assets to use to how they interact in the market, influences the game's overall economy."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"The Decision Not to Use NFT: A Conscious Choice"}),d.jsxs("p",{className:"my-2 indent-10",children:["The decision not to implement"," ",d.jsx("span",{className:"font-extrabold",children:"NFT"})," in Univearth is due to several strategic and ethical reasons:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Simplicity and Accessibility:"})," ","By eliminating the need to understand blockchain technology, the game becomes more accessible, making it easier for those unfamiliar with cryptocurrencies, and increasing the reach and potential player base that can participate in the market."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Cost and Risk Reduction:"})," ","Avoiding NFT significantly reduces development and maintenance costs. It also eliminates associated risks like high transaction fees (gas fees), network congestion, and wallet theft."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparency and Trust:"})," ","Asset ownership and control are guaranteed through the game and Oblivion Mechanics' commitment."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"A Tailored Experience for Different Types of Players"}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth has been designed to attract and satisfy a wide"," ",d.jsx("span",{className:"font-extrabold",children:"variety"})," of players, offering multiple paths and playstyles, most of which are optional."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Strategic Players:"})," Those who enjoy planning and tactics will find depth in deck building and battles."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Explorers and Managers:"})," ","Players interested in exploration and resource management can immerse themselves in a world full of possibilities by discovering new areas and optimizing their resources to grow and expand."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Collectors:"})," With a wide variety of assets and the opportunity to obtain unique characters, collectors will always have new goals and assets to acquire."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Casual and Hardcore Players:"})," ","Univearth offers a flexible experience that adapts to each player's time and dedication, whether playing for a few minutes or immersing themselves for hoursthere will always be something to do."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Future Vision and Active Community Participation"}),d.jsxs("p",{className:"my-2 indent-10",children:["The commitment to continuous"," ",d.jsx("span",{className:"font-extrabold",children:"evolution"})," and improvement is one of Univearth's pillars, through several elements such as:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Constant Updates:"})," with different seasons and the introduction of new assets."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Special Events:"})," like tournaments, events, and unique challenges that will offer exclusive rewards."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Community Participation:"})," ","Playing a crucial role in the ongoing development of the game. Through open communication channels, players can contribute ideas and feedback, as well as participate in decisions that affect the game's balance and direction."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Organic Evolution of the Game:"})," ","Thanks to the design that allows players to influence the economy and mechanics, Univearth will evolve organically, reflecting the trends and preferences of its community."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth will be more than just a"," ",d.jsx("span",{className:"font-extrabold",children:"mobile game"}),"it will be a constantly evolving universe that combines the best of various genres to offer a unique and"," ",d.jsx("span",{className:"font-extrabold",children:"enriching experience"}),". Its focus on ",d.jsx("span",{className:"font-extrabold",children:"player freedom"}),", balanced economy, and absence of exploitative practices positions it as a refreshing alternative in a market saturated with repetitive formulas."]}),d.jsxs("p",{className:"my-2 indent-10",children:["If you are looking for a game that allows you to explore, fight, manage, and above all, enjoy a deep and"," ",d.jsx("span",{className:"font-extrabold",children:"rewarding experience"}),","," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"})," is for you. Whether you are a casual player looking for quick entertainment or an enthusiast who wants to dive into complex strategies, you will always find your place in this universe."]})]})]}),c=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Las Mecnicas y la Economa de un Universo en Tus Manos",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["La ",d.jsx("span",{className:"font-extrabold",children:"innovacin"})," en el mundo de los videojuegos mviles se ve limitada por frmulas repetitivas y prcticas poco ticas. Aqu Univearth, desarrollado por Oblivion Mechanics, nace como una nueva alternativa. Este juego combina mltiples gneros para ofrecer una experiencia nica y magistral que satisface tanto al jugador casual como al hardcore."]}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth"})," est diseado para contar con una economa interna equilibrada, adems de enfocarse en la"," ",d.jsx("span",{className:"font-extrabold",children:"libertad y seguridad"})," del jugador, permitiendo a los usuarios tener control total sobre sus activos sin necesidad de utilizar NFT."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Un Universo en Conflicto: La Premisa de Univearth"}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth nos sita en un escenario donde la"," ",d.jsx("span",{className:"font-extrabold",children:"Tierra"})," ha sido invadida por"," ",d.jsx("span",{className:"font-extrabold",children:"aliens"}),". Los jugadores pueden participar en ambos bandos de este conflicto, teniendo la posibilidad de ",d.jsx("span",{className:"font-extrabold",children:"gestionar"})," distintos lderes dentro de su perfil, cada uno alineado con un bando especfico. Esto permite una flexibilidad nica, ya que los jugadores no estn limitados a una sola faccin y pueden experimentar las diferentes estrategias y ",d.jsx("span",{className:"font-extrabold",children:"estilos de juego"})," ","que cada bando ofrece."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Esta premisa sirve como base para un juego que combina elementos de"," ",d.jsx("span",{className:"font-extrabold",children:"TCG (Trading Card Game)"}),","," ",d.jsx("span",{className:"font-extrabold",children:"MMO (Massive Multiplayer Online)"}),", ",d.jsx("span",{className:"font-extrabold",children:"RTS (Real-Time Strategy)"})," y el espritu de las ",d.jsx("span",{className:"font-extrabold",children:"4X:"})," ","Explorar, Explotar, Expandir y Exterminar. La fusin de estos gneros crea una experiencia rica y polifactica, ofreciendo una gran profundidad y entretenimiento."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Mecnicas Principales: Una Sinfona de Gneros"}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth se distingue por integrar de manera armoniosa diversas mecnicas que ofrecen una"," ",d.jsx("span",{className:"font-extrabold",children:"experiencia de juego"})," ","envolvente y dinmica."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Armado de Mazos y Batallas Estratgicas:"})," ","El ncleo del juego reside en la construccin de mazos personalizados para usarlo en batalla contra otros jugadores. Con una amplia variedad de cartas y comandantes, los jugadores pueden disear estrategias nicas, adaptndose a diferentes situaciones y oponentes."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Gestin de Recursos y Exploracin:"})," ","La exploracin del mapa es fundamental para obtener recursos y descubrir nuevas zonas. Los biomas y regiones culturales estn llenos de simbologa y secretos por desvelar. La gestin eficiente de estos recursos es esencial para mantener y mejorar los activos, as como para expandir el dominio en el mapa."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Dominio de Zonas y Biomas:"})," ","Los jugadores pueden dominar diferentes zonas, afectando tambin el entorno de otros jugadores. Las decisiones tcticas en la exploracin y las batallas pueden cambiar el equilibrio de poder en el juego."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Interconexin de Mecnicas:"})," ","Todas las mecnicas estn interrelacionadas. Por ejemplo, la exploracin puede llevar a enfrentamientos que afectan al dominio de zonas, lo cual a su vez influye en la disponibilidad de recursos y las estrategias de armado de mazos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Flexibilidad en el Juego:"})," ","Univearth permite a los jugadores enfocarse en las mecnicas que ms disfruten, sin forzarlos a participar en todas al 100%. Ya sea, prefiriendo la gestin de recursos, las batallas rpidas, la exploracin o el coleccionismo."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Propiedad y Control de Activos sin NFT"}),d.jsxs("p",{className:"my-2 indent-10",children:["Una de las caractersticas ms innovadoras de Univearth es su enfoque en otorgar a los jugadores"," ",d.jsx("span",{className:"font-extrabold",children:"control total"})," sobre sus activos sin recurrir al uso de NFT (cosa que cualquier juego podra ofrecer pero no lo hace)."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Adquisicin de Activos:"})," Los jugadores obtienen activos como cartas, comandantes y recursos a travs de la exploracin del mapa, dominando zonas y participando en eventos dentro del juego. Adems, el mercado interno permite el comercio directo entre jugadores."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Gestin y Utilizacin:"})," A travs de interfaces intuitivas, los jugadores podrn gestionar sus inventarios, personalizar sus mazos y administrar sus recursos. Adems, la libertad es total: pueden vender, subastar, alquilar, prestar o regalar sus activos (incluyendo sus cuentas y lderes) sin restricciones."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Comercio y Mercado Interno:"})," ","El mercado interno es un espacio donde los jugadores pueden comerciar sin intervencin por parte del juego. Las transacciones son libres y transparentes, fomentando una economa orgnica."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Seguridad y Confianza:"})," La propiedad de los activos est asegurada internamente a cada usuario, sin la necesidad de usar NFT, esto reduce riesgos asociados como robos de billeteras digitales, proporcionando una experiencia ms segura y confiable."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Manejo de dinero real:"})," La moneda del juego representa dinero real, sin mltiples monedas artificiales, y podr retirarse a travs de la blockchain."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Una Economa Interna Equilibrada y Sostenible"}),d.jsxs("p",{className:"my-2 indent-10",children:["La ",d.jsx("span",{className:"font-extrabold",children:"economa de Univearth"})," est diseada para ser justa y sostenible, evitando prcticas como el pay-to-win, adems asegura que el valor de los activos se mantenga en el tiempo."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Ausencia de intervencin en el Mercado:"})," ","El juego est diseado para que no se requieran intervenciones para mantener el equilibrio. Las decisiones y acciones de los autorregulan el mercado, simplemente por oferta y demanda."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Escasez Real de Activos:"})," La escasez es una consecuencia natural de las mecnicas del juego y de las decisiones de los jugadores, no por una limitacin impuesta. Esto agrega valor y significado a los activos obtenidos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Impacto de las Decisiones del Jugador:"})," ","Cada eleccin que hacen los jugadores, desde qu activos utilizar hasta cmo interactuar en el mercado, influye en la economa global del juego."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"La Decisin de No Utilizar NFT: Una Eleccin Consciente"}),d.jsxs("p",{className:"my-2 indent-10",children:["La decisin de no implementar"," ",d.jsx("span",{className:"font-extrabold",children:"NFT"})," en Univearth se debe a varias razones estratgicas y ticas:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Simplicidad y Accesibilidad:"})," ","Al eliminar la necesidad de comprender tecnologas blockchain, el juego se vuelve ms accesible, facilitando a aquellos que no estn familiarizados con las criptomonedas, e incrementando el alcance y la base de posibles jugadores que pueden participar en el mercado."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Reduccin de Costos y Riesgos:"})," ","Evitar los NFT reduce significativamente los costos de desarrollo y mantenimiento. Tambin elimina riesgos asociados como las altas comisiones de transaccin (gas fees), saturacin de redes y robos en billeteras."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparencia y Confianza:"})," ","La propiedad y control de los activos se garantiza a travs del juego y el compromiso de Oblivion Mechanics."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Una Experiencia Adaptada a Diferentes Tipos de Jugadores"}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth ha sido diseado para atraer y satisfacer a una amplia",d.jsx("span",{className:"font-extrabold",children:"variedad"})," de jugadores, ofreciendo mltiples caminos y estilos de juego, de forma tal que no la mayora de ellos son opcionales."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Jugadores Estratgicos:"})," ","Aquellos que disfrutan de la planificacin y la tctica encontrarn profundidad en el armado de mazos y las batallas."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Exploradores y Gestores:"})," Los jugadores interesados en la exploracin y gestin de recursos podrn sumergirse en un mundo lleno de posibilidades al descubrir nuevas zonas y optimizar sus recursos para crecer y expandirse."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Coleccionistas:"})," Con una amplia variedad de activos y la posibilidad de obtener personajes nicos, los coleccionistas siempre tendrn nuevos objetivos y activos por conseguir."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Jugadores Casual y Hardcore:"})," ","Univearth ofrece una experiencia flexible que se adapta al tiempo y dedicacin de cada jugador, ya sea jugando unos minutos libres o sumergindote durante horas, siempre habr algo que hacer."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Visin a Futuro y Participacin Activa de la Comunidad"}),d.jsxs("p",{className:"my-2 indent-10",children:["El compromiso con la ",d.jsx("span",{className:"font-extrabold",children:"evolucin"})," ","y mejora constante es uno de los pilares de Univearth, a travs de varios elementos como:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Actualizaciones Constantes:"})," ","con diferentes temporadas e introduciendo nuevos activos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Eventos Especiales:"})," como torneos, eventos y desafos nicos que ofrecern recompensas exclusivas."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Participacin de la Comunidad:"})," ","jugando un papel crucial en el desarrollo continuo del juego. A travs de canales de comunicacin abiertos, los jugadores podrn aportar ideas y feedback, adems de participar en decisiones que afecten el equilibrio y la direccin del juego."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Evolucin Orgnica del Juego:"})," ","Gracias al diseo que permite a los jugadores influir en la economa y las mecnicas, Univearth evolucionar de manera orgnica, reflejando las tendencias y preferencias de su comunidad."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Univearth ser ms que un"," ",d.jsx("span",{className:"font-extrabold",children:"juego mvil"}),", ser un universo en constante evolucin que combina lo mejor de varios gneros para ofrecer una ",d.jsx("span",{className:"font-extrabold",children:"experiencia nica"})," ","y enriquecedora. Su enfoque en la"," ",d.jsx("span",{className:"font-extrabold",children:"libertad del jugador"}),", la economa equilibrada y la ausencia de prcticas explotadoras lo posicionan como una alternativa refrescante en un mercado saturado de frmulas repetitivas."]}),d.jsxs("p",{className:"my-2 indent-10",children:["Si ests buscando un juego que te permita explorar, combatir, gestionar y, sobre todo, disfrutar de una"," ",d.jsx("span",{className:"font-extrabold",children:"experiencia profunda"})," y gratificante, ",d.jsx("span",{className:"font-extrabold",children:"Univearth"})," ser para ti. No importa si eres un jugador casual que busca entretenimiento rpido o un entusiasta que quiere sumergirse en estrategias complejas, siempre encontrars tu lugar en este universo."]})]})]});return D.useEffect(()=>{r(a)},[a]),d.jsx(Ka,{open:a,setOpen:o,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[i]),contentWrapper:i!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[i]),children:rt(n.language)==="en"?l:c}),children:d.jsx(vd,{title:s("home.art-game-title"),description:s("home.art-game-description"),side:"left",backgroundImage:d.jsx("img",{src:e===F?t.earthmapscreen:t.alienmapscreen,className:k("absolute -top-[5.2711em] right-0 min-h-[100%] max-w-[5.8734em] scale-[1.1]",e===F&&"opacity-30 brightness-125",e===De&&"opacity-50 brightness-75")})})})},H_e=({theme:e})=>{const t=le(Ee),{deviceType:i}=ve(),{i18n:n,t:s}=je(),[a,o]=D.useState(!1),r=xt(ml),l=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Univearth: Quality in Mobile Gaming",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["The ",d.jsx("span",{className:"font-extrabold",children:"mobile gaming"})," industry has been expanding continuously since its beginnings, as it is a form of entertainment accessible to everyone. However, most existing games aim to maximize profits using psychological manipulation techniques and abusive monetization that go unnoticed by most users, resulting in compulsive purchases and addictive behavior. In contrast,"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"}),", designed by Oblivion Mechanics, presents itself as an"," ",d.jsx("span",{className:"font-extrabold",children:"ethical alternative"})," to these practices, focusing on enhancing the player's experience."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"The Hidden Side of Mobile Games"}),d.jsxs("p",{className:"my-2 indent-10",children:["Although"," ",d.jsx("span",{className:"font-extrabold",children:"mobile gaming platforms"})," offer the enormous advantage of having a"," ",d.jsx("span",{className:"font-extrabold",children:"wide reach"}),", as everyone today carries a phone in their pocket, they also have the disadvantage that much of the industry has adopted"," ",d.jsx("span",{className:"font-extrabold",children:"psychological manipulation"})," ","tactics and"," ",d.jsx("span",{className:"font-extrabold",children:"abusive monetization"})," that can go unnoticed by the average player. These strategies are designed to influence players' decisions, encouraging unnecessary spending and addictive behavior:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Loss Aversion:"})," We are more sensitive to the pain of loss than the pleasure of gain. A common method is offering initial rewards, advantages, or prizes that can only be kept by paying an additional price, taking advantage of the fear of losing them."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Anchoring Effect:"})," Decisions are influenced by an initial reference point. A game might show an item with an exaggeratedly high price and then offer a significant discount, making the reduced price seem like a great deal when it is still expensive."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Artificial Scarcity:"})," ","Creating limited-time offers or reduced quantities to generate a sense of urgency. This drives players to make impulsive purchases out of fear of missing a unique opportunity, even though the offer may reappear later."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Bandwagon Effect:"})," We tend to follow what most people do out of fear of being left behind. One method is showing notifications of other players making purchases or obtaining rare items, encouraging the user to follow suit."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Framing Effect:"})," The way information is presented affects decisions. For example, a game may highlight that you have a 20% chance to win instead of showing the more likely outcome, 80% chance to lose, steering the user's interest towards the positive part according to their desires."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Labeling Theory:"})," By labeling players as members or VIP players, it reinforces their identity within the game, encouraging them to spend more to maintain that status."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["On the other hand,"," ",d.jsx("span",{className:"font-extrabold",children:"monetization methods"})," in this industry have evolved to schemes that maximize profits, which helps explain the numbers seen in the mobile gaming sector, but also shows why it is increasingly difficult to call them games:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Pay-to-Win:"})," Offering significant competitive advantages to those who pay unbalances the game and hurts players who cannot or do not wish to spend their money."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Loot Boxes:"})," Selling chests with random rewards in which the chances of obtaining a rare item are slim, combined with uncertainty and ambition, encourages compulsive purchases."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Multiple Premium Currencies:"})," ","Introducing multiple parallel virtual currencies that can only be acquired with real money blurs the real value of items and promotes higher spending."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Pay-to-Skip:"})," Implementing long waiting times to continue playing or obtain upgrades, offering the option to pay to speed them up and advance faster in the game."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Battle Passes:"})," Offering exclusive content and additional rewards for a limited time while playing creates pressure to play more and spend money to avoid missing out on exclusive benefits."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Intrusive Advertising:"})," ","Players have to watch ads to keep playing or to obtain items, interrupting the user experience."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Deceptive Personalized Offers:"})," ","Presenting personalized offers designed to encourage the first purchase, since once a player spends, they are more likely to keep spending."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Power Creep:"})," Introducing very expensive items that grant significant advantages at first, but their power quickly diminishes or is surpassed by a better item with a new offer."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"The Negative Impact on Players"}),d.jsxs("p",{className:"my-2 indent-10",children:["These tactics not only affect players' wallets but can also have deeper ",d.jsx("span",{className:"font-extrabold",children:"consequences"}),":"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Addictive Behaviors:"})," ","Uncertainty and variable rewards, such as in lootboxes, can generate gaming patterns similar to gambling, leading to addiction."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Frustration and Abandonment:"})," ","Players may feel frustrated when faced with artificial barriers or players with unfair advantages, leading them to quit the game."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Distrust in the Industry:"})," ","The repetition of these practices erodes trust in developers and discourages players from trying new titles."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"An Ethical and Balanced Alternative"}),d.jsxs("p",{className:"my-2 indent-10",children:["In contrast, the pillars of Univearth focus on offering a new and genuine ",d.jsx("span",{className:"font-extrabold",children:"gaming experience"}),", avoiding these practices:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Transparent and Fair Economy:"})," ","Thanks to the existence of an internal market where players determine the value of assets and have full control over them without needing NFT or blockchain to guarantee ownership."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Responsible Monetization:"})," ","Through the implementation of a fair commission system included in market transactions and non-intrusive advertising that can be skipped if the player is active in the market."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Fair Play:"})," Winning is about skill, strategy, and dedication, as there are no unfair advantages for those who spend money. There will be constant and imperceptible updates to achieve a well-distributed balance among characters, combined with fair matchmaking."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Variety of Play Styles:"})," ","Combining fast and dynamic battles with resource management strategy and the opportunity to collect items so that players from different niches can share the experience."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["We aim to have a"," ",d.jsx("span",{className:"font-extrabold",children:"committed community"})," where the exchange of ideas fosters evolution and success. Therefore, we encourage active participation and collaboration through multiple"," ",d.jsx("span",{className:"font-extrabold",children:"communication channels"})," where users share their experiences; feedback that in turn helps Oblivion Mechanics keep the game fresh and exciting with updates based on player needs."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"A Call to Action"}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth"})," is a proposal that proves it's possible to redefine the direction of"," ",d.jsx("span",{className:"font-extrabold",children:"mobile gaming"}),", taking advantage of its enormous potential to offer enriching experiences while combining"," ",d.jsx("span",{className:"font-extrabold",children:"financial success"})," with ethics and respect towards players to recover the true spirit of gaming. We want to clean up the"," ",d.jsx("span",{className:"font-extrabold",children:"reputation"})," of mobile gaming, which has deteriorated due to predatory practices. At the same time, we want to show that blockchain is a technology that can be used to bring ",d.jsx("span",{className:"font-extrabold",children:"transparent projects"})," to life without making magical promises."]}),d.jsxs("p",{className:"my-2 indent-10",children:["The mobile industry moves a huge amount of resources due to its reach, but indie projects do not usually aim in that direction. Blockchain has generated a"," ",d.jsx("span",{className:"font-extrabold",children:"wave of scams and failed projects"})," ","that have tarnished its name, making it harder to take advantage of its benefits. Univearth will seek to be a"," ",d.jsx("span",{className:"font-extrabold",children:"turning point"})," in both areas."]}),d.jsx("p",{className:"my-2 indent-10",children:"We invite you to join us in our commitment to building a healthier gaming industry."}),d.jsx("p",{className:"my-2",children:"How Can You Be Part of the Change?"}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Get Informed and Share:"})," The first step is to learn about common manipulation techniques and help other users identify them."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Support Ethical Projects:"})," ","Identify and back games that respect the player."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Be an Active Part of the Community:"})," ","Join us and share your ideas."]})]})]})]}),c=d.jsxs(d.Fragment,{children:[d.jsx(qe,{className:k("mx-auto mb-8 mt-2 max-w-[500px] text-center !font-orbitron text-2xl font-bold leading-tight tracking-wide",{mobile:"!text-base"}[i]),text:"Univearth: Calidad en los Juegos Mviles",theme:e}),d.jsxs("div",{className:k("hyphens-auto px-4 pb-28 text-justify font-nunito leading-tight",e===F&&"font-medium"),lang:rt(n.language),children:[d.jsxs("p",{className:"my-2 indent-10",children:["La industria de los"," ",d.jsx("span",{className:"font-extrabold",children:"videojuegos mviles"})," ha estado en constante expansin desde sus inicios, ya que es un modo de entretenimiento que est al alcance de todos. Sin embargo, la mayora de juegos existentes buscan maximizar ganancias utilizando tcnicas de manipulacin psicolgica y monetizacin abusiva que pasan desapercibidas para la mayora de los usuarios, traducindose en compras compulsivas y comportamientos adictivos. Por el contrario,"," ",d.jsx("span",{className:"font-extrabold",children:"Univearth"})," de la mano de Oblivion Mechanics, se presenta como una"," ",d.jsx("span",{className:"font-extrabold",children:"alternativa tica"})," a estas prcticas, centrndose en mejorar la experiencia del jugador."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"La Cara Oculta de los Juegos Mviles"}),d.jsxs("p",{className:"my-2 indent-10",children:["Aunque las ",d.jsx("span",{className:"font-extrabold",children:"plataformas mviles"})," ","para videojuegos presentan la enorme ventaja de tener un"," ",d.jsx("span",{className:"font-extrabold",children:"gran alcance"}),", ya que hoy en da todos llevan un celular en el bolsillo, tienen la desventaja de que la mayor parte de esa industria ha adoptado tcticas de"," ",d.jsx("span",{className:"font-extrabold",children:"manipulacin psicolgica"})," y"," ",d.jsx("span",{className:"font-extrabold",children:"monetizacin abusiva"})," que pueden pasar desapercibidas para el jugador promedio. Estas estrategias estn diseadas para influir en las decisiones de los jugadores, fomentando gastos innecesarios y comportamientos adictivos:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Aversin a la Prdida:"})," Somos ms sensibles al dolor por perder que al placer por ganar. Un mtodo comn es ofrecer recompensas, ventajas o premios iniciales que solo pueden conservarse si se paga un precio adicional, aprovechando el temor a la prdida."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Efecto Anclaje:"})," Las decisiones se ven influenciadas por un punto de referencia inicial. Un juego puede mostrar un artculo con un precio exageradamente alto y luego ofrecer un descuento significativo, haciendo que el precio reducido parezca una gran oferta, cuando en realidad sigue siendo costoso."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Escasez Artificial:"})," Crear ofertas de tiempo limitado o cantidades reducidas para generar una sensacin de urgencia. Esto impulsa a los jugadores a realizar compras impulsivas por miedo a perder una oportunidad nica, aunque la oferta pueda reaparecer ms adelante."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Efecto Arrastre:"})," Tendemos a seguir lo que hace la mayora por temor a quedarse atrs. Un mtodo es mostrar notificaciones de otros jugadores realizando compras o consiguiendo artculos raros, incentivando al usuario a seguir sus pasos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Efecto Marco:"})," La forma en la que se presenta la informacin afecta a las decisiones. Por ejemplo, un juego destaca que tienes un 20% de probabilidad de ganar en lugar de mostrar lo ms probable, como en este caso, 80% de probabilidades de perder, orientando el inters del usuario hacia la parte positiva segn sus deseos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Teora del Etiquetado:"})," Al etiquetar a los jugadores como miembros o jugadores VIP, refuerzan su identidad dentro del juego, incentivndolos a gastar ms para mantener ese estatus."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Por otro lado, los"," ",d.jsx("span",{className:"font-extrabold",children:"mtodos de monetizacin"})," en esta industria han evolucionado hacia esquemas que maximizan ganancias, lo que ayuda a entender los nmeros que maneja el sector de juegos mviles, pero que demuestran por qu cada vez nos cuesta ms llamarlos juegos:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Pagar para Ganar:"})," ofrecer ventajas competitivas significativas a quienes pagan desequilibra el juego y perjudica a los jugadores que no pueden o no desean gastar su dinero."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Cajas de recompensa:"})," vender cofres con recompensas aleatorias en el cual las probabilidades de obtener un objeto raro son escasas, junto a la incertidumbre y la ambicin, fomentan compras compulsivas."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Mltiples monedas Premium:"})," ","introducir mltiples monedas virtuales paralelas que slo pueden adquirirse con dinero real, difuminando el valor real de los artculos y promoviendo mayores gastos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Paga para Omitir:"})," ","implementar largos tiempos de espera para continuar jugando u obtener mejoras, ofreciendo la opcin de pagar para acelerarlos y avanzar ms rpido en el juego."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Pases de Batalla:"})," ofrecer contenido exclusivo y recompensas adicionales por tiempo limitado mientras juegas, crea presin para jugar ms y gastar dinero para no perder beneficios exclusivos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Publicidad Intrusiva:"})," los jugadores tienen que ver anuncios para continuar jugando o para obtener objetos, interrumpiendo la experiencia del usuario."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Ofertas Personalizadas Engaosas:"})," ","presentar ofertas personalizadas diseadas para incentivar la primera compra, ya que una vez que un jugador gasta, es ms probable que siga gastando."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Aumento de Poder:"})," introducir objetos muy costosos que otorgan grandes ventajas en un inicio, pero su poder disminuye rpidamente o es superado por otro objeto mejor con una nueva oferta."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"El Impacto Negativo en los Jugadores"}),d.jsxs("p",{className:"my-2 indent-10",children:["Estas tcticas no solo afectan el bolsillo de los jugadores, sino que tambin pueden tener"," ",d.jsx("span",{className:"font-extrabold",children:"consecuencias"})," ms profundas:"]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Comportamientos Adictivos:"})," ","La incertidumbre y la recompensa variable, como en las cajas de botn, pueden generar patrones de juego similares a los de las apuestas, llevando a la adiccin."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Frustracin y Abandono:"})," Los jugadores pueden sentirse frustrados al enfrentarse a barreras artificiales o jugadores con ventajas injustas, lo que los lleva a abandonar el juego."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Desconfianza en la Industria:"})," ","La repeticin de estas prcticas erosiona la confianza en los desarrolladores y desalienta a los jugadores a probar nuevos ttulos."]})]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Una Alternativa tica y Equilibrada"}),d.jsxs("p",{className:"my-2 indent-10",children:["Los pilares de Univearth, por el contrario, se concentran en ofrecer una nueva y genuina"," ",d.jsx("span",{className:"font-extrabold",children:"experiencia de juego"}),", evitando estas prcticas."]}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Economa Transparente y Justa:"})," ","gracias a la existencia de un mercado interno, donde los jugadores determinan el valor de los activos y tienen control total de los mismos sin la necesidad de NFT ni blockchain para garantizar la propiedad."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Monetizacin Responsable:"})," a travs de la implementacin de un sistema de comisiones justas incluidas en las transacciones del mercado y publicidad no invasiva que puede saltarse si el jugador es activo en el mercado."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Equidad en el Juego:"})," ganar es cuestin de habilidad, estrategia y dedicacin, ya que no existen ventajas injustas para aquellos que gastan dinero. Existirn actualizaciones constantes e imperceptibles para lograr un balance bien distribuido entre personajes, sumado a emparejamientos equitativos."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Diversidad de Estilos de Juego:"})," ","combinacin de batallas rpidas y dinmicas con estrategia de gestin de recursos y oportunidad de coleccionar objetos, para que jugadores de distintos nichos puedan compartir la experiencia."]})]}),d.jsxs("p",{className:"my-2 indent-10",children:["Apostamos por tener una"," ",d.jsx("span",{className:"font-extrabold",children:"comunidad comprometida"})," en la que el intercambio de ideas fomenten la evolucin y el xito de la misma. Por ello, incentivamos la participacin activa y colaboracin a travs de mltiples"," ",d.jsx("span",{className:"font-extrabold",children:"canales de comunicacin"})," donde los usuarios compartan sus experiencias; feedback que a la vez ayuda a Oblivion Mechanics a mantener el juego fresco y emocionante a travs de actualizaciones basadas en las necesidades de los jugadores."]}),d.jsx("h3",{className:k("my-3 font-bold",i==="mobile"?"text-center text-base":"text-lg"),children:"Un Llamado a la Accin"}),d.jsxs("p",{className:"my-2 indent-10",children:[d.jsx("span",{className:"font-extrabold",children:"Univearth"})," es una propuesta que demuestra que es posible redefinir el rumbo de los"," ",d.jsx("span",{className:"font-extrabold",children:"videojuegos mviles"}),", aprovechando su enorme potencial para ofrecer experiencias enriquecedoras, combinando el"," ",d.jsx("span",{className:"font-extrabold",children:"xito financiero"})," con tica y respeto hacia los jugadores para recuperar el verdadero espritu de juego. Queremos limpiar la"," ",d.jsx("span",{className:"font-extrabold",children:"reputacin"})," de los videojuegos en la plataforma mvil, que se ha ido deteriorando debido a prcticas predatorias. Y a la vez, queremos demostrar que la blockchain es una tecnologa que puede utilizarse para dar nacimiento a"," ",d.jsx("span",{className:"font-extrabold",children:"proyectos transparentes"})," sin promesas mgicas."]}),d.jsxs("p",{className:"my-2 indent-10",children:["La industria mvil mueve muchsimos recursos debido al alcance que tiene, pero los proyectos indie no suelen apuntar en esa direccin. La blockchain ha generado una"," ",d.jsx("span",{className:"font-extrabold",children:"ola de estafas y proyectos fallidos"})," ","que han ensuciado su nombre, haciendo que aprovechar sus ventajas se vea dificultado. Univearth buscar ser un"," ",d.jsx("span",{className:"font-extrabold",children:"punto de inflexin"})," en ambos frentes."]}),d.jsx("p",{className:"my-2 indent-10",children:"Te invitamos a unirte a nosotros en nuestro compromiso de construir una industria de videojuegos ms saludable."}),d.jsx("p",{className:"my-2",children:"Cmo puedes ser parte del cambio?"}),d.jsxs("ul",{className:"list-disc pl-8",children:[d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Informndote y compartiendo:"})," ","el primer paso es conocer las tcnicas comunes de manipulacin y ayudar a otros usuarios a identificarlas."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"Apoyando proyectos ticos:"})," ","identifica y respalda aquellos juegos que respetan al jugador."]}),d.jsxs("li",{className:"my-1",children:[d.jsx("span",{className:"font-extrabold",children:"S parte activa de la comunidad:"})," ","nete a nosotros y comparte tus ideas."]})]})]})]});return D.useEffect(()=>{r(a)},[a]),d.jsx(Ka,{open:a,setOpen:o,className:k("!pr-0",{web:"h-[calc(var(--vh)*90)] w-[2000px] min-w-[600px] max-w-[800px]"}[i]),contentWrapper:i!=="web"?Ks:Ma,content:d.jsx($a,{isGlass:!1,className:k("pr-8",{mobile:"text-sm"}[i]),children:rt(n.language)==="en"?l:c}),children:d.jsx(vd,{title:s("home.art-mobile-title"),description:s("home.art-mobile-description"),side:"right",backgroundImage:d.jsxs("div",{className:k("absolute bottom-[10%] left-[10%]",e===F&&"opacity-30 brightness-125",e===De&&"opacity-50 brightness-75"),children:[d.jsx("img",{src:e===F?t.earthgameplayscreen:t.aliengameplayscreen,className:k("w-[5.8734em] rounded-[5%]")}),d.jsx("img",{src:e===F?t.earthmobilebordervertical:t.alienmobilebordervertical,className:k("absolute -left-[5%] -top-[1.5%] max-h-[16.3196em] w-[6.5em] max-w-none")})]})})})},_k=.45,Y_e=()=>{const{t:e}=je(),t=le(Ee),i=xt(fC),n=Zm(1,!0,500,fC);return vl({title:[e("share.page.project.about"),e("share.page.project.roadmap")][n],url:wr+`project/project?screen=${n}`,dependencies:[n],mobileClassName:"top-[70%]"}),D.useEffect(()=>()=>i({value:0}),[]),d.jsxs(yl,{children:[d.jsx(xl,{imgEarth:t.earthjungle,imgAlien:t.alientundra,earthClassName:"-right-[4%] scale-x-[1.081]",alienClassName:"-right-[0.9%] scale-x-[1.018]"}),d.jsxs(bl,{children:[d.jsx($_e,{scrollLevel:n}),d.jsx(K_e,{scrollLevel:n}),d.jsx(q_e,{scrollLevel:n})]})]})},$_e=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=le(ze),s=xt(fC),a=()=>{s({value:0})},o=()=>{s({value:1})};return d.jsxs(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},delay:2,exit:{opacity:0,transition:{delay:0,duration:.5}},className:k("!absolute z-10 !h-fit !w-fit translate-y-1/2 font-nunito-sans text-[0.5em] font-black",{web:k(["bottom-[15%] left-[10%]","bottom-[8%] left-[10%]"][e]),medium:"bottom-[4.5%] left-[10%]",mobile:k("!text-mb-sm",["bottom-[3.5%] left-[7%]","bottom-[3.5%] right-[10%]"][e])}[i],n===F?"text-earth-black":"text-alien-white"),style:{transition:"left 1s ease-in-out"},children:[e===0&&d.jsxs("button",{tabIndex:0,onClick:o,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("project.scroll-to-roadmap")]}),e===1&&d.jsxs("button",{tabIndex:0,onClick:a,className:k("group flex w-max items-center overflow-visible outline-none"),children:[d.jsx(Cn,{stroke:"currentColor",className:k("mr-[1em] h-[2em] w-[2em] -rotate-90 scale-[0.8] overflow-visible group-hover:scale-[1] group-focus:scale-[1]",n===F?"group-hover:drop-shadow-earth-character group-focus:drop-shadow-earth-character":"group-hover:drop-shadow-alien-character group-focus:drop-shadow-alien-character"),style:{transition:"transform 0.3s ease-in-out"}}),t("project.scroll-to-summary")]})]})},K_e=({scrollLevel:e})=>{const{t}=je(),i=D.useRef(null),n=D.useRef(null),s=le(ze),{deviceType:a}=ve(),{width:o,height:r}=D.useContext(Jn),[l,c]=D.useState(0);return D.useEffect(()=>c(e),[e]),d.jsxs(d.Fragment,{children:[d.jsx(Jt,{divKey:l,side:"left",duration:1.5,delay:1.5,exitDuration:1,exitDelay:1,show:l===0,className:k("pointer-events-none !absolute w-full",{mobile:"top-[calc(var(--vh)*22)] h-[50%] -translate-y-1/2"}[a]),children:d.jsxs("div",{ref:i,className:k("relative h-full w-full",{medium:"text-[1.4em]",mobile:"text-[1.4em]"}[a]),children:[d.jsx(ct,{divKey:e,childrenGhost:!0,transformOrigin:{web:s===F?"7.87% bottom":"6.53% bottom",medium:s===F?"60% bottom":"55% bottom",mobile:s===F?"60% bottom":"55% bottom"}[a],delay:3,duration:1,className:"h-full w-full",children:d.jsx(Ai,{reference:n,theme:s,className:k("relative h-full !p-0",{web:"w-full",medium:"mx-auto w-[90%]",mobile:"mx-auto w-[90%]"}[a]),children:d.jsx("div",{className:k("fade-container h-full w-full",a==="mobile"&&"scrollable-frame"),children:d.jsxs($a,{fixedTheme:s,scrollParent:n,scrollClassName:"!z-[10] !bg-transparent",isGlass:!0,type:a!=="mobile"?"scroll":"auto",className:k("space-y-[1em] text-justify font-nunito text-[0.5em]",{web:"p-[2.3em] !pb-[3em]",medium:"p-[2.8em] !pb-[4.8em]",mobile:"p-[1.5em] !pt-[2.5em]"}[a],s===F?"text-earth-black":"text-alien-white"),children:[d.jsx("p",{className:k("text-center font-nunito-sans font-bold",{mobile:"text-mb-base"}[a]),children:t("project.title")}),d.jsx("p",{className:k("indent-[1.0488em]",{mobile:"text-mb-base"}[a]),children:t("project.text1")}),d.jsx("p",{className:k("indent-[1.0488em]",{mobile:"pb-[4em] text-mb-base"}[a]),children:t("project.text2")})]})})})}),d.jsx(Qn,{theme:s,armSide:"left",frameSide:{web:"left",medium:"center",mobile:"center"}[a],parentRef:i,reference:{height:r,width:o},scale:{web:1,medium:.8,mobile:.8}[a],scaleAdjust:{mobile:1.1}[a]})]})}),d.jsx(Z_e,{containerStage:l,scrollLevel:e})]})},Z_e=({containerStage:e,scrollLevel:t})=>{const{t:i}=je(),n=D.useRef(null),s=D.useRef(null),a=le(Ee),o=le(ze),r=le(ml),{deviceType:l}=ve(),{width:c,height:u}=D.useContext(Jn);return d.jsx(Jt,{divKey:e,side:"right",duration:1.5,delay:.5,exitDuration:1,exitDelay:1,className:k("pointer-events-none !absolute",{web:"bottom-[12%] mr-[20%] h-fit w-[35%]",medium:"bottom-[13%] mr-[16.25%] h-fit w-[45%] origin-right scale-[1.5]",mobile:"bottom-[calc(var(--vh)*6)] w-full -translate-y-1/2 scale-[1.5]"}[l],e!==0&&"hidden"),children:e===0&&d.jsxs("div",{ref:n,className:k("relative h-full w-full",{mobile:"mx-auto !w-[50%]"}[l]),children:[d.jsx(ct,{divKey:t,transformOrigin:"42% bottom",delay:2,duration:1,className:k("h-full w-full",{medium:"scrollable-frame",mobile:"scrollable-frame"}[l]),childrenGhost:!0,fixedChildrenStyle:!0,style:{height:"6.1295em"},children:d.jsx(Ai,{reference:s,theme:o,className:k("relative h-full w-full overflow-hidden !p-0"),children:d.jsx(dL,{isArticlesCarousel:!0,opts:{loop:!0},plugins:[sP({stopOnMouseEnter:!0,stopOnInteraction:!1,delay:3500,active:!r})],className:"select-none",children:d.jsxs(hL,{className:"h-[6.1295em]",children:[d.jsxs(el,{className:k("relative flex flex-col items-center overflow-hidden pb-[1.3em] pt-[0.8em]"),children:[d.jsx("div",{className:k("absolute left-0 top-1/2 h-[5.4539em] w-[5.4539em] -translate-y-1/2 scale-[1.4] opacity-[0.4]",o===F&&"brightness-125"),children:o===De?d.jsx("div",{className:k("absolute -left-[0.1311em] top-0 z-10 h-full w-full drop-shadow-alien-nft"),children:d.jsx("img",{loading:"eager",src:a.aliennftboxmedium,className:k("h-full w-full"),alt:"Alien NFT Box"})}):d.jsx("div",{className:k("absolute -bottom-[0.2em] -right-[0.1311em] h-full w-full drop-shadow-earth-option-hover"),children:d.jsx("img",{loading:"eager",src:a.earthnftboxmedium,className:k("h-full w-full"),alt:"Earth NFT Box"})})}),d.jsx(qe,{text:i("home.presale"),className:k("mb-[0.2em] font-nunito-sans text-[1.4em] font-extrabold"),theme:o}),d.jsx(qe,{text:i(QD?"project.button-live":"project.button-coming"),className:k("mb-[1.5em] mr-[2em] self-end font-nunito text-[0.7em] font-bold"),theme:o}),d.jsx(Zn,{to:"/presale/invest",className:k("group block w-fit self-end text-center focus:outline-none active:outline-none",l==="web"&&"hover:animate-flash-glow focus:animate-flash-glow",l!=="web"&&"animate-flash-glow"),children:d.jsx(qe,{text:i("project.see-presale"),className:k("mr-[2.3em] font-nunito text-[0.6em] font-medium",zt()?o===F?"text-shadow-earth-option group-hover:text-shadow-earth-option-hover group-focus:text-shadow-earth-option-hover":"text-shadow-alien-option group-hover:text-shadow-alien-option-hover group-focus:text-shadow-alien-option-hover":o===F?"drop-shadow-earth-option group-hover:drop-shadow-earth-option-hover group-focus:drop-shadow-earth-option-hover":"drop-shadow-alien-option group-hover:drop-shadow-alien-option-hover group-focus:drop-shadow-alien-option-hover"),theme:o})})]}),d.jsx(el,{className:"overflow-hidden",children:d.jsx(U_e,{theme:o})}),d.jsx(el,{className:"overflow-hidden",children:d.jsx(H_e,{theme:o})}),d.jsx(el,{className:"overflow-hidden",children:d.jsx(V_e,{theme:o})}),d.jsx(el,{className:"overflow-hidden",children:d.jsx(EC,{theme:o})}),d.jsx(el,{className:"overflow-hidden",children:d.jsx(W_e,{theme:o})}),d.jsx(el,{className:"overflow-hidden",children:d.jsx(G_e,{theme:o})}),d.jsx(el,{className:"overflow-hidden",children:d.jsx(B_e,{theme:o})})]})})})}),d.jsx(Qn,{theme:o,armSide:"right",frameSide:"center",parentRef:n,reference:{height:u,width:c},scale:{web:.8,medium:.4,mobile:.4}[l],scaleAdjust:{mobile:2}[l]})]})})},q_e=({scrollLevel:e})=>{const{t}=je(),{deviceType:i}=ve(),n=le(ze),[s,a]=D.useState(0);return D.useEffect(()=>a(e),[e]),d.jsxs(d.Fragment,{children:[d.jsx(ct,{divKey:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:1,duration:.5}},className:"pointer-events-none !absolute",children:e===1&&d.jsx(Lm,{text:t("project.roadmap-title"),className:k("absolute left-1/2 top-[2%] -translate-x-1/2",{mobile:"text-mb-lg"}[i],n===F?"text-earth-black":"text-alien-white")})}),d.jsx(iFe,{containerStage:s,scrollLevel:e}),d.jsx(ct,{divKey:e,transformOrigin:"center",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},delay:1,duration:1,className:k("pointer-events-none !absolute rounded-md",{web:"bottom-[5%] right-0 !h-[80%] !w-[18em]",medium:"bottom-[9%] right-0 !h-[45%] !w-full",mobile:"right-0 top-[41%] -mt-[50%] !h-[14.375rem] !w-full"}[i],e===1&&(n===F?"bg-earth-metal/40":"bg-alien-metal/40")),children:e===1&&d.jsx(Q_e,{theme:n})})]})},X_e=[{id:"private-round",check:!0,link:"/project/events?screen=2&theme=alien"},{id:"cinematic",check:!0,link:"/"},{id:"presale",check:!0,link:"/presale/invest"},{id:"giveaway",check:!1,link:"/project/events?screen=1&theme=alien"},{id:"hiring",check:!1},{id:"nft-reveal",check:!1},{id:"updates",check:!1},{id:"presale2",check:!1},{id:"alpha",check:!1},{id:"more",check:!1}],Q_e=({theme:e})=>{const t=D.useRef(),{deviceType:i}=ve(),{t:n}=je(),s=le(Ee);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute left-[49.5%] !h-full w-[0.3671em] -translate-x-1/2 rounded-full",style:{background:e===F?"linear-gradient(90deg,#3F1D0D 0%, #9E8577 11%, #A38777 18%, #AE8A76 25%, #88654B 38%, #E4C3AE 50%, #684630 75%, #431907 88%, #2F0703 100%)":"linear-gradient(90deg,#0C0514 0%, #635C6A 8%, #B9B3BF 16%, #2F2E31 32%, #0C0514 56%, #E8E7EA 72%, #4A3C59 78%, #10061A 84%, #0A0A0A 100%)"}}),d.jsx("img",{loading:"eager",src:e===F?s.earthgear:s.aliengear,className:k("absolute z-20 -translate-x-1/2",e===F?"-top-[6.7%] left-[49.1%] w-[2em]":"-top-[11%] left-[49.9%] w-[3.4em]")}),d.jsx("img",{loading:"eager",src:e===F?s.earthgear:s.aliengear,className:k("absolute z-20 -translate-x-1/2",e===F?"-bottom-[5.9%] left-[49.1%] w-[2em]":"-bottom-[10.5%] left-[49.9%] w-[3.4em]")}),d.jsx("div",{className:k("scrollable-frame pointer-events-auto h-full",e===F?"text-earth-black":"text-alien-white"),children:d.jsx($a,{scrollParent:t,scrollClassName:"bg-opacity-50",fixedTheme:e,initialScroll:{web:_k,medium:_k*1,mobile:_k*.9}[i],children:d.jsx("div",{className:k("flex flex-col items-center py-[5%]"),children:X_e.map((a,o)=>d.jsx(J_e,{title:n(`project.roadmap-${a.id}-title`),date:n(`project.roadmap-${a.id}-date`),description:n(`project.roadmap-${a.id}-description`),theme:e,side:o%2===0?"left":"right",check:a.check,link:a.link},a.id))})})})]})},J_e=({theme:e,side:t,title:i,date:n,description:s,check:a=!1,link:o})=>d.jsxs("div",{className:k("my-[1.0488em] flex h-fit w-[48%] flex-col gap-[0.6293em]",{"translate-x-1/2 items-start":t==="right","-translate-x-1/2 items-end":t==="left"}),children:[d.jsx(tFe,{title:i,date:n,description:s,side:t,theme:e,className:k({"ml-[10%]":t==="right","mr-[10%]":t==="left"}),check:a,link:o}),d.jsx(eFe,{theme:e,side:t})]}),eFe=({theme:e,side:t,className:i})=>{const n=le(Ee);return d.jsx(d.Fragment,{children:e===F?d.jsxs("div",{className:k("relative w-[3.7757em] brightness-75",i),children:[d.jsx("img",{loading:"eager",src:n.earthstick}),d.jsx("img",{loading:"eager",src:n.earthgear,className:k("absolute -top-[0.6503em] w-[1.6781em]",{"-left-[0.881em]":t==="right","-right-[0.776em]":t==="left"})})]}):d.jsxs("div",{className:k("relative w-[3.80196em] brightness-75",i),children:[d.jsx("img",{loading:"eager",src:n.alienstick,className:k({"-scale-x-100":t==="left"})}),d.jsx("img",{loading:"eager",src:n.aliengear,className:k("absolute -top-[0.7551em] w-[1.8879em]",{"-left-[0.881em]":t==="right","-right-[1.0069em]":t==="left"})})]})})},tFe=({date:e,title:t,description:i,side:n,theme:s,check:a,link:o,className:r})=>{const{deviceType:l}=ve(),c=o?Zn:"div";return d.jsxs(c,{to:o,className:k("flex flex-col",{web:s===F?"hover:drop-shadow-earth-option-hover":"hover:drop-shadow-alien-option-hover"}[l],n==="right"&&"text-left",n==="left"&&"text-right",a&&(zt()?s===F?"text-shadow-earth-character":"text-shadow-alien-character":s===F?"drop-shadow-earth-character":"drop-shadow-alien-character"),r),children:[d.jsxs("span",{className:k("mb-[0.1em] font-nunito font-bold",{web:"text-[0.3146em]",medium:"text-[0.5em]",mobile:"text-[0.7em]"}[l]),children:[n==="right"&&a&&d.jsx(vS,{className:k("mr-[0.5em] inline-block brightness-150",s===F?"text-earth-black/80 drop-shadow-earth-character":"text-alien-in-earth-purple drop-shadow-alien-character")}),d.jsx("span",{className:"opacity-70",children:e}),n==="left"&&a&&d.jsx(vS,{className:k("ml-[0.5em] inline-block brightness-150",s===F?"text-earth-black/80 drop-shadow-earth-character":"text-alien-in-earth-purple drop-shadow-alien-character")})]}),d.jsx("span",{className:k("mb-[0.25em] font-nunito-sans font-black",{web:"text-[0.6293em]",medium:"text-[0.8em]",mobile:"text-[1em]"}[l]),children:t}),d.jsx("span",{className:k("font-nunito font-semibold",{web:"text-[0.4195em]",medium:"text-[0.6em]",mobile:"text-[0.7em]"}[l]),children:i})]})},iFe=({containerStage:e,scrollLevel:t})=>{const{t:i}=je(),{deviceType:n}=ve(),s=D.useRef(null),a=le(ze),{width:o,height:r}=D.useContext(Jn),l=xt(Am);return d.jsx(Jt,{side:"left",duration:1,delay:1.5,exitDuration:1,exitDelay:1,show:e===1,className:k("pointer-events-none !absolute w-full",{web:"top-[15%] ml-[7%] h-full",medium:"top-[8%] h-full",mobile:"-bottom-[calc(var(--vh)*5)] -translate-y-1/2 [@media(min-height:650px)]:bottom-0"}[n]),children:d.jsxs("div",{ref:s,className:k("relative",{web:"w-[35%]",medium:"mx-auto w-[50%]",mobile:"mx-auto w-[80%]"}[n]),children:[d.jsx(ct,{divKey:t,childrenGhost:!0,transformOrigin:{web:a===F?"15% bottom":"10% bottom",medium:a===F?"15% bottom":"10% bottom",mobile:a===F?"25% bottom":"15% bottom"}[n],delay:2.5,duration:1,children:d.jsx(Ai,{theme:a,className:k("!p-0",{web:"!pb-[15%] !pt-[10%]",medium:"!pb-[10%] !pt-[8%]",mobile:"!pb-[5%] !pt-[5%]"}[n],t!==1&&"invisible"),mode:"dark",children:d.jsxs("div",{className:k("relative flex flex-col items-center",{web:"gap-[0.8em] space-y-[2.5%]",medium:"gap-[0.8em] space-y-[2.5%]",mobile:"gap-[0.5em]"}[n],{[F]:"!text-earth-black",[De]:"!text-alien-white"}[a]),children:[d.jsx(qe,{className:k("font-nunito-sans font-black",{web:"text-[0.8em]",medium:"text-[0.8em]",mobile:"text-[0.8em]"}[n]),text:i("project.roadmap-description-title"),theme:a}),d.jsxs("div",{className:"flex flex-col items-center gap-[0.8em]",children:[d.jsxs(Zn,{to:"/project/events",className:k("flex flex-col items-center gap-[0.4em] text-center font-nunito text-[0.8em] font-bold outline-none",zt()?a===F?"hover:text-shadow-earth-character-hover focus:text-shadow-earth-character-hover":"hover:text-shadow-alien-character-hover focus:text-shadow-alien-character-hover":a===F?"hover:drop-shadow-earth-character-hover focus:drop-shadow-earth-character-hover":"hover:drop-shadow-alien-character-hover focus:drop-shadow-alien-character-hover"),onClick:()=>l({value:2}),children:[i("project.roadmap-event-private"),d.jsxs("div",{className:k("flex gap-[1em] text-[0.7em] font-semibold",{mobile:"!text-mb-xs"}[n]),children:[d.jsx(vS,{}),d.jsx("span",{children:i("project.roadmap-event-complete")})]})]}),d.jsxs(Zn,{to:"/project/events",className:k("flex flex-col items-center gap-[0.4em] text-center font-nunito text-[0.8em] font-bold outline-none",zt()?a===F?"hover:text-shadow-earth-character-hover focus:text-shadow-earth-character-hover":"hover:text-shadow-alien-character-hover focus:text-shadow-alien-character-hover":a===F?"hover:drop-shadow-earth-character-hover focus:drop-shadow-earth-character-hover":"hover:drop-shadow-alien-character-hover focus:drop-shadow-alien-character-hover"),onClick:()=>l({value:0}),children:[i("project.roadmap-event-presale"),d.jsx("div",{className:k("flex gap-[1em] text-[0.7em] font-semibold",{mobile:"!text-mb-xs"}[n]),children:d.jsx("span",{children:i("project.roadmap-event-live")})})]}),d.jsxs(Zn,{to:"/project/events",className:k("flex flex-col items-center gap-[0.4em] text-center font-nunito text-[0.8em] font-bold outline-none",zt()?a===F?"hover:text-shadow-earth-character-hover focus:text-shadow-earth-character-hover":"hover:text-shadow-alien-character-hover focus:text-shadow-alien-character-hover":a===F?"hover:drop-shadow-earth-character-hover focus:drop-shadow-earth-character-hover":"hover:drop-shadow-alien-character-hover focus:drop-shadow-alien-character-hover"),onClick:()=>l({value:1}),children:[i("project.roadmap-event-giveaway"),d.jsx("div",{className:k("flex gap-[1em] text-[0.7em] font-semibold",{mobile:"!text-mb-xs"}[n]),children:d.jsxs("span",{children:[i("project.roadmap-event-coming")," Q2 2025"]})})]})]})]})})}),d.jsx(Qn,{theme:a,armSide:"left",frameSide:"left",parentRef:s,reference:{height:r,width:o},scale:{web:1,medium:.7,mobile:.7}[n]})]})})},nFe=()=>{const[e,t]=Hm(ze),i=Ya(),n=ZD();D.useEffect(()=>{(async()=>{await new Promise(a=>{const r=new URLSearchParams(i.search).get("theme");if(r==="earth"||r==="alien")t(r),localStorage.setItem("uveTheme",r),a();else if(e===null){const l=sFe();t(l),a()}else a()})})()},[i,n]),D.useEffect(()=>{const s=document.getElementById("favicon32"),a=document.getElementById("favicon16");e==="earth"?(s.href="/uvegame/earth-favicon-32x32.png",a.href="/uvegame/earth-favicon-16x16.png"):(s.href="/uvegame/alien-favicon-32x32.png",a.href="/uvegame/alien-favicon-16x16.png")},[e])},sFe=()=>{const e=localStorage.getItem("uveTheme");if(e){const n=document.getElementById("root");return n&&(n.className=e),e}const t=Math.random()>.5?F:De;localStorage.setItem("uveTheme",t);const i=document.getElementById("root");return i&&(i.className=t),t},aFe=()=>{const e=xt(Dc),t=Ya(),i=D.useRef(t.pathname);D.useEffect(()=>{i.current!==t.pathname&&(e(!0),i.current=t.pathname)},[t.pathname])},oFe=()=>{D.useEffect(()=>{let e;const t=()=>{const i=window.innerHeight*.01,n=window.innerWidth*.01;document.documentElement.style.setProperty("--vh",`${i}px`),document.documentElement.style.setProperty("--vw",`${n}px`),document.documentElement.style.setProperty("--vf",`${n*i}px`)};return t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{clearTimeout(e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[])};function PQ(e,t){return function(){return e.apply(t,arguments)}}const{toString:rFe}=Object.prototype,{getPrototypeOf:aP}=Object,zM=(e=>t=>{const i=rFe.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=e=>(e=e.toLowerCase(),t=>zM(t)===e),_M=e=>t=>typeof t===e,{isArray:Vg}=Array,wb=_M("undefined");function lFe(e){return e!==null&&!wb(e)&&e.constructor!==null&&!wb(e.constructor)&&Ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zQ=Vr("ArrayBuffer");function cFe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zQ(e.buffer),t}const uFe=_M("string"),Ga=_M("function"),_Q=_M("number"),FM=e=>e!==null&&typeof e=="object",dFe=e=>e===!0||e===!1,yw=e=>{if(zM(e)!=="object")return!1;const t=aP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hFe=Vr("Date"),pFe=Vr("File"),fFe=Vr("Blob"),mFe=Vr("FileList"),gFe=e=>FM(e)&&Ga(e.pipe),yFe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ga(e.append)&&((t=zM(e))==="formdata"||t==="object"&&Ga(e.toString)&&e.toString()==="[object FormData]"))},xFe=Vr("URLSearchParams"),[bFe,vFe,wFe,SFe]=["ReadableStream","Request","Response","Headers"].map(Vr),NFe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wv(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Vg(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const a=i?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let r;for(n=0;n<o;n++)r=a[n],t.call(null,e[r],r,e)}}function FQ(e,t){t=t.toLowerCase();const i=Object.keys(e);let n=i.length,s;for(;n-- >0;)if(s=i[n],t===s.toLowerCase())return s;return null}const Uh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BQ=e=>!wb(e)&&e!==Uh;function FD(){const{caseless:e}=BQ(this)&&this||{},t={},i=(n,s)=>{const a=e&&FQ(t,s)||s;yw(t[a])&&yw(n)?t[a]=FD(t[a],n):yw(n)?t[a]=FD({},n):Vg(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&wv(arguments[n],i);return t}const MFe=(e,t,i,{allOwnKeys:n}={})=>(wv(t,(s,a)=>{i&&Ga(s)?e[a]=PQ(s,i):e[a]=s},{allOwnKeys:n}),e),IFe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),TFe=(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},AFe=(e,t,i,n)=>{let s,a,o;const r={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!r[o]&&(t[o]=e[o],r[o]=!0);e=i!==!1&&aP(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kFe=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return n!==-1&&n===i},CFe=e=>{if(!e)return null;if(Vg(e))return e;let t=e.length;if(!_Q(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},DFe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&aP(Uint8Array)),LFe=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},EFe=(e,t)=>{let i;const n=[];for(;(i=e.exec(t))!==null;)n.push(i);return n},OFe=Vr("HTMLFormElement"),jFe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,s){return n.toUpperCase()+s}),y8=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),RFe=Vr("RegExp"),VQ=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};wv(i,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},PFe=e=>{VQ(e,(t,i)=>{if(Ga(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=e[i];if(Ga(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},zFe=(e,t)=>{const i={},n=s=>{s.forEach(a=>{i[a]=!0})};return Vg(e)?n(e):n(String(e).split(t)),i},_Fe=()=>{},FFe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function BFe(e){return!!(e&&Ga(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const VFe=e=>{const t=new Array(10),i=(n,s)=>{if(FM(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const a=Vg(n)?[]:{};return wv(n,(o,r)=>{const l=i(o,s+1);!wb(l)&&(a[r]=l)}),t[s]=void 0,a}}return n};return i(e,0)},UFe=Vr("AsyncFunction"),GFe=e=>e&&(FM(e)||Ga(e))&&Ga(e.then)&&Ga(e.catch),UQ=((e,t)=>e?setImmediate:t?((i,n)=>(Uh.addEventListener("message",({source:s,data:a})=>{s===Uh&&a===i&&n.length&&n.shift()()},!1),s=>{n.push(s),Uh.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Ga(Uh.postMessage)),WFe=typeof queueMicrotask<"u"?queueMicrotask.bind(Uh):typeof process<"u"&&process.nextTick||UQ,me={isArray:Vg,isArrayBuffer:zQ,isBuffer:lFe,isFormData:yFe,isArrayBufferView:cFe,isString:uFe,isNumber:_Q,isBoolean:dFe,isObject:FM,isPlainObject:yw,isReadableStream:bFe,isRequest:vFe,isResponse:wFe,isHeaders:SFe,isUndefined:wb,isDate:hFe,isFile:pFe,isBlob:fFe,isRegExp:RFe,isFunction:Ga,isStream:gFe,isURLSearchParams:xFe,isTypedArray:DFe,isFileList:mFe,forEach:wv,merge:FD,extend:MFe,trim:NFe,stripBOM:IFe,inherits:TFe,toFlatObject:AFe,kindOf:zM,kindOfTest:Vr,endsWith:kFe,toArray:CFe,forEachEntry:LFe,matchAll:EFe,isHTMLForm:OFe,hasOwnProperty:y8,hasOwnProp:y8,reduceDescriptors:VQ,freezeMethods:PFe,toObjectSet:zFe,toCamelCase:jFe,noop:_Fe,toFiniteNumber:FFe,findKey:FQ,global:Uh,isContextDefined:BQ,isSpecCompliantForm:BFe,toJSONObject:VFe,isAsyncFn:UFe,isThenable:GFe,setImmediate:UQ,asap:WFe};function dt(e,t,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const GQ=dt.prototype,WQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{WQ[e]={value:e}});Object.defineProperties(dt,WQ);Object.defineProperty(GQ,"isAxiosError",{value:!0});dt.from=(e,t,i,n,s,a)=>{const o=Object.create(GQ);return me.toFlatObject(e,o,function(l){return l!==Error.prototype},r=>r!=="isAxiosError"),dt.call(o,e.message,t,i,n,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const HFe=null;function BD(e){return me.isPlainObject(e)||me.isArray(e)}function HQ(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function x8(e,t,i){return e?e.concat(t).map(function(s,a){return s=HQ(s),!i&&a?"["+s+"]":s}).join(i?".":""):t}function YFe(e){return me.isArray(e)&&!e.some(BD)}const $Fe=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function BM(e,t,i){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=me.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!me.isUndefined(b[y])});const n=i.metaTokens,s=i.visitor||u,a=i.dots,o=i.indexes,l=(i.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(me.isDate(x))return x.toISOString();if(!l&&me.isBlob(x))throw new dt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(x)||me.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,y,b){let v=x;if(x&&!b&&typeof x=="object"){if(me.endsWith(y,"{}"))y=n?y:y.slice(0,-2),x=JSON.stringify(x);else if(me.isArray(x)&&YFe(x)||(me.isFileList(x)||me.endsWith(y,"[]"))&&(v=me.toArray(x)))return y=HQ(y),v.forEach(function(N,M){!(me.isUndefined(N)||N===null)&&t.append(o===!0?x8([y],M,a):o===null?y:y+"[]",c(N))}),!1}return BD(x)?!0:(t.append(x8(b,y,a),c(x)),!1)}const h=[],f=Object.assign($Fe,{defaultVisitor:u,convertValue:c,isVisitable:BD});function g(x,y){if(!me.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(x),me.forEach(x,function(v,S){(!(me.isUndefined(v)||v===null)&&s.call(t,v,me.isString(S)?S.trim():S,y,f))===!0&&g(v,y?y.concat(S):[S])}),h.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return g(e),t}function b8(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function oP(e,t){this._pairs=[],e&&BM(e,this,t)}const YQ=oP.prototype;YQ.append=function(t,i){this._pairs.push([t,i])};YQ.toString=function(t){const i=t?function(n){return t.call(this,n,b8)}:b8;return this._pairs.map(function(s){return i(s[0])+"="+i(s[1])},"").join("&")};function KFe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $Q(e,t,i){if(!t)return e;const n=i&&i.encode||KFe;me.isFunction(i)&&(i={serialize:i});const s=i&&i.serialize;let a;if(s?a=s(t,i):a=me.isURLSearchParams(t)?t.toString():new oP(t,i).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class v8{constructor(){this.handlers=[]}use(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(n){n!==null&&t(n)})}}const KQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZFe=typeof URLSearchParams<"u"?URLSearchParams:oP,qFe=typeof FormData<"u"?FormData:null,XFe=typeof Blob<"u"?Blob:null,QFe={isBrowser:!0,classes:{URLSearchParams:ZFe,FormData:qFe,Blob:XFe},protocols:["http","https","file","blob","url","data"]},rP=typeof window<"u"&&typeof document<"u",VD=typeof navigator=="object"&&navigator||void 0,JFe=rP&&(!VD||["ReactNative","NativeScript","NS"].indexOf(VD.product)<0),eBe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tBe=rP&&window.location.href||"http://localhost",iBe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rP,hasStandardBrowserEnv:JFe,hasStandardBrowserWebWorkerEnv:eBe,navigator:VD,origin:tBe},Symbol.toStringTag,{value:"Module"})),ms={...iBe,...QFe};function nBe(e,t){return BM(e,new ms.classes.URLSearchParams,Object.assign({visitor:function(i,n,s,a){return ms.isNode&&me.isBuffer(i)?(this.append(n,i.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function sBe(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aBe(e){const t={},i=Object.keys(e);let n;const s=i.length;let a;for(n=0;n<s;n++)a=i[n],t[a]=e[a];return t}function ZQ(e){function t(i,n,s,a){let o=i[a++];if(o==="__proto__")return!0;const r=Number.isFinite(+o),l=a>=i.length;return o=!o&&me.isArray(s)?s.length:o,l?(me.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!r):((!s[o]||!me.isObject(s[o]))&&(s[o]=[]),t(i,n,s[o],a)&&me.isArray(s[o])&&(s[o]=aBe(s[o])),!r)}if(me.isFormData(e)&&me.isFunction(e.entries)){const i={};return me.forEachEntry(e,(n,s)=>{t(sBe(n),s,i,0)}),i}return null}function oBe(e,t,i){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}const Sv={transitional:KQ,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const n=i.getContentType()||"",s=n.indexOf("application/json")>-1,a=me.isObject(t);if(a&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return s?JSON.stringify(ZQ(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return nBe(t,this.formSerializer).toString();if((r=me.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return BM(r?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||s?(i.setContentType("application/json",!1),oBe(t)):t}],transformResponse:[function(t){const i=this.transitional||Sv.transitional,n=i&&i.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(n&&!this.responseType||s)){const o=!(i&&i.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(r){if(o)throw r.name==="SyntaxError"?dt.from(r,dt.ERR_BAD_RESPONSE,this,null,this.response):r}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ms.classes.FormData,Blob:ms.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{Sv.headers[e]={}});const rBe=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lBe=e=>{const t={};let i,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),i=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!i||t[i]&&rBe[i])&&(i==="set-cookie"?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t},w8=Symbol("internals");function nx(e){return e&&String(e).trim().toLowerCase()}function xw(e){return e===!1||e==null?e:me.isArray(e)?e.map(xw):String(e)}function cBe(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}const uBe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Fk(e,t,i,n,s){if(me.isFunction(n))return n.call(this,t,i);if(s&&(t=i),!!me.isString(t)){if(me.isString(n))return t.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(t)}}function dBe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,n)=>i.toUpperCase()+n)}function hBe(e,t){const i=me.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let wa=class{constructor(t){t&&this.set(t)}set(t,i,n){const s=this;function a(r,l,c){const u=nx(l);if(!u)throw new Error("header name must be a non-empty string");const h=me.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=xw(r))}const o=(r,l)=>me.forEach(r,(c,u)=>a(c,u,l));if(me.isPlainObject(t)||t instanceof this.constructor)o(t,i);else if(me.isString(t)&&(t=t.trim())&&!uBe(t))o(lBe(t),i);else if(me.isHeaders(t))for(const[r,l]of t.entries())a(l,r,n);else t!=null&&a(i,t,n);return this}get(t,i){if(t=nx(t),t){const n=me.findKey(this,t);if(n){const s=this[n];if(!i)return s;if(i===!0)return cBe(s);if(me.isFunction(i))return i.call(this,s,n);if(me.isRegExp(i))return i.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=nx(t),t){const n=me.findKey(this,t);return!!(n&&this[n]!==void 0&&(!i||Fk(this,this[n],n,i)))}return!1}delete(t,i){const n=this;let s=!1;function a(o){if(o=nx(o),o){const r=me.findKey(n,o);r&&(!i||Fk(n,n[r],r,i))&&(delete n[r],s=!0)}}return me.isArray(t)?t.forEach(a):a(t),s}clear(t){const i=Object.keys(this);let n=i.length,s=!1;for(;n--;){const a=i[n];(!t||Fk(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const i=this,n={};return me.forEach(this,(s,a)=>{const o=me.findKey(n,a);if(o){i[o]=xw(s),delete i[a];return}const r=t?dBe(a):String(a).trim();r!==a&&delete i[a],i[r]=xw(s),n[r]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return me.forEach(this,(n,s)=>{n!=null&&n!==!1&&(i[s]=t&&me.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const n=new this(t);return i.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[w8]=this[w8]={accessors:{}}).accessors,s=this.prototype;function a(o){const r=nx(o);n[r]||(hBe(s,o),n[r]=!0)}return me.isArray(t)?t.forEach(a):a(t),this}};wa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(wa.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[i]=n}}});me.freezeMethods(wa);function Bk(e,t){const i=this||Sv,n=t||i,s=wa.from(n.headers);let a=n.data;return me.forEach(e,function(r){a=r.call(i,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function qQ(e){return!!(e&&e.__CANCEL__)}function Ug(e,t,i){dt.call(this,e??"canceled",dt.ERR_CANCELED,t,i),this.name="CanceledError"}me.inherits(Ug,dt,{__CANCEL__:!0});function XQ(e,t,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new dt("Request failed with status code "+i.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function pBe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fBe(e,t){e=e||10;const i=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[a];o||(o=c),i[s]=l,n[s]=c;let h=a,f=0;for(;h!==s;)f+=i[h++],h=h%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),c-o<t)return;const g=u&&c-u;return g?Math.round(f*1e3/g):void 0}}function mBe(e,t){let i=0,n=1e3/t,s,a;const o=(c,u=Date.now())=>{i=u,s=null,a&&(clearTimeout(a),a=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-i;h>=n?o(c,u):(s=c,a||(a=setTimeout(()=>{a=null,o(s)},n-h)))},()=>s&&o(s)]}const wS=(e,t,i=3)=>{let n=0;const s=fBe(50,250);return mBe(a=>{const o=a.loaded,r=a.lengthComputable?a.total:void 0,l=o-n,c=s(l),u=o<=r;n=o;const h={loaded:o,total:r,progress:r?o/r:void 0,bytes:l,rate:c||void 0,estimated:c&&r&&u?(r-o)/c:void 0,event:a,lengthComputable:r!=null,[t?"download":"upload"]:!0};e(h)},i)},S8=(e,t)=>{const i=e!=null;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},N8=e=>(...t)=>me.asap(()=>e(...t)),gBe=ms.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,ms.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(ms.origin),ms.navigator&&/(msie|trident)/i.test(ms.navigator.userAgent)):()=>!0,yBe=ms.hasStandardBrowserEnv?{write(e,t,i,n,s,a){const o=[e+"="+encodeURIComponent(t)];me.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),me.isString(n)&&o.push("path="+n),me.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xBe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bBe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function QQ(e,t,i){let n=!xBe(t);return e&&n||i==!1?bBe(e,t):t}const M8=e=>e instanceof wa?{...e}:e;function cp(e,t){t=t||{};const i={};function n(c,u,h,f){return me.isPlainObject(c)&&me.isPlainObject(u)?me.merge.call({caseless:f},c,u):me.isPlainObject(u)?me.merge({},u):me.isArray(u)?u.slice():u}function s(c,u,h,f){if(me.isUndefined(u)){if(!me.isUndefined(c))return n(void 0,c,h,f)}else return n(c,u,h,f)}function a(c,u){if(!me.isUndefined(u))return n(void 0,u)}function o(c,u){if(me.isUndefined(u)){if(!me.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function r(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:r,headers:(c,u,h)=>s(M8(c),M8(u),h,!0)};return me.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=l[u]||s,f=h(e[u],t[u],u);me.isUndefined(f)&&h!==r||(i[u]=f)}),i}const JQ=e=>{const t=cp({},e);let{data:i,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:r}=t;t.headers=o=wa.from(o),t.url=$Q(QQ(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),r&&o.set("Authorization","Basic "+btoa((r.username||"")+":"+(r.password?unescape(encodeURIComponent(r.password)):"")));let l;if(me.isFormData(i)){if(ms.hasStandardBrowserEnv||ms.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ms.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(t)),n||n!==!1&&gBe(t.url))){const c=s&&a&&yBe.read(a);c&&o.set(s,c)}return t},vBe=typeof XMLHttpRequest<"u",wBe=vBe&&function(e){return new Promise(function(i,n){const s=JQ(e);let a=s.data;const o=wa.from(s.headers).normalize();let{responseType:r,onUploadProgress:l,onDownloadProgress:c}=s,u,h,f,g,x;function y(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function v(){if(!b)return;const N=wa.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),I={data:!r||r==="text"||r==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:N,config:e,request:b};XQ(function(L){i(L),y()},function(L){n(L),y()},I),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(n(new dt("Request aborted",dt.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new dt("Network Error",dt.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||KQ;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),n(new dt(M,I.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,e,b)),b=null},a===void 0&&o.setContentType(null),"setRequestHeader"in b&&me.forEach(o.toJSON(),function(M,I){b.setRequestHeader(I,M)}),me.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),r&&r!=="json"&&(b.responseType=s.responseType),c&&([f,x]=wS(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,g]=wS(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(u=N=>{b&&(n(!N||N.type?new Ug(null,e,b):N),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const S=pBe(s.url);if(S&&ms.protocols.indexOf(S)===-1){n(new dt("Unsupported protocol "+S+":",dt.ERR_BAD_REQUEST,e));return}b.send(a||null)})},SBe=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let n=new AbortController,s;const a=function(c){if(!s){s=!0,r();const u=c instanceof Error?c:this.reason;n.abort(u instanceof dt?u:new Ug(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new dt(`timeout ${t} of ms exceeded`,dt.ETIMEDOUT))},t);const r=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>me.asap(r),l}},NBe=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let n=0,s;for(;n<i;)s=n+t,yield e.slice(n,s),n=s},MBe=async function*(e,t){for await(const i of IBe(e))yield*NBe(i,t)},IBe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:n}=await t.read();if(i)break;yield n}}finally{await t.cancel()}},I8=(e,t,i,n)=>{const s=MBe(e,t);let a=0,o,r=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){r(),l.close();return}let h=u.byteLength;if(i){let f=a+=h;i(f)}l.enqueue(new Uint8Array(u))}catch(c){throw r(c),c}},cancel(l){return r(l),s.return()}},{highWaterMark:2})},VM=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eJ=VM&&typeof ReadableStream=="function",TBe=VM&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),tJ=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ABe=eJ&&tJ(()=>{let e=!1;const t=new Request(ms.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),T8=64*1024,UD=eJ&&tJ(()=>me.isReadableStream(new Response("").body)),SS={stream:UD&&(e=>e.body)};VM&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!SS[t]&&(SS[t]=me.isFunction(e[t])?i=>i[t]():(i,n)=>{throw new dt(`Response type '${t}' is not supported`,dt.ERR_NOT_SUPPORT,n)})})})(new Response);const kBe=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(ms.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await TBe(e)).byteLength},CBe=async(e,t)=>{const i=me.toFiniteNumber(e.getContentLength());return i??kBe(t)},DBe=VM&&(async e=>{let{url:t,method:i,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:r,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=JQ(e);c=c?(c+"").toLowerCase():"text";let g=SBe([s,a&&a.toAbortSignal()],o),x;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(l&&ABe&&i!=="get"&&i!=="head"&&(b=await CBe(u,n))!==0){let I=new Request(t,{method:"POST",body:n,duplex:"half"}),C;if(me.isFormData(n)&&(C=I.headers.get("content-type"))&&u.setContentType(C),I.body){const[L,O]=S8(b,wS(N8(l)));n=I8(I.body,T8,L,O)}}me.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;x=new Request(t,{...f,signal:g,method:i.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:v?h:void 0});let S=await fetch(x);const N=UD&&(c==="stream"||c==="response");if(UD&&(r||N&&y)){const I={};["status","statusText","headers"].forEach(P=>{I[P]=S[P]});const C=me.toFiniteNumber(S.headers.get("content-length")),[L,O]=r&&S8(C,wS(N8(r),!0))||[];S=new Response(I8(S.body,T8,L,()=>{O&&O(),y&&y()}),I)}c=c||"text";let M=await SS[me.findKey(SS,c)||"text"](S,e);return!N&&y&&y(),await new Promise((I,C)=>{XQ(I,C,{data:M,headers:wa.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:x})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new dt("Network Error",dt.ERR_NETWORK,e,x),{cause:v.cause||v}):dt.from(v,v&&v.code,e,x)}}),GD={http:HFe,xhr:wBe,fetch:DBe};me.forEach(GD,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const A8=e=>`- ${e}`,LBe=e=>me.isFunction(e)||e===null||e===!1,iJ={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:t}=e;let i,n;const s={};for(let a=0;a<t;a++){i=e[a];let o;if(n=i,!LBe(i)&&(n=GD[(o=String(i)).toLowerCase()],n===void 0))throw new dt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([r,l])=>`adapter ${r} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(A8).join(`
`):" "+A8(a[0]):"as no adapter specified";throw new dt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:GD};function Vk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ug(null,e)}function k8(e){return Vk(e),e.headers=wa.from(e.headers),e.data=Bk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),iJ.getAdapter(e.adapter||Sv.adapter)(e).then(function(n){return Vk(e),n.data=Bk.call(e,e.transformResponse,n),n.headers=wa.from(n.headers),n},function(n){return qQ(n)||(Vk(e),n&&n.response&&(n.response.data=Bk.call(e,e.transformResponse,n.response),n.response.headers=wa.from(n.response.headers))),Promise.reject(n)})}const nJ="1.8.3",UM={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{UM[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const C8={};UM.transitional=function(t,i,n){function s(a,o){return"[Axios v"+nJ+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,r)=>{if(t===!1)throw new dt(s(o," has been removed"+(i?" in "+i:"")),dt.ERR_DEPRECATED);return i&&!C8[o]&&(C8[o]=!0,console.warn(s(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(a,o,r):!0}};UM.spelling=function(t){return(i,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function EBe(e,t,i){if(typeof e!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const r=e[a],l=r===void 0||o(r,a,e);if(l!==!0)throw new dt("option "+a+" must be "+l,dt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new dt("Unknown option "+a,dt.ERR_BAD_OPTION)}}const bw={assertOptions:EBe,validators:UM},Xr=bw.validators;let Qh=class{constructor(t){this.defaults=t,this.interceptors={request:new v8,response:new v8}}async request(t,i){try{return await this._request(t,i)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=cp(this.defaults,i);const{transitional:n,paramsSerializer:s,headers:a}=i;n!==void 0&&bw.assertOptions(n,{silentJSONParsing:Xr.transitional(Xr.boolean),forcedJSONParsing:Xr.transitional(Xr.boolean),clarifyTimeoutError:Xr.transitional(Xr.boolean)},!1),s!=null&&(me.isFunction(s)?i.paramsSerializer={serialize:s}:bw.assertOptions(s,{encode:Xr.function,serialize:Xr.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),bw.assertOptions(i,{baseUrl:Xr.spelling("baseURL"),withXsrfToken:Xr.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o=a&&me.merge(a.common,a[i.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),i.headers=wa.concat(o,a);const r=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(i)===!1||(l=l&&y.synchronous,r.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,h=0,f;if(!l){const x=[k8.bind(this),void 0];for(x.unshift.apply(x,r),x.push.apply(x,c),f=x.length,u=Promise.resolve(i);h<f;)u=u.then(x[h++],x[h++]);return u}f=r.length;let g=i;for(h=0;h<f;){const x=r[h++],y=r[h++];try{g=x(g)}catch(b){y.call(this,b);break}}try{u=k8.call(this,g)}catch(x){return Promise.reject(x)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=cp(this.defaults,t);const i=QQ(t.baseURL,t.url,t.allowAbsoluteUrls);return $Q(i,t.params,t.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(t){Qh.prototype[t]=function(i,n){return this.request(cp(n||{},{method:t,url:i,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(t){function i(n){return function(a,o,r){return this.request(cp(r||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Qh.prototype[t]=i(),Qh.prototype[t+"Form"]=i(!0)});let OBe=class sJ{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(a){i=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(r=>{n.subscribe(r),a=r}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,r){n.reason||(n.reason=new Ug(a,o,r),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=n=>{t.abort(n)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new sJ(function(s){t=s}),cancel:t}}};function jBe(e){return function(i){return e.apply(null,i)}}function RBe(e){return me.isObject(e)&&e.isAxiosError===!0}const WD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(WD).forEach(([e,t])=>{WD[t]=e});function aJ(e){const t=new Qh(e),i=PQ(Qh.prototype.request,t);return me.extend(i,Qh.prototype,t,{allOwnKeys:!0}),me.extend(i,t,null,{allOwnKeys:!0}),i.create=function(s){return aJ(cp(e,s))},i}const Hi=aJ(Sv);Hi.Axios=Qh;Hi.CanceledError=Ug;Hi.CancelToken=OBe;Hi.isCancel=qQ;Hi.VERSION=nJ;Hi.toFormData=BM;Hi.AxiosError=dt;Hi.Cancel=Hi.CanceledError;Hi.all=function(t){return Promise.all(t)};Hi.spread=jBe;Hi.isAxiosError=RBe;Hi.mergeConfig=cp;Hi.AxiosHeaders=wa;Hi.formToJSON=e=>ZQ(me.isHTMLForm(e)?new FormData(e):e);Hi.getAdapter=iJ.getAdapter;Hi.HttpStatusCode=WD;Hi.default=Hi;const{Axios:G6e,AxiosError:W6e,CanceledError:H6e,isCancel:Y6e,CancelToken:$6e,VERSION:K6e,all:Z6e,Cancel:q6e,isAxiosError:X6e,spread:Q6e,toFormData:J6e,AxiosHeaders:eVe,HttpStatusCode:tVe,formToJSON:iVe,getAdapter:nVe,mergeConfig:sVe}=Hi,PBe=()=>{const e=xt(L9);D.useEffect(()=>{const t=async()=>{Hi.get("https://api.coingecko.com/api/v3/simple/price?ids=matic-network&vs_currencies=usd").then(n=>e(n.data["matic-network"].usd))};t();const i=setInterval(t,36e5);return()=>clearInterval(i)},[])},oJ=[{id:"univearth",to:"/"},{id:"game",to:"game/mechs"},{id:"project",to:"project/events"},{id:"presale",to:"presale/invest"}],NS={univearth:[],game:[{id:"game/mechs"},{id:"game/clans"},{id:"game/cards"}],project:[{id:"project/project"},{id:"project/events"},{id:"project/about"}],presale:[{id:"presale/invest"},{id:"presale/info"},{id:"presale/nft"},{id:"presale/marketplace",disabled:!0}]};function zBe(){nFe();const e=le(ze);return oFe(),aFe(),PBe(),e?d.jsx(Qte,{children:d.jsxs(un,{path:"/*",element:d.jsx(Hge,{}),children:[d.jsx(un,{index:!0,element:d.jsx(Cye,{})}),d.jsxs(un,{path:"game",element:d.jsx(OT,{}),children:[d.jsx(un,{path:"mechs",element:d.jsx(bye,{})}),d.jsx(un,{path:"clans",element:d.jsx(Xge,{})}),d.jsx(un,{path:"cards",element:d.jsx($ge,{})}),d.jsx(un,{path:"*",element:d.jsx(j0,{to:"/game/mechs",replace:!0})})]}),d.jsxs(un,{path:"project",element:d.jsx(OT,{}),children:[d.jsx(un,{path:"project",element:d.jsx(Y_e,{})}),d.jsx(un,{path:"about",element:d.jsx(m_e,{})}),d.jsx(un,{path:"events",element:d.jsx(M_e,{})}),d.jsx(un,{path:"*",element:d.jsx(j0,{to:"/project/events",replace:!0})})]}),d.jsxs(un,{path:"presale",element:d.jsx(OT,{}),children:[d.jsx(un,{path:"invest",element:d.jsx(_xe,{})}),d.jsx(un,{path:"info",element:d.jsx(a_e,{})}),d.jsx(un,{path:"nft",element:d.jsx(Wxe,{})}),d.jsx(un,{path:"*",element:d.jsx(j0,{to:"/presale/invest",replace:!0})})]}),d.jsx(un,{path:"*",element:d.jsx(j0,{to:"/",replace:!0})})]})}):null}class _Be extends D.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,i){console.error("Error caught by ErrorBoundary:",t,i)}componentDidUpdate(){this.state.hasError&&(window.location.href="/")}render(){return this.state.hasError?null:this.props.children}}cte.createRoot(document.getElementById("root")).render(d.jsx(D.StrictMode,{children:d.jsx(_Be,{children:d.jsx(oie,{basename:"/uvegame",children:d.jsx(zBe,{})})})}));
